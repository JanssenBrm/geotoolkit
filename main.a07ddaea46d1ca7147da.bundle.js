webpackJsonp([1],{"+3/4":function(e,t,o){"use strict";o.d(t,"a",function(){return n});var r=o("TToO"),n=function(e){function t(t){e.call(this),this.scheduler=t}return Object(r.__extends)(t,e),t.create=function(e){return new t(e)},t.dispatch=function(e){e.subscriber.complete()},t.prototype._subscribe=function(e){var o=this.scheduler;if(o)return o.schedule(t.dispatch,0,{subscriber:e});e.complete()},t}(o("YaPU").Observable)},"+CnV":function(e,t,o){"use strict";o.d(t,"a",function(){return r});var r=function(e){var t,r=o("AMGY").a.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}()},"/iUD":function(e,t,o){"use strict";t.a=function(e){return"function"==typeof e}},"/nXB":function(e,t,o){"use strict";t.a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var o=Number.POSITIVE_INFINITY,a=null,s=e[e.length-1];return Object(i.a)(s)?(a=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(o=e.pop())):"number"==typeof s&&(o=e.pop()),null===a&&1===e.length&&e[0]instanceof r.Observable?e[0]:Object(l.a)(o)(new n.a(e,a))};var r=o("YaPU"),n=o("Veqx"),i=o("1Q68"),l=o("8D5t")},0:function(e,t,o){e.exports=o("x35b")},"0+5j":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o("owTz"),o("aTdd");var r=o("kXUM"),n=o("9wc/"),i=o("1HBC");t.SubStore=function(){return function e(t,o,l){var a=this;this.rootStore=t,this.basePath=o,this.dispatch=function(e){return a.rootStore.dispatch(Object.assign({},e,{"@angular-redux::fractalkey":JSON.stringify(a.basePath)}))},this.getState=function(){return r.getIn(a.rootStore.getState(),a.basePath)},this.configureSubStore=function(t,o){return new e(a.rootStore,a.basePath.concat(t),o)},this.select=function(e,t){return a.rootStore.select(a.basePath).map(n.resolveToFunctionSelector(e)).distinctUntilChanged(t)},this.subscribe=function(e){var t=a.select().subscribe(e);return function(){return t.unsubscribe()}},this.replaceReducer=function(e){return i.replaceLocalReducer(a.basePath,e)},i.registerFractalReducer(o,l)}}()},"1HBC":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o("I7Tu"),n=o("kXUM"),i={};function l(e,t){void 0===e&&(e={});var o=t["@angular-redux::fractalkey"],l=o?JSON.parse(o):[],a=i[o||""];return o&&a?r.setIn(e,l,a(n.getIn(e,l),t)):e}t.enableFractalReducers=function(e){return i={},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t,o){return e.reduce(function(e,t){return t(e,o)},t)}}(l,e)},t.registerFractalReducer=function(e,t){var o=i[JSON.stringify(e)];if(o&&o!==t)throw new Error("attempt to overwrite fractal reducer for basePath "+e);i[JSON.stringify(e)]=t},t.replaceLocalReducer=function(e,t){i[JSON.stringify(e)]=t}},"1Q68":function(e,t,o){"use strict";t.a=function(e){return e&&"function"==typeof e.schedule}},"1R8f":function(module,exports,__webpack_require__){var require,factory;factory=function(){var OPENLAYERS={},goog=this.goog={};this.CLOSURE_NO_DEPS=!0;var COMPILED=!1,goog=goog||{};goog.global=this,goog.isDef=function(e){return void 0!==e},goog.isString=function(e){return"string"==typeof e},goog.isBoolean=function(e){return"boolean"==typeof e},goog.isNumber=function(e){return"number"==typeof e},goog.exportPath_=function(e,t,o){var r,n=e.split("."),i=o||goog.global;n[0]in i||!i.execScript||i.execScript("var "+n[0]);for(;n.length&&(r=n.shift());)!n.length&&goog.isDef(t)?i[r]=t:i=i[r]&&i[r]!==Object.prototype[r]?i[r]:i[r]={}},goog.define=function(e,t){var o=t;COMPILED||(goog.global.CLOSURE_UNCOMPILED_DEFINES&&void 0===goog.global.CLOSURE_UNCOMPILED_DEFINES.nodeType&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES,e)?o=goog.global.CLOSURE_UNCOMPILED_DEFINES[e]:goog.global.CLOSURE_DEFINES&&void 0===goog.global.CLOSURE_DEFINES.nodeType&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,e)&&(o=goog.global.CLOSURE_DEFINES[e])),goog.exportPath_(e,o)},goog.define("goog.DEBUG",!0),goog.define("goog.LOCALE","en"),goog.define("goog.TRUSTED_SITE",!0),goog.define("goog.STRICT_MODE_COMPATIBLE",!1),goog.define("goog.DISALLOW_TEST_ONLY_CODE",COMPILED&&!goog.DEBUG),goog.define("goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING",!1),goog.provide=function(e){if(goog.isInModuleLoader_())throw new Error("goog.provide can not be used within a goog.module.");if(!COMPILED&&goog.isProvided_(e))throw new Error('Namespace "'+e+'" already declared.');goog.constructNamespace_(e)},goog.constructNamespace_=function(e,t){if(!COMPILED){delete goog.implicitNamespaces_[e];for(var o=e;(o=o.substring(0,o.lastIndexOf(".")))&&!goog.getObjectByName(o);)goog.implicitNamespaces_[o]=!0}goog.exportPath_(e,t)},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(e){if(!goog.isString(e)||!e||-1==e.search(goog.VALID_MODULE_RE_))throw new Error("Invalid module identifier");if(!goog.isInModuleLoader_())throw new Error("Module "+e+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw new Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=e,!COMPILED){if(goog.isProvided_(e))throw new Error('Namespace "'+e+'" already declared.');delete goog.implicitNamespaces_[e]}},goog.module.get=function(e){return goog.module.getInternal_(e)},goog.module.getInternal_=function(e){if(!COMPILED){if(e in goog.loadedModules_)return goog.loadedModules_[e];if(!goog.implicitNamespaces_[e]){var t=goog.getObjectByName(e);return null!=t?t:null}}return null},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return null!=goog.moduleLoaderState_},goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInModuleLoader_())throw new Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw new Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.setTestOnly=function(e){if(goog.DISALLOW_TEST_ONLY_CODE)throw e=e||"",new Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))},goog.forwardDeclare=function(e){},goog.forwardDeclare("Document"),goog.forwardDeclare("HTMLScriptElement"),goog.forwardDeclare("XMLHttpRequest"),COMPILED||(goog.isProvided_=function(e){return e in goog.loadedModules_||!goog.implicitNamespaces_[e]&&goog.isDefAndNotNull(goog.getObjectByName(e))},goog.implicitNamespaces_={"goog.module":!0}),goog.getObjectByName=function(e,t){for(var o=e.split("."),r=t||goog.global,n=0;n<o.length;n++)if(!goog.isDefAndNotNull(r=r[o[n]]))return null;return r},goog.globalize=function(e,t){var o=t||goog.global;for(var r in e)o[r]=e[r]},goog.addDependency=function(e,t,o,r){if(goog.DEPENDENCIES_ENABLED){var n,i,l=e.replace(/\\/g,"/"),a=goog.dependencies_;r&&"boolean"!=typeof r||(r=r?{module:"goog"}:{});for(var s=0;n=t[s];s++)a.nameToPath[n]=l,a.loadFlags[l]=r;for(var p=0;i=o[p];p++)l in a.requires||(a.requires[l]={}),a.requires[l][i]=!0}},goog.define("goog.ENABLE_DEBUG_LOADER",!0),goog.logToConsole_=function(e){goog.global.console&&goog.global.console.error(e)},goog.require=function(e){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.IS_OLD_IE_&&goog.maybeProcessDeferredDep_(e),goog.isProvided_(e)){if(goog.isInModuleLoader_())return goog.module.getInternal_(e)}else if(goog.ENABLE_DEBUG_LOADER){var t=goog.getPathFromDeps_(e);if(!t){var o="goog.require could not find: "+e;throw goog.logToConsole_(o),new Error(o)}goog.writeScripts_(t)}return null}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw new Error("unimplemented abstract method")},goog.addSingletonGetter=function(e){e.instance_=void 0,e.getInstance=function(){return e.instance_?e.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e),e.instance_=new e)}},goog.instantiatedSingletons_=[],goog.define("goog.LOAD_MODULE_USING_EVAL",!0),goog.define("goog.SEAL_MODULE_EXPORTS",goog.DEBUG),goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER,goog.define("goog.TRANSPILE","detect"),goog.define("goog.TRANSPILER","transpile.js"),goog.DEPENDENCIES_ENABLED&&(goog.dependencies_={loadFlags:{},nameToPath:{},requires:{},visited:{},written:{},deferred:{}},goog.inHtmlDocument_=function(){var e=goog.global.document;return null!=e&&"write"in e},goog.findBasePath_=function(){if(goog.isDef(goog.global.CLOSURE_BASE_PATH)&&goog.isString(goog.global.CLOSURE_BASE_PATH))goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_()){var e=goog.global.document,t=e.currentScript;if(t)var o=[t];else o=e.getElementsByTagName("SCRIPT");for(var r=o.length-1;r>=0;--r){var n=o[r].src,i=n.lastIndexOf("?"),l=-1==i?n.length:i;if("base.js"==n.substr(l-7,7))return void(goog.basePath=n.substr(0,l-7))}}},goog.importScript_=function(e,t){(goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_)(e,t)&&(goog.dependencies_.written[e]=!0)},goog.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.oldIeWaiting_=!1,goog.importProcessedScript_=function(e,t,o){goog.importScript_("",'goog.retrieveAndExec_("'+e+'", '+t+", "+o+");")},goog.queuedModules_=[],goog.wrapModule_=function(e,t){return goog.LOAD_MODULE_USING_EVAL&&goog.isDef(goog.global.JSON)?"goog.loadModule("+goog.global.JSON.stringify(t+"\n//# sourceURL="+e+"\n")+");":'goog.loadModule(function(exports) {"use strict";'+t+"\n;return exports});\n//# sourceURL="+e+"\n"},goog.loadQueuedModules_=function(){var e=goog.queuedModules_.length;if(e>0){var t=goog.queuedModules_;goog.queuedModules_=[];for(var o=0;o<e;o++)goog.maybeProcessDeferredPath_(t[o])}goog.oldIeWaiting_=!1},goog.maybeProcessDeferredDep_=function(e){if(goog.isDeferredModule_(e)&&goog.allDepsAreAvailable_(e)){var t=goog.getPathFromDeps_(e);goog.maybeProcessDeferredPath_(goog.basePath+t)}},goog.isDeferredModule_=function(e){var t=goog.getPathFromDeps_(e),o=t&&goog.dependencies_.loadFlags[t]||{};return!(!t||"goog"!=o.module&&!goog.needsTranspile_(o.lang||"es3"))&&goog.basePath+t in goog.dependencies_.deferred},goog.allDepsAreAvailable_=function(e){var t=goog.getPathFromDeps_(e);if(t&&t in goog.dependencies_.requires)for(var o in goog.dependencies_.requires[t])if(!goog.isProvided_(o)&&!goog.isDeferredModule_(o))return!1;return!0},goog.maybeProcessDeferredPath_=function(e){if(e in goog.dependencies_.deferred){var t=goog.dependencies_.deferred[e];delete goog.dependencies_.deferred[e],goog.globalEval(t)}},goog.loadModuleFromUrl=function(e){goog.retrieveAndExec_(e,!0,!1)},goog.writeScriptSrcNode_=function(e){goog.global.document.write('<script type="text/javascript" src="'+e+'"><\/script>')},goog.appendScriptSrcNode_=function(e){var t=goog.global.document,o=t.createElement("script");o.type="text/javascript",o.src=e,o.defer=!1,o.async=!1,t.head.appendChild(o)},goog.writeScriptTag_=function(e,t){if(goog.inHtmlDocument_()){var o=goog.global.document;if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&"complete"==o.readyState){if(/\bdeps.js$/.test(e))return!1;throw new Error('Cannot write "'+e+'" after document load')}if(void 0===t)if(goog.IS_OLD_IE_){goog.oldIeWaiting_=!0;var r=" onreadystatechange='goog.onScriptLoad_(this, "+ ++goog.lastNonModuleScriptIndex_+")' ";o.write('<script type="text/javascript" src="'+e+'"'+r+"><\/script>")}else goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING?goog.appendScriptSrcNode_(e):goog.writeScriptSrcNode_(e);else o.write('<script type="text/javascript">'+goog.protectScriptTag_(t)+"<\/script>");return!0}return!1},goog.protectScriptTag_=function(e){return e.replace(/<\/(SCRIPT)/gi,"\\x3c/$1")},goog.needsTranspile_=function(e){if("always"==goog.TRANSPILE)return!0;if("never"==goog.TRANSPILE)return!1;if(goog.requiresTranspilation_||(goog.requiresTranspilation_=goog.createRequiresTranspilation_()),e in goog.requiresTranspilation_)return goog.requiresTranspilation_[e];throw new Error("Unknown language mode: "+e)},goog.requiresTranspilation_=null,goog.lastNonModuleScriptIndex_=0,goog.onScriptLoad_=function(e,t){return"complete"==e.readyState&&goog.lastNonModuleScriptIndex_==t&&goog.loadQueuedModules_(),!0},goog.writeScripts_=function(e){var t=[],o={},r=goog.dependencies_;!function e(n){if(!(n in r.written||n in r.visited)){if(r.visited[n]=!0,n in r.requires)for(var i in r.requires[n])if(!goog.isProvided_(i)){if(!(i in r.nameToPath))throw new Error("Undefined nameToPath for "+i);e(r.nameToPath[i])}n in o||(o[n]=!0,t.push(n))}}(e);for(var n=0;n<t.length;n++)goog.dependencies_.written[l=t[n]]=!0;var i=goog.moduleLoaderState_;for(goog.moduleLoaderState_=null,n=0;n<t.length;n++){var l;if(!(l=t[n]))throw goog.moduleLoaderState_=i,new Error("Undefined script input");var a=r.loadFlags[l]||{},s=goog.needsTranspile_(a.lang||"es3");"goog"==a.module||s?goog.importProcessedScript_(goog.basePath+l,"goog"==a.module,s):goog.importScript_(goog.basePath+l)}goog.moduleLoaderState_=i},goog.getPathFromDeps_=function(e){return e in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[e]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js")),goog.hasBadLetScoping=null,goog.useSafari10Workaround=function(){if(null==goog.hasBadLetScoping){var hasBadLetScoping;try{hasBadLetScoping=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(e){hasBadLetScoping=!1}goog.hasBadLetScoping=hasBadLetScoping}return goog.hasBadLetScoping},goog.workaroundSafari10EvalBug=function(e){return"(function(){"+e+"\n;})();\n"},goog.loadModule=function(e){var t=goog.moduleLoaderState_;try{var o;if(goog.moduleLoaderState_={moduleName:void 0,declareLegacyNamespace:!1},goog.isFunction(e))o=e.call(void 0,{});else{if(!goog.isString(e))throw new Error("Invalid module definition");goog.useSafari10Workaround()&&(e=goog.workaroundSafari10EvalBug(e)),o=goog.loadModuleFromSource_.call(void 0,e)}var r=goog.moduleLoaderState_.moduleName;if(!goog.isString(r)||!r)throw new Error('Invalid module name "'+r+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(r,o):goog.SEAL_MODULE_EXPORTS&&Object.seal&&"object"==typeof o&&null!=o&&Object.seal(o),goog.loadedModules_[r]=o}finally{goog.moduleLoaderState_=t}},goog.loadModuleFromSource_=function(){"use strict";var exports={};return eval(arguments[0]),exports},goog.normalizePath_=function(e){for(var t=e.split("/"),o=0;o<t.length;)"."==t[o]?t.splice(o,1):o&&".."==t[o]&&t[o-1]&&".."!=t[o-1]?t.splice(--o,2):o++;return t.join("/")},goog.loadFileSync_=function(e){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(e);try{var t=new goog.global.XMLHttpRequest;return t.open("get",e,!1),t.send(),0==t.status||200==t.status?t.responseText:null}catch(e){return null}},goog.retrieveAndExec_=function(e,t,o){if(!COMPILED){var r=e;e=goog.normalizePath_(e);var n=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_,i=goog.loadFileSync_(e);if(null==i)throw new Error('Load of "'+e+'" failed');o&&(i=goog.transpile_.call(goog.global,i,e)),t?i=goog.wrapModule_(e,i):i+="\n//# sourceURL="+e,goog.IS_OLD_IE_&&goog.oldIeWaiting_?(goog.dependencies_.deferred[r]=i,goog.queuedModules_.push(r)):n(e,i)}},goog.transpile_=function(code,path){var jscomp=goog.global.$jscomp;jscomp||(goog.global.$jscomp=jscomp={});var transpile=jscomp.transpile;if(!transpile){var transpilerPath=goog.basePath+goog.TRANSPILER,transpilerCode=goog.loadFileSync_(transpilerPath);if(transpilerCode){if(eval(transpilerCode+"\n//# sourceURL="+transpilerPath),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw new Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,jscomp=goog.global.$jscomp,transpile=jscomp.transpile}}if(!transpile){var suffix=" requires transpilation but no transpiler was found.";transpile=jscomp.transpile=function(e,t){return goog.logToConsole_(t+suffix),e}}return transpile(code,path)},goog.typeOf=function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var o=Object.prototype.toString.call(e);if("[object Window]"==o)return"object";if("[object Array]"==o||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==o||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t},goog.isNull=function(e){return null===e},goog.isDefAndNotNull=function(e){return null!=e},goog.isArray=function(e){return"array"==goog.typeOf(e)},goog.isArrayLike=function(e){var t=goog.typeOf(e);return"array"==t||"object"==t&&"number"==typeof e.length},goog.isDateLike=function(e){return goog.isObject(e)&&"function"==typeof e.getFullYear},goog.isFunction=function(e){return"function"==goog.typeOf(e)},goog.isObject=function(e){var t=typeof e;return"object"==t&&null!=e||"function"==t},goog.getUid=function(e){return e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(e){return!!e[goog.UID_PROPERTY_]},goog.removeUid=function(e){null!==e&&"removeAttribute"in e&&e.removeAttribute(goog.UID_PROPERTY_);try{delete e[goog.UID_PROPERTY_]}catch(e){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(e){var t=goog.typeOf(e);if("object"==t||"array"==t){if(e.clone)return e.clone();var o="array"==t?[]:{};for(var r in e)o[r]=goog.cloneObject(e[r]);return o}return e},goog.bindNative_=function(e,t,o){return e.call.apply(e.bind,arguments)},goog.bindJs_=function(e,t,o){if(!e)throw new Error;if(arguments.length>2){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),e.apply(t,o)}}return function(){return e.apply(t,arguments)}},goog.bind=function(e,t,o){return goog.bind=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bindNative_:goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(e,t){var o=Array.prototype.slice.call(arguments,1);return function(){var t=o.slice();return t.push.apply(t,arguments),e.apply(this,t)}},goog.mixin=function(e,t){for(var o in t)e[o]=t[o]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(e){if(goog.global.execScript)goog.global.execScript(e,"JavaScript");else{if(!goog.global.eval)throw new Error("goog.globalEval not available");if(null==goog.evalWorksForGlobals_)if(goog.global.eval("var _evalTest_ = 1;"),"undefined"!=typeof goog.global._evalTest_){try{delete goog.global._evalTest_}catch(e){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1;if(goog.evalWorksForGlobals_)goog.global.eval(e);else{var t=goog.global.document,o=t.createElement("SCRIPT");o.type="text/javascript",o.defer=!1,o.appendChild(t.createTextNode(e)),t.body.appendChild(o),t.body.removeChild(o)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(e,t){if("."==String(e).charAt(0))throw new Error('className passed in goog.getCssName must not start with ".". You passed: '+e);var o,r=function(e){return goog.cssNameMapping_[e]||e};o=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?r:function(e){for(var t=e.split("-"),o=[],n=0;n<t.length;n++)o.push(r(t[n]));return o.join("-")}:function(e){return e};var n=t?e+"-"+o(t):o(e);return goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(n):n},goog.setCssNameMapping=function(e,t){goog.cssNameMapping_=e,goog.cssNameMappingStyle_=t},!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(e,t){return t&&(e=e.replace(/\{\$([^}]+)}/g,function(e,o){return null!=t&&o in t?t[o]:e})),e},goog.getMsgWithFallback=function(e,t){return e},goog.exportSymbol=function(e,t,o){goog.exportPath_(e,t,o)},goog.exportProperty=function(e,t,o){e[t]=o},goog.inherits=function(e,t){function o(){}o.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new o,e.prototype.constructor=e,e.base=function(e,o,r){for(var n=new Array(arguments.length-2),i=2;i<arguments.length;i++)n[i-2]=arguments[i];return t.prototype[o].apply(e,n)}},goog.base=function(e,t,o){var r=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!r)throw new Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(r.superClass_){for(var n=new Array(arguments.length-1),i=1;i<arguments.length;i++)n[i-1]=arguments[i];return r.superClass_.constructor.apply(e,n)}var l=new Array(arguments.length-2);for(i=2;i<arguments.length;i++)l[i-2]=arguments[i];for(var a=!1,s=e.constructor;s;s=s.superClass_&&s.superClass_.constructor)if(s.prototype[t]===r)a=!0;else if(a)return s.prototype[t].apply(e,l);if(e[t]===r)return e.constructor.prototype[t].apply(e,l);throw new Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(e){if(goog.isInModuleLoader_())throw new Error("goog.scope is not supported within a goog.module.");e.call(goog.global)},COMPILED||(goog.global.COMPILED=COMPILED),goog.defineClass=function(e,t){var o=t.constructor,r=t.statics;o&&o!=Object.prototype.constructor||(o=function(){throw new Error("cannot instantiate an interface (no constructor defined).")});var n=goog.defineClass.createSealingConstructor_(o,e);return e&&goog.inherits(n,e),delete t.constructor,delete t.statics,goog.defineClass.applyProperties_(n.prototype,t),null!=r&&(r instanceof Function?r(n):goog.defineClass.applyProperties_(n,r)),n},goog.define("goog.defineClass.SEAL_CLASS_INSTANCES",goog.DEBUG),goog.defineClass.createSealingConstructor_=function(e,t){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return e;var o=!goog.defineClass.isUnsealable_(t),r=function(){var t=e.apply(this,arguments)||this;return t[goog.UID_PROPERTY_]=t[goog.UID_PROPERTY_],this.constructor===r&&o&&Object.seal instanceof Function&&Object.seal(t),t};return r},goog.defineClass.isUnsealable_=function(e){return e&&e.prototype&&e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],goog.defineClass.applyProperties_=function(e,t){var o;for(o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);for(var r=0;r<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;r++)o=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[r],Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},goog.tagUnsealableClass=function(e){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",goog.createRequiresTranspilation_=function(){var requiresTranspilation={es3:!1},transpilationRequiredForAllLaterModes=!1;function addNewerLanguageTranspilationCheck(e,t){transpilationRequiredForAllLaterModes?requiresTranspilation[e]=!0:t()?requiresTranspilation[e]=!1:(requiresTranspilation[e]=!0,transpilationRequiredForAllLaterModes=!0)}function evalCheck(code){try{return!!eval(code)}catch(e){return!1}}var userAgent=goog.global.navigator&&goog.global.navigator.userAgent?goog.global.navigator.userAgent:"";return addNewerLanguageTranspilationCheck("es5",function(){return evalCheck("[1,].length==1")}),addNewerLanguageTranspilationCheck("es6",function(){var e=userAgent.match(/Edge\/(\d+)(\.\d)*/i);return!(e&&Number(e[1])<15)&&evalCheck('(()=>{"use strict";class X{constructor(){if(new.target!=String)throw 1;this.x=42}}let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof String))throw 1;for(const a of[2,3]){if(a==2)continue;function f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()==3}})()')}),addNewerLanguageTranspilationCheck("es6-impl",function(){return!0}),addNewerLanguageTranspilationCheck("es7",function(){return evalCheck("2 ** 2 == 4")}),addNewerLanguageTranspilationCheck("es8",function(){return evalCheck("async () => 1, true")}),requiresTranspilation},goog.provide("ol.array"),ol.array.binarySearch=function(e,t,o){for(var r,n,i=o||ol.array.numberSafeCompareFunction,l=0,a=e.length,s=!1;l<a;)(n=+i(e[r=l+(a-l>>1)],t))<0?l=r+1:(a=r,s=!n);return s?l:~l},ol.array.numberSafeCompareFunction=function(e,t){return e>t?1:e<t?-1:0},ol.array.includes=function(e,t){return e.indexOf(t)>=0},ol.array.linearFindNearest=function(e,t,o){var r,n=e.length;if(e[0]<=t)return 0;if(t<=e[n-1])return n-1;if(o>0){for(r=1;r<n;++r)if(e[r]<t)return r-1}else if(o<0){for(r=1;r<n;++r)if(e[r]<=t)return r}else for(r=1;r<n;++r){if(e[r]==t)return r;if(e[r]<t)return e[r-1]-t<t-e[r]?r-1:r}return n-1},ol.array.reverseSubArray=function(e,t,o){for(;t<o;){var r=e[t];e[t]=e[o],e[o]=r,++t,--o}},ol.array.extend=function(e,t){var o,r=Array.isArray(t)?t:[t],n=r.length;for(o=0;o<n;o++)e[e.length]=r[o]},ol.array.remove=function(e,t){var o=e.indexOf(t),r=o>-1;return r&&e.splice(o,1),r},ol.array.find=function(e,t){for(var o,r=e.length>>>0,n=0;n<r;n++)if(t(o=e[n],n,e))return o;return null},ol.array.equals=function(e,t){var o=e.length;if(o!==t.length)return!1;for(var r=0;r<o;r++)if(e[r]!==t[r])return!1;return!0},ol.array.stableSort=function(e,t){var o,r=e.length,n=Array(e.length);for(o=0;o<r;o++)n[o]={index:o,value:e[o]};for(n.sort(function(e,o){return t(e.value,o.value)||e.index-o.index}),o=0;o<e.length;o++)e[o]=n[o].value},ol.array.findIndex=function(e,t){var o;return e.every(function(r,n){return o=n,!t(r,n,e)})?-1:o},ol.array.isSorted=function(e,t,o){var r=t||ol.array.numberSafeCompareFunction;return e.every(function(t,n){if(0===n)return!0;var i=r(e[n-1],t);return!(i>0||o&&0===i)})},goog.provide("ol"),ol.ASSUME_TOUCH=!1,ol.DEFAULT_MAX_ZOOM=42,ol.DEFAULT_MIN_ZOOM=0,ol.DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD=.5,ol.DEFAULT_TILE_SIZE=256,ol.DEFAULT_WMS_VERSION="1.3.0",ol.ENABLE_CANVAS=!0,ol.ENABLE_PROJ4JS=!0,ol.ENABLE_RASTER_REPROJECTION=!0,ol.ENABLE_WEBGL=!0,ol.DEBUG_WEBGL=!0,ol.INITIAL_ATLAS_SIZE=256,ol.MAX_ATLAS_SIZE=-1,ol.MOUSEWHEELZOOM_MAXDELTA=1,ol.OVERVIEWMAP_MAX_RATIO=.75,ol.OVERVIEWMAP_MIN_RATIO=.1,ol.RASTER_REPROJECTION_MAX_SOURCE_TILES=100,ol.RASTER_REPROJECTION_MAX_SUBDIVISION=10,ol.RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH=.25,ol.SIMPLIFY_TOLERANCE=.5,ol.WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK=1024,ol.VERSION="",ol,ol,ol.inherits=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},ol.nullFunction=function(){},ol.getUid=function(e){return e.ol_uid||(e.ol_uid=++ol.uidCounter_)},ol.uidCounter_=0,goog.provide("ol.AssertionError"),goog.require("ol"),ol.AssertionError=function(e){var t=ol.VERSION?ol.VERSION.split("-")[0]:"latest";this.message="Assertion failed. See https://openlayers.org/en/"+t+"/doc/errors/#"+e+" for details.",this.code=e,this.name="AssertionError"},ol.inherits(ol.AssertionError,Error),goog.provide("ol.asserts"),goog.require("ol.AssertionError"),ol.asserts.assert=function(e,t){if(!e)throw new ol.AssertionError(t)},goog.provide("ol.TileRange"),ol.TileRange=function(e,t,o,r){this.minX=e,this.maxX=t,this.minY=o,this.maxY=r},ol.TileRange.createOrUpdate=function(e,t,o,r,n){return void 0!==n?(n.minX=e,n.maxX=t,n.minY=o,n.maxY=r,n):new ol.TileRange(e,t,o,r)},ol.TileRange.prototype.contains=function(e){return this.containsXY(e[1],e[2])},ol.TileRange.prototype.containsTileRange=function(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY},ol.TileRange.prototype.containsXY=function(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY},ol.TileRange.prototype.equals=function(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY},ol.TileRange.prototype.extend=function(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)},ol.TileRange.prototype.getHeight=function(){return this.maxY-this.minY+1},ol.TileRange.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},ol.TileRange.prototype.getWidth=function(){return this.maxX-this.minX+1},ol.TileRange.prototype.intersects=function(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY},goog.provide("ol.math"),goog.require("ol.asserts"),ol.math.clamp=function(e,t,o){return Math.min(Math.max(e,t),o)},ol.math.cosh="cosh"in Math?Math.cosh:function(e){var t=Math.exp(e);return(t+1/t)/2},ol.math.roundUpToPowerOfTwo=function(e){return ol.asserts.assert(0<e,29),Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},ol.math.squaredSegmentDistance=function(e,t,o,r,n,i){var l=n-o,a=i-r;if(0!==l||0!==a){var s=((e-o)*l+(t-r)*a)/(l*l+a*a);s>1?(o=n,r=i):s>0&&(o+=l*s,r+=a*s)}return ol.math.squaredDistance(e,t,o,r)},ol.math.squaredDistance=function(e,t,o,r){var n=o-e,i=r-t;return n*n+i*i},ol.math.solveLinearSystem=function(e){for(var t=e.length,o=0;o<t;o++){for(var r=o,n=Math.abs(e[o][o]),i=o+1;i<t;i++){var l=Math.abs(e[i][o]);l>n&&(n=l,r=i)}if(0===n)return null;var a=e[r];e[r]=e[o],e[o]=a;for(var s=o+1;s<t;s++)for(var p=-e[s][o]/e[o][o],u=o;u<t+1;u++)o==u?e[s][u]=0:e[s][u]+=p*e[o][u]}for(var c=new Array(t),g=t-1;g>=0;g--){c[g]=e[g][t]/e[g][g];for(var d=g-1;d>=0;d--)e[d][t]-=e[d][g]*c[g]}return c},ol.math.toDegrees=function(e){return 180*e/Math.PI},ol.math.toRadians=function(e){return e*Math.PI/180},ol.math.modulo=function(e,t){var o=e%t;return o*t<0?o+t:o},ol.math.lerp=function(e,t,o){return e+o*(t-e)},goog.provide("ol.size"),ol.size.buffer=function(e,t,o){return void 0===o&&(o=[0,0]),o[0]=e[0]+2*t,o[1]=e[1]+2*t,o},ol.size.hasArea=function(e){return e[0]>0&&e[1]>0},ol.size.scale=function(e,t,o){return void 0===o&&(o=[0,0]),o[0]=e[0]*t+.5|0,o[1]=e[1]*t+.5|0,o},ol.size.toSize=function(e,t){return Array.isArray(e)?e:(void 0===t?t=[e,e]:t[0]=t[1]=e,t)},goog.provide("ol.extent.Corner"),ol.extent.Corner={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},goog.provide("ol.extent.Relationship"),ol.extent.Relationship={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16},goog.provide("ol.extent"),goog.require("ol.asserts"),goog.require("ol.extent.Corner"),goog.require("ol.extent.Relationship"),ol.extent.boundingExtent=function(e){for(var t=ol.extent.createEmpty(),o=0,r=e.length;o<r;++o)ol.extent.extendCoordinate(t,e[o]);return t},ol.extent.boundingExtentXYs_=function(e,t,o){var r=Math.min.apply(null,e),n=Math.min.apply(null,t),i=Math.max.apply(null,e),l=Math.max.apply(null,t);return ol.extent.createOrUpdate(r,n,i,l,o)},ol.extent.buffer=function(e,t,o){return o?(o[0]=e[0]-t,o[1]=e[1]-t,o[2]=e[2]+t,o[3]=e[3]+t,o):[e[0]-t,e[1]-t,e[2]+t,e[3]+t]},ol.extent.clone=function(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e.slice()},ol.extent.closestSquaredDistanceXY=function(e,t,o){var r,n;return(r=t<e[0]?e[0]-t:e[2]<t?t-e[2]:0)*r+(n=o<e[1]?e[1]-o:e[3]<o?o-e[3]:0)*n},ol.extent.containsCoordinate=function(e,t){return ol.extent.containsXY(e,t[0],t[1])},ol.extent.containsExtent=function(e,t){return e[0]<=t[0]&&t[2]<=e[2]&&e[1]<=t[1]&&t[3]<=e[3]},ol.extent.containsXY=function(e,t,o){return e[0]<=t&&t<=e[2]&&e[1]<=o&&o<=e[3]},ol.extent.coordinateRelationship=function(e,t){var o=t[0],r=t[1],n=ol.extent.Relationship.UNKNOWN;return o<e[0]?n|=ol.extent.Relationship.LEFT:o>e[2]&&(n|=ol.extent.Relationship.RIGHT),r<e[1]?n|=ol.extent.Relationship.BELOW:r>e[3]&&(n|=ol.extent.Relationship.ABOVE),n===ol.extent.Relationship.UNKNOWN&&(n=ol.extent.Relationship.INTERSECTING),n},ol.extent.createEmpty=function(){return[1/0,1/0,-1/0,-1/0]},ol.extent.createOrUpdate=function(e,t,o,r,n){return n?(n[0]=e,n[1]=t,n[2]=o,n[3]=r,n):[e,t,o,r]},ol.extent.createOrUpdateEmpty=function(e){return ol.extent.createOrUpdate(1/0,1/0,-1/0,-1/0,e)},ol.extent.createOrUpdateFromCoordinate=function(e,t){var o=e[0],r=e[1];return ol.extent.createOrUpdate(o,r,o,r,t)},ol.extent.createOrUpdateFromCoordinates=function(e,t){var o=ol.extent.createOrUpdateEmpty(t);return ol.extent.extendCoordinates(o,e)},ol.extent.createOrUpdateFromFlatCoordinates=function(e,t,o,r,n){var i=ol.extent.createOrUpdateEmpty(n);return ol.extent.extendFlatCoordinates(i,e,t,o,r)},ol.extent.createOrUpdateFromRings=function(e,t){var o=ol.extent.createOrUpdateEmpty(t);return ol.extent.extendRings(o,e)},ol.extent.equals=function(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]},ol.extent.extend=function(e,t){return t[0]<e[0]&&(e[0]=t[0]),t[2]>e[2]&&(e[2]=t[2]),t[1]<e[1]&&(e[1]=t[1]),t[3]>e[3]&&(e[3]=t[3]),e},ol.extent.extendCoordinate=function(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])},ol.extent.extendCoordinates=function(e,t){var o,r;for(o=0,r=t.length;o<r;++o)ol.extent.extendCoordinate(e,t[o]);return e},ol.extent.extendFlatCoordinates=function(e,t,o,r,n){for(;o<r;o+=n)ol.extent.extendXY(e,t[o],t[o+1]);return e},ol.extent.extendRings=function(e,t){var o,r;for(o=0,r=t.length;o<r;++o)ol.extent.extendCoordinates(e,t[o]);return e},ol.extent.extendXY=function(e,t,o){e[0]=Math.min(e[0],t),e[1]=Math.min(e[1],o),e[2]=Math.max(e[2],t),e[3]=Math.max(e[3],o)},ol.extent.forEachCorner=function(e,t,o){var r;return(r=t.call(o,ol.extent.getBottomLeft(e)))?r:(r=t.call(o,ol.extent.getBottomRight(e)))?r:(r=t.call(o,ol.extent.getTopRight(e)))?r:(r=t.call(o,ol.extent.getTopLeft(e)))||!1},ol.extent.getArea=function(e){var t=0;return ol.extent.isEmpty(e)||(t=ol.extent.getWidth(e)*ol.extent.getHeight(e)),t},ol.extent.getBottomLeft=function(e){return[e[0],e[1]]},ol.extent.getBottomRight=function(e){return[e[2],e[1]]},ol.extent.getCenter=function(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]},ol.extent.getCorner=function(e,t){var o;return t===ol.extent.Corner.BOTTOM_LEFT?o=ol.extent.getBottomLeft(e):t===ol.extent.Corner.BOTTOM_RIGHT?o=ol.extent.getBottomRight(e):t===ol.extent.Corner.TOP_LEFT?o=ol.extent.getTopLeft(e):t===ol.extent.Corner.TOP_RIGHT?o=ol.extent.getTopRight(e):ol.asserts.assert(!1,13),o},ol.extent.getEnlargedArea=function(e,t){var o=Math.min(e[0],t[0]),r=Math.min(e[1],t[1]);return(Math.max(e[2],t[2])-o)*(Math.max(e[3],t[3])-r)},ol.extent.getForViewAndSize=function(e,t,o,r,n){var i=t*r[0]/2,l=t*r[1]/2,a=Math.cos(o),s=Math.sin(o),p=i*a,u=i*s,c=l*a,g=l*s,d=e[0],h=e[1],y=d-p+g,f=d-p-g,m=d+p-g,v=d+p+g,_=h-u-c,S=h-u+c,x=h+u+c,E=h+u-c;return ol.extent.createOrUpdate(Math.min(y,f,m,v),Math.min(_,S,x,E),Math.max(y,f,m,v),Math.max(_,S,x,E),n)},ol.extent.getHeight=function(e){return e[3]-e[1]},ol.extent.getIntersectionArea=function(e,t){var o=ol.extent.getIntersection(e,t);return ol.extent.getArea(o)},ol.extent.getIntersection=function(e,t,o){var r=o||ol.extent.createEmpty();return ol.extent.intersects(e,t)&&(r[0]=e[0]>t[0]?e[0]:t[0],r[1]=e[1]>t[1]?e[1]:t[1],r[2]=e[2]<t[2]?e[2]:t[2],r[3]=e[3]<t[3]?e[3]:t[3]),r},ol.extent.getMargin=function(e){return ol.extent.getWidth(e)+ol.extent.getHeight(e)},ol.extent.getSize=function(e){return[e[2]-e[0],e[3]-e[1]]},ol.extent.getTopLeft=function(e){return[e[0],e[3]]},ol.extent.getTopRight=function(e){return[e[2],e[3]]},ol.extent.getWidth=function(e){return e[2]-e[0]},ol.extent.intersects=function(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]},ol.extent.isEmpty=function(e){return e[2]<e[0]||e[3]<e[1]},ol.extent.returnOrUpdate=function(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e},ol.extent.scaleFromCenter=function(e,t){var o=(e[2]-e[0])/2*(t-1),r=(e[3]-e[1])/2*(t-1);e[0]-=o,e[2]+=o,e[1]-=r,e[3]+=r},ol.extent.intersectsSegment=function(e,t,o){var r=!1,n=ol.extent.coordinateRelationship(e,t),i=ol.extent.coordinateRelationship(e,o);if(n===ol.extent.Relationship.INTERSECTING||i===ol.extent.Relationship.INTERSECTING)r=!0;else{var l,a,s=e[0],p=e[1],u=e[2],c=e[3],g=o[0],d=o[1],h=(d-t[1])/(g-t[0]);i&ol.extent.Relationship.ABOVE&&!(n&ol.extent.Relationship.ABOVE)&&(r=(l=g-(d-c)/h)>=s&&l<=u),r||!(i&ol.extent.Relationship.RIGHT)||n&ol.extent.Relationship.RIGHT||(r=(a=d-(g-u)*h)>=p&&a<=c),r||!(i&ol.extent.Relationship.BELOW)||n&ol.extent.Relationship.BELOW||(r=(l=g-(d-p)/h)>=s&&l<=u),r||!(i&ol.extent.Relationship.LEFT)||n&ol.extent.Relationship.LEFT||(r=(a=d-(g-s)*h)>=p&&a<=c)}return r},ol.extent.applyTransform=function(e,t,o){var r=[e[0],e[1],e[0],e[3],e[2],e[1],e[2],e[3]];return t(r,r,2),ol.extent.boundingExtentXYs_([r[0],r[2],r[4],r[6]],[r[1],r[3],r[5],r[7]],o)},goog.provide("ol.obj"),ol.obj.assign="function"==typeof Object.assign?Object.assign:function(e,t){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(e),r=1,n=arguments.length;r<n;++r){var i=arguments[r];if(void 0!==i&&null!==i)for(var l in i)i.hasOwnProperty(l)&&(o[l]=i[l])}return o},ol.obj.clear=function(e){for(var t in e)delete e[t]},ol.obj.getValues=function(e){var t=[];for(var o in e)t.push(e[o]);return t},ol.obj.isEmpty=function(e){var t;for(t in e)return!1;return!t},goog.provide("ol.geom.GeometryType"),ol.geom.GeometryType={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},goog.provide("ol.Sphere"),goog.require("ol.math"),goog.require("ol.geom.GeometryType"),ol.Sphere=function(e){this.radius=e},ol.Sphere.prototype.geodesicArea=function(e){return ol.Sphere.getArea_(e,this.radius)},ol.Sphere.prototype.haversineDistance=function(e,t){return ol.Sphere.getDistance_(e,t,this.radius)},ol.Sphere.prototype.offset=function(e,t,o){var r=ol.math.toRadians(e[1]),n=ol.math.toRadians(e[0]),i=t/this.radius,l=Math.asin(Math.sin(r)*Math.cos(i)+Math.cos(r)*Math.sin(i)*Math.cos(o)),a=n+Math.atan2(Math.sin(o)*Math.sin(i)*Math.cos(r),Math.cos(i)-Math.sin(r)*Math.sin(l));return[ol.math.toDegrees(a),ol.math.toDegrees(l)]},ol.Sphere.DEFAULT_RADIUS=6371008.8,ol.Sphere.getLength=function(e,t){var o,r,n,i,l,a,s=t||{},p=s.radius||ol.Sphere.DEFAULT_RADIUS,u=s.projection||"EPSG:3857",c=(e=e.clone().transform(u,"EPSG:4326")).getType(),g=0;switch(c){case ol.geom.GeometryType.POINT:case ol.geom.GeometryType.MULTI_POINT:break;case ol.geom.GeometryType.LINE_STRING:case ol.geom.GeometryType.LINEAR_RING:o=e.getCoordinates(),g=ol.Sphere.getLength_(o,p);break;case ol.geom.GeometryType.MULTI_LINE_STRING:case ol.geom.GeometryType.POLYGON:for(n=0,i=(o=e.getCoordinates()).length;n<i;++n)g+=ol.Sphere.getLength_(o[n],p);break;case ol.geom.GeometryType.MULTI_POLYGON:for(n=0,i=(o=e.getCoordinates()).length;n<i;++n)for(l=0,a=(r=o[n]).length;l<a;++l)g+=ol.Sphere.getLength_(r[l],p);break;case ol.geom.GeometryType.GEOMETRY_COLLECTION:var d=e.getGeometries();for(n=0,i=d.length;n<i;++n)g+=ol.Sphere.getLength(d[n],t);break;default:throw new Error("Unsupported geometry type: "+c)}return g},ol.Sphere.getLength_=function(e,t){for(var o=0,r=0,n=e.length;r<n-1;++r)o+=ol.Sphere.getDistance_(e[r],e[r+1],t);return o},ol.Sphere.getDistance_=function(e,t,o){var r=ol.math.toRadians(e[1]),n=ol.math.toRadians(t[1]),i=(n-r)/2,l=ol.math.toRadians(t[0]-e[0])/2,a=Math.sin(i)*Math.sin(i)+Math.sin(l)*Math.sin(l)*Math.cos(r)*Math.cos(n);return 2*o*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))},ol.Sphere.getArea=function(e,t){var o,r,n,i,l,a,s=t||{},p=s.radius||ol.Sphere.DEFAULT_RADIUS,u=s.projection||"EPSG:3857",c=(e=e.clone().transform(u,"EPSG:4326")).getType(),g=0;switch(c){case ol.geom.GeometryType.POINT:case ol.geom.GeometryType.MULTI_POINT:case ol.geom.GeometryType.LINE_STRING:case ol.geom.GeometryType.MULTI_LINE_STRING:case ol.geom.GeometryType.LINEAR_RING:break;case ol.geom.GeometryType.POLYGON:for(o=e.getCoordinates(),g=Math.abs(ol.Sphere.getArea_(o[0],p)),n=1,i=o.length;n<i;++n)g-=Math.abs(ol.Sphere.getArea_(o[n],p));break;case ol.geom.GeometryType.MULTI_POLYGON:for(n=0,i=(o=e.getCoordinates()).length;n<i;++n)for(r=o[n],g+=Math.abs(ol.Sphere.getArea_(r[0],p)),l=1,a=r.length;l<a;++l)g-=Math.abs(ol.Sphere.getArea_(r[l],p));break;case ol.geom.GeometryType.GEOMETRY_COLLECTION:var d=e.getGeometries();for(n=0,i=d.length;n<i;++n)g+=ol.Sphere.getArea(d[n],t);break;default:throw new Error("Unsupported geometry type: "+c)}return g},ol.Sphere.getArea_=function(e,t){for(var o=0,r=e.length,n=e[r-1][0],i=e[r-1][1],l=0;l<r;l++){var a=e[l][0],s=e[l][1];o+=ol.math.toRadians(a-n)*(2+Math.sin(ol.math.toRadians(i))+Math.sin(ol.math.toRadians(s))),n=a,i=s}return o*t*t/2},goog.provide("ol.proj.Units"),ol.proj.Units={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},ol.proj.Units.METERS_PER_UNIT={},ol.proj.Units.METERS_PER_UNIT[ol.proj.Units.DEGREES]=2*Math.PI*6370997/360,ol.proj.Units.METERS_PER_UNIT[ol.proj.Units.FEET]=.3048,ol.proj.Units.METERS_PER_UNIT[ol.proj.Units.METERS]=1,ol.proj.Units.METERS_PER_UNIT[ol.proj.Units.USFEET]=1200/3937,goog.provide("ol.proj.proj4"),ol.proj.proj4.cache_=null,ol.proj.proj4.set=function(e){ol.proj.proj4.cache_=e},ol.proj.proj4.get=function(){return ol.proj.proj4.cache_||window.proj4},goog.provide("ol.proj.Projection"),goog.require("ol"),goog.require("ol.proj.Units"),goog.require("ol.proj.proj4"),ol.proj.Projection=function(e){this.code_=e.code,this.units_=e.units,this.extent_=void 0!==e.extent?e.extent:null,this.worldExtent_=void 0!==e.worldExtent?e.worldExtent:null,this.axisOrientation_=void 0!==e.axisOrientation?e.axisOrientation:"enu",this.global_=void 0!==e.global&&e.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit;var t=e.code;if(ol.ENABLE_PROJ4JS){var o=ol.proj.proj4.get();if("function"==typeof o){var r=o.defs(t);void 0!==r&&(void 0!==r.axis&&void 0===e.axisOrientation&&(this.axisOrientation_=r.axis),void 0===e.metersPerUnit&&(this.metersPerUnit_=r.to_meter),void 0===e.units&&(this.units_=r.units))}}},ol.proj.Projection.prototype.canWrapX=function(){return this.canWrapX_},ol.proj.Projection.prototype.getCode=function(){return this.code_},ol.proj.Projection.prototype.getExtent=function(){return this.extent_},ol.proj.Projection.prototype.getUnits=function(){return this.units_},ol.proj.Projection.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||ol.proj.Units.METERS_PER_UNIT[this.units_]},ol.proj.Projection.prototype.getWorldExtent=function(){return this.worldExtent_},ol.proj.Projection.prototype.getAxisOrientation=function(){return this.axisOrientation_},ol.proj.Projection.prototype.isGlobal=function(){return this.global_},ol.proj.Projection.prototype.setGlobal=function(e){this.global_=e,this.canWrapX_=!(!e||!this.extent_)},ol.proj.Projection.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},ol.proj.Projection.prototype.setDefaultTileGrid=function(e){this.defaultTileGrid_=e},ol.proj.Projection.prototype.setExtent=function(e){this.extent_=e,this.canWrapX_=!(!this.global_||!e)},ol.proj.Projection.prototype.setWorldExtent=function(e){this.worldExtent_=e},ol.proj.Projection.prototype.setGetPointResolution=function(e){this.getPointResolutionFunc_=e},ol.proj.Projection.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},goog.provide("ol.proj.EPSG3857"),goog.require("ol"),goog.require("ol.math"),goog.require("ol.proj.Projection"),goog.require("ol.proj.Units"),ol.proj.EPSG3857.Projection_=function(e){ol.proj.Projection.call(this,{code:e,units:ol.proj.Units.METERS,extent:ol.proj.EPSG3857.EXTENT,global:!0,worldExtent:ol.proj.EPSG3857.WORLD_EXTENT,getPointResolution:function(e,t){return e/ol.math.cosh(t[1]/ol.proj.EPSG3857.RADIUS)}})},ol.inherits(ol.proj.EPSG3857.Projection_,ol.proj.Projection),ol.proj.EPSG3857.RADIUS=6378137,ol.proj.EPSG3857.HALF_SIZE=Math.PI*ol.proj.EPSG3857.RADIUS,ol.proj.EPSG3857.EXTENT=[-ol.proj.EPSG3857.HALF_SIZE,-ol.proj.EPSG3857.HALF_SIZE,ol.proj.EPSG3857.HALF_SIZE,ol.proj.EPSG3857.HALF_SIZE],ol.proj.EPSG3857.WORLD_EXTENT=[-180,-85,180,85],ol.proj.EPSG3857.PROJECTIONS=[new ol.proj.EPSG3857.Projection_("EPSG:3857"),new ol.proj.EPSG3857.Projection_("EPSG:102100"),new ol.proj.EPSG3857.Projection_("EPSG:102113"),new ol.proj.EPSG3857.Projection_("EPSG:900913"),new ol.proj.EPSG3857.Projection_("urn:ogc:def:crs:EPSG:6.18:3:3857"),new ol.proj.EPSG3857.Projection_("urn:ogc:def:crs:EPSG::3857"),new ol.proj.EPSG3857.Projection_("http://www.opengis.net/gml/srs/epsg.xml#3857")],ol.proj.EPSG3857.fromEPSG4326=function(e,t,o){var r=e.length,n=o>1?o:2,i=t;void 0===i&&(i=n>2?e.slice():new Array(r));for(var l=ol.proj.EPSG3857.HALF_SIZE,a=0;a<r;a+=n){i[a]=l*e[a]/180;var s=ol.proj.EPSG3857.RADIUS*Math.log(Math.tan(Math.PI*(e[a+1]+90)/360));s>l?s=l:s<-l&&(s=-l),i[a+1]=s}return i},ol.proj.EPSG3857.toEPSG4326=function(e,t,o){var r=e.length,n=o>1?o:2,i=t;void 0===i&&(i=n>2?e.slice():new Array(r));for(var l=0;l<r;l+=n)i[l]=180*e[l]/ol.proj.EPSG3857.HALF_SIZE,i[l+1]=360*Math.atan(Math.exp(e[l+1]/ol.proj.EPSG3857.RADIUS))/Math.PI-90;return i},goog.provide("ol.proj.EPSG4326"),goog.require("ol"),goog.require("ol.proj.Projection"),goog.require("ol.proj.Units"),ol.proj.EPSG4326.Projection_=function(e,t){ol.proj.Projection.call(this,{code:e,units:ol.proj.Units.DEGREES,extent:ol.proj.EPSG4326.EXTENT,axisOrientation:t,global:!0,metersPerUnit:ol.proj.EPSG4326.METERS_PER_UNIT,worldExtent:ol.proj.EPSG4326.EXTENT})},ol.inherits(ol.proj.EPSG4326.Projection_,ol.proj.Projection),ol.proj.EPSG4326.RADIUS=6378137,ol.proj.EPSG4326.EXTENT=[-180,-90,180,90],ol.proj.EPSG4326.METERS_PER_UNIT=Math.PI*ol.proj.EPSG4326.RADIUS/180,ol.proj.EPSG4326.PROJECTIONS=[new ol.proj.EPSG4326.Projection_("CRS:84"),new ol.proj.EPSG4326.Projection_("EPSG:4326","neu"),new ol.proj.EPSG4326.Projection_("urn:ogc:def:crs:EPSG::4326","neu"),new ol.proj.EPSG4326.Projection_("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new ol.proj.EPSG4326.Projection_("urn:ogc:def:crs:OGC:1.3:CRS84"),new ol.proj.EPSG4326.Projection_("urn:ogc:def:crs:OGC:2:84"),new ol.proj.EPSG4326.Projection_("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new ol.proj.EPSG4326.Projection_("urn:x-ogc:def:crs:EPSG:4326","neu")],goog.provide("ol.proj.projections"),ol.proj.projections.cache_={},ol.proj.projections.clear=function(){ol.proj.projections.cache_={}},ol.proj.projections.get=function(e){return ol.proj.projections.cache_[e]||null},ol.proj.projections.add=function(e,t){ol.proj.projections.cache_[e]=t},goog.provide("ol.proj.transforms"),goog.require("ol.obj"),ol.proj.transforms.cache_={},ol.proj.transforms.clear=function(){ol.proj.transforms.cache_={}},ol.proj.transforms.add=function(e,t,o){var r=e.getCode(),n=t.getCode(),i=ol.proj.transforms.cache_;r in i||(i[r]={}),i[r][n]=o},ol.proj.transforms.remove=function(e,t){var o=e.getCode(),r=t.getCode(),n=ol.proj.transforms.cache_,i=n[o][r];return delete n[o][r],ol.obj.isEmpty(n[o])&&delete n[o],i},ol.proj.transforms.get=function(e,t){var o,r=ol.proj.transforms.cache_;return e in r&&t in r[e]&&(o=r[e][t]),o},goog.provide("ol.proj"),goog.require("ol"),goog.require("ol.Sphere"),goog.require("ol.extent"),goog.require("ol.math"),goog.require("ol.proj.EPSG3857"),goog.require("ol.proj.EPSG4326"),goog.require("ol.proj.Projection"),goog.require("ol.proj.Units"),goog.require("ol.proj.proj4"),goog.require("ol.proj.projections"),goog.require("ol.proj.transforms"),ol.proj.METERS_PER_UNIT=ol.proj.Units.METERS_PER_UNIT,ol.proj.SPHERE_=new ol.Sphere(ol.Sphere.DEFAULT_RADIUS),ol.ENABLE_PROJ4JS&&(ol.proj.setProj4=function(e){ol.proj.proj4.set(e)}),ol.proj.getPointResolution=function(e,t,o,r){var n,i=(e=ol.proj.get(e)).getPointResolutionFunc();if(i)n=i(t,o);else if(e.getUnits()==ol.proj.Units.DEGREES&&!r||r==ol.proj.Units.DEGREES)n=t;else{var l=ol.proj.getTransformFromProjections(e,ol.proj.get("EPSG:4326")),a=[o[0]-t/2,o[1],o[0]+t/2,o[1],o[0],o[1]-t/2,o[0],o[1]+t/2];a=l(a,a,2),n=(ol.proj.SPHERE_.haversineDistance(a.slice(0,2),a.slice(2,4))+ol.proj.SPHERE_.haversineDistance(a.slice(4,6),a.slice(6,8)))/2;var s=r?ol.proj.Units.METERS_PER_UNIT[r]:e.getMetersPerUnit();void 0!==s&&(n/=s)}return n},ol.proj.addEquivalentProjections=function(e){ol.proj.addProjections(e),e.forEach(function(t){e.forEach(function(e){t!==e&&ol.proj.transforms.add(t,e,ol.proj.cloneTransform)})})},ol.proj.addEquivalentTransforms=function(e,t,o,r){e.forEach(function(e){t.forEach(function(t){ol.proj.transforms.add(e,t,o),ol.proj.transforms.add(t,e,r)})})},ol.proj.addProjection=function(e){ol.proj.projections.add(e.getCode(),e),ol.proj.transforms.add(e,e,ol.proj.cloneTransform)},ol.proj.addProjections=function(e){e.forEach(ol.proj.addProjection)},ol.proj.clearAllProjections=function(){ol.proj.projections.clear(),ol.proj.transforms.clear()},ol.proj.createProjection=function(e,t){return e?"string"==typeof e?ol.proj.get(e):e:ol.proj.get(t)},ol.proj.addCoordinateTransforms=function(e,t,o,r){var n=ol.proj.get(e),i=ol.proj.get(t);ol.proj.transforms.add(n,i,ol.proj.createTransformFromCoordinateTransform(o)),ol.proj.transforms.add(i,n,ol.proj.createTransformFromCoordinateTransform(r))},ol.proj.createTransformFromCoordinateTransform=function(e){return function(t,o,r){var n,i,l,a=t.length,s=void 0!==r?r:2,p=void 0!==o?o:new Array(a);for(i=0;i<a;i+=s)for(n=e([t[i],t[i+1]]),p[i]=n[0],p[i+1]=n[1],l=s-1;l>=2;--l)p[i+l]=t[i+l];return p}},ol.proj.fromLonLat=function(e,t){return ol.proj.transform(e,"EPSG:4326",void 0!==t?t:"EPSG:3857")},ol.proj.toLonLat=function(e,t){var o=ol.proj.transform(e,void 0!==t?t:"EPSG:3857","EPSG:4326"),r=o[0];return(r<-180||r>180)&&(o[0]=ol.math.modulo(r+180,360)-180),o},ol.proj.get=function(e){var t=null;if(e instanceof ol.proj.Projection)t=e;else if("string"==typeof e){var o=e;if(t=ol.proj.projections.get(o),ol.ENABLE_PROJ4JS&&!t){var r=ol.proj.proj4.get();"function"==typeof r&&void 0!==r.defs(o)&&(t=new ol.proj.Projection({code:o}),ol.proj.addProjection(t))}}return t},ol.proj.equivalent=function(e,t){if(e===t)return!0;var o=e.getUnits()===t.getUnits();return e.getCode()===t.getCode()?o:ol.proj.getTransformFromProjections(e,t)===ol.proj.cloneTransform&&o},ol.proj.getTransform=function(e,t){var o=ol.proj.get(e),r=ol.proj.get(t);return ol.proj.getTransformFromProjections(o,r)},ol.proj.getTransformFromProjections=function(e,t){var o=e.getCode(),r=t.getCode(),n=ol.proj.transforms.get(o,r);if(ol.ENABLE_PROJ4JS&&!n){var i=ol.proj.proj4.get();if("function"==typeof i){var l=i.defs(o),a=i.defs(r);if(void 0!==l&&void 0!==a){if(l===a)ol.proj.addEquivalentProjections([t,e]);else{var s=i(r,o);ol.proj.addCoordinateTransforms(t,e,s.forward,s.inverse)}n=ol.proj.transforms.get(o,r)}}}return n||(n=ol.proj.identityTransform),n},ol.proj.identityTransform=function(e,t,o){if(void 0!==t&&e!==t){for(var r=0,n=e.length;r<n;++r)t[r]=e[r];e=t}return e},ol.proj.cloneTransform=function(e,t,o){var r;if(void 0!==t){for(var n=0,i=e.length;n<i;++n)t[n]=e[n];r=t}else r=e.slice();return r},ol.proj.transform=function(e,t,o){return ol.proj.getTransform(t,o)(e,void 0,e.length)},ol.proj.transformExtent=function(e,t,o){var r=ol.proj.getTransform(t,o);return ol.extent.applyTransform(e,r)},ol.proj.transformWithProjections=function(e,t,o){return ol.proj.getTransformFromProjections(t,o)(e)},ol.proj.addCommon=function(){ol.proj.addEquivalentProjections(ol.proj.EPSG3857.PROJECTIONS),ol.proj.addEquivalentProjections(ol.proj.EPSG4326.PROJECTIONS),ol.proj.addEquivalentTransforms(ol.proj.EPSG4326.PROJECTIONS,ol.proj.EPSG3857.PROJECTIONS,ol.proj.EPSG3857.fromEPSG4326,ol.proj.EPSG3857.toEPSG4326)},ol.proj.addCommon(),goog.provide("ol.tilecoord"),ol.tilecoord.createOrUpdate=function(e,t,o,r){return void 0!==r?(r[0]=e,r[1]=t,r[2]=o,r):[e,t,o]},ol.tilecoord.getKeyZXY=function(e,t,o){return e+"/"+t+"/"+o},ol.tilecoord.getKey=function(e){return ol.tilecoord.getKeyZXY(e[0],e[1],e[2])},ol.tilecoord.fromKey=function(e){return e.split("/").map(Number)},ol.tilecoord.hash=function(e){return(e[1]<<e[0])+e[2]},ol.tilecoord.quadKey=function(e){var t,o,r=e[0],n=new Array(r),i=1<<r-1;for(t=0;t<r;++t)o=48,e[1]&i&&(o+=1),e[2]&i&&(o+=2),n[t]=String.fromCharCode(o),i>>=1;return n.join("")},ol.tilecoord.withinExtentAndZ=function(e,t){var o=e[0],r=e[1],n=e[2];if(t.getMinZoom()>o||o>t.getMaxZoom())return!1;var i,l=t.getExtent();return!(i=l?t.getTileRangeForExtentAndZ(l,o):t.getFullTileRange(o))||i.containsXY(r,n)},goog.provide("ol.tilegrid.TileGrid"),goog.require("ol"),goog.require("ol.asserts"),goog.require("ol.TileRange"),goog.require("ol.array"),goog.require("ol.extent"),goog.require("ol.math"),goog.require("ol.size"),goog.require("ol.tilecoord"),ol.tilegrid.TileGrid=function(e){var t;if(this.minZoom=void 0!==e.minZoom?e.minZoom:0,this.resolutions_=e.resolutions,ol.asserts.assert(ol.array.isSorted(this.resolutions_,function(e,t){return t-e},!0),17),!e.origins)for(var o=0,r=this.resolutions_.length-1;o<r;++o)if(t){if(this.resolutions_[o]/this.resolutions_[o+1]!==t){t=void 0;break}}else t=this.resolutions_[o]/this.resolutions_[o+1];this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==e.origin?e.origin:null,this.origins_=null,void 0!==e.origins&&(this.origins_=e.origins,ol.asserts.assert(this.origins_.length==this.resolutions_.length,20));var n=e.extent;void 0===n||this.origin_||this.origins_||(this.origin_=ol.extent.getTopLeft(n)),ol.asserts.assert(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==e.tileSizes&&(this.tileSizes_=e.tileSizes,ol.asserts.assert(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==e.tileSize?e.tileSize:this.tileSizes_?null:ol.DEFAULT_TILE_SIZE,ol.asserts.assert(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==n?n:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==e.sizes?this.fullTileRanges_=e.sizes.map(function(e,t){return new ol.TileRange(Math.min(0,e[0]),Math.max(e[0]-1,-1),Math.min(0,e[1]),Math.max(e[1]-1,-1))},this):n&&this.calculateTileRanges_(n)},ol.tilegrid.TileGrid.tmpTileCoord_=[0,0,0],ol.tilegrid.TileGrid.prototype.forEachTileCoord=function(e,t,o){for(var r=this.getTileRangeForExtentAndZ(e,t),n=r.minX,i=r.maxX;n<=i;++n)for(var l=r.minY,a=r.maxY;l<=a;++l)o([t,n,l])},ol.tilegrid.TileGrid.prototype.forEachTileCoordParentTileRange=function(e,t,o,r,n){var i,l,a,s=null,p=e[0]-1;for(2===this.zoomFactor_?(l=e[1],a=e[2]):s=this.getTileCoordExtent(e,n);p>=this.minZoom;){if(2===this.zoomFactor_?(l=Math.floor(l/2),a=Math.floor(a/2),i=ol.TileRange.createOrUpdate(l,l,a,a,r)):i=this.getTileRangeForExtentAndZ(s,p,r),t.call(o,p,i))return!0;--p}return!1},ol.tilegrid.TileGrid.prototype.getExtent=function(){return this.extent_},ol.tilegrid.TileGrid.prototype.getMaxZoom=function(){return this.maxZoom},ol.tilegrid.TileGrid.prototype.getMinZoom=function(){return this.minZoom},ol.tilegrid.TileGrid.prototype.getOrigin=function(e){return this.origin_?this.origin_:this.origins_[e]},ol.tilegrid.TileGrid.prototype.getResolution=function(e){return this.resolutions_[e]},ol.tilegrid.TileGrid.prototype.getResolutions=function(){return this.resolutions_},ol.tilegrid.TileGrid.prototype.getTileCoordChildTileRange=function(e,t,o){if(e[0]<this.maxZoom){if(2===this.zoomFactor_){var r=2*e[1],n=2*e[2];return ol.TileRange.createOrUpdate(r,r+1,n,n+1,t)}var i=this.getTileCoordExtent(e,o);return this.getTileRangeForExtentAndZ(i,e[0]+1,t)}return null},ol.tilegrid.TileGrid.prototype.getTileRangeExtent=function(e,t,o){var r=this.getOrigin(e),n=this.getResolution(e),i=ol.size.toSize(this.getTileSize(e),this.tmpSize_);return ol.extent.createOrUpdate(r[0]+t.minX*i[0]*n,r[1]+t.minY*i[1]*n,r[0]+(t.maxX+1)*i[0]*n,r[1]+(t.maxY+1)*i[1]*n,o)},ol.tilegrid.TileGrid.prototype.getTileRangeForExtentAndZ=function(e,t,o){var r=ol.tilegrid.TileGrid.tmpTileCoord_;this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,r);var n=r[1],i=r[2];return this.getTileCoordForXYAndZ_(e[2],e[3],t,!0,r),ol.TileRange.createOrUpdate(n,r[1],i,r[2],o)},ol.tilegrid.TileGrid.prototype.getTileCoordCenter=function(e){var t=this.getOrigin(e[0]),o=this.getResolution(e[0]),r=ol.size.toSize(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*r[0]*o,t[1]+(e[2]+.5)*r[1]*o]},ol.tilegrid.TileGrid.prototype.getTileCoordExtent=function(e,t){var o=this.getOrigin(e[0]),r=this.getResolution(e[0]),n=ol.size.toSize(this.getTileSize(e[0]),this.tmpSize_),i=o[0]+e[1]*n[0]*r,l=o[1]+e[2]*n[1]*r;return ol.extent.createOrUpdate(i,l,i+n[0]*r,l+n[1]*r,t)},ol.tilegrid.TileGrid.prototype.getTileCoordForCoordAndResolution=function(e,t,o){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,o)},ol.tilegrid.TileGrid.prototype.getTileCoordForXYAndResolution_=function(e,t,o,r,n){var i=this.getZForResolution(o),l=o/this.getResolution(i),a=this.getOrigin(i),s=ol.size.toSize(this.getTileSize(i),this.tmpSize_),p=r?0:.5,u=Math.floor((e-a[0])/o+(r?.5:0)),c=Math.floor((t-a[1])/o+p),g=l*u/s[0],d=l*c/s[1];return r?(g=Math.ceil(g)-1,d=Math.ceil(d)-1):(g=Math.floor(g),d=Math.floor(d)),ol.tilecoord.createOrUpdate(i,g,d,n)},ol.tilegrid.TileGrid.prototype.getTileCoordForXYAndZ_=function(e,t,o,r,n){var i=this.getOrigin(o),l=this.getResolution(o),a=ol.size.toSize(this.getTileSize(o),this.tmpSize_),s=r?0:.5,p=Math.floor((e-i[0])/l+(r?.5:0)),u=Math.floor((t-i[1])/l+s),c=p/a[0],g=u/a[1];return r?(c=Math.ceil(c)-1,g=Math.ceil(g)-1):(c=Math.floor(c),g=Math.floor(g)),ol.tilecoord.createOrUpdate(o,c,g,n)},ol.tilegrid.TileGrid.prototype.getTileCoordForCoordAndZ=function(e,t,o){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,o)},ol.tilegrid.TileGrid.prototype.getTileCoordResolution=function(e){return this.resolutions_[e[0]]},ol.tilegrid.TileGrid.prototype.getTileSize=function(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]},ol.tilegrid.TileGrid.prototype.getFullTileRange=function(e){return this.fullTileRanges_?this.fullTileRanges_[e]:null},ol.tilegrid.TileGrid.prototype.getZForResolution=function(e,t){var o=ol.array.linearFindNearest(this.resolutions_,e,t||0);return ol.math.clamp(o,this.minZoom,this.maxZoom)},ol.tilegrid.TileGrid.prototype.calculateTileRanges_=function(e){for(var t=this.resolutions_.length,o=new Array(t),r=this.minZoom;r<t;++r)o[r]=this.getTileRangeForExtentAndZ(e,r);this.fullTileRanges_=o},goog.provide("ol.tilegrid"),goog.require("ol"),goog.require("ol.size"),goog.require("ol.extent"),goog.require("ol.extent.Corner"),goog.require("ol.obj"),goog.require("ol.proj"),goog.require("ol.proj.Units"),goog.require("ol.tilegrid.TileGrid"),ol.tilegrid.getForProjection=function(e){var t=e.getDefaultTileGrid();return t||(t=ol.tilegrid.createForProjection(e),e.setDefaultTileGrid(t)),t},ol.tilegrid.wrapX=function(e,t,o){var r=t[0],n=e.getTileCoordCenter(t),i=ol.tilegrid.extentFromProjection(o);if(ol.extent.containsCoordinate(i,n))return t;var l=ol.extent.getWidth(i),a=Math.ceil((i[0]-n[0])/l);return n[0]+=l*a,e.getTileCoordForCoordAndZ(n,r)},ol.tilegrid.createForExtent=function(e,t,o,r){var n=void 0!==r?r:ol.extent.Corner.TOP_LEFT,i=ol.tilegrid.resolutionsFromExtent(e,t,o);return new ol.tilegrid.TileGrid({extent:e,origin:ol.extent.getCorner(e,n),resolutions:i,tileSize:o})},ol.tilegrid.createXYZ=function(e){var t={};return ol.obj.assign(t,void 0!==e?e:{}),void 0===t.extent&&(t.extent=ol.proj.get("EPSG:3857").getExtent()),t.resolutions=ol.tilegrid.resolutionsFromExtent(t.extent,t.maxZoom,t.tileSize),delete t.maxZoom,new ol.tilegrid.TileGrid(t)},ol.tilegrid.resolutionsFromExtent=function(e,t,o){for(var r=void 0!==t?t:ol.DEFAULT_MAX_ZOOM,n=ol.extent.getHeight(e),i=ol.extent.getWidth(e),l=ol.size.toSize(void 0!==o?o:ol.DEFAULT_TILE_SIZE),a=Math.max(i/l[0],n/l[1]),s=r+1,p=new Array(s),u=0;u<s;++u)p[u]=a/Math.pow(2,u);return p},ol.tilegrid.createForProjection=function(e,t,o,r){var n=ol.tilegrid.extentFromProjection(e);return ol.tilegrid.createForExtent(n,t,o,r)},ol.tilegrid.extentFromProjection=function(e){var t=(e=ol.proj.get(e)).getExtent();if(!t){var o=180*ol.proj.METERS_PER_UNIT[ol.proj.Units.DEGREES]/e.getMetersPerUnit();t=ol.extent.createOrUpdate(-o,-o,o,o)}return t},goog.provide("ol.Attribution"),goog.require("ol.TileRange"),goog.require("ol.math"),goog.require("ol.tilegrid"),ol.Attribution=function(e){this.html_=e.html,this.tileRanges_=e.tileRanges?e.tileRanges:null},ol.Attribution.prototype.getHTML=function(){return this.html_},ol.Attribution.prototype.intersectsAnyTileRange=function(e,t,o){if(!this.tileRanges_)return!0;var r,n,i,l;for(l in e){var a;if(l in this.tileRanges_)for(i=e[l],r=0,n=this.tileRanges_[l].length;r<n;++r){if((a=this.tileRanges_[l][r]).intersects(i))return!0;var s=t.getTileRangeForExtentAndZ(ol.tilegrid.extentFromProjection(o),parseInt(l,10)),p=s.getWidth();if(i.minX<s.minX||i.maxX>s.maxX){if(a.intersects(new ol.TileRange(ol.math.modulo(i.minX,p),ol.math.modulo(i.maxX,p),i.minY,i.maxY)))return!0;if(i.getWidth()>p&&a.intersects(s))return!0}}}return!1},goog.provide("ol.CollectionEventType"),ol.CollectionEventType={ADD:"add",REMOVE:"remove"},goog.provide("ol.ObjectEventType"),ol.ObjectEventType={PROPERTYCHANGE:"propertychange"},goog.provide("ol.events"),goog.require("ol.obj"),ol.events.bindListener_=function(e){var t=function(t){var o=e.listener,r=e.bindTo||e.target;return e.callOnce&&ol.events.unlistenByKey(e),o.call(r,t)};return e.boundListener=t,t},ol.events.findListener_=function(e,t,o,r){for(var n,i=0,l=e.length;i<l;++i)if((n=e[i]).listener===t&&n.bindTo===o)return r&&(n.deleteIndex=i),n},ol.events.getListeners=function(e,t){var o=e.ol_lm;return o?o[t]:void 0},ol.events.getListenerMap_=function(e){var t=e.ol_lm;return t||(t=e.ol_lm={}),t},ol.events.removeListeners_=function(e,t){var o=ol.events.getListeners(e,t);if(o){for(var r=0,n=o.length;r<n;++r)e.removeEventListener(t,o[r].boundListener),ol.obj.clear(o[r]);o.length=0;var i=e.ol_lm;i&&(delete i[t],0===Object.keys(i).length&&delete e.ol_lm)}},ol.events.listen=function(e,t,o,r,n){var i=ol.events.getListenerMap_(e),l=i[t];l||(l=i[t]=[]);var a=ol.events.findListener_(l,o,r,!1);return a?n||(a.callOnce=!1):(a={bindTo:r,callOnce:!!n,listener:o,target:e,type:t},e.addEventListener(t,ol.events.bindListener_(a)),l.push(a)),a},ol.events.listenOnce=function(e,t,o,r){return ol.events.listen(e,t,o,r,!0)},ol.events.unlisten=function(e,t,o,r){var n=ol.events.getListeners(e,t);if(n){var i=ol.events.findListener_(n,o,r,!0);i&&ol.events.unlistenByKey(i)}},ol.events.unlistenByKey=function(e){if(e&&e.target){e.target.removeEventListener(e.type,e.boundListener);var t=ol.events.getListeners(e.target,e.type);if(t){var o="deleteIndex"in e?e.deleteIndex:t.indexOf(e);-1!==o&&t.splice(o,1),0===t.length&&ol.events.removeListeners_(e.target,e.type)}ol.obj.clear(e)}},ol.events.unlistenAll=function(e){var t=ol.events.getListenerMap_(e);for(var o in t)ol.events.removeListeners_(e,o)},goog.provide("ol.Disposable"),goog.require("ol"),ol.Disposable=function(){},ol.Disposable.prototype.disposed_=!1,ol.Disposable.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},ol.Disposable.prototype.disposeInternal=ol.nullFunction,goog.provide("ol.events.Event"),ol.events.Event=function(e){this.type=e,this.target=null},ol.events.Event.prototype.preventDefault=ol.events.Event.prototype.stopPropagation=function(){this.propagationStopped=!0},ol.events.Event.stopPropagation=function(e){e.stopPropagation()},ol.events.Event.preventDefault=function(e){e.preventDefault()},goog.provide("ol.events.EventTarget"),goog.require("ol"),goog.require("ol.Disposable"),goog.require("ol.events"),goog.require("ol.events.Event"),ol.events.EventTarget=function(){ol.Disposable.call(this),this.pendingRemovals_={},this.dispatching_={},this.listeners_={}},ol.inherits(ol.events.EventTarget,ol.Disposable),ol.events.EventTarget.prototype.addEventListener=function(e,t){var o=this.listeners_[e];o||(o=this.listeners_[e]=[]),-1===o.indexOf(t)&&o.push(t)},ol.events.EventTarget.prototype.dispatchEvent=function(e){var t="string"==typeof e?new ol.events.Event(e):e,o=t.type;t.target=this;var r,n=this.listeners_[o];if(n){o in this.dispatching_||(this.dispatching_[o]=0,this.pendingRemovals_[o]=0),++this.dispatching_[o];for(var i=0,l=n.length;i<l;++i)if(!1===n[i].call(this,t)||t.propagationStopped){r=!1;break}if(--this.dispatching_[o],0===this.dispatching_[o]){var a=this.pendingRemovals_[o];for(delete this.pendingRemovals_[o];a--;)this.removeEventListener(o,ol.nullFunction);delete this.dispatching_[o]}return r}},ol.events.EventTarget.prototype.disposeInternal=function(){ol.events.unlistenAll(this)},ol.events.EventTarget.prototype.getListeners=function(e){return this.listeners_[e]},ol.events.EventTarget.prototype.hasListener=function(e){return e?e in this.listeners_:Object.keys(this.listeners_).length>0},ol.events.EventTarget.prototype.removeEventListener=function(e,t){var o=this.listeners_[e];if(o){var r=o.indexOf(t);e in this.pendingRemovals_?(o[r]=ol.nullFunction,++this.pendingRemovals_[e]):(o.splice(r,1),0===o.length&&delete this.listeners_[e])}},goog.provide("ol.events.EventType"),ol.events.EventType={CHANGE:"change",CLEAR:"clear",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",ERROR:"error",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEOUT:"mouseout",MOUSEUP:"mouseup",MOUSEWHEEL:"mousewheel",MSPOINTERDOWN:"MSPointerDown",RESIZE:"resize",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",WHEEL:"wheel"},goog.provide("ol.Observable"),goog.require("ol"),goog.require("ol.events"),goog.require("ol.events.EventTarget"),goog.require("ol.events.EventType"),ol.Observable=function(){ol.events.EventTarget.call(this),this.revision_=0},ol.inherits(ol.Observable,ol.events.EventTarget),ol.Observable.unByKey=function(e){if(Array.isArray(e))for(var t=0,o=e.length;t<o;++t)ol.events.unlistenByKey(e[t]);else ol.events.unlistenByKey(e)},ol.Observable.prototype.changed=function(){++this.revision_,this.dispatchEvent(ol.events.EventType.CHANGE)},ol,ol.Observable.prototype.getRevision=function(){return this.revision_},ol.Observable.prototype.on=function(e,t,o){if(Array.isArray(e)){for(var r=e.length,n=new Array(r),i=0;i<r;++i)n[i]=ol.events.listen(this,e[i],t,o);return n}return ol.events.listen(this,e,t,o)},ol.Observable.prototype.once=function(e,t,o){if(Array.isArray(e)){for(var r=e.length,n=new Array(r),i=0;i<r;++i)n[i]=ol.events.listenOnce(this,e[i],t,o);return n}return ol.events.listenOnce(this,e,t,o)},ol.Observable.prototype.un=function(e,t,o){if(Array.isArray(e))for(var r=0,n=e.length;r<n;++r)ol.events.unlisten(this,e[r],t,o);else ol.events.unlisten(this,e,t,o)},goog.provide("ol.Object"),goog.require("ol"),goog.require("ol.ObjectEventType"),goog.require("ol.Observable"),goog.require("ol.events.Event"),goog.require("ol.obj"),ol.Object=function(e){ol.Observable.call(this),ol.getUid(this),this.values_={},void 0!==e&&this.setProperties(e)},ol.inherits(ol.Object,ol.Observable),ol.Object.changeEventTypeCache_={},ol.Object.getChangeEventType=function(e){return ol.Object.changeEventTypeCache_.hasOwnProperty(e)?ol.Object.changeEventTypeCache_[e]:ol.Object.changeEventTypeCache_[e]="change:"+e},ol.Object.prototype.get=function(e){var t;return this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t},ol.Object.prototype.getKeys=function(){return Object.keys(this.values_)},ol.Object.prototype.getProperties=function(){return ol.obj.assign({},this.values_)},ol.Object.prototype.notify=function(e,t){var o;o=ol.Object.getChangeEventType(e),this.dispatchEvent(new ol.Object.Event(o,e,t)),o=ol.ObjectEventType.PROPERTYCHANGE,this.dispatchEvent(new ol.Object.Event(o,e,t))},ol.Object.prototype.set=function(e,t,o){if(o)this.values_[e]=t;else{var r=this.values_[e];this.values_[e]=t,r!==t&&this.notify(e,r)}},ol.Object.prototype.setProperties=function(e,t){var o;for(o in e)this.set(o,e[o],t)},ol.Object.prototype.unset=function(e,t){if(e in this.values_){var o=this.values_[e];delete this.values_[e],t||this.notify(e,o)}},ol.Object.Event=function(e,t,o){ol.events.Event.call(this,e),this.key=t,this.oldValue=o},ol.inherits(ol.Object.Event,ol.events.Event),goog.provide("ol.Collection"),goog.require("ol"),goog.require("ol.AssertionError"),goog.require("ol.CollectionEventType"),goog.require("ol.Object"),goog.require("ol.events.Event"),ol.Collection=function(e,t){if(ol.Object.call(this),this.unique_=!!(t||{}).unique,this.array_=e||[],this.unique_)for(var o=0,r=this.array_.length;o<r;++o)this.assertUnique_(this.array_[o],o);this.updateLength_()},ol.inherits(ol.Collection,ol.Object),ol.Collection.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},ol.Collection.prototype.extend=function(e){var t,o;for(t=0,o=e.length;t<o;++t)this.push(e[t]);return this},ol.Collection.prototype.forEach=function(e,t){for(var o=t?e.bind(t):e,r=this.array_,n=0,i=r.length;n<i;++n)o(r[n],n,r)},ol.Collection.prototype.getArray=function(){return this.array_},ol.Collection.prototype.item=function(e){return this.array_[e]},ol.Collection.prototype.getLength=function(){return this.get(ol.Collection.Property_.LENGTH)},ol.Collection.prototype.insertAt=function(e,t){this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new ol.Collection.Event(ol.CollectionEventType.ADD,t))},ol.Collection.prototype.pop=function(){return this.removeAt(this.getLength()-1)},ol.Collection.prototype.push=function(e){this.unique_&&this.assertUnique_(e);var t=this.getLength();return this.insertAt(t,e),this.getLength()},ol.Collection.prototype.remove=function(e){var t,o,r=this.array_;for(t=0,o=r.length;t<o;++t)if(r[t]===e)return this.removeAt(t)},ol.Collection.prototype.removeAt=function(e){var t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new ol.Collection.Event(ol.CollectionEventType.REMOVE,t)),t},ol.Collection.prototype.setAt=function(e,t){var o=this.getLength();if(e<o){this.unique_&&this.assertUnique_(t,e);var r=this.array_[e];this.array_[e]=t,this.dispatchEvent(new ol.Collection.Event(ol.CollectionEventType.REMOVE,r)),this.dispatchEvent(new ol.Collection.Event(ol.CollectionEventType.ADD,t))}else{var n;for(n=o;n<e;++n)this.insertAt(n,void 0);this.insertAt(e,t)}},ol.Collection.prototype.updateLength_=function(){this.set(ol.Collection.Property_.LENGTH,this.array_.length)},ol.Collection.prototype.assertUnique_=function(e,t){for(var o=0,r=this.array_.length;o<r;++o)if(this.array_[o]===e&&o!==t)throw new ol.AssertionError(58)},ol.Collection.Property_={LENGTH:"length"},ol.Collection.Event=function(e,t){ol.events.Event.call(this,e),this.element=t},ol.inherits(ol.Collection.Event,ol.events.Event),goog.provide("ol.MapEvent"),goog.require("ol"),goog.require("ol.events.Event"),ol.MapEvent=function(e,t,o){ol.events.Event.call(this,e),this.map=t,this.frameState=void 0!==o?o:null},ol.inherits(ol.MapEvent,ol.events.Event),goog.provide("ol.MapBrowserEvent"),goog.require("ol"),goog.require("ol.MapEvent"),ol.MapBrowserEvent=function(e,t,o,r,n){ol.MapEvent.call(this,e,t,n),this.originalEvent=o,this.pixel=t.getEventPixel(o),this.coordinate=t.getCoordinateFromPixel(this.pixel),this.dragging=void 0!==r&&r},ol.inherits(ol.MapBrowserEvent,ol.MapEvent),ol.MapBrowserEvent.prototype.preventDefault=function(){ol.MapEvent.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},ol.MapBrowserEvent.prototype.stopPropagation=function(){ol.MapEvent.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},goog.provide("ol.webgl"),ol.webgl.ONE=1,ol.webgl.SRC_ALPHA=770,ol.webgl.COLOR_ATTACHMENT0=36064,ol.webgl.COLOR_BUFFER_BIT=16384,ol.webgl.TRIANGLES=4,ol.webgl.TRIANGLE_STRIP=5,ol.webgl.ONE_MINUS_SRC_ALPHA=771,ol.webgl.ARRAY_BUFFER=34962,ol.webgl.ELEMENT_ARRAY_BUFFER=34963,ol.webgl.STREAM_DRAW=35040,ol.webgl.STATIC_DRAW=35044,ol.webgl.DYNAMIC_DRAW=35048,ol.webgl.CULL_FACE=2884,ol.webgl.BLEND=3042,ol.webgl.STENCIL_TEST=2960,ol.webgl.DEPTH_TEST=2929,ol.webgl.SCISSOR_TEST=3089,ol.webgl.UNSIGNED_BYTE=5121,ol.webgl.UNSIGNED_SHORT=5123,ol.webgl.UNSIGNED_INT=5125,ol.webgl.FLOAT=5126,ol.webgl.RGBA=6408,ol.webgl.FRAGMENT_SHADER=35632,ol.webgl.VERTEX_SHADER=35633,ol.webgl.LINK_STATUS=35714,ol.webgl.LINEAR=9729,ol.webgl.TEXTURE_MAG_FILTER=10240,ol.webgl.TEXTURE_MIN_FILTER=10241,ol.webgl.TEXTURE_WRAP_S=10242,ol.webgl.TEXTURE_WRAP_T=10243,ol.webgl.TEXTURE_2D=3553,ol.webgl.TEXTURE0=33984,ol.webgl.CLAMP_TO_EDGE=33071,ol.webgl.COMPILE_STATUS=35713,ol.webgl.FRAMEBUFFER=36160,ol.webgl.CONTEXT_IDS_=["experimental-webgl","webgl","webkit-3d","moz-webgl"],ol.webgl.getContext=function(e,t){var o,r,n=ol.webgl.CONTEXT_IDS_.length;for(r=0;r<n;++r)try{if(o=e.getContext(ol.webgl.CONTEXT_IDS_[r],t))return o}catch(e){}return null},goog.provide("ol.has"),goog.require("ol"),goog.require("ol.webgl");var ua="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",style,cache,span,heights,changeType;return ol.has.FIREFOX=-1!==ua.indexOf("firefox"),ol.has.SAFARI=-1!==ua.indexOf("safari")&&-1==ua.indexOf("chrom"),ol.has.WEBKIT=-1!==ua.indexOf("webkit")&&-1==ua.indexOf("edge"),ol.has.MAC=-1!==ua.indexOf("macintosh"),ol.has.DEVICE_PIXEL_RATIO=window.devicePixelRatio||1,ol.has.CANVAS_LINE_DASH=!1,ol.has.CANVAS=ol.ENABLE_CANVAS&&function(){if(!("HTMLCanvasElement"in window))return!1;try{var e=document.createElement("CANVAS").getContext("2d");return!!e&&(void 0!==e.setLineDash&&(ol.has.CANVAS_LINE_DASH=!0),!0)}catch(e){return!1}}(),ol.has.DEVICE_ORIENTATION="DeviceOrientationEvent"in window,ol.has.GEOLOCATION="geolocation"in navigator,ol.has.TOUCH=ol.ASSUME_TOUCH||"ontouchstart"in window,ol.has.POINTER="PointerEvent"in window,ol.has.MSPOINTER=!!navigator.msPointerEnabled,ol,function(){if(ol.ENABLE_WEBGL){var e,t=!1,o=[];if("WebGLRenderingContext"in window)try{var r=document.createElement("CANVAS"),n=ol.webgl.getContext(r,{failIfMajorPerformanceCaveat:!0});n&&(t=!0,e=n.getParameter(n.MAX_TEXTURE_SIZE),o=n.getSupportedExtensions())}catch(e){}ol.has.WEBGL=t,ol.WEBGL_EXTENSIONS=o,ol.WEBGL_MAX_TEXTURE_SIZE=e}}(),goog.provide("ol.MapBrowserEventType"),goog.require("ol.events.EventType"),ol.MapBrowserEventType={SINGLECLICK:"singleclick",CLICK:ol.events.EventType.CLICK,DBLCLICK:ol.events.EventType.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},goog.provide("ol.MapBrowserPointerEvent"),goog.require("ol"),goog.require("ol.MapBrowserEvent"),ol.MapBrowserPointerEvent=function(e,t,o,r,n){ol.MapBrowserEvent.call(this,e,t,o.originalEvent,r,n),this.pointerEvent=o},ol.inherits(ol.MapBrowserPointerEvent,ol.MapBrowserEvent),goog.provide("ol.pointer.EventType"),ol.pointer.EventType={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},goog.provide("ol.pointer.EventSource"),ol.pointer.EventSource=function(e,t){this.dispatcher=e,this.mapping_=t},ol.pointer.EventSource.prototype.getEvents=function(){return Object.keys(this.mapping_)},ol.pointer.EventSource.prototype.getHandlerForEvent=function(e){return this.mapping_[e]},goog.provide("ol.pointer.MouseSource"),goog.require("ol"),goog.require("ol.pointer.EventSource"),ol.pointer.MouseSource=function(e){ol.pointer.EventSource.call(this,e,{mousedown:this.mousedown,mousemove:this.mousemove,mouseup:this.mouseup,mouseover:this.mouseover,mouseout:this.mouseout}),this.pointerMap=e.pointerMap,this.lastTouches=[]},ol.inherits(ol.pointer.MouseSource,ol.pointer.EventSource),ol.pointer.MouseSource.POINTER_ID=1,ol.pointer.MouseSource.POINTER_TYPE="mouse",ol.pointer.MouseSource.DEDUP_DIST=25,ol.pointer.MouseSource.prototype.isEventSimulatedFromTouch_=function(e){for(var t,o=this.lastTouches,r=e.clientX,n=e.clientY,i=0,l=o.length;i<l&&(t=o[i]);i++){var a=Math.abs(r-t[0]),s=Math.abs(n-t[1]);if(a<=ol.pointer.MouseSource.DEDUP_DIST&&s<=ol.pointer.MouseSource.DEDUP_DIST)return!0}return!1},ol.pointer.MouseSource.prepareEvent=function(e,t){var o=t.cloneEvent(e,e),r=o.preventDefault;return o.preventDefault=function(){e.preventDefault(),r()},o.pointerId=ol.pointer.MouseSource.POINTER_ID,o.isPrimary=!0,o.pointerType=ol.pointer.MouseSource.POINTER_TYPE,o},ol.pointer.MouseSource.prototype.mousedown=function(e){if(!this.isEventSimulatedFromTouch_(e)){ol.pointer.MouseSource.POINTER_ID.toString()in this.pointerMap&&this.cancel(e);var t=ol.pointer.MouseSource.prepareEvent(e,this.dispatcher);this.pointerMap[ol.pointer.MouseSource.POINTER_ID.toString()]=e,this.dispatcher.down(t,e)}},ol.pointer.MouseSource.prototype.mousemove=function(e){if(!this.isEventSimulatedFromTouch_(e)){var t=ol.pointer.MouseSource.prepareEvent(e,this.dispatcher);this.dispatcher.move(t,e)}},ol.pointer.MouseSource.prototype.mouseup=function(e){if(!this.isEventSimulatedFromTouch_(e)){var t=this.pointerMap[ol.pointer.MouseSource.POINTER_ID.toString()];if(t&&t.button===e.button){var o=ol.pointer.MouseSource.prepareEvent(e,this.dispatcher);this.dispatcher.up(o,e),this.cleanupMouse()}}},ol.pointer.MouseSource.prototype.mouseover=function(e){if(!this.isEventSimulatedFromTouch_(e)){var t=ol.pointer.MouseSource.prepareEvent(e,this.dispatcher);this.dispatcher.enterOver(t,e)}},ol.pointer.MouseSource.prototype.mouseout=function(e){if(!this.isEventSimulatedFromTouch_(e)){var t=ol.pointer.MouseSource.prepareEvent(e,this.dispatcher);this.dispatcher.leaveOut(t,e)}},ol.pointer.MouseSource.prototype.cancel=function(e){var t=ol.pointer.MouseSource.prepareEvent(e,this.dispatcher);this.dispatcher.cancel(t,e),this.cleanupMouse()},ol.pointer.MouseSource.prototype.cleanupMouse=function(){delete this.pointerMap[ol.pointer.MouseSource.POINTER_ID.toString()]},goog.provide("ol.pointer.MsSource"),goog.require("ol"),goog.require("ol.pointer.EventSource"),ol.pointer.MsSource=function(e){ol.pointer.EventSource.call(this,e,{MSPointerDown:this.msPointerDown,MSPointerMove:this.msPointerMove,MSPointerUp:this.msPointerUp,MSPointerOut:this.msPointerOut,MSPointerOver:this.msPointerOver,MSPointerCancel:this.msPointerCancel,MSGotPointerCapture:this.msGotPointerCapture,MSLostPointerCapture:this.msLostPointerCapture}),this.pointerMap=e.pointerMap,this.POINTER_TYPES=["","unavailable","touch","pen","mouse"]},ol.inherits(ol.pointer.MsSource,ol.pointer.EventSource),ol.pointer.MsSource.prototype.prepareEvent_=function(e){var t=e;return"number"==typeof e.pointerType&&((t=this.dispatcher.cloneEvent(e,e)).pointerType=this.POINTER_TYPES[e.pointerType]),t},ol.pointer.MsSource.prototype.cleanup=function(e){delete this.pointerMap[e.toString()]},ol.pointer.MsSource.prototype.msPointerDown=function(e){this.pointerMap[e.pointerId.toString()]=e;var t=this.prepareEvent_(e);this.dispatcher.down(t,e)},ol.pointer.MsSource.prototype.msPointerMove=function(e){var t=this.prepareEvent_(e);this.dispatcher.move(t,e)},ol.pointer.MsSource.prototype.msPointerUp=function(e){var t=this.prepareEvent_(e);this.dispatcher.up(t,e),this.cleanup(e.pointerId)},ol.pointer.MsSource.prototype.msPointerOut=function(e){var t=this.prepareEvent_(e);this.dispatcher.leaveOut(t,e)},ol.pointer.MsSource.prototype.msPointerOver=function(e){var t=this.prepareEvent_(e);this.dispatcher.enterOver(t,e)},ol.pointer.MsSource.prototype.msPointerCancel=function(e){var t=this.prepareEvent_(e);this.dispatcher.cancel(t,e),this.cleanup(e.pointerId)},ol.pointer.MsSource.prototype.msLostPointerCapture=function(e){var t=this.dispatcher.makeEvent("lostpointercapture",e,e);this.dispatcher.dispatchEvent(t)},ol.pointer.MsSource.prototype.msGotPointerCapture=function(e){var t=this.dispatcher.makeEvent("gotpointercapture",e,e);this.dispatcher.dispatchEvent(t)},goog.provide("ol.pointer.NativeSource"),goog.require("ol"),goog.require("ol.pointer.EventSource"),ol.pointer.NativeSource=function(e){ol.pointer.EventSource.call(this,e,{pointerdown:this.pointerDown,pointermove:this.pointerMove,pointerup:this.pointerUp,pointerout:this.pointerOut,pointerover:this.pointerOver,pointercancel:this.pointerCancel,gotpointercapture:this.gotPointerCapture,lostpointercapture:this.lostPointerCapture})},ol.inherits(ol.pointer.NativeSource,ol.pointer.EventSource),ol.pointer.NativeSource.prototype.pointerDown=function(e){this.dispatcher.fireNativeEvent(e)},ol.pointer.NativeSource.prototype.pointerMove=function(e){this.dispatcher.fireNativeEvent(e)},ol.pointer.NativeSource.prototype.pointerUp=function(e){this.dispatcher.fireNativeEvent(e)},ol.pointer.NativeSource.prototype.pointerOut=function(e){this.dispatcher.fireNativeEvent(e)},ol.pointer.NativeSource.prototype.pointerOver=function(e){this.dispatcher.fireNativeEvent(e)},ol.pointer.NativeSource.prototype.pointerCancel=function(e){this.dispatcher.fireNativeEvent(e)},ol.pointer.NativeSource.prototype.lostPointerCapture=function(e){this.dispatcher.fireNativeEvent(e)},ol.pointer.NativeSource.prototype.gotPointerCapture=function(e){this.dispatcher.fireNativeEvent(e)},goog.provide("ol.pointer.PointerEvent"),goog.require("ol"),goog.require("ol.events.Event"),ol.pointer.PointerEvent=function(e,t,o){ol.events.Event.call(this,e),this.originalEvent=t;var r=o||{};this.buttons=this.getButtons_(r),this.pressure=this.getPressure_(r,this.buttons),this.bubbles="bubbles"in r&&r.bubbles,this.cancelable="cancelable"in r&&r.cancelable,this.view="view"in r?r.view:null,this.detail="detail"in r?r.detail:null,this.screenX="screenX"in r?r.screenX:0,this.screenY="screenY"in r?r.screenY:0,this.clientX="clientX"in r?r.clientX:0,this.clientY="clientY"in r?r.clientY:0,this.ctrlKey="ctrlKey"in r&&r.ctrlKey,this.altKey="altKey"in r&&r.altKey,this.shiftKey="shiftKey"in r&&r.shiftKey,this.metaKey="metaKey"in r&&r.metaKey,this.button="button"in r?r.button:0,this.relatedTarget="relatedTarget"in r?r.relatedTarget:null,this.pointerId="pointerId"in r?r.pointerId:0,this.width="width"in r?r.width:0,this.height="height"in r?r.height:0,this.tiltX="tiltX"in r?r.tiltX:0,this.tiltY="tiltY"in r?r.tiltY:0,this.pointerType="pointerType"in r?r.pointerType:"",this.hwTimestamp="hwTimestamp"in r?r.hwTimestamp:0,this.isPrimary="isPrimary"in r&&r.isPrimary,t.preventDefault&&(this.preventDefault=function(){t.preventDefault()})},ol.inherits(ol.pointer.PointerEvent,ol.events.Event),ol.pointer.PointerEvent.prototype.getButtons_=function(e){var t;if(e.buttons||ol.pointer.PointerEvent.HAS_BUTTONS)t=e.buttons;else switch(e.which){case 1:t=1;break;case 2:t=4;break;case 3:t=2;break;default:t=0}return t},ol.pointer.PointerEvent.prototype.getPressure_=function(e,t){return e.pressure?e.pressure:t?.5:0},ol.pointer.PointerEvent.HAS_BUTTONS=!1,function(){try{var e=new MouseEvent("click",{buttons:1});ol.pointer.PointerEvent.HAS_BUTTONS=1===e.buttons}catch(e){}}(),goog.provide("ol.pointer.TouchSource"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.pointer.EventSource"),goog.require("ol.pointer.MouseSource"),ol.pointer.TouchSource=function(e,t){ol.pointer.EventSource.call(this,e,{touchstart:this.touchstart,touchmove:this.touchmove,touchend:this.touchend,touchcancel:this.touchcancel}),this.pointerMap=e.pointerMap,this.mouseSource=t,this.firstTouchId_=void 0,this.clickCount_=0,this.resetId_=void 0},ol.inherits(ol.pointer.TouchSource,ol.pointer.EventSource),ol.pointer.TouchSource.DEDUP_TIMEOUT=2500,ol.pointer.TouchSource.CLICK_COUNT_TIMEOUT=200,ol.pointer.TouchSource.POINTER_TYPE="touch",ol.pointer.TouchSource.prototype.isPrimaryTouch_=function(e){return this.firstTouchId_===e.identifier},ol.pointer.TouchSource.prototype.setPrimaryTouch_=function(e){var t=Object.keys(this.pointerMap).length;(0===t||1===t&&ol.pointer.MouseSource.POINTER_ID.toString()in this.pointerMap)&&(this.firstTouchId_=e.identifier,this.cancelResetClickCount_())},ol.pointer.TouchSource.prototype.removePrimaryPointer_=function(e){e.isPrimary&&(this.firstTouchId_=void 0,this.resetClickCount_())},ol.pointer.TouchSource.prototype.resetClickCount_=function(){this.resetId_=setTimeout(this.resetClickCountHandler_.bind(this),ol.pointer.TouchSource.CLICK_COUNT_TIMEOUT)},ol.pointer.TouchSource.prototype.resetClickCountHandler_=function(){this.clickCount_=0,this.resetId_=void 0},ol.pointer.TouchSource.prototype.cancelResetClickCount_=function(){void 0!==this.resetId_&&clearTimeout(this.resetId_)},ol.pointer.TouchSource.prototype.touchToPointer_=function(e,t){var o=this.dispatcher.cloneEvent(e,t);return o.pointerId=t.identifier+2,o.bubbles=!0,o.cancelable=!0,o.detail=this.clickCount_,o.button=0,o.buttons=1,o.width=t.webkitRadiusX||t.radiusX||0,o.height=t.webkitRadiusY||t.radiusY||0,o.pressure=t.webkitForce||t.force||.5,o.isPrimary=this.isPrimaryTouch_(t),o.pointerType=ol.pointer.TouchSource.POINTER_TYPE,o.clientX=t.clientX,o.clientY=t.clientY,o.screenX=t.screenX,o.screenY=t.screenY,o},ol.pointer.TouchSource.prototype.processTouches_=function(e,t){var o,r,n=Array.prototype.slice.call(e.changedTouches),i=n.length;function l(){e.preventDefault()}for(o=0;o<i;++o)(r=this.touchToPointer_(e,n[o])).preventDefault=l,t.call(this,e,r)},ol.pointer.TouchSource.prototype.findTouch_=function(e,t){for(var o=e.length,r=0;r<o;r++)if(e[r].identifier===t)return!0;return!1},ol.pointer.TouchSource.prototype.vacuumTouches_=function(e){var t=e.touches,o=Object.keys(this.pointerMap),r=o.length;if(r>=t.length){var n,i,l,a=[];for(n=0;n<r;++n)l=this.pointerMap[i=o[n]],i==ol.pointer.MouseSource.POINTER_ID||this.findTouch_(t,i-2)||a.push(l.out);for(n=0;n<a.length;++n)this.cancelOut_(e,a[n])}},ol.pointer.TouchSource.prototype.touchstart=function(e){this.vacuumTouches_(e),this.setPrimaryTouch_(e.changedTouches[0]),this.dedupSynthMouse_(e),this.clickCount_++,this.processTouches_(e,this.overDown_)},ol.pointer.TouchSource.prototype.overDown_=function(e,t){this.pointerMap[t.pointerId]={target:t.target,out:t,outTarget:t.target},this.dispatcher.over(t,e),this.dispatcher.enter(t,e),this.dispatcher.down(t,e)},ol.pointer.TouchSource.prototype.touchmove=function(e){e.preventDefault(),this.processTouches_(e,this.moveOverOut_)},ol.pointer.TouchSource.prototype.moveOverOut_=function(e,t){var o=t,r=this.pointerMap[o.pointerId];if(r){var n=r.out,i=r.outTarget;this.dispatcher.move(o,e),n&&i!==o.target&&(n.relatedTarget=o.target,o.relatedTarget=i,n.target=i,o.target?(this.dispatcher.leaveOut(n,e),this.dispatcher.enterOver(o,e)):(o.target=i,o.relatedTarget=null,this.cancelOut_(e,o))),r.out=o,r.outTarget=o.target}},ol.pointer.TouchSource.prototype.touchend=function(e){this.dedupSynthMouse_(e),this.processTouches_(e,this.upOut_)},ol.pointer.TouchSource.prototype.upOut_=function(e,t){this.dispatcher.up(t,e),this.dispatcher.out(t,e),this.dispatcher.leave(t,e),this.cleanUpPointer_(t)},ol.pointer.TouchSource.prototype.touchcancel=function(e){this.processTouches_(e,this.cancelOut_)},ol.pointer.TouchSource.prototype.cancelOut_=function(e,t){this.dispatcher.cancel(t,e),this.dispatcher.out(t,e),this.dispatcher.leave(t,e),this.cleanUpPointer_(t)},ol.pointer.TouchSource.prototype.cleanUpPointer_=function(e){delete this.pointerMap[e.pointerId],this.removePrimaryPointer_(e)},ol.pointer.TouchSource.prototype.dedupSynthMouse_=function(e){var t=this.mouseSource.lastTouches,o=e.changedTouches[0];if(this.isPrimaryTouch_(o)){var r=[o.clientX,o.clientY];t.push(r),setTimeout(function(){ol.array.remove(t,r)},ol.pointer.TouchSource.DEDUP_TIMEOUT)}},goog.provide("ol.pointer.PointerEventHandler"),goog.require("ol"),goog.require("ol.events"),goog.require("ol.events.EventTarget"),goog.require("ol.has"),goog.require("ol.pointer.EventType"),goog.require("ol.pointer.MouseSource"),goog.require("ol.pointer.MsSource"),goog.require("ol.pointer.NativeSource"),goog.require("ol.pointer.PointerEvent"),goog.require("ol.pointer.TouchSource"),ol.pointer.PointerEventHandler=function(e){ol.events.EventTarget.call(this),this.element_=e,this.pointerMap={},this.eventMap_={},this.eventSourceList_=[],this.registerSources()},ol.inherits(ol.pointer.PointerEventHandler,ol.events.EventTarget),ol.pointer.PointerEventHandler.prototype.registerSources=function(){if(ol.has.POINTER)this.registerSource("native",new ol.pointer.NativeSource(this));else if(ol.has.MSPOINTER)this.registerSource("ms",new ol.pointer.MsSource(this));else{var e=new ol.pointer.MouseSource(this);this.registerSource("mouse",e),ol.has.TOUCH&&this.registerSource("touch",new ol.pointer.TouchSource(this,e))}this.register_()},ol.pointer.PointerEventHandler.prototype.registerSource=function(e,t){var o=t,r=o.getEvents();r&&(r.forEach(function(e){var t=o.getHandlerForEvent(e);t&&(this.eventMap_[e]=t.bind(o))},this),this.eventSourceList_.push(o))},ol.pointer.PointerEventHandler.prototype.register_=function(){for(var e=this.eventSourceList_.length,t=0;t<e;t++)this.addEvents_(this.eventSourceList_[t].getEvents())},ol.pointer.PointerEventHandler.prototype.unregister_=function(){for(var e=this.eventSourceList_.length,t=0;t<e;t++)this.removeEvents_(this.eventSourceList_[t].getEvents())},ol.pointer.PointerEventHandler.prototype.eventHandler_=function(e){var t=this.eventMap_[e.type];t&&t(e)},ol.pointer.PointerEventHandler.prototype.addEvents_=function(e){e.forEach(function(e){ol.events.listen(this.element_,e,this.eventHandler_,this)},this)},ol.pointer.PointerEventHandler.prototype.removeEvents_=function(e){e.forEach(function(e){ol.events.unlisten(this.element_,e,this.eventHandler_,this)},this)},ol.pointer.PointerEventHandler.prototype.cloneEvent=function(e,t){for(var o,r={},n=0,i=ol.pointer.PointerEventHandler.CLONE_PROPS.length;n<i;n++)r[o=ol.pointer.PointerEventHandler.CLONE_PROPS[n][0]]=e[o]||t[o]||ol.pointer.PointerEventHandler.CLONE_PROPS[n][1];return r},ol.pointer.PointerEventHandler.prototype.down=function(e,t){this.fireEvent(ol.pointer.EventType.POINTERDOWN,e,t)},ol.pointer.PointerEventHandler.prototype.move=function(e,t){this.fireEvent(ol.pointer.EventType.POINTERMOVE,e,t)},ol.pointer.PointerEventHandler.prototype.up=function(e,t){this.fireEvent(ol.pointer.EventType.POINTERUP,e,t)},ol.pointer.PointerEventHandler.prototype.enter=function(e,t){e.bubbles=!1,this.fireEvent(ol.pointer.EventType.POINTERENTER,e,t)},ol.pointer.PointerEventHandler.prototype.leave=function(e,t){e.bubbles=!1,this.fireEvent(ol.pointer.EventType.POINTERLEAVE,e,t)},ol.pointer.PointerEventHandler.prototype.over=function(e,t){e.bubbles=!0,this.fireEvent(ol.pointer.EventType.POINTEROVER,e,t)},ol.pointer.PointerEventHandler.prototype.out=function(e,t){e.bubbles=!0,this.fireEvent(ol.pointer.EventType.POINTEROUT,e,t)},ol.pointer.PointerEventHandler.prototype.cancel=function(e,t){this.fireEvent(ol.pointer.EventType.POINTERCANCEL,e,t)},ol.pointer.PointerEventHandler.prototype.leaveOut=function(e,t){this.out(e,t),this.contains_(e.target,e.relatedTarget)||this.leave(e,t)},ol.pointer.PointerEventHandler.prototype.enterOver=function(e,t){this.over(e,t),this.contains_(e.target,e.relatedTarget)||this.enter(e,t)},ol.pointer.PointerEventHandler.prototype.contains_=function(e,t){return!(!e||!t)&&e.contains(t)},ol.pointer.PointerEventHandler.prototype.makeEvent=function(e,t,o){return new ol.pointer.PointerEvent(e,o,t)},ol.pointer.PointerEventHandler.prototype.fireEvent=function(e,t,o){var r=this.makeEvent(e,t,o);this.dispatchEvent(r)},ol.pointer.PointerEventHandler.prototype.fireNativeEvent=function(e){var t=this.makeEvent(e.type,e,e);this.dispatchEvent(t)},ol.pointer.PointerEventHandler.prototype.wrapMouseEvent=function(e,t){return this.makeEvent(e,ol.pointer.MouseSource.prepareEvent(t,this),t)},ol.pointer.PointerEventHandler.prototype.disposeInternal=function(){this.unregister_(),ol.events.EventTarget.prototype.disposeInternal.call(this)},ol.pointer.PointerEventHandler.CLONE_PROPS=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]],goog.provide("ol.MapBrowserEventHandler"),goog.require("ol"),goog.require("ol.has"),goog.require("ol.MapBrowserEventType"),goog.require("ol.MapBrowserPointerEvent"),goog.require("ol.events"),goog.require("ol.events.EventTarget"),goog.require("ol.pointer.EventType"),goog.require("ol.pointer.PointerEventHandler"),ol.MapBrowserEventHandler=function(e,t){ol.events.EventTarget.call(this),this.map_=e,this.clickTimeoutId_=0,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=t?t*ol.has.DEVICE_PIXEL_RATIO:ol.has.DEVICE_PIXEL_RATIO,this.down_=null;var o=this.map_.getViewport();this.activePointers_=0,this.trackedTouches_={},this.pointerEventHandler_=new ol.pointer.PointerEventHandler(o),this.documentPointerEventHandler_=null,this.pointerdownListenerKey_=ol.events.listen(this.pointerEventHandler_,ol.pointer.EventType.POINTERDOWN,this.handlePointerDown_,this),this.relayedListenerKey_=ol.events.listen(this.pointerEventHandler_,ol.pointer.EventType.POINTERMOVE,this.relayEvent_,this)},ol.inherits(ol.MapBrowserEventHandler,ol.events.EventTarget),ol.MapBrowserEventHandler.prototype.emulateClick_=function(e){var t=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.CLICK,this.map_,e);this.dispatchEvent(t),0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=0,t=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout((function(){this.clickTimeoutId_=0;var t=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.SINGLECLICK,this.map_,e);this.dispatchEvent(t)}).bind(this),250)},ol.MapBrowserEventHandler.prototype.updateActivePointers_=function(e){var t=e;t.type==ol.MapBrowserEventType.POINTERUP||t.type==ol.MapBrowserEventType.POINTERCANCEL?delete this.trackedTouches_[t.pointerId]:t.type==ol.MapBrowserEventType.POINTERDOWN&&(this.trackedTouches_[t.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},ol.MapBrowserEventHandler.prototype.handlePointerUp_=function(e){this.updateActivePointers_(e);var t=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.POINTERUP,this.map_,e);this.dispatchEvent(t),t.propagationStopped||this.dragging_||!this.isMouseActionButton_(e)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(ol.events.unlistenByKey),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null,this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null)},ol.MapBrowserEventHandler.prototype.isMouseActionButton_=function(e){return 0===e.button},ol.MapBrowserEventHandler.prototype.handlePointerDown_=function(e){this.updateActivePointers_(e);var t=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.POINTERDOWN,this.map_,e);this.dispatchEvent(t),this.down_=e,0===this.dragListenerKeys_.length&&(this.documentPointerEventHandler_=new ol.pointer.PointerEventHandler(document),this.dragListenerKeys_.push(ol.events.listen(this.documentPointerEventHandler_,ol.MapBrowserEventType.POINTERMOVE,this.handlePointerMove_,this),ol.events.listen(this.documentPointerEventHandler_,ol.MapBrowserEventType.POINTERUP,this.handlePointerUp_,this),ol.events.listen(this.pointerEventHandler_,ol.MapBrowserEventType.POINTERCANCEL,this.handlePointerUp_,this)))},ol.MapBrowserEventHandler.prototype.handlePointerMove_=function(e){if(this.isMoving_(e)){this.dragging_=!0;var t=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.POINTERDRAG,this.map_,e,this.dragging_);this.dispatchEvent(t)}e.preventDefault()},ol.MapBrowserEventHandler.prototype.relayEvent_=function(e){var t=!(!this.down_||!this.isMoving_(e));this.dispatchEvent(new ol.MapBrowserPointerEvent(e.type,this.map_,e,t))},ol.MapBrowserEventHandler.prototype.isMoving_=function(e){return Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_},ol.MapBrowserEventHandler.prototype.disposeInternal=function(){this.relayedListenerKey_&&(ol.events.unlistenByKey(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&(ol.events.unlistenByKey(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(ol.events.unlistenByKey),this.dragListenerKeys_.length=0,this.documentPointerEventHandler_&&(this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null),this.pointerEventHandler_&&(this.pointerEventHandler_.dispose(),this.pointerEventHandler_=null),ol.events.EventTarget.prototype.disposeInternal.call(this)},goog.provide("ol.MapEventType"),ol.MapEventType={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"},goog.provide("ol.MapProperty"),ol.MapProperty={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},goog.provide("ol.TileState"),ol.TileState={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5},goog.provide("ol.structs.PriorityQueue"),goog.require("ol.asserts"),goog.require("ol.obj"),ol.structs.PriorityQueue=function(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}},ol.structs.PriorityQueue.DROP=1/0,ol.structs.PriorityQueue.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,ol.obj.clear(this.queuedElements_)},ol.structs.PriorityQueue.prototype.dequeue=function(){var e=this.elements_,t=this.priorities_,o=e[0];1==e.length?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));var r=this.keyFunction_(o);return delete this.queuedElements_[r],o},ol.structs.PriorityQueue.prototype.enqueue=function(e){ol.asserts.assert(!(this.keyFunction_(e)in this.queuedElements_),31);var t=this.priorityFunction_(e);return t!=ol.structs.PriorityQueue.DROP&&(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},ol.structs.PriorityQueue.prototype.getCount=function(){return this.elements_.length},ol.structs.PriorityQueue.prototype.getLeftChildIndex_=function(e){return 2*e+1},ol.structs.PriorityQueue.prototype.getRightChildIndex_=function(e){return 2*e+2},ol.structs.PriorityQueue.prototype.getParentIndex_=function(e){return e-1>>1},ol.structs.PriorityQueue.prototype.heapify_=function(){var e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)},ol.structs.PriorityQueue.prototype.isEmpty=function(){return 0===this.elements_.length},ol.structs.PriorityQueue.prototype.isKeyQueued=function(e){return e in this.queuedElements_},ol.structs.PriorityQueue.prototype.isQueued=function(e){return this.isKeyQueued(this.keyFunction_(e))},ol.structs.PriorityQueue.prototype.siftUp_=function(e){for(var t=this.elements_,o=this.priorities_,r=t.length,n=t[e],i=o[e],l=e;e<r>>1;){var a=this.getLeftChildIndex_(e),s=this.getRightChildIndex_(e),p=s<r&&o[s]<o[a]?s:a;t[e]=t[p],o[e]=o[p],e=p}t[e]=n,o[e]=i,this.siftDown_(l,e)},ol.structs.PriorityQueue.prototype.siftDown_=function(e,t){for(var o=this.elements_,r=this.priorities_,n=o[t],i=r[t];t>e;){var l=this.getParentIndex_(t);if(!(r[l]>i))break;o[t]=o[l],r[t]=r[l],t=l}o[t]=n,r[t]=i},ol.structs.PriorityQueue.prototype.reprioritize=function(){var e,t,o,r=this.priorityFunction_,n=this.elements_,i=this.priorities_,l=0,a=n.length;for(t=0;t<a;++t)(o=r(e=n[t]))==ol.structs.PriorityQueue.DROP?delete this.queuedElements_[this.keyFunction_(e)]:(i[l]=o,n[l++]=e);n.length=l,i.length=l,this.heapify_()},goog.provide("ol.TileQueue"),goog.require("ol"),goog.require("ol.TileState"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.structs.PriorityQueue"),ol.TileQueue=function(e,t){ol.structs.PriorityQueue.call(this,function(t){return e.apply(null,t)},function(e){return e[0].getKey()}),this.tileChangeCallback_=t,this.tilesLoading_=0,this.tilesLoadingKeys_={}},ol.inherits(ol.TileQueue,ol.structs.PriorityQueue),ol.TileQueue.prototype.enqueue=function(e){var t=ol.structs.PriorityQueue.prototype.enqueue.call(this,e);return t&&ol.events.listen(e[0],ol.events.EventType.CHANGE,this.handleTileChange,this),t},ol.TileQueue.prototype.getTilesLoading=function(){return this.tilesLoading_},ol.TileQueue.prototype.handleTileChange=function(e){var t=e.target,o=t.getState();if(o===ol.TileState.LOADED||o===ol.TileState.ERROR||o===ol.TileState.EMPTY||o===ol.TileState.ABORT){ol.events.unlisten(t,ol.events.EventType.CHANGE,this.handleTileChange,this);var r=t.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}},ol.TileQueue.prototype.loadMoreTiles=function(e,t){for(var o,r,n,i=0,l=!1;this.tilesLoading_<e&&i<t&&this.getCount()>0;)n=(r=this.dequeue()[0]).getKey(),(o=r.getState())===ol.TileState.ABORT?l=!0:o!==ol.TileState.IDLE||n in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[n]=!0,++this.tilesLoading_,++i,r.load());0===i&&l&&this.tileChangeCallback_()},goog.provide("ol.CenterConstraint"),goog.require("ol.math"),ol.CenterConstraint.createExtent=function(e){return function(t){return t?[ol.math.clamp(t[0],e[0],e[2]),ol.math.clamp(t[1],e[1],e[3])]:void 0}},ol.CenterConstraint.none=function(e){return e},goog.provide("ol.ResolutionConstraint"),goog.require("ol.array"),goog.require("ol.math"),ol.ResolutionConstraint.createSnapToResolutions=function(e){return function(t,o,r){if(void 0!==t){var n=ol.array.linearFindNearest(e,t,r);n=ol.math.clamp(n+o,0,e.length-1);var i=Math.floor(n);return n!=i&&i<e.length-1?e[i]/Math.pow(e[i]/e[i+1],n-i):e[i]}}},ol.ResolutionConstraint.createSnapToPower=function(e,t,o){return function(r,n,i){if(void 0!==r){var l=-i/2+.5,a=Math.floor(Math.log(t/r)/Math.log(e)+l),s=Math.max(a+n,0);return void 0!==o&&(s=Math.min(s,o)),t/Math.pow(e,s)}}},goog.provide("ol.RotationConstraint"),goog.require("ol.math"),ol.RotationConstraint.disable=function(e,t){return void 0!==e?0:void 0},ol.RotationConstraint.none=function(e,t){return void 0!==e?e+t:void 0},ol.RotationConstraint.createSnapToN=function(e){var t=2*Math.PI/e;return function(e,o){return void 0!==e?e=Math.floor((e+o)/t+.5)*t:void 0}},ol.RotationConstraint.createSnapToZero=function(e){var t=e||ol.math.toRadians(5);return function(e,o){return void 0!==e?Math.abs(e+o)<=t?0:e+o:void 0}},goog.provide("ol.ViewHint"),ol.ViewHint={ANIMATING:0,INTERACTING:1},goog.provide("ol.ViewProperty"),ol.ViewProperty={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},goog.provide("ol.string"),ol.string.padNumber=function(e,t,o){var r=void 0!==o?e.toFixed(o):""+e,n=r.indexOf(".");return(n=-1===n?r.length:n)>t?r:new Array(1+t-n).join("0")+r},ol.string.compareVersions=function(e,t){for(var o=(""+e).split("."),r=(""+t).split("."),n=0;n<Math.max(o.length,r.length);n++){var i=parseInt(o[n]||"0",10),l=parseInt(r[n]||"0",10);if(i>l)return 1;if(l>i)return-1}return 0},goog.provide("ol.coordinate"),goog.require("ol.math"),goog.require("ol.string"),ol.coordinate.add=function(e,t){return e[0]+=t[0],e[1]+=t[1],e},ol.coordinate.closestOnCircle=function(e,t){var o=t.getRadius(),r=t.getCenter(),n=r[0],i=r[1],l=e[0]-n,a=e[1]-i;0===l&&0===a&&(l=1);var s=Math.sqrt(l*l+a*a);return[n+o*l/s,i+o*a/s]},ol.coordinate.closestOnSegment=function(e,t){var o,r,n=t[0],i=t[1],l=n[0],a=n[1],s=i[0],p=i[1],u=s-l,c=p-a,g=0===u&&0===c?0:(u*(e[0]-l)+c*(e[1]-a))/(u*u+c*c||0);return g<=0?(o=l,r=a):g>=1?(o=s,r=p):(o=l+g*u,r=a+g*c),[o,r]},ol.coordinate.createStringXY=function(e){return function(t){return ol.coordinate.toStringXY(t,e)}},ol.coordinate.degreesToStringHDMS=function(e,t,o){var r=ol.math.modulo(t+180,360)-180,n=Math.abs(3600*r),i=o||0,l=Math.pow(10,i),a=Math.floor(n/3600),s=Math.floor((n-3600*a)/60),p=n-3600*a-60*s;return(p=Math.ceil(p*l)/l)>=60&&(p=0,s+=1),s>=60&&(s=0,a+=1),a+"\xb0 "+ol.string.padNumber(s,2)+"\u2032 "+ol.string.padNumber(p,2,i)+"\u2033"+(0==r?"":" "+e.charAt(r<0?1:0))},ol.coordinate.format=function(e,t,o){return e?t.replace("{x}",e[0].toFixed(o)).replace("{y}",e[1].toFixed(o)):""},ol.coordinate.equals=function(e,t){for(var o=!0,r=e.length-1;r>=0;--r)if(e[r]!=t[r]){o=!1;break}return o},ol.coordinate.rotate=function(e,t){var o=Math.cos(t),r=Math.sin(t),n=e[1]*o+e[0]*r;return e[0]=e[0]*o-e[1]*r,e[1]=n,e},ol.coordinate.scale=function(e,t){return e[0]*=t,e[1]*=t,e},ol.coordinate.sub=function(e,t){return e[0]-=t[0],e[1]-=t[1],e},ol.coordinate.squaredDistance=function(e,t){var o=e[0]-t[0],r=e[1]-t[1];return o*o+r*r},ol.coordinate.distance=function(e,t){return Math.sqrt(ol.coordinate.squaredDistance(e,t))},ol.coordinate.squaredDistanceToSegment=function(e,t){return ol.coordinate.squaredDistance(e,ol.coordinate.closestOnSegment(e,t))},ol.coordinate.toStringHDMS=function(e,t){return e?ol.coordinate.degreesToStringHDMS("NS",e[1],t)+" "+ol.coordinate.degreesToStringHDMS("EW",e[0],t):""},ol.coordinate.toStringXY=function(e,t){return ol.coordinate.format(e,"{x}, {y}",t)},goog.provide("ol.easing"),ol.easing.easeIn=function(e){return Math.pow(e,3)},ol.easing.easeOut=function(e){return 1-ol.easing.easeIn(1-e)},ol.easing.inAndOut=function(e){return 3*e*e-2*e*e*e},ol.easing.linear=function(e){return e},ol.easing.upAndDown=function(e){return e<.5?ol.easing.inAndOut(2*e):1-ol.easing.inAndOut(2*(e-.5))},goog.provide("ol.geom.GeometryLayout"),ol.geom.GeometryLayout={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"},goog.provide("ol.functions"),ol.functions.TRUE=function(){return!0},ol.functions.FALSE=function(){return!1},goog.provide("ol.geom.flat.transform"),ol.geom.flat.transform.transform2D=function(e,t,o,r,n,i){var l,a=i||[],s=0;for(l=t;l<o;l+=r){var p=e[l],u=e[l+1];a[s++]=n[0]*p+n[2]*u+n[4],a[s++]=n[1]*p+n[3]*u+n[5]}return i&&a.length!=s&&(a.length=s),a},ol.geom.flat.transform.rotate=function(e,t,o,r,n,i,l){for(var a=l||[],s=Math.cos(n),p=Math.sin(n),u=i[0],c=i[1],g=0,d=t;d<o;d+=r){var h=e[d]-u,y=e[d+1]-c;a[g++]=u+h*s-y*p,a[g++]=c+h*p+y*s;for(var f=d+2;f<d+r;++f)a[g++]=e[f]}return l&&a.length!=g&&(a.length=g),a},ol.geom.flat.transform.scale=function(e,t,o,r,n,i,l,a){for(var s=a||[],p=l[0],u=l[1],c=0,g=t;g<o;g+=r){var d=e[g+1]-u;s[c++]=p+n*(e[g]-p),s[c++]=u+i*d;for(var h=g+2;h<g+r;++h)s[c++]=e[h]}return a&&s.length!=c&&(s.length=c),s},ol.geom.flat.transform.translate=function(e,t,o,r,n,i,l){var a,s,p=l||[],u=0;for(a=t;a<o;a+=r)for(p[u++]=e[a]+n,p[u++]=e[a+1]+i,s=a+2;s<a+r;++s)p[u++]=e[s];return l&&p.length!=u&&(p.length=u),p},goog.provide("ol.transform"),goog.require("ol.asserts"),ol.transform.tmp_=new Array(6),ol.transform.create=function(){return[1,0,0,1,0,0]},ol.transform.reset=function(e){return ol.transform.set(e,1,0,0,1,0,0)},ol.transform.multiply=function(e,t){var o=e[0],r=e[1],n=e[2],i=e[3],l=e[4],a=e[5],s=t[0],p=t[1],u=t[2],c=t[3],g=t[4],d=t[5];return e[0]=o*s+n*p,e[1]=r*s+i*p,e[2]=o*u+n*c,e[3]=r*u+i*c,e[4]=o*g+n*d+l,e[5]=r*g+i*d+a,e},ol.transform.set=function(e,t,o,r,n,i,l){return e[0]=t,e[1]=o,e[2]=r,e[3]=n,e[4]=i,e[5]=l,e},ol.transform.setFromArray=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},ol.transform.apply=function(e,t){var o=t[0],r=t[1];return t[0]=e[0]*o+e[2]*r+e[4],t[1]=e[1]*o+e[3]*r+e[5],t},ol.transform.rotate=function(e,t){var o=Math.cos(t),r=Math.sin(t);return ol.transform.multiply(e,ol.transform.set(ol.transform.tmp_,o,r,-r,o,0,0))},ol.transform.scale=function(e,t,o){return ol.transform.multiply(e,ol.transform.set(ol.transform.tmp_,t,0,0,o,0,0))},ol.transform.translate=function(e,t,o){return ol.transform.multiply(e,ol.transform.set(ol.transform.tmp_,1,0,0,1,t,o))},ol.transform.compose=function(e,t,o,r,n,i,l,a){var s=Math.sin(i),p=Math.cos(i);return e[0]=r*p,e[1]=n*s,e[2]=-r*s,e[3]=n*p,e[4]=l*r*p-a*r*s+t,e[5]=l*n*s+a*n*p+o,e},ol.transform.invert=function(e){var t=ol.transform.determinant(e);ol.asserts.assert(0!==t,32);var o=e[0],r=e[1],n=e[2],i=e[3],l=e[4],a=e[5];return e[0]=i/t,e[1]=-r/t,e[2]=-n/t,e[3]=o/t,e[4]=(n*a-i*l)/t,e[5]=-(o*a-r*l)/t,e},ol.transform.determinant=function(e){return e[0]*e[3]-e[1]*e[2]},goog.provide("ol.geom.Geometry"),goog.require("ol"),goog.require("ol.Object"),goog.require("ol.extent"),goog.require("ol.functions"),goog.require("ol.geom.flat.transform"),goog.require("ol.proj"),goog.require("ol.proj.Units"),goog.require("ol.transform"),ol.geom.Geometry=function(){ol.Object.call(this),this.extent_=ol.extent.createEmpty(),this.extentRevision_=-1,this.simplifiedGeometryCache={},this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.tmpTransform_=ol.transform.create()},ol.inherits(ol.geom.Geometry,ol.Object),ol.geom.Geometry.prototype.clone=function(){},ol.geom.Geometry.prototype.closestPointXY=function(e,t,o,r){},ol.geom.Geometry.prototype.getClosestPoint=function(e,t){var o=t||[NaN,NaN];return this.closestPointXY(e[0],e[1],o,1/0),o},ol.geom.Geometry.prototype.intersectsCoordinate=function(e){return this.containsXY(e[0],e[1])},ol.geom.Geometry.prototype.computeExtent=function(e){},ol.geom.Geometry.prototype.containsXY=ol.functions.FALSE,ol.geom.Geometry.prototype.getExtent=function(e){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),ol.extent.returnOrUpdate(this.extent_,e)},ol.geom.Geometry.prototype.rotate=function(e,t){},ol.geom.Geometry.prototype.scale=function(e,t,o){},ol.geom.Geometry.prototype.simplify=function(e){return this.getSimplifiedGeometry(e*e)},ol.geom.Geometry.prototype.getSimplifiedGeometry=function(e){},ol.geom.Geometry.prototype.getType=function(){},ol.geom.Geometry.prototype.applyTransform=function(e){},ol.geom.Geometry.prototype.intersectsExtent=function(e){},ol.geom.Geometry.prototype.translate=function(e,t){},ol.geom.Geometry.prototype.transform=function(e,t){var o=this.tmpTransform_,r=(e=ol.proj.get(e)).getUnits()==ol.proj.Units.TILE_PIXELS?function(r,n,i){var l=e.getExtent(),a=e.getWorldExtent(),s=ol.extent.getHeight(a)/ol.extent.getHeight(l);return ol.transform.compose(o,a[0],a[3],s,-s,0,0,0),ol.geom.flat.transform.transform2D(r,0,r.length,i,o,n),ol.proj.getTransform(e,t)(r,n,i)}:ol.proj.getTransform(e,t);return this.applyTransform(r),this},goog.provide("ol.geom.SimpleGeometry"),goog.require("ol"),goog.require("ol.functions"),goog.require("ol.extent"),goog.require("ol.geom.Geometry"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.flat.transform"),goog.require("ol.obj"),ol.geom.SimpleGeometry=function(){ol.geom.Geometry.call(this),this.layout=ol.geom.GeometryLayout.XY,this.stride=2,this.flatCoordinates=null},ol.inherits(ol.geom.SimpleGeometry,ol.geom.Geometry),ol.geom.SimpleGeometry.getLayoutForStride_=function(e){var t;return 2==e?t=ol.geom.GeometryLayout.XY:3==e?t=ol.geom.GeometryLayout.XYZ:4==e&&(t=ol.geom.GeometryLayout.XYZM),t},ol.geom.SimpleGeometry.getStrideForLayout=function(e){var t;return e==ol.geom.GeometryLayout.XY?t=2:e==ol.geom.GeometryLayout.XYZ||e==ol.geom.GeometryLayout.XYM?t=3:e==ol.geom.GeometryLayout.XYZM&&(t=4),t},ol.geom.SimpleGeometry.prototype.containsXY=ol.functions.FALSE,ol.geom.SimpleGeometry.prototype.computeExtent=function(e){return ol.extent.createOrUpdateFromFlatCoordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},ol.geom.SimpleGeometry.prototype.getCoordinates=function(){},ol.geom.SimpleGeometry.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},ol.geom.SimpleGeometry.prototype.getFlatCoordinates=function(){return this.flatCoordinates},ol.geom.SimpleGeometry.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},ol.geom.SimpleGeometry.prototype.getLayout=function(){return this.layout},ol.geom.SimpleGeometry.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!=this.getRevision()&&(ol.obj.clear(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var t=e.toString();if(this.simplifiedGeometryCache.hasOwnProperty(t))return this.simplifiedGeometryCache[t];var o=this.getSimplifiedGeometryInternal(e);return o.getFlatCoordinates().length<this.flatCoordinates.length?(this.simplifiedGeometryCache[t]=o,o):(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)},ol.geom.SimpleGeometry.prototype.getSimplifiedGeometryInternal=function(e){return this},ol.geom.SimpleGeometry.prototype.getStride=function(){return this.stride},ol.geom.SimpleGeometry.prototype.setFlatCoordinatesInternal=function(e,t){this.stride=ol.geom.SimpleGeometry.getStrideForLayout(e),this.layout=e,this.flatCoordinates=t},ol.geom.SimpleGeometry.prototype.setCoordinates=function(e,t){},ol.geom.SimpleGeometry.prototype.setLayout=function(e,t,o){var r;if(e)r=ol.geom.SimpleGeometry.getStrideForLayout(e);else{var n;for(n=0;n<o;++n){if(0===t.length)return this.layout=ol.geom.GeometryLayout.XY,void(this.stride=2);t=t[0]}r=t.length,e=ol.geom.SimpleGeometry.getLayoutForStride_(r)}this.layout=e,this.stride=r},ol.geom.SimpleGeometry.prototype.applyTransform=function(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},ol.geom.SimpleGeometry.prototype.rotate=function(e,t){var o=this.getFlatCoordinates();if(o){var r=this.getStride();ol.geom.flat.transform.rotate(o,0,o.length,r,e,t,o),this.changed()}},ol.geom.SimpleGeometry.prototype.scale=function(e,t,o){var r=t;void 0===r&&(r=e);var n=o;n||(n=ol.extent.getCenter(this.getExtent()));var i=this.getFlatCoordinates();if(i){var l=this.getStride();ol.geom.flat.transform.scale(i,0,i.length,l,e,r,n,i),this.changed()}},ol.geom.SimpleGeometry.prototype.translate=function(e,t){var o=this.getFlatCoordinates();if(o){var r=this.getStride();ol.geom.flat.transform.translate(o,0,o.length,r,e,t,o),this.changed()}},ol.geom.SimpleGeometry.transform2D=function(e,t,o){var r=e.getFlatCoordinates();if(r){var n=e.getStride();return ol.geom.flat.transform.transform2D(r,0,r.length,n,t,o)}return null},goog.provide("ol.geom.flat.area"),ol.geom.flat.area.linearRing=function(e,t,o,r){for(var n=0,i=e[o-r],l=e[o-r+1];t<o;t+=r){var a=e[t],s=e[t+1];n+=l*a-i*s,i=a,l=s}return n/2},ol.geom.flat.area.linearRings=function(e,t,o,r){var n,i,l=0;for(n=0,i=o.length;n<i;++n){var a=o[n];l+=ol.geom.flat.area.linearRing(e,t,a,r),t=a}return l},ol.geom.flat.area.linearRingss=function(e,t,o,r){var n,i,l=0;for(n=0,i=o.length;n<i;++n){var a=o[n];l+=ol.geom.flat.area.linearRings(e,t,a,r),t=a[a.length-1]}return l},goog.provide("ol.geom.flat.closest"),goog.require("ol.math"),ol.geom.flat.closest.point=function(e,t,o,r,n,i,l){var a,s,p=e[t],u=e[t+1],c=e[o]-p,g=e[o+1]-u;if(0===c&&0===g)s=t;else{var d=((n-p)*c+(i-u)*g)/(c*c+g*g);if(d>1)s=o;else{if(d>0){for(a=0;a<r;++a)l[a]=ol.math.lerp(e[t+a],e[o+a],d);return void(l.length=r)}s=t}}for(a=0;a<r;++a)l[a]=e[s+a];l.length=r},ol.geom.flat.closest.getMaxSquaredDelta=function(e,t,o,r,n){var i=e[t],l=e[t+1];for(t+=r;t<o;t+=r){var a=e[t],s=e[t+1],p=ol.math.squaredDistance(i,l,a,s);p>n&&(n=p),i=a,l=s}return n},ol.geom.flat.closest.getsMaxSquaredDelta=function(e,t,o,r,n){var i,l;for(i=0,l=o.length;i<l;++i){var a=o[i];n=ol.geom.flat.closest.getMaxSquaredDelta(e,t,a,r,n),t=a}return n},ol.geom.flat.closest.getssMaxSquaredDelta=function(e,t,o,r,n){var i,l;for(i=0,l=o.length;i<l;++i){var a=o[i];n=ol.geom.flat.closest.getsMaxSquaredDelta(e,t,a,r,n),t=a[a.length-1]}return n},ol.geom.flat.closest.getClosestPoint=function(e,t,o,r,n,i,l,a,s,p,u){if(t==o)return p;var c,g;if(0===n){if((g=ol.math.squaredDistance(l,a,e[t],e[t+1]))<p){for(c=0;c<r;++c)s[c]=e[t+c];return s.length=r,g}return p}for(var d=u||[NaN,NaN],h=t+r;h<o;)if(ol.geom.flat.closest.point(e,h-r,h,r,l,a,d),(g=ol.math.squaredDistance(l,a,d[0],d[1]))<p){for(p=g,c=0;c<r;++c)s[c]=d[c];s.length=r,h+=r}else h+=r*Math.max((Math.sqrt(g)-Math.sqrt(p))/n|0,1);if(i&&(ol.geom.flat.closest.point(e,o-r,t,r,l,a,d),(g=ol.math.squaredDistance(l,a,d[0],d[1]))<p)){for(p=g,c=0;c<r;++c)s[c]=d[c];s.length=r}return p},ol.geom.flat.closest.getsClosestPoint=function(e,t,o,r,n,i,l,a,s,p,u){var c,g,d=u||[NaN,NaN];for(c=0,g=o.length;c<g;++c){var h=o[c];p=ol.geom.flat.closest.getClosestPoint(e,t,h,r,n,i,l,a,s,p,d),t=h}return p},ol.geom.flat.closest.getssClosestPoint=function(e,t,o,r,n,i,l,a,s,p,u){var c,g,d=u||[NaN,NaN];for(c=0,g=o.length;c<g;++c){var h=o[c];p=ol.geom.flat.closest.getsClosestPoint(e,t,h,r,n,i,l,a,s,p,d),t=h[h.length-1]}return p},goog.provide("ol.geom.flat.deflate"),ol.geom.flat.deflate.coordinate=function(e,t,o,r){var n,i;for(n=0,i=o.length;n<i;++n)e[t++]=o[n];return t},ol.geom.flat.deflate.coordinates=function(e,t,o,r){var n,i;for(n=0,i=o.length;n<i;++n){var l,a=o[n];for(l=0;l<r;++l)e[t++]=a[l]}return t},ol.geom.flat.deflate.coordinatess=function(e,t,o,r,n){var i,l,a=n||[],s=0;for(i=0,l=o.length;i<l;++i){var p=ol.geom.flat.deflate.coordinates(e,t,o[i],r);a[s++]=p,t=p}return a.length=s,a},ol.geom.flat.deflate.coordinatesss=function(e,t,o,r,n){var i,l,a=n||[],s=0;for(i=0,l=o.length;i<l;++i){var p=ol.geom.flat.deflate.coordinatess(e,t,o[i],r,a[s]);a[s++]=p,t=p[p.length-1]}return a.length=s,a},goog.provide("ol.geom.flat.inflate"),ol.geom.flat.inflate.coordinates=function(e,t,o,r,n){var i,l=void 0!==n?n:[],a=0;for(i=t;i<o;i+=r)l[a++]=e.slice(i,i+r);return l.length=a,l},ol.geom.flat.inflate.coordinatess=function(e,t,o,r,n){var i,l,a=void 0!==n?n:[],s=0;for(i=0,l=o.length;i<l;++i){var p=o[i];a[s++]=ol.geom.flat.inflate.coordinates(e,t,p,r,a[s]),t=p}return a.length=s,a},ol.geom.flat.inflate.coordinatesss=function(e,t,o,r,n){var i,l,a=void 0!==n?n:[],s=0;for(i=0,l=o.length;i<l;++i){var p=o[i];a[s++]=ol.geom.flat.inflate.coordinatess(e,t,p,r,a[s]),t=p[p.length-1]}return a.length=s,a},goog.provide("ol.geom.flat.simplify"),goog.require("ol.math"),ol.geom.flat.simplify.lineString=function(e,t,o,r,n,i,l){var a=void 0!==l?l:[];return i||(o=ol.geom.flat.simplify.radialDistance(e,t,o,r,n,a,0),e=a,t=0,r=2),a.length=ol.geom.flat.simplify.douglasPeucker(e,t,o,r,n,a,0),a},ol.geom.flat.simplify.douglasPeucker=function(e,t,o,r,n,i,l){var a=(o-t)/r;if(a<3){for(;t<o;t+=r)i[l++]=e[t],i[l++]=e[t+1];return l}var s=new Array(a);s[0]=1,s[a-1]=1;for(var p,u=[t,o-r],c=0;u.length>0;){var g=u.pop(),d=u.pop(),h=0,y=e[d],f=e[d+1],m=e[g],v=e[g+1];for(p=d+r;p<g;p+=r){var _=ol.math.squaredSegmentDistance(e[p],e[p+1],y,f,m,v);_>h&&(c=p,h=_)}h>n&&(s[(c-t)/r]=1,d+r<c&&u.push(d,c),c+r<g&&u.push(c,g))}for(p=0;p<a;++p)s[p]&&(i[l++]=e[t+p*r],i[l++]=e[t+p*r+1]);return l},ol.geom.flat.simplify.douglasPeuckers=function(e,t,o,r,n,i,l,a){var s,p;for(s=0,p=o.length;s<p;++s){var u=o[s];l=ol.geom.flat.simplify.douglasPeucker(e,t,u,r,n,i,l),a.push(l),t=u}return l},ol.geom.flat.simplify.douglasPeuckerss=function(e,t,o,r,n,i,l,a){var s,p;for(s=0,p=o.length;s<p;++s){var u=o[s],c=[];l=ol.geom.flat.simplify.douglasPeuckers(e,t,u,r,n,i,l,c),a.push(c),t=u[u.length-1]}return l},ol.geom.flat.simplify.radialDistance=function(e,t,o,r,n,i,l){if(o<=t+r){for(;t<o;t+=r)i[l++]=e[t],i[l++]=e[t+1];return l}var a=e[t],s=e[t+1];i[l++]=a,i[l++]=s;var p=a,u=s;for(t+=r;t<o;t+=r)p=e[t],u=e[t+1],ol.math.squaredDistance(a,s,p,u)>n&&(i[l++]=p,i[l++]=u,a=p,s=u);return p==a&&u==s||(i[l++]=p,i[l++]=u),l},ol.geom.flat.simplify.snap=function(e,t){return t*Math.round(e/t)},ol.geom.flat.simplify.quantize=function(e,t,o,r,n,i,l){if(t==o)return l;var a,s,p=ol.geom.flat.simplify.snap(e[t],n),u=ol.geom.flat.simplify.snap(e[t+1],n);t+=r,i[l++]=p,i[l++]=u;do{if(a=ol.geom.flat.simplify.snap(e[t],n),s=ol.geom.flat.simplify.snap(e[t+1],n),(t+=r)==o)return i[l++]=a,i[l++]=s,l}while(a==p&&s==u);for(;t<o;){var c,g;if(c=ol.geom.flat.simplify.snap(e[t],n),g=ol.geom.flat.simplify.snap(e[t+1],n),t+=r,c!=a||g!=s){var d=a-p,h=s-u,y=c-p,f=g-u;d*f==h*y&&(d<0&&y<d||d==y||d>0&&y>d)&&(h<0&&f<h||h==f||h>0&&f>h)?(a=c,s=g):(i[l++]=a,i[l++]=s,p=a,u=s,a=c,s=g)}}return i[l++]=a,i[l++]=s,l},ol.geom.flat.simplify.quantizes=function(e,t,o,r,n,i,l,a){var s,p;for(s=0,p=o.length;s<p;++s){var u=o[s];l=ol.geom.flat.simplify.quantize(e,t,u,r,n,i,l),a.push(l),t=u}return l},ol.geom.flat.simplify.quantizess=function(e,t,o,r,n,i,l,a){var s,p;for(s=0,p=o.length;s<p;++s){var u=o[s],c=[];l=ol.geom.flat.simplify.quantizes(e,t,u,r,n,i,l,c),a.push(c),t=u[u.length-1]}return l},goog.provide("ol.geom.LinearRing"),goog.require("ol"),goog.require("ol.extent"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.geom.flat.area"),goog.require("ol.geom.flat.closest"),goog.require("ol.geom.flat.deflate"),goog.require("ol.geom.flat.inflate"),goog.require("ol.geom.flat.simplify"),ol.geom.LinearRing=function(e,t){ol.geom.SimpleGeometry.call(this),this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.setCoordinates(e,t)},ol.inherits(ol.geom.LinearRing,ol.geom.SimpleGeometry),ol.geom.LinearRing.prototype.clone=function(){var e=new ol.geom.LinearRing(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),e},ol.geom.LinearRing.prototype.closestPointXY=function(e,t,o,r){return r<ol.extent.closestSquaredDistanceXY(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getMaxSquaredDelta(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),ol.geom.flat.closest.getClosestPoint(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,o,r))},ol.geom.LinearRing.prototype.getArea=function(){return ol.geom.flat.area.linearRing(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},ol.geom.LinearRing.prototype.getCoordinates=function(){return ol.geom.flat.inflate.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},ol.geom.LinearRing.prototype.getSimplifiedGeometryInternal=function(e){var t=[];t.length=ol.geom.flat.simplify.douglasPeucker(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0);var o=new ol.geom.LinearRing(null);return o.setFlatCoordinates(ol.geom.GeometryLayout.XY,t),o},ol.geom.LinearRing.prototype.getType=function(){return ol.geom.GeometryType.LINEAR_RING},ol.geom.LinearRing.prototype.intersectsExtent=function(e){},ol.geom.LinearRing.prototype.setCoordinates=function(e,t){e?(this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=ol.geom.flat.deflate.coordinates(this.flatCoordinates,0,e,this.stride),this.changed()):this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null)},ol.geom.LinearRing.prototype.setFlatCoordinates=function(e,t){this.setFlatCoordinatesInternal(e,t),this.changed()},goog.provide("ol.geom.Point"),goog.require("ol"),goog.require("ol.extent"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.geom.flat.deflate"),goog.require("ol.math"),ol.geom.Point=function(e,t){ol.geom.SimpleGeometry.call(this),this.setCoordinates(e,t)},ol.inherits(ol.geom.Point,ol.geom.SimpleGeometry),ol.geom.Point.prototype.clone=function(){var e=new ol.geom.Point(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),e},ol.geom.Point.prototype.closestPointXY=function(e,t,o,r){var n=this.flatCoordinates,i=ol.math.squaredDistance(e,t,n[0],n[1]);if(i<r){var l,a=this.stride;for(l=0;l<a;++l)o[l]=n[l];return o.length=a,i}return r},ol.geom.Point.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},ol.geom.Point.prototype.computeExtent=function(e){return ol.extent.createOrUpdateFromCoordinate(this.flatCoordinates,e)},ol.geom.Point.prototype.getType=function(){return ol.geom.GeometryType.POINT},ol.geom.Point.prototype.intersectsExtent=function(e){return ol.extent.containsXY(e,this.flatCoordinates[0],this.flatCoordinates[1])},ol.geom.Point.prototype.setCoordinates=function(e,t){e?(this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=ol.geom.flat.deflate.coordinate(this.flatCoordinates,0,e,this.stride),this.changed()):this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null)},ol.geom.Point.prototype.setFlatCoordinates=function(e,t){this.setFlatCoordinatesInternal(e,t),this.changed()},goog.provide("ol.geom.flat.contains"),goog.require("ol.extent"),ol.geom.flat.contains.linearRingContainsExtent=function(e,t,o,r,n){return!ol.extent.forEachCorner(n,function(n){return!ol.geom.flat.contains.linearRingContainsXY(e,t,o,r,n[0],n[1])})},ol.geom.flat.contains.linearRingContainsXY=function(e,t,o,r,n,i){for(var l=0,a=e[o-r],s=e[o-r+1];t<o;t+=r){var p=e[t],u=e[t+1];s<=i?u>i&&(p-a)*(i-s)-(n-a)*(u-s)>0&&l++:u<=i&&(p-a)*(i-s)-(n-a)*(u-s)<0&&l--,a=p,s=u}return 0!==l},ol.geom.flat.contains.linearRingsContainsXY=function(e,t,o,r,n,i){if(0===o.length)return!1;if(!ol.geom.flat.contains.linearRingContainsXY(e,t,o[0],r,n,i))return!1;var l,a;for(l=1,a=o.length;l<a;++l)if(ol.geom.flat.contains.linearRingContainsXY(e,o[l-1],o[l],r,n,i))return!1;return!0},ol.geom.flat.contains.linearRingssContainsXY=function(e,t,o,r,n,i){if(0===o.length)return!1;var l,a;for(l=0,a=o.length;l<a;++l){var s=o[l];if(ol.geom.flat.contains.linearRingsContainsXY(e,t,s,r,n,i))return!0;t=s[s.length-1]}return!1},goog.provide("ol.geom.flat.interiorpoint"),goog.require("ol.array"),goog.require("ol.geom.flat.contains"),ol.geom.flat.interiorpoint.linearRings=function(e,t,o,r,n,i,l){for(var a,s,p,u,c,g,d,h=n[i+1],y=[],f=0,m=o.length;f<m;++f){var v=o[f];for(u=e[v-r],g=e[v-r+1],a=t;a<v;a+=r)c=e[a],d=e[a+1],(h<=g&&d<=h||g<=h&&h<=d)&&y.push(p=(h-g)/(d-g)*(c-u)+u),u=c,g=d}var _=NaN,S=-1/0;for(y.sort(ol.array.numberSafeCompareFunction),u=y[0],a=1,s=y.length;a<s;++a){c=y[a];var x=Math.abs(c-u);x>S&&(p=(u+c)/2,ol.geom.flat.contains.linearRingsContainsXY(e,t,o,r,p,h)&&(_=p,S=x)),u=c}return isNaN(_)&&(_=n[i]),l?(l.push(_,h,S),l):[_,h,S]},ol.geom.flat.interiorpoint.linearRingss=function(e,t,o,r,n){var i,l,a=[];for(i=0,l=o.length;i<l;++i){var s=o[i];a=ol.geom.flat.interiorpoint.linearRings(e,t,s,r,n,2*i,a),t=s[s.length-1]}return a},goog.provide("ol.geom.flat.segments"),ol.geom.flat.segments.forEach=function(e,t,o,r,n,i){for(var l,a=[e[t],e[t+1]],s=[];t+r<o;t+=r){if(s[0]=e[t+r],s[1]=e[t+r+1],l=n.call(i,a,s))return l;a[0]=s[0],a[1]=s[1]}return!1},goog.provide("ol.geom.flat.intersectsextent"),goog.require("ol.extent"),goog.require("ol.geom.flat.contains"),goog.require("ol.geom.flat.segments"),ol.geom.flat.intersectsextent.lineString=function(e,t,o,r,n){var i=ol.extent.extendFlatCoordinates(ol.extent.createEmpty(),e,t,o,r);return!!ol.extent.intersects(n,i)&&(!!ol.extent.containsExtent(n,i)||i[0]>=n[0]&&i[2]<=n[2]||i[1]>=n[1]&&i[3]<=n[3]||ol.geom.flat.segments.forEach(e,t,o,r,function(e,t){return ol.extent.intersectsSegment(n,e,t)}))},ol.geom.flat.intersectsextent.lineStrings=function(e,t,o,r,n){var i,l;for(i=0,l=o.length;i<l;++i){if(ol.geom.flat.intersectsextent.lineString(e,t,o[i],r,n))return!0;t=o[i]}return!1},ol.geom.flat.intersectsextent.linearRing=function(e,t,o,r,n){return!!(ol.geom.flat.intersectsextent.lineString(e,t,o,r,n)||ol.geom.flat.contains.linearRingContainsXY(e,t,o,r,n[0],n[1])||ol.geom.flat.contains.linearRingContainsXY(e,t,o,r,n[0],n[3])||ol.geom.flat.contains.linearRingContainsXY(e,t,o,r,n[2],n[1])||ol.geom.flat.contains.linearRingContainsXY(e,t,o,r,n[2],n[3]))},ol.geom.flat.intersectsextent.linearRings=function(e,t,o,r,n){if(!ol.geom.flat.intersectsextent.linearRing(e,t,o[0],r,n))return!1;if(1===o.length)return!0;var i,l;for(i=1,l=o.length;i<l;++i)if(ol.geom.flat.contains.linearRingContainsExtent(e,o[i-1],o[i],r,n))return!1;return!0},ol.geom.flat.intersectsextent.linearRingss=function(e,t,o,r,n){var i,l;for(i=0,l=o.length;i<l;++i){var a=o[i];if(ol.geom.flat.intersectsextent.linearRings(e,t,a,r,n))return!0;t=a[a.length-1]}return!1},goog.provide("ol.geom.flat.reverse"),ol.geom.flat.reverse.coordinates=function(e,t,o,r){for(;t<o-r;){var n;for(n=0;n<r;++n){var i=e[t+n];e[t+n]=e[o-r+n],e[o-r+n]=i}t+=r,o-=r}},goog.provide("ol.geom.flat.orient"),goog.require("ol.geom.flat.reverse"),ol.geom.flat.orient.linearRingIsClockwise=function(e,t,o,r){for(var n=0,i=e[o-r],l=e[o-r+1];t<o;t+=r){var a=e[t],s=e[t+1];n+=(a-i)*(s+l),i=a,l=s}return n>0},ol.geom.flat.orient.linearRingsAreOriented=function(e,t,o,r,n){var i,l,a=void 0!==n&&n;for(i=0,l=o.length;i<l;++i){var s=o[i],p=ol.geom.flat.orient.linearRingIsClockwise(e,t,s,r);if(0===i){if(a&&p||!a&&!p)return!1}else if(a&&!p||!a&&p)return!1;t=s}return!0},ol.geom.flat.orient.linearRingssAreOriented=function(e,t,o,r,n){var i,l;for(i=0,l=o.length;i<l;++i)if(!ol.geom.flat.orient.linearRingsAreOriented(e,t,o[i],r,n))return!1;return!0},ol.geom.flat.orient.orientLinearRings=function(e,t,o,r,n){var i,l,a=void 0!==n&&n;for(i=0,l=o.length;i<l;++i){var s=o[i],p=ol.geom.flat.orient.linearRingIsClockwise(e,t,s,r);(0===i?a&&p||!a&&!p:a&&!p||!a&&p)&&ol.geom.flat.reverse.coordinates(e,t,s,r),t=s}return t},ol.geom.flat.orient.orientLinearRingss=function(e,t,o,r,n){var i,l;for(i=0,l=o.length;i<l;++i)t=ol.geom.flat.orient.orientLinearRings(e,t,o[i],r,n);return t},goog.provide("ol.geom.Polygon"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.extent"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.LinearRing"),goog.require("ol.geom.Point"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.geom.flat.area"),goog.require("ol.geom.flat.closest"),goog.require("ol.geom.flat.contains"),goog.require("ol.geom.flat.deflate"),goog.require("ol.geom.flat.inflate"),goog.require("ol.geom.flat.interiorpoint"),goog.require("ol.geom.flat.intersectsextent"),goog.require("ol.geom.flat.orient"),goog.require("ol.geom.flat.simplify"),goog.require("ol.math"),ol.geom.Polygon=function(e,t){ol.geom.SimpleGeometry.call(this),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,this.setCoordinates(e,t)},ol.inherits(ol.geom.Polygon,ol.geom.SimpleGeometry),ol.geom.Polygon.prototype.appendLinearRing=function(e){this.flatCoordinates?ol.array.extend(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},ol.geom.Polygon.prototype.clone=function(){var e=new ol.geom.Polygon(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),this.ends_.slice()),e},ol.geom.Polygon.prototype.closestPointXY=function(e,t,o,r){return r<ol.extent.closestSquaredDistanceXY(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getsMaxSquaredDelta(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),ol.geom.flat.closest.getsClosestPoint(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,o,r))},ol.geom.Polygon.prototype.containsXY=function(e,t){return ol.geom.flat.contains.linearRingsContainsXY(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)},ol.geom.Polygon.prototype.getArea=function(){return ol.geom.flat.area.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},ol.geom.Polygon.prototype.getCoordinates=function(e){var t;return void 0!==e?(t=this.getOrientedFlatCoordinates().slice(),ol.geom.flat.orient.orientLinearRings(t,0,this.ends_,this.stride,e)):t=this.flatCoordinates,ol.geom.flat.inflate.coordinatess(t,0,this.ends_,this.stride)},ol.geom.Polygon.prototype.getEnds=function(){return this.ends_},ol.geom.Polygon.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var e=ol.extent.getCenter(this.getExtent());this.flatInteriorPoint_=ol.geom.flat.interiorpoint.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},ol.geom.Polygon.prototype.getInteriorPoint=function(){return new ol.geom.Point(this.getFlatInteriorPoint(),ol.geom.GeometryLayout.XYM)},ol.geom.Polygon.prototype.getLinearRingCount=function(){return this.ends_.length},ol.geom.Polygon.prototype.getLinearRing=function(e){if(e<0||this.ends_.length<=e)return null;var t=new ol.geom.LinearRing(null);return t.setFlatCoordinates(this.layout,this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e])),t},ol.geom.Polygon.prototype.getLinearRings=function(){var e,t,o=this.layout,r=this.flatCoordinates,n=this.ends_,i=[],l=0;for(e=0,t=n.length;e<t;++e){var a=n[e],s=new ol.geom.LinearRing(null);s.setFlatCoordinates(o,r.slice(l,a)),i.push(s),l=a}return i},ol.geom.Polygon.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;ol.geom.flat.orient.linearRingsAreOriented(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=ol.geom.flat.orient.orientLinearRings(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},ol.geom.Polygon.prototype.getSimplifiedGeometryInternal=function(e){var t=[],o=[];t.length=ol.geom.flat.simplify.quantizes(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,o);var r=new ol.geom.Polygon(null);return r.setFlatCoordinates(ol.geom.GeometryLayout.XY,t,o),r},ol.geom.Polygon.prototype.getType=function(){return ol.geom.GeometryType.POLYGON},ol.geom.Polygon.prototype.intersectsExtent=function(e){return ol.geom.flat.intersectsextent.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)},ol.geom.Polygon.prototype.setCoordinates=function(e,t){if(e){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);var o=ol.geom.flat.deflate.coordinatess(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===o.length?0:o[o.length-1],this.changed()}else this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null,this.ends_)},ol.geom.Polygon.prototype.setFlatCoordinates=function(e,t,o){this.setFlatCoordinatesInternal(e,t),this.ends_=o,this.changed()},ol.geom.Polygon.circular=function(e,t,o,r){var n,i=r||32,l=[];for(n=0;n<i;++n)ol.array.extend(l,e.offset(t,o,2*Math.PI*n/i));l.push(l[0],l[1]);var a=new ol.geom.Polygon(null);return a.setFlatCoordinates(ol.geom.GeometryLayout.XY,l,[l.length]),a},ol.geom.Polygon.fromExtent=function(e){var t=e[0],o=e[1],r=e[2],n=e[3],i=[t,o,t,n,r,n,r,o,t,o],l=new ol.geom.Polygon(null);return l.setFlatCoordinates(ol.geom.GeometryLayout.XY,i,[i.length]),l},ol.geom.Polygon.fromCircle=function(e,t,o){for(var r=t||32,n=e.getStride(),i=e.getLayout(),l=new ol.geom.Polygon(null,i),a=n*(r+1),s=new Array(a),p=0;p<a;p++)s[p]=0;return l.setFlatCoordinates(i,s,[s.length]),ol.geom.Polygon.makeRegular(l,e.getCenter(),e.getRadius(),o),l},ol.geom.Polygon.makeRegular=function(e,t,o,r){for(var n,i,l=e.getFlatCoordinates(),a=e.getLayout(),s=e.getStride(),p=e.getEnds(),u=l.length/s-1,c=r||0,g=0;g<=u;++g)i=g*s,n=c+2*ol.math.modulo(g,u)*Math.PI/u,l[i]=t[0]+o*Math.cos(n),l[i+1]=t[1]+o*Math.sin(n);e.setFlatCoordinates(a,l,p)},goog.provide("ol.View"),goog.require("ol"),goog.require("ol.CenterConstraint"),goog.require("ol.Object"),goog.require("ol.ResolutionConstraint"),goog.require("ol.RotationConstraint"),goog.require("ol.ViewHint"),goog.require("ol.ViewProperty"),goog.require("ol.array"),goog.require("ol.asserts"),goog.require("ol.coordinate"),goog.require("ol.easing"),goog.require("ol.extent"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.Polygon"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.math"),goog.require("ol.obj"),goog.require("ol.proj"),goog.require("ol.proj.Units"),ol.View=function(e){ol.Object.call(this);var t=ol.obj.assign({},e);this.hints_=[0,0],this.animations_=[],this.updateAnimations_=this.updateAnimations_.bind(this),this.projection_=ol.proj.createProjection(t.projection,"EPSG:3857"),this.applyOptions_(t)},ol.inherits(ol.View,ol.Object),ol.View.prototype.applyOptions_=function(e){var t={};t[ol.ViewProperty.CENTER]=void 0!==e.center?e.center:null;var o=ol.View.createResolutionConstraint_(e);this.maxResolution_=o.maxResolution,this.minResolution_=o.minResolution,this.zoomFactor_=o.zoomFactor,this.resolutions_=e.resolutions,this.minZoom_=o.minZoom;var r=ol.View.createCenterConstraint_(e),n=o.constraint,i=ol.View.createRotationConstraint_(e);this.constraints_={center:r,resolution:n,rotation:i},void 0!==e.resolution?t[ol.ViewProperty.RESOLUTION]=e.resolution:void 0!==e.zoom&&(t[ol.ViewProperty.RESOLUTION]=this.constrainResolution(this.maxResolution_,e.zoom-this.minZoom_),this.resolutions_&&(t[ol.ViewProperty.RESOLUTION]=ol.math.clamp(Number(this.getResolution()||t[ol.ViewProperty.RESOLUTION]),this.minResolution_,this.maxResolution_))),t[ol.ViewProperty.ROTATION]=void 0!==e.rotation?e.rotation:0,this.setProperties(t),this.options_=e},ol.View.prototype.getUpdatedOptions_=function(e){var t=ol.obj.assign({},this.options_);return void 0!==t.resolution?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenter(),t.rotation=this.getRotation(),ol.obj.assign({},t,e)},ol.View.prototype.animate=function(e){var t,o=arguments.length;if(o>1&&"function"==typeof arguments[o-1]&&(t=arguments[o-1],--o),!this.isDef()){var r=arguments[o-1];return r.center&&this.setCenter(r.center),void 0!==r.zoom&&this.setZoom(r.zoom),void 0!==r.rotation&&this.setRotation(r.rotation),void(t&&t(!0))}for(var n=Date.now(),i=this.getCenter().slice(),l=this.getResolution(),a=this.getRotation(),s=[],p=0;p<o;++p){var u=arguments[p],c={start:n,complete:!1,anchor:u.anchor,duration:void 0!==u.duration?u.duration:1e3,easing:u.easing||ol.easing.inAndOut};if(u.center&&(c.sourceCenter=i,c.targetCenter=u.center,i=c.targetCenter),void 0!==u.zoom?(c.sourceResolution=l,c.targetResolution=this.constrainResolution(this.maxResolution_,u.zoom-this.minZoom_,0),l=c.targetResolution):u.resolution&&(c.sourceResolution=l,c.targetResolution=u.resolution,l=c.targetResolution),void 0!==u.rotation){c.sourceRotation=a;var g=ol.math.modulo(u.rotation-a+Math.PI,2*Math.PI)-Math.PI;c.targetRotation=a+g,a=c.targetRotation}c.callback=t,ol.View.isNoopAnimation(c)?c.complete=!0:n+=c.duration,s.push(c)}this.animations_.push(s),this.setHint(ol.ViewHint.ANIMATING,1),this.updateAnimations_()},ol.View.prototype.getAnimating=function(){return this.hints_[ol.ViewHint.ANIMATING]>0},ol.View.prototype.getInteracting=function(){return this.hints_[ol.ViewHint.INTERACTING]>0},ol.View.prototype.cancelAnimations=function(){this.setHint(ol.ViewHint.ANIMATING,-this.hints_[ol.ViewHint.ANIMATING]);for(var e=0,t=this.animations_.length;e<t;++e){var o=this.animations_[e];o[0].callback&&o[0].callback(!1)}this.animations_.length=0},ol.View.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var e=Date.now(),t=!1,o=this.animations_.length-1;o>=0;--o){for(var r=this.animations_[o],n=!0,i=0,l=r.length;i<l;++i){var a=r[i];if(!a.complete){var s=a.duration>0?(e-a.start)/a.duration:1;s>=1?(a.complete=!0,s=1):n=!1;var p=a.easing(s);if(a.sourceCenter){var u=a.sourceCenter[0],c=a.sourceCenter[1];this.set(ol.ViewProperty.CENTER,[u+p*(a.targetCenter[0]-u),c+p*(a.targetCenter[1]-c)])}if(a.sourceResolution&&a.targetResolution){var g=1===p?a.targetResolution:a.sourceResolution+p*(a.targetResolution-a.sourceResolution);a.anchor&&this.set(ol.ViewProperty.CENTER,this.calculateCenterZoom(g,a.anchor)),this.set(ol.ViewProperty.RESOLUTION,g)}if(void 0!==a.sourceRotation&&void 0!==a.targetRotation){var d=1===p?ol.math.modulo(a.targetRotation+Math.PI,2*Math.PI)-Math.PI:a.sourceRotation+p*(a.targetRotation-a.sourceRotation);a.anchor&&this.set(ol.ViewProperty.CENTER,this.calculateCenterRotate(d,a.anchor)),this.set(ol.ViewProperty.ROTATION,d)}if(t=!0,!a.complete)break}}if(n){this.animations_[o]=null,this.setHint(ol.ViewHint.ANIMATING,-1);var h=r[0].callback;h&&h(!0)}}this.animations_=this.animations_.filter(Boolean),t&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_))}},ol.View.prototype.calculateCenterRotate=function(e,t){var o,r=this.getCenter();return void 0!==r&&(o=[r[0]-t[0],r[1]-t[1]],ol.coordinate.rotate(o,e-this.getRotation()),ol.coordinate.add(o,t)),o},ol.View.prototype.calculateCenterZoom=function(e,t){var o,r=this.getCenter(),n=this.getResolution();return void 0!==r&&void 0!==n&&(o=[t[0]-e*(t[0]-r[0])/n,t[1]-e*(t[1]-r[1])/n]),o},ol.View.prototype.getSizeFromViewport_=function(){var e=[100,100],t='.ol-viewport[data-view="'+ol.getUid(this)+'"]',o=document.querySelector(t);if(o){var r=getComputedStyle(o);e[0]=parseInt(r.width,10),e[1]=parseInt(r.height,10)}return e},ol.View.prototype.constrainCenter=function(e){return this.constraints_.center(e)},ol.View.prototype.constrainResolution=function(e,t,o){return this.constraints_.resolution(e,t||0,o||0)},ol.View.prototype.constrainRotation=function(e,t){return this.constraints_.rotation(e,t||0)},ol.View.prototype.getCenter=function(){return this.get(ol.ViewProperty.CENTER)},ol.View.prototype.getConstraints=function(){return this.constraints_},ol.View.prototype.getHints=function(e){return void 0!==e?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()},ol.View.prototype.calculateExtent=function(e){var t=e||this.getSizeFromViewport_(),o=this.getCenter();ol.asserts.assert(o,1);var r=this.getResolution();ol.asserts.assert(void 0!==r,2);var n=this.getRotation();return ol.asserts.assert(void 0!==n,3),ol.extent.getForViewAndSize(o,r,n,t)},ol.View.prototype.getMaxResolution=function(){return this.maxResolution_},ol.View.prototype.getMinResolution=function(){return this.minResolution_},ol.View.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},ol.View.prototype.setMaxZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))},ol.View.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},ol.View.prototype.setMinZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))},ol.View.prototype.getProjection=function(){return this.projection_},ol.View.prototype.getResolution=function(){return this.get(ol.ViewProperty.RESOLUTION)},ol.View.prototype.getResolutions=function(){return this.resolutions_},ol.View.prototype.getResolutionForExtent=function(e,t){var o=t||this.getSizeFromViewport_(),r=ol.extent.getWidth(e)/o[0],n=ol.extent.getHeight(e)/o[1];return Math.max(r,n)},ol.View.prototype.getResolutionForValueFunction=function(e){var t=e||2,o=this.maxResolution_,r=Math.log(o/this.minResolution_)/Math.log(t);return function(e){return o/Math.pow(t,e*r)}},ol.View.prototype.getRotation=function(){return this.get(ol.ViewProperty.ROTATION)},ol.View.prototype.getValueForResolutionFunction=function(e){var t=e||2,o=this.maxResolution_,r=Math.log(o/this.minResolution_)/Math.log(t);return function(e){return Math.log(o/e)/Math.log(t)/r}},ol.View.prototype.getState=function(){var e=this.getCenter(),t=this.getProjection(),o=this.getResolution(),r=this.getRotation();return{center:e.slice(),projection:void 0!==t?t:null,resolution:o,rotation:r,zoom:this.getZoom()}},ol.View.prototype.getZoom=function(){var e,t=this.getResolution();return void 0!==t&&(e=this.getZoomForResolution(t)),e},ol.View.prototype.getZoomForResolution=function(e){var t,o,r=this.minZoom_||0;if(this.resolutions_){var n=ol.array.linearFindNearest(this.resolutions_,e,1);r=n,t=this.resolutions_[n],o=n==this.resolutions_.length-1?2:t/this.resolutions_[n+1]}else t=this.maxResolution_,o=this.zoomFactor_;return r+Math.log(t/e)/Math.log(o)},ol.View.prototype.getResolutionForZoom=function(e){return this.constrainResolution(this.maxResolution_,e-this.minZoom_,0)},ol.View.prototype.fit=function(e,t){var o,r=t||{},n=r.size;n||(n=this.getSizeFromViewport_()),e instanceof ol.geom.SimpleGeometry?e.getType()===ol.geom.GeometryType.CIRCLE?(e=e.getExtent(),(o=ol.geom.Polygon.fromExtent(e)).rotate(this.getRotation(),ol.extent.getCenter(e))):o=e:(ol.asserts.assert(Array.isArray(e),24),ol.asserts.assert(!ol.extent.isEmpty(e),25),o=ol.geom.Polygon.fromExtent(e));var i,l=void 0!==r.padding?r.padding:[0,0,0,0],a=void 0===r.constrainResolution||r.constrainResolution,s=void 0!==r.nearest&&r.nearest;i=void 0!==r.minResolution?r.minResolution:void 0!==r.maxZoom?this.constrainResolution(this.maxResolution_,r.maxZoom-this.minZoom_,0):0;for(var p=o.getFlatCoordinates(),u=this.getRotation(),c=Math.cos(-u),g=Math.sin(-u),d=1/0,h=1/0,y=-1/0,f=-1/0,m=o.getStride(),v=0,_=p.length;v<_;v+=m){var S=p[v]*c-p[v+1]*g,x=p[v]*g+p[v+1]*c;d=Math.min(d,S),h=Math.min(h,x),y=Math.max(y,S),f=Math.max(f,x)}var E=this.getResolutionForExtent([d,h,y,f],[n[0]-l[1]-l[3],n[1]-l[0]-l[2]]);if(E=isNaN(E)?i:Math.max(E,i),a){var P=this.constrainResolution(E,0,0);!s&&P<E&&(P=this.constrainResolution(P,-1,0)),E=P}var b=(d+y)/2,T=(h+f)/2,C=[(b+=(l[1]-l[3])/2*E)*c-(T+=(l[0]-l[2])/2*E)*(g=-g),T*c+b*g],R=r.callback?r.callback:ol.nullFunction;void 0!==r.duration?this.animate({resolution:E,center:C,duration:r.duration,easing:r.easing},R):(this.setResolution(E),this.setCenter(C),setTimeout(R.bind(void 0,!0),0))},ol.View.prototype.centerOn=function(e,t,o){var r=this.getRotation(),n=Math.cos(-r),i=Math.sin(-r),l=e[0]*n-e[1]*i,a=e[1]*n+e[0]*i,s=this.getResolution();this.setCenter([(l+=(t[0]/2-o[0])*s)*n-(a+=(o[1]-t[1]/2)*s)*(i=-i),a*n+l*i])},ol.View.prototype.isDef=function(){return!!this.getCenter()&&void 0!==this.getResolution()},ol.View.prototype.rotate=function(e,t){if(void 0!==t){var o=this.calculateCenterRotate(e,t);this.setCenter(o)}this.setRotation(e)},ol.View.prototype.setCenter=function(e){this.set(ol.ViewProperty.CENTER,e),this.getAnimating()&&this.cancelAnimations()},ol.View.prototype.setHint=function(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]},ol.View.prototype.setResolution=function(e){this.set(ol.ViewProperty.RESOLUTION,e),this.getAnimating()&&this.cancelAnimations()},ol.View.prototype.setRotation=function(e){this.set(ol.ViewProperty.ROTATION,e),this.getAnimating()&&this.cancelAnimations()},ol.View.prototype.setZoom=function(e){this.setResolution(this.getResolutionForZoom(e))},ol.View.createCenterConstraint_=function(e){return void 0!==e.extent?ol.CenterConstraint.createExtent(e.extent):ol.CenterConstraint.none},ol.View.createResolutionConstraint_=function(e){var t,o,r,n=void 0!==e.minZoom?e.minZoom:ol.DEFAULT_MIN_ZOOM,i=void 0!==e.maxZoom?e.maxZoom:28,l=void 0!==e.zoomFactor?e.zoomFactor:2;if(void 0!==e.resolutions){var a=e.resolutions;o=a[n],r=void 0!==a[i]?a[i]:a[a.length-1],t=ol.ResolutionConstraint.createSnapToResolutions(a)}else{var s=ol.proj.createProjection(e.projection,"EPSG:3857"),p=s.getExtent(),u=(p?Math.max(ol.extent.getWidth(p),ol.extent.getHeight(p)):360*ol.proj.METERS_PER_UNIT[ol.proj.Units.DEGREES]/s.getMetersPerUnit())/ol.DEFAULT_TILE_SIZE/Math.pow(2,ol.DEFAULT_MIN_ZOOM),c=u/Math.pow(2,28-ol.DEFAULT_MIN_ZOOM);void 0!==(o=e.maxResolution)?n=0:o=u/Math.pow(l,n),void 0===(r=e.minResolution)&&(r=void 0!==e.maxZoom?void 0!==e.maxResolution?o/Math.pow(l,i):u/Math.pow(l,i):c),i=n+Math.floor(Math.log(o/r)/Math.log(l)),r=o/Math.pow(l,i-n),t=ol.ResolutionConstraint.createSnapToPower(l,o,i-n)}return{constraint:t,maxResolution:o,minResolution:r,minZoom:n,zoomFactor:l}},ol.View.createRotationConstraint_=function(e){if(void 0===e.enableRotation||e.enableRotation){var t=e.constrainRotation;return void 0===t||!0===t?ol.RotationConstraint.createSnapToZero():!1===t?ol.RotationConstraint.none:"number"==typeof t?ol.RotationConstraint.createSnapToN(t):ol.RotationConstraint.none}return ol.RotationConstraint.disable},ol.View.isNoopAnimation=function(e){return!(e.sourceCenter&&e.targetCenter&&!ol.coordinate.equals(e.sourceCenter,e.targetCenter))&&e.sourceResolution===e.targetResolution&&e.sourceRotation===e.targetRotation},goog.provide("ol.dom"),ol.dom.createCanvasContext2D=function(e,t){var o=document.createElement("CANVAS");return e&&(o.width=e),t&&(o.height=t),o.getContext("2d")},ol.dom.outerWidth=function(e){var t=e.offsetWidth,o=getComputedStyle(e);return t+(parseInt(o.marginLeft,10)+parseInt(o.marginRight,10))},ol.dom.outerHeight=function(e){var t=e.offsetHeight,o=getComputedStyle(e);return t+(parseInt(o.marginTop,10)+parseInt(o.marginBottom,10))},ol.dom.replaceNode=function(e,t){var o=t.parentNode;o&&o.replaceChild(e,t)},ol.dom.removeNode=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},ol.dom.removeChildren=function(e){for(;e.lastChild;)e.removeChild(e.lastChild)},goog.provide("ol.layer.Property"),ol.layer.Property={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",SOURCE:"source"},goog.provide("ol.layer.Base"),goog.require("ol"),goog.require("ol.Object"),goog.require("ol.layer.Property"),goog.require("ol.math"),goog.require("ol.obj"),ol.layer.Base=function(e){ol.Object.call(this);var t=ol.obj.assign({},e);t[ol.layer.Property.OPACITY]=void 0!==e.opacity?e.opacity:1,t[ol.layer.Property.VISIBLE]=void 0===e.visible||e.visible,t[ol.layer.Property.Z_INDEX]=void 0!==e.zIndex?e.zIndex:0,t[ol.layer.Property.MAX_RESOLUTION]=void 0!==e.maxResolution?e.maxResolution:1/0,t[ol.layer.Property.MIN_RESOLUTION]=void 0!==e.minResolution?e.minResolution:0,this.setProperties(t),this.state_={layer:this,managed:!0}},ol.inherits(ol.layer.Base,ol.Object),ol.layer.Base.prototype.getType=function(){return this.type},ol.layer.Base.prototype.getLayerState=function(){return this.state_.opacity=ol.math.clamp(this.getOpacity(),0,1),this.state_.sourceState=this.getSourceState(),this.state_.visible=this.getVisible(),this.state_.extent=this.getExtent(),this.state_.zIndex=this.getZIndex(),this.state_.maxResolution=this.getMaxResolution(),this.state_.minResolution=Math.max(this.getMinResolution(),0),this.state_},ol.layer.Base.prototype.getLayersArray=function(e){},ol.layer.Base.prototype.getLayerStatesArray=function(e){},ol.layer.Base.prototype.getExtent=function(){return this.get(ol.layer.Property.EXTENT)},ol.layer.Base.prototype.getMaxResolution=function(){return this.get(ol.layer.Property.MAX_RESOLUTION)},ol.layer.Base.prototype.getMinResolution=function(){return this.get(ol.layer.Property.MIN_RESOLUTION)},ol.layer.Base.prototype.getOpacity=function(){return this.get(ol.layer.Property.OPACITY)},ol.layer.Base.prototype.getSourceState=function(){},ol.layer.Base.prototype.getVisible=function(){return this.get(ol.layer.Property.VISIBLE)},ol.layer.Base.prototype.getZIndex=function(){return this.get(ol.layer.Property.Z_INDEX)},ol.layer.Base.prototype.setExtent=function(e){this.set(ol.layer.Property.EXTENT,e)},ol.layer.Base.prototype.setMaxResolution=function(e){this.set(ol.layer.Property.MAX_RESOLUTION,e)},ol.layer.Base.prototype.setMinResolution=function(e){this.set(ol.layer.Property.MIN_RESOLUTION,e)},ol.layer.Base.prototype.setOpacity=function(e){this.set(ol.layer.Property.OPACITY,e)},ol.layer.Base.prototype.setVisible=function(e){this.set(ol.layer.Property.VISIBLE,e)},ol.layer.Base.prototype.setZIndex=function(e){this.set(ol.layer.Property.Z_INDEX,e)},goog.provide("ol.source.State"),ol.source.State={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"},goog.provide("ol.layer.Group"),goog.require("ol"),goog.require("ol.Collection"),goog.require("ol.CollectionEventType"),goog.require("ol.Object"),goog.require("ol.ObjectEventType"),goog.require("ol.asserts"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.extent"),goog.require("ol.layer.Base"),goog.require("ol.obj"),goog.require("ol.source.State"),ol.layer.Group=function(e){var t=e||{},o=ol.obj.assign({},t);delete o.layers;var r=t.layers;ol.layer.Base.call(this,o),this.layersListenerKeys_=[],this.listenerKeys_={},ol.events.listen(this,ol.Object.getChangeEventType(ol.layer.Group.Property_.LAYERS),this.handleLayersChanged_,this),r?Array.isArray(r)?r=new ol.Collection(r.slice(),{unique:!0}):(ol.asserts.assert(r instanceof ol.Collection,43),r=r):r=new ol.Collection(void 0,{unique:!0}),this.setLayers(r)},ol.inherits(ol.layer.Group,ol.layer.Base),ol.layer.Group.prototype.handleLayerChange_=function(){this.changed()},ol.layer.Group.prototype.handleLayersChanged_=function(e){this.layersListenerKeys_.forEach(ol.events.unlistenByKey),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var o in this.layersListenerKeys_.push(ol.events.listen(t,ol.CollectionEventType.ADD,this.handleLayersAdd_,this),ol.events.listen(t,ol.CollectionEventType.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[o].forEach(ol.events.unlistenByKey);ol.obj.clear(this.listenerKeys_);var r,n,i,l=t.getArray();for(r=0,n=l.length;r<n;r++)i=l[r],this.listenerKeys_[ol.getUid(i).toString()]=[ol.events.listen(i,ol.ObjectEventType.PROPERTYCHANGE,this.handleLayerChange_,this),ol.events.listen(i,ol.events.EventType.CHANGE,this.handleLayerChange_,this)];this.changed()},ol.layer.Group.prototype.handleLayersAdd_=function(e){var t=e.element,o=ol.getUid(t).toString();this.listenerKeys_[o]=[ol.events.listen(t,ol.ObjectEventType.PROPERTYCHANGE,this.handleLayerChange_,this),ol.events.listen(t,ol.events.EventType.CHANGE,this.handleLayerChange_,this)],this.changed()},ol.layer.Group.prototype.handleLayersRemove_=function(e){var t=ol.getUid(e.element).toString();this.listenerKeys_[t].forEach(ol.events.unlistenByKey),delete this.listenerKeys_[t],this.changed()},ol.layer.Group.prototype.getLayers=function(){return this.get(ol.layer.Group.Property_.LAYERS)},ol.layer.Group.prototype.setLayers=function(e){this.set(ol.layer.Group.Property_.LAYERS,e)},ol.layer.Group.prototype.getLayersArray=function(e){var t=void 0!==e?e:[];return this.getLayers().forEach(function(e){e.getLayersArray(t)}),t},ol.layer.Group.prototype.getLayerStatesArray=function(e){var t=void 0!==e?e:[],o=t.length;this.getLayers().forEach(function(e){e.getLayerStatesArray(t)});var r,n,i,l=this.getLayerState();for(r=o,n=t.length;r<n;r++)(i=t[r]).opacity*=l.opacity,i.visible=i.visible&&l.visible,i.maxResolution=Math.min(i.maxResolution,l.maxResolution),i.minResolution=Math.max(i.minResolution,l.minResolution),void 0!==l.extent&&(i.extent=void 0!==i.extent?ol.extent.getIntersection(i.extent,l.extent):l.extent);return t},ol.layer.Group.prototype.getSourceState=function(){return ol.source.State.READY},ol.layer.Group.Property_={LAYERS:"layers"},goog.provide("ol.PluginType"),ol.PluginType={MAP_RENDERER:"MAP_RENDERER",LAYER_RENDERER:"LAYER_RENDERER"},goog.provide("ol.plugins"),goog.require("ol.PluginType"),ol.plugins.mapRendererPlugins_=[],ol.plugins.getMapRendererPlugins=function(){return ol.plugins.mapRendererPlugins_},ol.plugins.layerRendererPlugins_=[],ol.plugins.getLayerRendererPlugins=function(){return ol.plugins.layerRendererPlugins_},ol.plugins.register=function(e,t){switch(e){case ol.PluginType.MAP_RENDERER:ol.plugins.mapRendererPlugins_.push(t);break;case ol.PluginType.LAYER_RENDERER:ol.plugins.layerRendererPlugins_.push(t);break;default:throw new Error("Unsupported plugin type: "+e)}},ol.plugins.registerMultiple=function(e,t){for(var o=0,r=t.length;o<r;++o)ol.plugins.register(e,t[o])},goog.provide("ol.renderer.Type"),ol.renderer.Type={CANVAS:"canvas",WEBGL:"webgl"},goog.provide("ol.PluggableMap"),goog.require("ol"),goog.require("ol.Collection"),goog.require("ol.CollectionEventType"),goog.require("ol.MapBrowserEvent"),goog.require("ol.MapBrowserEventHandler"),goog.require("ol.MapBrowserEventType"),goog.require("ol.MapEvent"),goog.require("ol.MapEventType"),goog.require("ol.MapProperty"),goog.require("ol.Object"),goog.require("ol.ObjectEventType"),goog.require("ol.TileQueue"),goog.require("ol.View"),goog.require("ol.ViewHint"),goog.require("ol.asserts"),goog.require("ol.dom"),goog.require("ol.events"),goog.require("ol.events.Event"),goog.require("ol.events.EventType"),goog.require("ol.extent"),goog.require("ol.functions"),goog.require("ol.has"),goog.require("ol.layer.Group"),goog.require("ol.obj"),goog.require("ol.plugins"),goog.require("ol.renderer.Type"),goog.require("ol.size"),goog.require("ol.structs.PriorityQueue"),goog.require("ol.transform"),ol.PluggableMap=function(e){ol.Object.call(this);var t=ol.PluggableMap.createOptionsInternal(e);this.loadTilesWhileAnimating_=void 0!==e.loadTilesWhileAnimating&&e.loadTilesWhileAnimating,this.loadTilesWhileInteracting_=void 0!==e.loadTilesWhileInteracting&&e.loadTilesWhileInteracting,this.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:ol.has.DEVICE_PIXEL_RATIO,this.logos_=t.logos,this.animationDelay_=(function(){this.animationDelayKey_=void 0,this.renderFrame_.call(this,Date.now())}).bind(this),this.coordinateToPixelTransform_=ol.transform.create(),this.pixelToCoordinateTransform_=ol.transform.create(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("DIV"),this.viewport_.className="ol-viewport"+(ol.has.TOUCH?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.viewport_.style.msTouchAction="none",this.viewport_.style.touchAction="none",this.overlayContainer_=document.createElement("DIV"),this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("DIV"),this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";for(var o=[ol.events.EventType.CLICK,ol.events.EventType.DBLCLICK,ol.events.EventType.MOUSEDOWN,ol.events.EventType.TOUCHSTART,ol.events.EventType.MSPOINTERDOWN,ol.MapBrowserEventType.POINTERDOWN,ol.events.EventType.MOUSEWHEEL,ol.events.EventType.WHEEL],r=0,n=o.length;r<n;++r)ol.events.listen(this.overlayContainerStopEvent_,o[r],ol.events.Event.stopPropagation);for(var i in this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=new ol.MapBrowserEventHandler(this,e.moveTolerance),ol.MapBrowserEventType)ol.events.listen(this.mapBrowserEventHandler_,ol.MapBrowserEventType[i],this.handleMapBrowserEvent,this);this.keyboardEventTarget_=t.keyboardEventTarget,this.keyHandlerKeys_=null,ol.events.listen(this.viewport_,ol.events.EventType.WHEEL,this.handleBrowserEvent,this),ol.events.listen(this.viewport_,ol.events.EventType.MOUSEWHEEL,this.handleBrowserEvent,this),this.controls=t.controls||new ol.Collection,this.interactions=t.interactions||new ol.Collection,this.overlays_=t.overlays,this.overlayIdIndex_={},this.renderer_=t.mapRendererPlugin.create(this.viewport_,this),this.focus_=null,this.postRenderFunctions_=[],this.tileQueue_=new ol.TileQueue(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.skippedFeatureUids_={},ol.events.listen(this,ol.Object.getChangeEventType(ol.MapProperty.LAYERGROUP),this.handleLayerGroupChanged_,this),ol.events.listen(this,ol.Object.getChangeEventType(ol.MapProperty.VIEW),this.handleViewChanged_,this),ol.events.listen(this,ol.Object.getChangeEventType(ol.MapProperty.SIZE),this.handleSizeChanged_,this),ol.events.listen(this,ol.Object.getChangeEventType(ol.MapProperty.TARGET),this.handleTargetChanged_,this),this.setProperties(t.values),this.controls.forEach(function(e){e.setMap(this)},this),ol.events.listen(this.controls,ol.CollectionEventType.ADD,function(e){e.element.setMap(this)},this),ol.events.listen(this.controls,ol.CollectionEventType.REMOVE,function(e){e.element.setMap(null)},this),this.interactions.forEach(function(e){e.setMap(this)},this),ol.events.listen(this.interactions,ol.CollectionEventType.ADD,function(e){e.element.setMap(this)},this),ol.events.listen(this.interactions,ol.CollectionEventType.REMOVE,function(e){e.element.setMap(null)},this),this.overlays_.forEach(this.addOverlayInternal_,this),ol.events.listen(this.overlays_,ol.CollectionEventType.ADD,function(e){this.addOverlayInternal_(e.element)},this),ol.events.listen(this.overlays_,ol.CollectionEventType.REMOVE,function(e){var t=e.element.getId();void 0!==t&&delete this.overlayIdIndex_[t.toString()],e.element.setMap(null)},this)},ol.inherits(ol.PluggableMap,ol.Object),ol.PluggableMap.prototype.addControl=function(e){this.getControls().push(e)},ol.PluggableMap.prototype.addInteraction=function(e){this.getInteractions().push(e)},ol.PluggableMap.prototype.addLayer=function(e){this.getLayerGroup().getLayers().push(e)},ol.PluggableMap.prototype.addOverlay=function(e){this.getOverlays().push(e)},ol.PluggableMap.prototype.addOverlayInternal_=function(e){var t=e.getId();void 0!==t&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)},ol.PluggableMap.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),ol.events.unlisten(this.viewport_,ol.events.EventType.WHEEL,this.handleBrowserEvent,this),ol.events.unlisten(this.viewport_,ol.events.EventType.MOUSEWHEEL,this.handleBrowserEvent,this),void 0!==this.handleResize_&&(window.removeEventListener(ol.events.EventType.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),this.setTarget(null),ol.Object.prototype.disposeInternal.call(this)},ol.PluggableMap.prototype.forEachFeatureAtPixel=function(e,t,o){if(this.frameState_){var r=this.getCoordinateFromPixel(e),n=void 0!==(o=void 0!==o?o:{}).layerFilter?o.layerFilter:ol.functions.TRUE;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,void 0!==o.hitTolerance?o.hitTolerance*this.frameState_.pixelRatio:0,t,null,n,null)}},ol.PluggableMap.prototype.getFeaturesAtPixel=function(e,t){var o=null;return this.forEachFeatureAtPixel(e,function(e){o||(o=[]),o.push(e)},t),o},ol.PluggableMap.prototype.forEachLayerAtPixel=function(e,t,o,r,n){if(this.frameState_){var i=void 0!==r?r:ol.functions.TRUE;return this.renderer_.forEachLayerAtPixel(e,this.frameState_,t,void 0!==o?o:null,i,void 0!==n?n:null)}},ol.PluggableMap.prototype.hasFeatureAtPixel=function(e,t){if(!this.frameState_)return!1;var o=this.getCoordinateFromPixel(e),r=void 0!==(t=void 0!==t?t:{}).layerFilter?t.layerFilter:ol.functions.TRUE;return this.renderer_.hasFeatureAtCoordinate(o,this.frameState_,void 0!==t.hitTolerance?t.hitTolerance*this.frameState_.pixelRatio:0,r,null)},ol.PluggableMap.prototype.getEventCoordinate=function(e){return this.getCoordinateFromPixel(this.getEventPixel(e))},ol.PluggableMap.prototype.getEventPixel=function(e){var t=this.viewport_.getBoundingClientRect(),o=e.changedTouches?e.changedTouches[0]:e;return[o.clientX-t.left,o.clientY-t.top]},ol.PluggableMap.prototype.getTarget=function(){return this.get(ol.MapProperty.TARGET)},ol.PluggableMap.prototype.getTargetElement=function(){var e=this.getTarget();return void 0!==e?"string"==typeof e?document.getElementById(e):e:null},ol.PluggableMap.prototype.getCoordinateFromPixel=function(e){var t=this.frameState_;return t?ol.transform.apply(t.pixelToCoordinateTransform,e.slice()):null},ol.PluggableMap.prototype.getControls=function(){return this.controls},ol.PluggableMap.prototype.getOverlays=function(){return this.overlays_},ol.PluggableMap.prototype.getOverlayById=function(e){var t=this.overlayIdIndex_[e.toString()];return void 0!==t?t:null},ol.PluggableMap.prototype.getInteractions=function(){return this.interactions},ol.PluggableMap.prototype.getLayerGroup=function(){return this.get(ol.MapProperty.LAYERGROUP)},ol.PluggableMap.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},ol.PluggableMap.prototype.getPixelFromCoordinate=function(e){var t=this.frameState_;return t?ol.transform.apply(t.coordinateToPixelTransform,e.slice(0,2)):null},ol.PluggableMap.prototype.getRenderer=function(){return this.renderer_},ol.PluggableMap.prototype.getSize=function(){return this.get(ol.MapProperty.SIZE)},ol.PluggableMap.prototype.getView=function(){return this.get(ol.MapProperty.VIEW)},ol.PluggableMap.prototype.getViewport=function(){return this.viewport_},ol.PluggableMap.prototype.getOverlayContainer=function(){return this.overlayContainer_},ol.PluggableMap.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},ol.PluggableMap.prototype.getTilePriority=function(e,t,o,r){var n=this.frameState_;if(!(n&&t in n.wantedTiles))return ol.structs.PriorityQueue.DROP;if(!n.wantedTiles[t][e.getKey()])return ol.structs.PriorityQueue.DROP;var i=o[0]-n.focus[0],l=o[1]-n.focus[1];return 65536*Math.log(r)+Math.sqrt(i*i+l*l)/r},ol.PluggableMap.prototype.handleBrowserEvent=function(e,t){var o=new ol.MapBrowserEvent(t||e.type,this,e);this.handleMapBrowserEvent(o)},ol.PluggableMap.prototype.handleMapBrowserEvent=function(e){if(this.frameState_){this.focus_=e.coordinate,e.frameState=this.frameState_;var t,o=this.getInteractions().getArray();if(!1!==this.dispatchEvent(e))for(t=o.length-1;t>=0;t--){var r=o[t];if(r.getActive()&&!r.handleEvent(e))break}}},ol.PluggableMap.prototype.handlePostRender=function(){var e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){var o=16,r=o;if(e){var n=e.viewHints;n[ol.ViewHint.ANIMATING]&&(o=this.loadTilesWhileAnimating_?8:0,r=2),n[ol.ViewHint.INTERACTING]&&(o=this.loadTilesWhileInteracting_?8:0,r=2)}t.getTilesLoading()<o&&(t.reprioritize(),t.loadMoreTiles(o,r))}var i,l,a=this.postRenderFunctions_;for(i=0,l=a.length;i<l;++i)a[i](this,e);a.length=0},ol.PluggableMap.prototype.handleSizeChanged_=function(){this.render()},ol.PluggableMap.prototype.handleTargetChanged_=function(){var e;if(this.getTarget()&&(e=this.getTargetElement()),this.keyHandlerKeys_){for(var t=0,o=this.keyHandlerKeys_.length;t<o;++t)ol.events.unlistenByKey(this.keyHandlerKeys_[t]);this.keyHandlerKeys_=null}if(e){e.appendChild(this.viewport_);var r=this.keyboardEventTarget_?this.keyboardEventTarget_:e;this.keyHandlerKeys_=[ol.events.listen(r,ol.events.EventType.KEYDOWN,this.handleBrowserEvent,this),ol.events.listen(r,ol.events.EventType.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(ol.events.EventType.RESIZE,this.handleResize_,!1))}else this.renderer_.removeLayerRenderers(),ol.dom.removeNode(this.viewport_),void 0!==this.handleResize_&&(window.removeEventListener(ol.events.EventType.RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},ol.PluggableMap.prototype.handleTileChange_=function(){this.render()},ol.PluggableMap.prototype.handleViewPropertyChanged_=function(){this.render()},ol.PluggableMap.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(ol.events.unlistenByKey(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(ol.events.unlistenByKey(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var e=this.getView();e&&(this.viewport_.setAttribute("data-view",ol.getUid(e)),this.viewPropertyListenerKey_=ol.events.listen(e,ol.ObjectEventType.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=ol.events.listen(e,ol.events.EventType.CHANGE,this.handleViewPropertyChanged_,this)),this.render()},ol.PluggableMap.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(ol.events.unlistenByKey),this.layerGroupPropertyListenerKeys_=null);var e=this.getLayerGroup();e&&(this.layerGroupPropertyListenerKeys_=[ol.events.listen(e,ol.ObjectEventType.PROPERTYCHANGE,this.render,this),ol.events.listen(e,ol.events.EventType.CHANGE,this.render,this)]),this.render()},ol.PluggableMap.prototype.isRendered=function(){return!!this.frameState_},ol.PluggableMap.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},ol.PluggableMap.prototype.render=function(){void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},ol.PluggableMap.prototype.removeControl=function(e){return this.getControls().remove(e)},ol.PluggableMap.prototype.removeInteraction=function(e){return this.getInteractions().remove(e)},ol.PluggableMap.prototype.removeLayer=function(e){return this.getLayerGroup().getLayers().remove(e)},ol.PluggableMap.prototype.removeOverlay=function(e){return this.getOverlays().remove(e)},ol.PluggableMap.prototype.renderFrame_=function(e){var t,o,r,n=this.getSize(),i=this.getView(),l=ol.extent.createEmpty(),a=this.frameState_,s=null;if(void 0!==n&&ol.size.hasArea(n)&&i&&i.isDef()){var p=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),u=this.getLayerGroup().getLayerStatesArray(),c={};for(t=0,o=u.length;t<o;++t)c[ol.getUid(u[t].layer)]=u[t];var g=(r=i.getState()).center,d=r.resolution/this.pixelRatio_;g[0]=Math.round(g[0]/d)*d,g[1]=Math.round(g[1]/d)*d,s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,extent:l,focus:this.focus_?this.focus_:g,index:this.frameIndex_++,layerStates:c,layerStatesArray:u,logos:ol.obj.assign({},this.logos_),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:r,viewHints:p,wantedTiles:{}}}s&&(s.extent=ol.extent.getForViewAndSize(r.center,r.resolution,r.rotation,s.size,l)),this.frameState_=s,this.renderer_.renderFrame(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),a&&(!this.previousExtent_||!ol.extent.isEmpty(this.previousExtent_)&&!ol.extent.equals(s.extent,this.previousExtent_))&&(this.dispatchEvent(new ol.MapEvent(ol.MapEventType.MOVESTART,this,a)),this.previousExtent_=ol.extent.createOrUpdateEmpty(this.previousExtent_)),this.previousExtent_&&!s.viewHints[ol.ViewHint.ANIMATING]&&!s.viewHints[ol.ViewHint.INTERACTING]&&!ol.extent.equals(s.extent,this.previousExtent_)&&(this.dispatchEvent(new ol.MapEvent(ol.MapEventType.MOVEEND,this,s)),ol.extent.clone(s.extent,this.previousExtent_))),this.dispatchEvent(new ol.MapEvent(ol.MapEventType.POSTRENDER,this,s)),setTimeout(this.handlePostRender.bind(this),0)},ol.PluggableMap.prototype.setLayerGroup=function(e){this.set(ol.MapProperty.LAYERGROUP,e)},ol.PluggableMap.prototype.setSize=function(e){this.set(ol.MapProperty.SIZE,e)},ol.PluggableMap.prototype.setTarget=function(e){this.set(ol.MapProperty.TARGET,e)},ol.PluggableMap.prototype.setView=function(e){this.set(ol.MapProperty.VIEW,e)},ol.PluggableMap.prototype.skipFeature=function(e){var t=ol.getUid(e).toString();this.skippedFeatureUids_[t]=!0,this.render()},ol.PluggableMap.prototype.updateSize=function(){var e=this.getTargetElement();if(e){var t=getComputedStyle(e);this.setSize([e.offsetWidth-parseFloat(t.borderLeftWidth)-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight)-parseFloat(t.borderRightWidth),e.offsetHeight-parseFloat(t.borderTopWidth)-parseFloat(t.paddingTop)-parseFloat(t.paddingBottom)-parseFloat(t.borderBottomWidth)])}else this.setSize(void 0)},ol.PluggableMap.prototype.unskipFeature=function(e){var t=ol.getUid(e).toString();delete this.skippedFeatureUids_[t],this.render()},ol.PluggableMap.DEFAULT_RENDERER_TYPES=[ol.renderer.Type.CANVAS,ol.renderer.Type.WEBGL],ol.PluggableMap.LOGO_URL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC",ol.PluggableMap.createOptionsInternal=function(e){var t=null;void 0!==e.keyboardEventTarget&&(t="string"==typeof e.keyboardEventTarget?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);var o={},r={};if(void 0===e.logo||"boolean"==typeof e.logo&&e.logo)r[ol.PluggableMap.LOGO_URL]="https://openlayers.org/";else{var n=e.logo;"string"==typeof n?r[n]="":n instanceof HTMLElement?r[ol.getUid(n).toString()]=n:n&&(ol.asserts.assert("string"==typeof n.href,44),ol.asserts.assert("string"==typeof n.src,45),r[n.src]=n.href)}var i,l,a=e.layers instanceof ol.layer.Group?e.layers:new ol.layer.Group({layers:e.layers});o[ol.MapProperty.LAYERGROUP]=a,o[ol.MapProperty.TARGET]=e.target,o[ol.MapProperty.VIEW]=void 0!==e.view?e.view:new ol.View,void 0!==e.renderer?(Array.isArray(e.renderer)?i=e.renderer:"string"==typeof e.renderer?i=[e.renderer]:ol.asserts.assert(!1,46),i.indexOf("dom")>=0&&(i=i.concat(ol.PluggableMap.DEFAULT_RENDERER_TYPES))):i=ol.PluggableMap.DEFAULT_RENDERER_TYPES;var s,p,u,c=ol.plugins.getMapRendererPlugins();e:for(var g=0,d=i.length;g<d;++g)for(var h=i[g],y=0,f=c.length;y<f;++y){var m=c[y];if(m.handles(h)){l=m;break e}}if(!l)throw new Error("Unable to create a map renderer for types: "+i.join(", "));return void 0!==e.controls&&(Array.isArray(e.controls)?s=new ol.Collection(e.controls.slice()):(ol.asserts.assert(e.controls instanceof ol.Collection,47),s=e.controls)),void 0!==e.interactions&&(Array.isArray(e.interactions)?p=new ol.Collection(e.interactions.slice()):(ol.asserts.assert(e.interactions instanceof ol.Collection,48),p=e.interactions)),void 0!==e.overlays?Array.isArray(e.overlays)?u=new ol.Collection(e.overlays.slice()):(ol.asserts.assert(e.overlays instanceof ol.Collection,49),u=e.overlays):u=new ol.Collection,{controls:s,interactions:p,keyboardEventTarget:t,logos:r,overlays:u,mapRendererPlugin:l,values:o}},goog.provide("ol.control.Control"),goog.require("ol"),goog.require("ol.MapEventType"),goog.require("ol.Object"),goog.require("ol.dom"),goog.require("ol.events"),ol.control.Control=function(e){ol.Object.call(this),this.element=e.element?e.element:null,this.target_=null,this.map_=null,this.listenerKeys=[],this.render=e.render?e.render:ol.nullFunction,e.target&&this.setTarget(e.target)},ol.inherits(ol.control.Control,ol.Object),ol.control.Control.prototype.disposeInternal=function(){ol.dom.removeNode(this.element),ol.Object.prototype.disposeInternal.call(this)},ol.control.Control.prototype.getMap=function(){return this.map_},ol.control.Control.prototype.setMap=function(e){this.map_&&ol.dom.removeNode(this.element);for(var t=0,o=this.listenerKeys.length;t<o;++t)ol.events.unlistenByKey(this.listenerKeys[t]);this.listenerKeys.length=0,this.map_=e,this.map_&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==ol.nullFunction&&this.listenerKeys.push(ol.events.listen(e,ol.MapEventType.POSTRENDER,this.render,this)),e.render())},ol.control.Control.prototype.setTarget=function(e){this.target_="string"==typeof e?document.getElementById(e):e},goog.provide("ol.css"),ol.css.CLASS_HIDDEN="ol-hidden",ol.css.CLASS_SELECTABLE="ol-selectable",ol.css.CLASS_UNSELECTABLE="ol-unselectable",ol.css.CLASS_UNSUPPORTED="ol-unsupported",ol.css.CLASS_CONTROL="ol-control",ol.css.getFontFamilies=(cache={},function(e){if(style||(style=document.createElement("div").style),!(e in cache)){style.font=e;var t=style.fontFamily;if(style.font="",!t)return null;cache[e]=t.split(/,\s?/)}return cache[e]}),goog.provide("ol.render.EventType"),ol.render.EventType={POSTCOMPOSE:"postcompose",PRECOMPOSE:"precompose",RENDER:"render"},goog.provide("ol.layer.Layer"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol"),goog.require("ol.Object"),goog.require("ol.layer.Base"),goog.require("ol.layer.Property"),goog.require("ol.obj"),goog.require("ol.render.EventType"),goog.require("ol.source.State"),ol.layer.Layer=function(e){var t=ol.obj.assign({},e);delete t.source,ol.layer.Base.call(this,t),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,e.map&&this.setMap(e.map),ol.events.listen(this,ol.Object.getChangeEventType(ol.layer.Property.SOURCE),this.handleSourcePropertyChange_,this),this.setSource(e.source?e.source:null)},ol.inherits(ol.layer.Layer,ol.layer.Base),ol.layer.Layer.visibleAtResolution=function(e,t){return e.visible&&t>=e.minResolution&&t<e.maxResolution},ol.layer.Layer.prototype.getLayersArray=function(e){var t=e||[];return t.push(this),t},ol.layer.Layer.prototype.getLayerStatesArray=function(e){var t=e||[];return t.push(this.getLayerState()),t},ol.layer.Layer.prototype.getSource=function(){return this.get(ol.layer.Property.SOURCE)||null},ol.layer.Layer.prototype.getSourceState=function(){var e=this.getSource();return e?e.getState():ol.source.State.UNDEFINED},ol.layer.Layer.prototype.handleSourceChange_=function(){this.changed()},ol.layer.Layer.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(ol.events.unlistenByKey(this.sourceChangeKey_),this.sourceChangeKey_=null);var e=this.getSource();e&&(this.sourceChangeKey_=ol.events.listen(e,ol.events.EventType.CHANGE,this.handleSourceChange_,this)),this.changed()},ol.layer.Layer.prototype.setMap=function(e){this.mapPrecomposeKey_&&(ol.events.unlistenByKey(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(ol.events.unlistenByKey(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=ol.events.listen(e,ol.render.EventType.PRECOMPOSE,function(e){var t=this.getLayerState();t.managed=!1,t.zIndex=1/0,e.frameState.layerStatesArray.push(t),e.frameState.layerStates[ol.getUid(this)]=t},this),this.mapRenderKey_=ol.events.listen(this,ol.events.EventType.CHANGE,e.render,e),this.changed())},ol.layer.Layer.prototype.setSource=function(e){this.set(ol.layer.Property.SOURCE,e)},goog.provide("ol.control.Attribution"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.control.Control"),goog.require("ol.css"),goog.require("ol.dom"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.layer.Layer"),goog.require("ol.obj"),ol.control.Attribution=function(e){var t=e||{};this.ulElement_=document.createElement("UL"),this.logoLi_=document.createElement("LI"),this.ulElement_.appendChild(this.logoLi_),this.logoLi_.style.display="none",this.collapsed_=void 0===t.collapsed||t.collapsed,this.collapsible_=void 0===t.collapsible||t.collapsible,this.collapsible_||(this.collapsed_=!1);var o=void 0!==t.className?t.className:"ol-attribution",r=void 0!==t.tipLabel?t.tipLabel:"Attributions",n=void 0!==t.collapseLabel?t.collapseLabel:"\xbb";"string"==typeof n?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=n):this.collapseLabel_=n;var i=void 0!==t.label?t.label:"i";"string"==typeof i?(this.label_=document.createElement("span"),this.label_.textContent=i):this.label_=i;var l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,a=document.createElement("button");a.setAttribute("type","button"),a.title=r,a.appendChild(l),ol.events.listen(a,ol.events.EventType.CLICK,this.handleClick_,this);var s=o+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL+(this.collapsed_&&this.collapsible_?" ol-collapsed":"")+(this.collapsible_?"":" ol-uncollapsible"),p=document.createElement("div");p.className=s,p.appendChild(this.ulElement_),p.appendChild(a);var u=t.render?t.render:ol.control.Attribution.render;ol.control.Control.call(this,{element:p,render:u,target:t.target}),this.renderedAttributions_=[],this.renderedVisible_=!0,this.logoElements_={}},ol.inherits(ol.control.Attribution,ol.control.Control),ol.control.Attribution.prototype.getSourceAttributions_=function(e){for(var t={},o=[],r=e.layerStatesArray,n=e.viewState.resolution,i=0,l=r.length;i<l;++i){var a=r[i];if(ol.layer.Layer.visibleAtResolution(a,n)){var s=a.layer.getSource();if(s){var p=s.getAttributions2();if(p){var u=p(e);if(u)if(Array.isArray(u))for(var c=0,g=u.length;c<g;++c)u[c]in t||(o.push(u[c]),t[u[c]]=!0);else u in t||(o.push(u),t[u]=!0)}}}}return o},ol.control.Attribution.render=function(e){this.updateElement_(e.frameState)},ol.control.Attribution.prototype.updateElement_=function(e){if(e){var t=this.getSourceAttributions_(e);if(!ol.array.equals(t,this.renderedAttributions_)){for(;this.ulElement_.lastChild!==this.logoLi_;)this.ulElement_.removeChild(this.ulElement_.lastChild);for(var o=0,r=t.length;o<r;++o){var n=document.createElement("LI");n.innerHTML=t[o],this.ulElement_.appendChild(n)}0===t.length&&this.renderedAttributions_.length>0?this.element.classList.add("ol-logo-only"):0===this.renderedAttributions_.length&&t.length>0&&this.element.classList.remove("ol-logo-only");var i=t.length>0||!ol.obj.isEmpty(e.logos);this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),this.renderedAttributions_=t,this.insertLogos_(e)}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},ol.control.Attribution.prototype.insertLogos_=function(e){var t,o,r,n,i=e.logos,l=this.logoElements_;for(t in l)t in i||(ol.dom.removeNode(l[t]),delete l[t]);for(n in i){var a=i[n];a instanceof HTMLElement&&(this.logoLi_.appendChild(a),l[n]=a),n in l||((o=new Image).src=n,""===a?r=o:((r=document.createElement("a")).href=a,r.appendChild(o)),this.logoLi_.appendChild(r),l[n]=r)}this.logoLi_.style.display=ol.obj.isEmpty(i)?"none":""},ol.control.Attribution.prototype.handleClick_=function(e){e.preventDefault(),this.handleToggle_()},ol.control.Attribution.prototype.handleToggle_=function(){this.element.classList.toggle("ol-collapsed"),this.collapsed_?ol.dom.replaceNode(this.collapseLabel_,this.label_):ol.dom.replaceNode(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},ol.control.Attribution.prototype.getCollapsible=function(){return this.collapsible_},ol.control.Attribution.prototype.setCollapsible=function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),!e&&this.collapsed_&&this.handleToggle_())},ol.control.Attribution.prototype.setCollapsed=function(e){this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()},ol.control.Attribution.prototype.getCollapsed=function(){return this.collapsed_},goog.provide("ol.control.Rotate"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol"),goog.require("ol.control.Control"),goog.require("ol.css"),goog.require("ol.easing"),ol.control.Rotate=function(e){var t=e||{},o=void 0!==t.className?t.className:"ol-rotate",r=void 0!==t.label?t.label:"\u21e7";this.label_=null,"string"==typeof r?(this.label_=document.createElement("span"),this.label_.className="ol-compass",this.label_.textContent=r):(this.label_=r,this.label_.classList.add("ol-compass"));var n=t.tipLabel?t.tipLabel:"Reset rotation",i=document.createElement("button");i.className=o+"-reset",i.setAttribute("type","button"),i.title=n,i.appendChild(this.label_),ol.events.listen(i,ol.events.EventType.CLICK,ol.control.Rotate.prototype.handleClick_,this);var l=o+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL,a=document.createElement("div");a.className=l,a.appendChild(i);var s=t.render?t.render:ol.control.Rotate.render;this.callResetNorth_=t.resetNorth?t.resetNorth:void 0,ol.control.Control.call(this,{element:a,render:s,target:t.target}),this.duration_=void 0!==t.duration?t.duration:250,this.autoHide_=void 0===t.autoHide||t.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(ol.css.CLASS_HIDDEN)},ol.inherits(ol.control.Rotate,ol.control.Control),ol.control.Rotate.prototype.handleClick_=function(e){e.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},ol.control.Rotate.prototype.resetNorth_=function(){var e=this.getMap().getView();e&&void 0!==e.getRotation()&&(this.duration_>0?e.animate({rotation:0,duration:this.duration_,easing:ol.easing.easeOut}):e.setRotation(0))},ol.control.Rotate.render=function(e){var t=e.frameState;if(t){var o=t.viewState.rotation;if(o!=this.rotation_){var r="rotate("+o+"rad)";if(this.autoHide_){var n=this.element.classList.contains(ol.css.CLASS_HIDDEN);n||0!==o?n&&0!==o&&this.element.classList.remove(ol.css.CLASS_HIDDEN):this.element.classList.add(ol.css.CLASS_HIDDEN)}this.label_.style.msTransform=r,this.label_.style.webkitTransform=r,this.label_.style.transform=r}this.rotation_=o}},goog.provide("ol.control.Zoom"),goog.require("ol"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.control.Control"),goog.require("ol.css"),goog.require("ol.easing"),ol.control.Zoom=function(e){var t=e||{},o=void 0!==t.className?t.className:"ol-zoom",r=void 0!==t.delta?t.delta:1,n=void 0!==t.zoomInLabel?t.zoomInLabel:"+",i=void 0!==t.zoomOutLabel?t.zoomOutLabel:"\u2212",l=void 0!==t.zoomInTipLabel?t.zoomInTipLabel:"Zoom in",a=void 0!==t.zoomOutTipLabel?t.zoomOutTipLabel:"Zoom out",s=document.createElement("button");s.className=o+"-in",s.setAttribute("type","button"),s.title=l,s.appendChild("string"==typeof n?document.createTextNode(n):n),ol.events.listen(s,ol.events.EventType.CLICK,ol.control.Zoom.prototype.handleClick_.bind(this,r));var p=document.createElement("button");p.className=o+"-out",p.setAttribute("type","button"),p.title=a,p.appendChild("string"==typeof i?document.createTextNode(i):i),ol.events.listen(p,ol.events.EventType.CLICK,ol.control.Zoom.prototype.handleClick_.bind(this,-r));var u=o+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL,c=document.createElement("div");c.className=u,c.appendChild(s),c.appendChild(p),ol.control.Control.call(this,{element:c,target:t.target}),this.duration_=void 0!==t.duration?t.duration:250},ol.inherits(ol.control.Zoom,ol.control.Control),ol.control.Zoom.prototype.handleClick_=function(e,t){t.preventDefault(),this.zoomByDelta_(e)},ol.control.Zoom.prototype.zoomByDelta_=function(e){var t=this.getMap().getView();if(t){var o=t.getResolution();if(o){var r=t.constrainResolution(o,e);this.duration_>0?(t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:r,duration:this.duration_,easing:ol.easing.easeOut})):t.setResolution(r)}}},goog.provide("ol.control"),goog.require("ol.Collection"),goog.require("ol.control.Attribution"),goog.require("ol.control.Rotate"),goog.require("ol.control.Zoom"),ol.control.defaults=function(e){var t=e||{},o=new ol.Collection;return(void 0===t.zoom||t.zoom)&&o.push(new ol.control.Zoom(t.zoomOptions)),(void 0===t.rotate||t.rotate)&&o.push(new ol.control.Rotate(t.rotateOptions)),(void 0===t.attribution||t.attribution)&&o.push(new ol.control.Attribution(t.attributionOptions)),o},goog.provide("ol.Kinetic"),ol.Kinetic=function(e,t,o){this.decay_=e,this.minVelocity_=t,this.delay_=o,this.points_=[],this.angle_=0,this.initialVelocity_=0},ol.Kinetic.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},ol.Kinetic.prototype.update=function(e,t){this.points_.push(e,t,Date.now())},ol.Kinetic.prototype.end=function(){if(this.points_.length<6)return!1;var e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;for(var o=t-3;o>0&&this.points_[o+2]>e;)o-=3;var r=this.points_[t+2]-this.points_[o+2];if(r<1e3/60)return!1;var n=this.points_[t]-this.points_[o],i=this.points_[t+1]-this.points_[o+1];return this.angle_=Math.atan2(i,n),this.initialVelocity_=Math.sqrt(n*n+i*i)/r,this.initialVelocity_>this.minVelocity_},ol.Kinetic.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},ol.Kinetic.prototype.getAngle=function(){return this.angle_},goog.provide("ol.interaction.Property"),ol.interaction.Property={ACTIVE:"active"},goog.provide("ol.interaction.Interaction"),goog.require("ol"),goog.require("ol.Object"),goog.require("ol.easing"),goog.require("ol.interaction.Property"),goog.require("ol.math"),ol.interaction.Interaction=function(e){ol.Object.call(this),this.map_=null,this.setActive(!0),this.handleEvent=e.handleEvent},ol.inherits(ol.interaction.Interaction,ol.Object),ol.interaction.Interaction.prototype.getActive=function(){return this.get(ol.interaction.Property.ACTIVE)},ol.interaction.Interaction.prototype.getMap=function(){return this.map_},ol.interaction.Interaction.prototype.setActive=function(e){this.set(ol.interaction.Property.ACTIVE,e)},ol.interaction.Interaction.prototype.setMap=function(e){this.map_=e},ol.interaction.Interaction.pan=function(e,t,o){var r=e.getCenter();if(r){var n=e.constrainCenter([r[0]+t[0],r[1]+t[1]]);o?e.animate({duration:o,easing:ol.easing.linear,center:n}):e.setCenter(n)}},ol.interaction.Interaction.rotate=function(e,t,o,r){t=e.constrainRotation(t,0),ol.interaction.Interaction.rotateWithoutConstraints(e,t,o,r)},ol.interaction.Interaction.rotateWithoutConstraints=function(e,t,o,r){if(void 0!==t){var n=e.getRotation(),i=e.getCenter();void 0!==n&&i&&r>0?e.animate({rotation:t,anchor:o,duration:r,easing:ol.easing.easeOut}):e.rotate(t,o)}},ol.interaction.Interaction.zoom=function(e,t,o,r,n){t=e.constrainResolution(t,0,n),ol.interaction.Interaction.zoomWithoutConstraints(e,t,o,r)},ol.interaction.Interaction.zoomByDelta=function(e,t,o,r){var n=e.getResolution(),i=e.constrainResolution(n,t,0);if(void 0!==i){var l=e.getResolutions();i=ol.math.clamp(i,e.getMinResolution()||l[l.length-1],e.getMaxResolution()||l[0])}if(o&&void 0!==i&&i!==n){var a=e.getCenter(),s=e.calculateCenterZoom(i,o);s=e.constrainCenter(s),o=[(i*a[0]-n*s[0])/(i-n),(i*a[1]-n*s[1])/(i-n)]}ol.interaction.Interaction.zoomWithoutConstraints(e,i,o,r)},ol.interaction.Interaction.zoomWithoutConstraints=function(e,t,o,r){if(t){var n=e.getResolution(),i=e.getCenter();if(void 0!==n&&i&&t!==n&&r)e.animate({resolution:t,anchor:o,duration:r,easing:ol.easing.easeOut});else{if(o){var l=e.calculateCenterZoom(t,o);e.setCenter(l)}e.setResolution(t)}}},goog.provide("ol.interaction.DoubleClickZoom"),goog.require("ol"),goog.require("ol.MapBrowserEventType"),goog.require("ol.interaction.Interaction"),ol.interaction.DoubleClickZoom=function(e){var t=e||{};this.delta_=t.delta?t.delta:1,ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.DoubleClickZoom.handleEvent}),this.duration_=void 0!==t.duration?t.duration:250},ol.inherits(ol.interaction.DoubleClickZoom,ol.interaction.Interaction),ol.interaction.DoubleClickZoom.handleEvent=function(e){var t=!1;if(e.type==ol.MapBrowserEventType.DBLCLICK){var o=e.coordinate,r=e.originalEvent.shiftKey?-this.delta_:this.delta_,n=e.map.getView();ol.interaction.Interaction.zoomByDelta(n,r,o,this.duration_),e.preventDefault(),t=!0}return!t},goog.provide("ol.events.condition"),goog.require("ol.MapBrowserEventType"),goog.require("ol.asserts"),goog.require("ol.functions"),goog.require("ol.has"),ol.events.condition.altKeyOnly=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},ol.events.condition.altShiftKeysOnly=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},ol.events.condition.always=ol.functions.TRUE,ol.events.condition.click=function(e){return e.type==ol.MapBrowserEventType.CLICK},ol.events.condition.mouseActionButton=function(e){var t=e.originalEvent;return 0==t.button&&!(ol.has.WEBKIT&&ol.has.MAC&&t.ctrlKey)},ol.events.condition.never=ol.functions.FALSE,ol.events.condition.pointerMove=function(e){return"pointermove"==e.type},ol.events.condition.singleClick=function(e){return e.type==ol.MapBrowserEventType.SINGLECLICK},ol.events.condition.doubleClick=function(e){return e.type==ol.MapBrowserEventType.DBLCLICK},ol.events.condition.noModifierKeys=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},ol.events.condition.platformModifierKeyOnly=function(e){var t=e.originalEvent;return!t.altKey&&(ol.has.MAC?t.metaKey:t.ctrlKey)&&!t.shiftKey},ol.events.condition.shiftKeyOnly=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},ol.events.condition.targetNotEditable=function(e){var t=e.originalEvent.target.tagName;return"INPUT"!==t&&"SELECT"!==t&&"TEXTAREA"!==t},ol.events.condition.mouseOnly=function(e){return ol.asserts.assert(e.pointerEvent,56),"mouse"==e.pointerEvent.pointerType},ol.events.condition.primaryAction=function(e){var t=e.pointerEvent;return t.isPrimary&&0===t.button},goog.provide("ol.interaction.Pointer"),goog.require("ol"),goog.require("ol.functions"),goog.require("ol.MapBrowserEventType"),goog.require("ol.MapBrowserPointerEvent"),goog.require("ol.interaction.Interaction"),goog.require("ol.obj"),ol.interaction.Pointer=function(e){var t=e||{},o=t.handleEvent?t.handleEvent:ol.interaction.Pointer.handleEvent;ol.interaction.Interaction.call(this,{handleEvent:o}),this.handleDownEvent_=t.handleDownEvent?t.handleDownEvent:ol.interaction.Pointer.handleDownEvent,this.handleDragEvent_=t.handleDragEvent?t.handleDragEvent:ol.interaction.Pointer.handleDragEvent,this.handleMoveEvent_=t.handleMoveEvent?t.handleMoveEvent:ol.interaction.Pointer.handleMoveEvent,this.handleUpEvent_=t.handleUpEvent?t.handleUpEvent:ol.interaction.Pointer.handleUpEvent,this.handlingDownUpSequence=!1,this.trackedPointers_={},this.targetPointers=[]},ol.inherits(ol.interaction.Pointer,ol.interaction.Interaction),ol.interaction.Pointer.centroid=function(e){for(var t=e.length,o=0,r=0,n=0;n<t;n++)o+=e[n].clientX,r+=e[n].clientY;return[o/t,r/t]},ol.interaction.Pointer.prototype.isPointerDraggingEvent_=function(e){var t=e.type;return t===ol.MapBrowserEventType.POINTERDOWN||t===ol.MapBrowserEventType.POINTERDRAG||t===ol.MapBrowserEventType.POINTERUP},ol.interaction.Pointer.prototype.updateTrackedPointers_=function(e){if(this.isPointerDraggingEvent_(e)){var t=e.pointerEvent,o=t.pointerId.toString();e.type==ol.MapBrowserEventType.POINTERUP?delete this.trackedPointers_[o]:e.type==ol.MapBrowserEventType.POINTERDOWN?this.trackedPointers_[o]=t:o in this.trackedPointers_&&(this.trackedPointers_[o]=t),this.targetPointers=ol.obj.getValues(this.trackedPointers_)}},ol.interaction.Pointer.handleDragEvent=ol.nullFunction,ol.interaction.Pointer.handleUpEvent=ol.functions.FALSE,ol.interaction.Pointer.handleDownEvent=ol.functions.FALSE,ol.interaction.Pointer.handleMoveEvent=ol.nullFunction,ol.interaction.Pointer.handleEvent=function(e){if(!(e instanceof ol.MapBrowserPointerEvent))return!0;var t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==ol.MapBrowserEventType.POINTERDRAG)this.handleDragEvent_(e);else if(e.type==ol.MapBrowserEventType.POINTERUP){var o=this.handleUpEvent_(e);this.handlingDownUpSequence=o&&this.targetPointers.length>0}}else if(e.type==ol.MapBrowserEventType.POINTERDOWN){var r=this.handleDownEvent_(e);this.handlingDownUpSequence=r,t=this.shouldStopEvent(r)}else e.type==ol.MapBrowserEventType.POINTERMOVE&&this.handleMoveEvent_(e);return!t},ol.interaction.Pointer.prototype.shouldStopEvent=function(e){return e},goog.provide("ol.interaction.DragPan"),goog.require("ol"),goog.require("ol.ViewHint"),goog.require("ol.coordinate"),goog.require("ol.easing"),goog.require("ol.events.condition"),goog.require("ol.functions"),goog.require("ol.interaction.Pointer"),ol.interaction.DragPan=function(e){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.DragPan.handleDownEvent_,handleDragEvent:ol.interaction.DragPan.handleDragEvent_,handleUpEvent:ol.interaction.DragPan.handleUpEvent_});var t=e||{};this.kinetic_=t.kinetic,this.lastCentroid=null,this.condition_=t.condition?t.condition:ol.events.condition.noModifierKeys,this.noKinetic_=!1},ol.inherits(ol.interaction.DragPan,ol.interaction.Pointer),ol.interaction.DragPan.handleDragEvent_=function(e){var t=this.targetPointers,o=ol.interaction.Pointer.centroid(t);if(t.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(o[0],o[1]),this.lastCentroid){var r=this.lastCentroid[0]-o[0],n=o[1]-this.lastCentroid[1],i=e.map.getView(),l=i.getState(),a=[r,n];ol.coordinate.scale(a,l.resolution),ol.coordinate.rotate(a,l.rotation),ol.coordinate.add(a,l.center),a=i.constrainCenter(a),i.setCenter(a)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=o,this.lastPointersCount_=t.length},ol.interaction.DragPan.handleUpEvent_=function(e){var t=e.map,o=t.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var r=this.kinetic_.getDistance(),n=this.kinetic_.getAngle(),i=o.getCenter(),l=t.getPixelFromCoordinate(i),a=t.getCoordinateFromPixel([l[0]-r*Math.cos(n),l[1]-r*Math.sin(n)]);o.animate({center:o.constrainCenter(a),duration:500,easing:ol.easing.easeOut})}return o.setHint(ol.ViewHint.INTERACTING,-1),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},ol.interaction.DragPan.handleDownEvent_=function(e){if(this.targetPointers.length>0&&this.condition_(e)){var t=e.map.getView();return this.lastCentroid=null,this.handlingDownUpSequence||t.setHint(ol.ViewHint.INTERACTING,1),t.getAnimating()&&t.setCenter(e.frameState.viewState.center),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},ol.interaction.DragPan.prototype.shouldStopEvent=ol.functions.FALSE,goog.provide("ol.interaction.DragRotate"),goog.require("ol"),goog.require("ol.RotationConstraint"),goog.require("ol.ViewHint"),goog.require("ol.events.condition"),goog.require("ol.functions"),goog.require("ol.interaction.Interaction"),goog.require("ol.interaction.Pointer"),ol.interaction.DragRotate=function(e){var t=e||{};ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.DragRotate.handleDownEvent_,handleDragEvent:ol.interaction.DragRotate.handleDragEvent_,handleUpEvent:ol.interaction.DragRotate.handleUpEvent_}),this.condition_=t.condition?t.condition:ol.events.condition.altShiftKeysOnly,this.lastAngle_=void 0,this.duration_=void 0!==t.duration?t.duration:250},ol.inherits(ol.interaction.DragRotate,ol.interaction.Pointer),ol.interaction.DragRotate.handleDragEvent_=function(e){if(ol.events.condition.mouseOnly(e)){var t=e.map,o=t.getView();if(o.getConstraints().rotation!==ol.RotationConstraint.disable){var r=t.getSize(),n=e.pixel,i=Math.atan2(r[1]/2-n[1],n[0]-r[0]/2);if(void 0!==this.lastAngle_){var l=i-this.lastAngle_,a=o.getRotation();ol.interaction.Interaction.rotateWithoutConstraints(o,a-l)}this.lastAngle_=i}}},ol.interaction.DragRotate.handleUpEvent_=function(e){if(!ol.events.condition.mouseOnly(e))return!0;var t=e.map.getView();t.setHint(ol.ViewHint.INTERACTING,-1);var o=t.getRotation();return ol.interaction.Interaction.rotate(t,o,void 0,this.duration_),!1},ol.interaction.DragRotate.handleDownEvent_=function(e){return!(!ol.events.condition.mouseOnly(e)||!ol.events.condition.mouseActionButton(e)||!this.condition_(e)||(e.map.getView().setHint(ol.ViewHint.INTERACTING,1),this.lastAngle_=void 0,0))},ol.interaction.DragRotate.prototype.shouldStopEvent=ol.functions.FALSE,goog.provide("ol.render.Box"),goog.require("ol"),goog.require("ol.Disposable"),goog.require("ol.geom.Polygon"),ol.render.Box=function(e){this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null},ol.inherits(ol.render.Box,ol.Disposable),ol.render.Box.prototype.disposeInternal=function(){this.setMap(null)},ol.render.Box.prototype.render_=function(){var e=this.startPixel_,t=this.endPixel_,o=this.element_.style;o.left=Math.min(e[0],t[0])+"px",o.top=Math.min(e[1],t[1])+"px",o.width=Math.abs(t[0]-e[0])+"px",o.height=Math.abs(t[1]-e[1])+"px"},ol.render.Box.prototype.setMap=function(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var t=this.element_.style;t.left=t.top=t.width=t.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},ol.render.Box.prototype.setPixels=function(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()},ol.render.Box.prototype.createOrUpdateGeometry=function(){var e=this.startPixel_,t=this.endPixel_,o=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixel,this.map_);o[4]=o[0].slice(),this.geometry_?this.geometry_.setCoordinates([o]):this.geometry_=new ol.geom.Polygon([o])},ol.render.Box.prototype.getGeometry=function(){return this.geometry_},goog.provide("ol.interaction.DragBox"),goog.require("ol.events.Event"),goog.require("ol"),goog.require("ol.events.condition"),goog.require("ol.interaction.Pointer"),goog.require("ol.render.Box"),ol.interaction.DragBox=function(e){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.DragBox.handleDownEvent_,handleDragEvent:ol.interaction.DragBox.handleDragEvent_,handleUpEvent:ol.interaction.DragBox.handleUpEvent_});var t=e||{};this.box_=new ol.render.Box(t.className||"ol-dragbox"),this.minArea_=void 0!==t.minArea?t.minArea:64,this.startPixel_=null,this.condition_=t.condition?t.condition:ol.events.condition.always,this.boxEndCondition_=t.boxEndCondition?t.boxEndCondition:ol.interaction.DragBox.defaultBoxEndCondition},ol.inherits(ol.interaction.DragBox,ol.interaction.Pointer),ol.interaction.DragBox.defaultBoxEndCondition=function(e,t,o){var r=o[0]-t[0],n=o[1]-t[1];return r*r+n*n>=this.minArea_},ol.interaction.DragBox.handleDragEvent_=function(e){ol.events.condition.mouseOnly(e)&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new ol.interaction.DragBox.Event(ol.interaction.DragBox.EventType_.BOXDRAG,e.coordinate,e)))},ol.interaction.DragBox.prototype.getGeometry=function(){return this.box_.getGeometry()},ol.interaction.DragBox.prototype.onBoxEnd=ol.nullFunction,ol.interaction.DragBox.handleUpEvent_=function(e){return!ol.events.condition.mouseOnly(e)||(this.box_.setMap(null),this.boxEndCondition_(e,this.startPixel_,e.pixel)&&(this.onBoxEnd(e),this.dispatchEvent(new ol.interaction.DragBox.Event(ol.interaction.DragBox.EventType_.BOXEND,e.coordinate,e))),!1)},ol.interaction.DragBox.handleDownEvent_=function(e){return!(!ol.events.condition.mouseOnly(e)||!ol.events.condition.mouseActionButton(e)||!this.condition_(e)||(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new ol.interaction.DragBox.Event(ol.interaction.DragBox.EventType_.BOXSTART,e.coordinate,e)),0))},ol.interaction.DragBox.EventType_={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend"},ol.interaction.DragBox.Event=function(e,t,o){ol.events.Event.call(this,e),this.coordinate=t,this.mapBrowserEvent=o},ol.inherits(ol.interaction.DragBox.Event,ol.events.Event),goog.provide("ol.interaction.DragZoom"),goog.require("ol"),goog.require("ol.easing"),goog.require("ol.events.condition"),goog.require("ol.extent"),goog.require("ol.interaction.DragBox"),ol.interaction.DragZoom=function(e){var t=e||{},o=t.condition?t.condition:ol.events.condition.shiftKeyOnly;this.duration_=void 0!==t.duration?t.duration:200,this.out_=void 0!==t.out&&t.out,ol.interaction.DragBox.call(this,{condition:o,className:t.className||"ol-dragzoom"})},ol.inherits(ol.interaction.DragZoom,ol.interaction.DragBox),ol.interaction.DragZoom.prototype.onBoxEnd=function(){var e=this.getMap(),t=e.getView(),o=e.getSize(),r=this.getGeometry().getExtent();if(this.out_){var n=t.calculateExtent(o),i=ol.extent.createOrUpdateFromCoordinates([e.getPixelFromCoordinate(ol.extent.getBottomLeft(r)),e.getPixelFromCoordinate(ol.extent.getTopRight(r))]),l=t.getResolutionForExtent(i,o);ol.extent.scaleFromCenter(n,1/l),r=n}var a=t.constrainResolution(t.getResolutionForExtent(r,o)),s=ol.extent.getCenter(r);s=t.constrainCenter(s),t.animate({resolution:a,center:s,duration:this.duration_,easing:ol.easing.easeOut})},goog.provide("ol.events.KeyCode"),ol.events.KeyCode={LEFT:37,UP:38,RIGHT:39,DOWN:40},goog.provide("ol.interaction.KeyboardPan"),goog.require("ol"),goog.require("ol.coordinate"),goog.require("ol.events.EventType"),goog.require("ol.events.KeyCode"),goog.require("ol.events.condition"),goog.require("ol.interaction.Interaction"),ol.interaction.KeyboardPan=function(e){ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.KeyboardPan.handleEvent});var t=e||{};this.defaultCondition_=function(e){return ol.events.condition.noModifierKeys(e)&&ol.events.condition.targetNotEditable(e)},this.condition_=void 0!==t.condition?t.condition:this.defaultCondition_,this.duration_=void 0!==t.duration?t.duration:100,this.pixelDelta_=void 0!==t.pixelDelta?t.pixelDelta:128},ol.inherits(ol.interaction.KeyboardPan,ol.interaction.Interaction),ol.interaction.KeyboardPan.handleEvent=function(e){var t=!1;if(e.type==ol.events.EventType.KEYDOWN){var o=e.originalEvent.keyCode;if(this.condition_(e)&&(o==ol.events.KeyCode.DOWN||o==ol.events.KeyCode.LEFT||o==ol.events.KeyCode.RIGHT||o==ol.events.KeyCode.UP)){var r=e.map.getView(),n=r.getResolution()*this.pixelDelta_,i=0,l=0;o==ol.events.KeyCode.DOWN?l=-n:o==ol.events.KeyCode.LEFT?i=-n:o==ol.events.KeyCode.RIGHT?i=n:l=n;var a=[i,l];ol.coordinate.rotate(a,r.getRotation()),ol.interaction.Interaction.pan(r,a,this.duration_),e.preventDefault(),t=!0}}return!t},goog.provide("ol.interaction.KeyboardZoom"),goog.require("ol"),goog.require("ol.events.EventType"),goog.require("ol.events.condition"),goog.require("ol.interaction.Interaction"),ol.interaction.KeyboardZoom=function(e){ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.KeyboardZoom.handleEvent});var t=e||{};this.condition_=t.condition?t.condition:ol.events.condition.targetNotEditable,this.delta_=t.delta?t.delta:1,this.duration_=void 0!==t.duration?t.duration:100},ol.inherits(ol.interaction.KeyboardZoom,ol.interaction.Interaction),ol.interaction.KeyboardZoom.handleEvent=function(e){var t=!1;if(e.type==ol.events.EventType.KEYDOWN||e.type==ol.events.EventType.KEYPRESS){var o=e.originalEvent.charCode;if(this.condition_(e)&&(o=="+".charCodeAt(0)||o=="-".charCodeAt(0))){var r=e.map,n=o=="+".charCodeAt(0)?this.delta_:-this.delta_,i=r.getView();ol.interaction.Interaction.zoomByDelta(i,n,void 0,this.duration_),e.preventDefault(),t=!0}}return!t},goog.provide("ol.interaction.MouseWheelZoom"),goog.require("ol"),goog.require("ol.ViewHint"),goog.require("ol.easing"),goog.require("ol.events.EventType"),goog.require("ol.has"),goog.require("ol.interaction.Interaction"),goog.require("ol.math"),ol.interaction.MouseWheelZoom=function(e){ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.MouseWheelZoom.handleEvent});var t=e||{};this.delta_=0,this.duration_=void 0!==t.duration?t.duration:250,this.timeout_=void 0!==t.timeout?t.timeout:80,this.useAnchor_=void 0===t.useAnchor||t.useAnchor,this.constrainResolution_=t.constrainResolution||!1,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_=void 0,this.trackpadDeltaPerZoom_=300,this.trackpadZoomBuffer_=1.5},ol.inherits(ol.interaction.MouseWheelZoom,ol.interaction.Interaction),ol.interaction.MouseWheelZoom.handleEvent=function(e){var t=e.type;if(t!==ol.events.EventType.WHEEL&&t!==ol.events.EventType.MOUSEWHEEL)return!0;e.preventDefault();var o,r=e.map,n=e.originalEvent;if(this.useAnchor_&&(this.lastAnchor_=e.coordinate),e.type==ol.events.EventType.WHEEL?(o=n.deltaY,ol.has.FIREFOX&&n.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(o/=ol.has.DEVICE_PIXEL_RATIO),n.deltaMode===WheelEvent.DOM_DELTA_LINE&&(o*=40)):e.type==ol.events.EventType.MOUSEWHEEL&&(o=-n.wheelDeltaY,ol.has.SAFARI&&(o/=3)),0===o)return!1;var i=Date.now();if(void 0===this.startTime_&&(this.startTime_=i),(!this.mode_||i-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(o)<4?ol.interaction.MouseWheelZoom.Mode_.TRACKPAD:ol.interaction.MouseWheelZoom.Mode_.WHEEL),this.mode_===ol.interaction.MouseWheelZoom.Mode_.TRACKPAD){var l=r.getView();this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):l.setHint(ol.ViewHint.INTERACTING,1),this.trackpadTimeoutId_=setTimeout(this.decrementInteractingHint_.bind(this),this.trackpadEventGap_);var a=l.getResolution()*Math.pow(2,o/this.trackpadDeltaPerZoom_),s=l.getMinResolution(),p=l.getMaxResolution(),u=0;if(a<s?(a=Math.max(a,s/this.trackpadZoomBuffer_),u=1):a>p&&(a=Math.min(a,p*this.trackpadZoomBuffer_),u=-1),this.lastAnchor_){var c=l.calculateCenterZoom(a,this.lastAnchor_);l.setCenter(l.constrainCenter(c))}return l.setResolution(a),0===u&&this.constrainResolution_&&l.animate({resolution:l.constrainResolution(a,o>0?-1:1),easing:ol.easing.easeOut,anchor:this.lastAnchor_,duration:this.duration_}),u>0?l.animate({resolution:s,easing:ol.easing.easeOut,anchor:this.lastAnchor_,duration:500}):u<0&&l.animate({resolution:p,easing:ol.easing.easeOut,anchor:this.lastAnchor_,duration:500}),this.startTime_=i,!1}this.delta_+=o;var g=Math.max(this.timeout_-(i-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,r),g),!1},ol.interaction.MouseWheelZoom.prototype.decrementInteractingHint_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().setHint(ol.ViewHint.INTERACTING,-1)},ol.interaction.MouseWheelZoom.prototype.handleWheelZoom_=function(e){var t=e.getView();t.getAnimating()&&t.cancelAnimations();var o=ol.MOUSEWHEELZOOM_MAXDELTA,r=ol.math.clamp(this.delta_,-o,o);ol.interaction.Interaction.zoomByDelta(t,-r,this.lastAnchor_,this.duration_),this.mode_=void 0,this.delta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},ol.interaction.MouseWheelZoom.prototype.setMouseAnchor=function(e){this.useAnchor_=e,e||(this.lastAnchor_=null)},ol.interaction.MouseWheelZoom.Mode_={TRACKPAD:"trackpad",WHEEL:"wheel"},goog.provide("ol.interaction.PinchRotate"),goog.require("ol"),goog.require("ol.ViewHint"),goog.require("ol.functions"),goog.require("ol.interaction.Interaction"),goog.require("ol.interaction.Pointer"),goog.require("ol.RotationConstraint"),ol.interaction.PinchRotate=function(e){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.PinchRotate.handleDownEvent_,handleDragEvent:ol.interaction.PinchRotate.handleDragEvent_,handleUpEvent:ol.interaction.PinchRotate.handleUpEvent_});var t=e||{};this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==t.threshold?t.threshold:.3,this.duration_=void 0!==t.duration?t.duration:250},ol.inherits(ol.interaction.PinchRotate,ol.interaction.Pointer),ol.interaction.PinchRotate.handleDragEvent_=function(e){var t=0,o=this.targetPointers[0],r=this.targetPointers[1],n=Math.atan2(r.clientY-o.clientY,r.clientX-o.clientX);if(void 0!==this.lastAngle_){var i=n-this.lastAngle_;this.rotationDelta_+=i,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=i}this.lastAngle_=n;var l=e.map,a=l.getView();if(a.getConstraints().rotation!==ol.RotationConstraint.disable){var s=l.getViewport().getBoundingClientRect(),p=ol.interaction.Pointer.centroid(this.targetPointers);if(p[0]-=s.left,p[1]-=s.top,this.anchor_=l.getCoordinateFromPixel(p),this.rotating_){var u=a.getRotation();l.render(),ol.interaction.Interaction.rotateWithoutConstraints(a,u+t,this.anchor_)}}},ol.interaction.PinchRotate.handleUpEvent_=function(e){if(this.targetPointers.length<2){var t=e.map.getView();if(t.setHint(ol.ViewHint.INTERACTING,-1),this.rotating_){var o=t.getRotation();ol.interaction.Interaction.rotate(t,o,this.anchor_,this.duration_)}return!1}return!0},ol.interaction.PinchRotate.handleDownEvent_=function(e){if(this.targetPointers.length>=2){var t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().setHint(ol.ViewHint.INTERACTING,1),!0}return!1},ol.interaction.PinchRotate.prototype.shouldStopEvent=ol.functions.FALSE,goog.provide("ol.interaction.PinchZoom"),goog.require("ol"),goog.require("ol.ViewHint"),goog.require("ol.functions"),goog.require("ol.interaction.Interaction"),goog.require("ol.interaction.Pointer"),ol.interaction.PinchZoom=function(e){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.PinchZoom.handleDownEvent_,handleDragEvent:ol.interaction.PinchZoom.handleDragEvent_,handleUpEvent:ol.interaction.PinchZoom.handleUpEvent_});var t=e||{};this.constrainResolution_=t.constrainResolution||!1,this.anchor_=null,this.duration_=void 0!==t.duration?t.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1},ol.inherits(ol.interaction.PinchZoom,ol.interaction.Pointer),ol.interaction.PinchZoom.handleDragEvent_=function(e){var t=1,o=this.targetPointers[0],r=this.targetPointers[1],n=o.clientX-r.clientX,i=o.clientY-r.clientY,l=Math.sqrt(n*n+i*i);void 0!==this.lastDistance_&&(t=this.lastDistance_/l),this.lastDistance_=l;var a=e.map,s=a.getView(),p=s.getResolution(),u=s.getMaxResolution(),c=s.getMinResolution(),g=p*t;g>u?(t=u/p,g=u):g<c&&(t=c/p,g=c),1!=t&&(this.lastScaleDelta_=t);var d=a.getViewport().getBoundingClientRect(),h=ol.interaction.Pointer.centroid(this.targetPointers);h[0]-=d.left,h[1]-=d.top,this.anchor_=a.getCoordinateFromPixel(h),a.render(),ol.interaction.Interaction.zoomWithoutConstraints(s,g,this.anchor_)},ol.interaction.PinchZoom.handleUpEvent_=function(e){if(this.targetPointers.length<2){var t=e.map.getView();t.setHint(ol.ViewHint.INTERACTING,-1);var o=t.getResolution();return(this.constrainResolution_||o<t.getMinResolution()||o>t.getMaxResolution())&&ol.interaction.Interaction.zoom(t,o,this.anchor_,this.duration_,this.lastScaleDelta_-1),!1}return!0},ol.interaction.PinchZoom.handleDownEvent_=function(e){if(this.targetPointers.length>=2){var t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().setHint(ol.ViewHint.INTERACTING,1),!0}return!1},ol.interaction.PinchZoom.prototype.shouldStopEvent=ol.functions.FALSE,goog.provide("ol.interaction"),goog.require("ol.Collection"),goog.require("ol.Kinetic"),goog.require("ol.interaction.DoubleClickZoom"),goog.require("ol.interaction.DragPan"),goog.require("ol.interaction.DragRotate"),goog.require("ol.interaction.DragZoom"),goog.require("ol.interaction.KeyboardPan"),goog.require("ol.interaction.KeyboardZoom"),goog.require("ol.interaction.MouseWheelZoom"),goog.require("ol.interaction.PinchRotate"),goog.require("ol.interaction.PinchZoom"),ol.interaction.defaults=function(e){var t=e||{},o=new ol.Collection,r=new ol.Kinetic(-.005,.05,100);return(void 0===t.altShiftDragRotate||t.altShiftDragRotate)&&o.push(new ol.interaction.DragRotate),(void 0===t.doubleClickZoom||t.doubleClickZoom)&&o.push(new ol.interaction.DoubleClickZoom({delta:t.zoomDelta,duration:t.zoomDuration})),(void 0===t.dragPan||t.dragPan)&&o.push(new ol.interaction.DragPan({kinetic:r})),(void 0===t.pinchRotate||t.pinchRotate)&&o.push(new ol.interaction.PinchRotate),(void 0===t.pinchZoom||t.pinchZoom)&&o.push(new ol.interaction.PinchZoom({constrainResolution:t.constrainResolution,duration:t.zoomDuration})),(void 0===t.keyboard||t.keyboard)&&(o.push(new ol.interaction.KeyboardPan),o.push(new ol.interaction.KeyboardZoom({delta:t.zoomDelta,duration:t.zoomDuration}))),(void 0===t.mouseWheelZoom||t.mouseWheelZoom)&&o.push(new ol.interaction.MouseWheelZoom({constrainResolution:t.constrainResolution,duration:t.zoomDuration})),(void 0===t.shiftDragZoom||t.shiftDragZoom)&&o.push(new ol.interaction.DragZoom({duration:t.zoomDuration})),o},goog.provide("ol.ImageBase"),goog.require("ol"),goog.require("ol.events.EventTarget"),goog.require("ol.events.EventType"),ol.ImageBase=function(e,t,o,r){ol.events.EventTarget.call(this),this.extent=e,this.pixelRatio_=o,this.resolution=t,this.state=r},ol.inherits(ol.ImageBase,ol.events.EventTarget),ol.ImageBase.prototype.changed=function(){this.dispatchEvent(ol.events.EventType.CHANGE)},ol.ImageBase.prototype.getExtent=function(){return this.extent},ol.ImageBase.prototype.getImage=function(){},ol.ImageBase.prototype.getPixelRatio=function(){return this.pixelRatio_},ol.ImageBase.prototype.getResolution=function(){return this.resolution},ol.ImageBase.prototype.getState=function(){return this.state},ol.ImageBase.prototype.load=function(){},goog.provide("ol.ImageState"),ol.ImageState={IDLE:0,LOADING:1,LOADED:2,ERROR:3},goog.provide("ol.ImageCanvas"),goog.require("ol"),goog.require("ol.ImageBase"),goog.require("ol.ImageState"),ol.ImageCanvas=function(e,t,o,r,n){this.loader_=void 0!==n?n:null;var i=void 0!==n?ol.ImageState.IDLE:ol.ImageState.LOADED;ol.ImageBase.call(this,e,t,o,i),this.canvas_=r,this.error_=null},ol.inherits(ol.ImageCanvas,ol.ImageBase),ol.ImageCanvas.prototype.getError=function(){return this.error_},ol.ImageCanvas.prototype.handleLoad_=function(e){e?(this.error_=e,this.state=ol.ImageState.ERROR):this.state=ol.ImageState.LOADED,this.changed()},ol.ImageCanvas.prototype.load=function(){this.state==ol.ImageState.IDLE&&(this.state=ol.ImageState.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))},ol.ImageCanvas.prototype.getImage=function(){return this.canvas_},goog.provide("ol.LayerType"),ol.LayerType={IMAGE:"IMAGE",TILE:"TILE",VECTOR_TILE:"VECTOR_TILE",VECTOR:"VECTOR"},goog.provide("ol.layer.VectorRenderType"),ol.layer.VectorRenderType={IMAGE:"image",VECTOR:"vector"},goog.provide("ol.render.Event"),goog.require("ol"),goog.require("ol.events.Event"),ol.render.Event=function(e,t,o,r,n){ol.events.Event.call(this,e),this.vectorContext=t,this.frameState=o,this.context=r,this.glContext=n},ol.inherits(ol.render.Event,ol.events.Event),goog.provide("ol.structs.LRUCache"),goog.require("ol"),goog.require("ol.asserts"),goog.require("ol.events.EventTarget"),goog.require("ol.events.EventType"),ol.structs.LRUCache=function(e){ol.events.EventTarget.call(this),this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},ol.inherits(ol.structs.LRUCache,ol.events.EventTarget),ol.structs.LRUCache.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},ol.structs.LRUCache.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(ol.events.EventType.CLEAR)},ol.structs.LRUCache.prototype.containsKey=function(e){return this.entries_.hasOwnProperty(e)},ol.structs.LRUCache.prototype.forEach=function(e,t){for(var o=this.oldest_;o;)e.call(t,o.value_,o.key_,this),o=o.newer},ol.structs.LRUCache.prototype.get=function(e){var t=this.entries_[e];return ol.asserts.assert(void 0!==t,15),t===this.newest_?t.value_:(t===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(t.newer.older=t.older,t.older.newer=t.newer),t.newer=null,t.older=this.newest_,this.newest_.newer=t,this.newest_=t,t.value_)},ol.structs.LRUCache.prototype.remove=function(e){var t=this.entries_[e];return ol.asserts.assert(void 0!==t,15),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_},ol.structs.LRUCache.prototype.getCount=function(){return this.count_},ol.structs.LRUCache.prototype.getKeys=function(){var e,t=new Array(this.count_),o=0;for(e=this.newest_;e;e=e.older)t[o++]=e.key_;return t},ol.structs.LRUCache.prototype.getValues=function(){var e,t=new Array(this.count_),o=0;for(e=this.newest_;e;e=e.older)t[o++]=e.value_;return t},ol.structs.LRUCache.prototype.peekLast=function(){return this.oldest_.value_},ol.structs.LRUCache.prototype.peekLastKey=function(){return this.oldest_.key_},ol.structs.LRUCache.prototype.peekFirstKey=function(){return this.newest_.key_},ol.structs.LRUCache.prototype.pop=function(){var e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_},ol.structs.LRUCache.prototype.replace=function(e,t){this.get(e),this.entries_[e].value_=t},ol.structs.LRUCache.prototype.set=function(e,t){ol.asserts.assert(!(e in this.entries_),16);var o={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=o:this.oldest_=o,this.newest_=o,this.entries_[e]=o,++this.count_},ol.structs.LRUCache.prototype.prune=function(){for(;this.canExpireCache();)this.pop()},goog.provide("ol.render.canvas"),goog.require("ol.css"),goog.require("ol.dom"),goog.require("ol.obj"),goog.require("ol.structs.LRUCache"),goog.require("ol.transform"),ol.render.canvas.defaultFont="10px sans-serif",ol.render.canvas.defaultFillStyle=[0,0,0,1],ol.render.canvas.defaultLineCap="round",ol.render.canvas.defaultLineDash=[],ol.render.canvas.defaultLineDashOffset=0,ol.render.canvas.defaultLineJoin="round",ol.render.canvas.defaultMiterLimit=10,ol.render.canvas.defaultStrokeStyle=[0,0,0,1],ol.render.canvas.defaultTextAlign="center",ol.render.canvas.defaultTextBaseline="middle",ol.render.canvas.defaultPadding=[0,0,0,0],ol.render.canvas.defaultLineWidth=1,ol.render.canvas.labelCache=new ol.structs.LRUCache,ol.render.canvas.checkedFonts_={},ol.render.canvas.measureContext_=null,ol.render.canvas.textHeights_={},ol.render.canvas.checkFont=function(){var e,t,o=60,r=ol.render.canvas.checkedFonts_,n=ol.render.canvas.labelCache,i="32px monospace",l="wmytzilWMYTZIL@#/&?$%10";function a(e){var o=ol.render.canvas.getMeasureContext();o.font=i,t=o.measureText(l).width;var r=!0;return"monospace"!=e&&(o.font="32px "+e+",monospace",r=o.measureText(l).width!=t),r}function s(){var t=!0;for(var i in r)r[i]<o&&(a(i)?(r[i]=o,ol.obj.clear(ol.render.canvas.textHeights_),ol.render.canvas.measureContext_=null,n.clear()):(++r[i],t=!1));t&&(window.clearInterval(e),e=void 0)}return function(t){var n=ol.css.getFontFamilies(t);if(n)for(var i=0,l=n.length;i<l;++i){var p=n[i];p in r||(r[p]=o,a(p)||(r[p]=0,void 0===e&&(e=window.setInterval(s,32))))}}}(),ol.render.canvas.getMeasureContext=function(){var e=ol.render.canvas.measureContext_;return e||(e=ol.render.canvas.measureContext_=ol.dom.createCanvasContext2D(1,1)),e},ol.render.canvas.measureTextHeight=(heights=ol.render.canvas.textHeights_,function(e){var t=heights[e];return void 0==t&&(span||((span=document.createElement("span")).textContent="M",span.style.margin=span.style.padding="0 !important",span.style.position="absolute !important",span.style.left="-99999px !important"),span.style.font=e,document.body.appendChild(span),t=heights[e]=span.offsetHeight,document.body.removeChild(span)),t}),ol.render.canvas.measureTextWidth=function(e,t){var o=ol.render.canvas.getMeasureContext();return e!=o.font&&(o.font=e),o.measureText(t).width},ol.render.canvas.rotateAtOffset=function(e,t,o,r){0!==t&&(e.translate(o,r),e.rotate(t),e.translate(-o,-r))},ol.render.canvas.resetTransform_=ol.transform.create(),ol.render.canvas.drawImage=function(e,t,o,r,n,i,l,a,s,p,u){var c;1!=o&&(e.globalAlpha=(c=e.globalAlpha)*o),t&&e.setTransform.apply(e,t),e.drawImage(r,n,i,l,a,s,p,l*u,a*u),c&&(e.globalAlpha=c),t&&e.setTransform.apply(e,ol.render.canvas.resetTransform_)},goog.provide("ol.color"),goog.require("ol.asserts"),goog.require("ol.math"),ol.color.HEX_COLOR_RE_=/^#(?:[0-9a-f]{3,4}){1,2}$/i,ol.color.NAMED_COLOR_RE_=/^([a-z]*)$/i,ol.color.asArray=function(e){return Array.isArray(e)?e:ol.color.fromString(e)},ol.color.asString=function(e){return"string"==typeof e?e:ol.color.toString(e)},ol.color.fromNamed=function(e){var t=document.createElement("div");t.style.color=e,document.body.appendChild(t);var o=getComputedStyle(t).color;return document.body.removeChild(t),o},ol.color.fromString=function(){var e={},t=0;return function(o){var r;if(e.hasOwnProperty(o))r=e[o];else{if(t>=1024){var n,i=0;for(n in e)0==(3&i++)&&(delete e[n],--t)}r=ol.color.fromStringInternal_(o),e[o]=r,++t}return r}}(),ol.color.fromStringInternal_=function(e){var t,o,r,n,i,l;if(ol.color.NAMED_COLOR_RE_.exec(e)&&(e=ol.color.fromNamed(e)),ol.color.HEX_COLOR_RE_.exec(e)){var a,s=e.length-1;a=s<=4?1:2;var p=4===s||8===s;t=parseInt(e.substr(1+0*a,a),16),o=parseInt(e.substr(1+1*a,a),16),r=parseInt(e.substr(1+2*a,a),16),n=p?parseInt(e.substr(1+3*a,a),16):255,1==a&&(t=(t<<4)+t,o=(o<<4)+o,r=(r<<4)+r,p&&(n=(n<<4)+n)),i=[t,o,r,n/255]}else 0==e.indexOf("rgba(")?(l=e.slice(5,-1).split(",").map(Number),i=ol.color.normalize(l)):0==e.indexOf("rgb(")?((l=e.slice(4,-1).split(",").map(Number)).push(1),i=ol.color.normalize(l)):ol.asserts.assert(!1,14);return i},ol.color.normalize=function(e,t){var o=t||[];return o[0]=ol.math.clamp(e[0]+.5|0,0,255),o[1]=ol.math.clamp(e[1]+.5|0,0,255),o[2]=ol.math.clamp(e[2]+.5|0,0,255),o[3]=ol.math.clamp(e[3],0,1),o},ol.color.toString=function(e){var t=e[0];t!=(0|t)&&(t=t+.5|0);var o=e[1];o!=(0|o)&&(o=o+.5|0);var r=e[2];return r!=(0|r)&&(r=r+.5|0),"rgba("+t+","+o+","+r+","+(void 0===e[3]?1:e[3])+")"},goog.provide("ol.colorlike"),goog.require("ol.color"),ol.colorlike.asColorLike=function(e){return ol.colorlike.isColorLike(e)?e:ol.color.asString(e)},ol.colorlike.isColorLike=function(e){return"string"==typeof e||e instanceof CanvasPattern||e instanceof CanvasGradient},goog.provide("ol.render.VectorContext"),ol.render.VectorContext=function(){},ol.render.VectorContext.prototype.drawCustom=function(e,t,o){},ol.render.VectorContext.prototype.drawGeometry=function(e){},ol.render.VectorContext.prototype.setStyle=function(e){},ol.render.VectorContext.prototype.drawCircle=function(e,t){},ol.render.VectorContext.prototype.drawFeature=function(e,t){},ol.render.VectorContext.prototype.drawGeometryCollection=function(e,t){},ol.render.VectorContext.prototype.drawLineString=function(e,t){},ol.render.VectorContext.prototype.drawMultiLineString=function(e,t){},ol.render.VectorContext.prototype.drawMultiPoint=function(e,t){},ol.render.VectorContext.prototype.drawMultiPolygon=function(e,t){},ol.render.VectorContext.prototype.drawPoint=function(e,t){},ol.render.VectorContext.prototype.drawPolygon=function(e,t){},ol.render.VectorContext.prototype.drawText=function(e,t){},ol.render.VectorContext.prototype.setFillStrokeStyle=function(e,t){},ol.render.VectorContext.prototype.setImageStyle=function(e,t){},ol.render.VectorContext.prototype.setTextStyle=function(e,t){},goog.provide("ol.render.canvas.Immediate"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.colorlike"),goog.require("ol.extent"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.geom.flat.transform"),goog.require("ol.has"),goog.require("ol.render.VectorContext"),goog.require("ol.render.canvas"),goog.require("ol.transform"),ol.render.canvas.Immediate=function(e,t,o,r,n){ol.render.VectorContext.call(this),this.context_=e,this.pixelRatio_=t,this.extent_=o,this.transform_=r,this.viewRotation_=n,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=0,this.imageSnapToPixel_=!1,this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=0,this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=ol.transform.create()},ol.inherits(ol.render.canvas.Immediate,ol.render.VectorContext),ol.render.canvas.Immediate.prototype.drawImages_=function(e,t,o,r){if(this.image_){var n=ol.geom.flat.transform.transform2D(e,t,o,2,this.transform_,this.pixelCoordinates_),i=this.context_,l=this.tmpLocalTransform_,a=i.globalAlpha;1!=this.imageOpacity_&&(i.globalAlpha=a*this.imageOpacity_);var s,p,u=this.imageRotation_;for(this.imageRotateWithView_&&(u+=this.viewRotation_),s=0,p=n.length;s<p;s+=2){var c=n[s]-this.imageAnchorX_,g=n[s+1]-this.imageAnchorY_;if(this.imageSnapToPixel_&&(c=Math.round(c),g=Math.round(g)),0!==u||1!=this.imageScale_){var d=c+this.imageAnchorX_,h=g+this.imageAnchorY_;ol.transform.compose(l,d,h,this.imageScale_,this.imageScale_,u,-d,-h),i.setTransform.apply(i,l)}i.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,c,g,this.imageWidth_,this.imageHeight_)}0===u&&1==this.imageScale_||i.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(i.globalAlpha=a)}},ol.render.canvas.Immediate.prototype.drawText_=function(e,t,o,r){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var n=ol.geom.flat.transform.transform2D(e,t,o,r,this.transform_,this.pixelCoordinates_),i=this.context_,l=this.textRotation_;for(this.textRotateWithView_&&(l+=this.viewRotation_);t<o;t+=r){var a=n[t]+this.textOffsetX_,s=n[t+1]+this.textOffsetY_;if(0!==l||1!=this.textScale_){var p=ol.transform.compose(this.tmpLocalTransform_,a,s,this.textScale_,this.textScale_,l,-a,-s);i.setTransform.apply(i,p)}this.textStrokeState_&&i.strokeText(this.text_,a,s),this.textFillState_&&i.fillText(this.text_,a,s)}0===l&&1==this.textScale_||i.setTransform(1,0,0,1,0,0)}},ol.render.canvas.Immediate.prototype.moveToLineTo_=function(e,t,o,r,n){var i=this.context_,l=ol.geom.flat.transform.transform2D(e,t,o,r,this.transform_,this.pixelCoordinates_);i.moveTo(l[0],l[1]);var a=l.length;n&&(a-=2);for(var s=2;s<a;s+=2)i.lineTo(l[s],l[s+1]);return n&&i.closePath(),o},ol.render.canvas.Immediate.prototype.drawRings_=function(e,t,o,r){var n,i;for(n=0,i=o.length;n<i;++n)t=this.moveToLineTo_(e,t,o[n],r,!0);return t},ol.render.canvas.Immediate.prototype.drawCircle=function(e){if(ol.extent.intersects(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var t=ol.geom.SimpleGeometry.transform2D(e,this.transform_,this.pixelCoordinates_),o=t[2]-t[0],r=t[3]-t[1],n=Math.sqrt(o*o+r*r),i=this.context_;i.beginPath(),i.arc(t[0],t[1],n,0,2*Math.PI),this.fillState_&&i.fill(),this.strokeState_&&i.stroke()}""!==this.text_&&this.drawText_(e.getCenter(),0,2,2)}},ol.render.canvas.Immediate.prototype.setStyle=function(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())},ol.render.canvas.Immediate.prototype.drawGeometry=function(e){switch(e.getType()){case ol.geom.GeometryType.POINT:this.drawPoint(e);break;case ol.geom.GeometryType.LINE_STRING:this.drawLineString(e);break;case ol.geom.GeometryType.POLYGON:this.drawPolygon(e);break;case ol.geom.GeometryType.MULTI_POINT:this.drawMultiPoint(e);break;case ol.geom.GeometryType.MULTI_LINE_STRING:this.drawMultiLineString(e);break;case ol.geom.GeometryType.MULTI_POLYGON:this.drawMultiPolygon(e);break;case ol.geom.GeometryType.GEOMETRY_COLLECTION:this.drawGeometryCollection(e);break;case ol.geom.GeometryType.CIRCLE:this.drawCircle(e)}},ol.render.canvas.Immediate.prototype.drawFeature=function(e,t){var o=t.getGeometryFunction()(e);o&&ol.extent.intersects(this.extent_,o.getExtent())&&(this.setStyle(t),this.drawGeometry(o))},ol.render.canvas.Immediate.prototype.drawGeometryCollection=function(e){var t,o,r=e.getGeometriesArray();for(t=0,o=r.length;t<o;++t)this.drawGeometry(r[t])},ol.render.canvas.Immediate.prototype.drawPoint=function(e){var t=e.getFlatCoordinates(),o=e.getStride();this.image_&&this.drawImages_(t,0,t.length,o),""!==this.text_&&this.drawText_(t,0,t.length,o)},ol.render.canvas.Immediate.prototype.drawMultiPoint=function(e){var t=e.getFlatCoordinates(),o=e.getStride();this.image_&&this.drawImages_(t,0,t.length,o),""!==this.text_&&this.drawText_(t,0,t.length,o)},ol.render.canvas.Immediate.prototype.drawLineString=function(e){if(ol.extent.intersects(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var t=this.context_,o=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(o,0,o.length,e.getStride(),!1),t.stroke()}if(""!==this.text_){var r=e.getFlatMidpoint();this.drawText_(r,0,2,2)}}},ol.render.canvas.Immediate.prototype.drawMultiLineString=function(e){var t=e.getExtent();if(ol.extent.intersects(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var o,r,n=this.context_,i=e.getFlatCoordinates(),l=0,a=e.getEnds(),s=e.getStride();for(n.beginPath(),o=0,r=a.length;o<r;++o)l=this.moveToLineTo_(i,l,a[o],s,!1);n.stroke()}if(""!==this.text_){var p=e.getFlatMidpoints();this.drawText_(p,0,p.length,2)}}},ol.render.canvas.Immediate.prototype.drawPolygon=function(e){if(ol.extent.intersects(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(""!==this.text_){var o=e.getFlatInteriorPoint();this.drawText_(o,0,2,2)}}},ol.render.canvas.Immediate.prototype.drawMultiPolygon=function(e){if(ol.extent.intersects(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var t,o,r=this.context_,n=e.getOrientedFlatCoordinates(),i=0,l=e.getEndss(),a=e.getStride();for(r.beginPath(),t=0,o=l.length;t<o;++t)i=this.drawRings_(n,i,l[t],a);this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}if(""!==this.text_){var s=e.getFlatInteriorPoints();this.drawText_(s,0,s.length,2)}}},ol.render.canvas.Immediate.prototype.setContextFillState_=function(e){var t=this.context_,o=this.contextFillState_;o?o.fillStyle!=e.fillStyle&&(o.fillStyle=t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})},ol.render.canvas.Immediate.prototype.setContextStrokeState_=function(e){var t=this.context_,o=this.contextStrokeState_;o?(o.lineCap!=e.lineCap&&(o.lineCap=t.lineCap=e.lineCap),ol.has.CANVAS_LINE_DASH&&(ol.array.equals(o.lineDash,e.lineDash)||t.setLineDash(o.lineDash=e.lineDash),o.lineDashOffset!=e.lineDashOffset&&(o.lineDashOffset=t.lineDashOffset=e.lineDashOffset)),o.lineJoin!=e.lineJoin&&(o.lineJoin=t.lineJoin=e.lineJoin),o.lineWidth!=e.lineWidth&&(o.lineWidth=t.lineWidth=e.lineWidth),o.miterLimit!=e.miterLimit&&(o.miterLimit=t.miterLimit=e.miterLimit),o.strokeStyle!=e.strokeStyle&&(o.strokeStyle=t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,ol.has.CANVAS_LINE_DASH&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})},ol.render.canvas.Immediate.prototype.setContextTextState_=function(e){var t=this.context_,o=this.contextTextState_,r=e.textAlign?e.textAlign:ol.render.canvas.defaultTextAlign;o?(o.font!=e.font&&(o.font=t.font=e.font),o.textAlign!=r&&(o.textAlign=r),o.textBaseline!=e.textBaseline&&(o.textBaseline=t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=r,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:r,textBaseline:e.textBaseline})},ol.render.canvas.Immediate.prototype.setFillStrokeStyle=function(e,t){if(e){var o=e.getColor();this.fillState_={fillStyle:ol.colorlike.asColorLike(o||ol.render.canvas.defaultFillStyle)}}else this.fillState_=null;if(t){var r=t.getColor(),n=t.getLineCap(),i=t.getLineDash(),l=t.getLineDashOffset(),a=t.getLineJoin(),s=t.getWidth(),p=t.getMiterLimit();this.strokeState_={lineCap:void 0!==n?n:ol.render.canvas.defaultLineCap,lineDash:i||ol.render.canvas.defaultLineDash,lineDashOffset:l||ol.render.canvas.defaultLineDashOffset,lineJoin:void 0!==a?a:ol.render.canvas.defaultLineJoin,lineWidth:this.pixelRatio_*(void 0!==s?s:ol.render.canvas.defaultLineWidth),miterLimit:void 0!==p?p:ol.render.canvas.defaultMiterLimit,strokeStyle:ol.colorlike.asColorLike(r||ol.render.canvas.defaultStrokeStyle)}}else this.strokeState_=null},ol.render.canvas.Immediate.prototype.setImageStyle=function(e){if(e){var t=e.getAnchor(),o=e.getImage(1),r=e.getOrigin(),n=e.getSize();this.imageAnchorX_=t[0],this.imageAnchorY_=t[1],this.imageHeight_=n[1],this.image_=o,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation(),this.imageScale_=e.getScale()*this.pixelRatio_,this.imageSnapToPixel_=e.getSnapToPixel(),this.imageWidth_=n[0]}else this.image_=null},ol.render.canvas.Immediate.prototype.setTextStyle=function(e){if(e){var t=e.getFill();if(t){var o=t.getColor();this.textFillState_={fillStyle:ol.colorlike.asColorLike(o||ol.render.canvas.defaultFillStyle)}}else this.textFillState_=null;var r=e.getStroke();if(r){var n=r.getColor(),i=r.getLineCap(),l=r.getLineDash(),a=r.getLineDashOffset(),s=r.getLineJoin(),p=r.getWidth(),u=r.getMiterLimit();this.textStrokeState_={lineCap:void 0!==i?i:ol.render.canvas.defaultLineCap,lineDash:l||ol.render.canvas.defaultLineDash,lineDashOffset:a||ol.render.canvas.defaultLineDashOffset,lineJoin:void 0!==s?s:ol.render.canvas.defaultLineJoin,lineWidth:void 0!==p?p:ol.render.canvas.defaultLineWidth,miterLimit:void 0!==u?u:ol.render.canvas.defaultMiterLimit,strokeStyle:ol.colorlike.asColorLike(n||ol.render.canvas.defaultStrokeStyle)}}else this.textStrokeState_=null;var c=e.getFont(),g=e.getOffsetX(),d=e.getOffsetY(),h=e.getRotateWithView(),y=e.getRotation(),f=e.getScale(),m=e.getText(),v=e.getTextAlign(),_=e.getTextBaseline();this.textState_={font:void 0!==c?c:ol.render.canvas.defaultFont,textAlign:void 0!==v?v:ol.render.canvas.defaultTextAlign,textBaseline:void 0!==_?_:ol.render.canvas.defaultTextBaseline},this.text_=void 0!==m?m:"",this.textOffsetX_=void 0!==g?this.pixelRatio_*g:0,this.textOffsetY_=void 0!==d?this.pixelRatio_*d:0,this.textRotateWithView_=void 0!==h&&h,this.textRotation_=void 0!==y?y:0,this.textScale_=this.pixelRatio_*(void 0!==f?f:1)}else this.text_=""},goog.provide("ol.renderer.Layer"),goog.require("ol"),goog.require("ol.ImageState"),goog.require("ol.Observable"),goog.require("ol.TileState"),goog.require("ol.asserts"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.functions"),goog.require("ol.source.State"),ol.renderer.Layer=function(e){ol.Observable.call(this),this.layer_=e},ol.inherits(ol.renderer.Layer,ol.Observable),ol.renderer.Layer.prototype.forEachFeatureAtCoordinate=ol.nullFunction,ol.renderer.Layer.prototype.hasFeatureAtCoordinate=ol.functions.FALSE,ol.renderer.Layer.prototype.createLoadedTileFinder=function(e,t,o){return function(r,n){return e.forEachLoadedTile(t,r,n,function(e){o[r]||(o[r]={}),o[r][e.tileCoord.toString()]=e})}},ol.renderer.Layer.prototype.getLayer=function(){return this.layer_},ol.renderer.Layer.prototype.handleImageChange_=function(e){e.target.getState()===ol.ImageState.LOADED&&this.renderIfReadyAndVisible()},ol.renderer.Layer.prototype.loadImage=function(e){var t=e.getState();return t!=ol.ImageState.LOADED&&t!=ol.ImageState.ERROR&&ol.events.listen(e,ol.events.EventType.CHANGE,this.handleImageChange_,this),t==ol.ImageState.IDLE&&(e.load(),t=e.getState()),t==ol.ImageState.LOADED},ol.renderer.Layer.prototype.renderIfReadyAndVisible=function(){var e=this.getLayer();e.getVisible()&&e.getSourceState()==ol.source.State.READY&&this.changed()},ol.renderer.Layer.prototype.scheduleExpireCache=function(e,t){if(t.canExpireCache()){var o=(function(e,t,o){var r=ol.getUid(e).toString();r in o.usedTiles&&e.expireCache(o.viewState.projection,o.usedTiles[r])}).bind(null,t);e.postRenderFunctions.push(o)}},ol.renderer.Layer.prototype.updateLogos=function(e,t){var o=t.getLogo();void 0!==o&&("string"==typeof o?e.logos[o]="":o&&(ol.asserts.assert("string"==typeof o.href,44),ol.asserts.assert("string"==typeof o.src,45),e.logos[o.src]=o.href))},ol.renderer.Layer.prototype.updateUsedTiles=function(e,t,o,r){var n=ol.getUid(t).toString(),i=o.toString();n in e?i in e[n]?e[n][i].extend(r):e[n][i]=r:(e[n]={},e[n][i]=r)},ol.renderer.Layer.prototype.manageTilePyramid=function(e,t,o,r,n,i,l,a,s,p){var u=ol.getUid(t).toString();u in e.wantedTiles||(e.wantedTiles[u]={});var c,g,d,h,y,f,m=e.wantedTiles[u],v=e.tileQueue;for(f=o.getMinZoom();f<=l;++f)for(g=o.getTileRangeForExtentAndZ(i,f,g),d=o.getResolution(f),h=g.minX;h<=g.maxX;++h)for(y=g.minY;y<=g.maxY;++y)l-f<=a?((c=t.getTile(f,h,y,r,n)).getState()==ol.TileState.IDLE&&(m[c.getKey()]=!0,v.isKeyQueued(c.getKey())||v.enqueue([c,u,o.getTileCoordCenter(c.tileCoord),d])),void 0!==s&&s.call(p,c)):t.useTile(f,h,y,n)},goog.provide("ol.renderer.canvas.Layer"),goog.require("ol"),goog.require("ol.extent"),goog.require("ol.functions"),goog.require("ol.render.Event"),goog.require("ol.render.EventType"),goog.require("ol.render.canvas"),goog.require("ol.render.canvas.Immediate"),goog.require("ol.renderer.Layer"),goog.require("ol.transform"),ol.renderer.canvas.Layer=function(e){ol.renderer.Layer.call(this,e),this.transform_=ol.transform.create()},ol.inherits(ol.renderer.canvas.Layer,ol.renderer.Layer),ol.renderer.canvas.Layer.prototype.clip=function(e,t,o){var r=t.pixelRatio,n=t.size[0]*r,i=t.size[1]*r,l=t.viewState.rotation,a=ol.extent.getTopLeft(o),s=ol.extent.getTopRight(o),p=ol.extent.getBottomRight(o),u=ol.extent.getBottomLeft(o);ol.transform.apply(t.coordinateToPixelTransform,a),ol.transform.apply(t.coordinateToPixelTransform,s),ol.transform.apply(t.coordinateToPixelTransform,p),ol.transform.apply(t.coordinateToPixelTransform,u),e.save(),ol.render.canvas.rotateAtOffset(e,-l,n/2,i/2),e.beginPath(),e.moveTo(a[0]*r,a[1]*r),e.lineTo(s[0]*r,s[1]*r),e.lineTo(p[0]*r,p[1]*r),e.lineTo(u[0]*r,u[1]*r),e.clip(),ol.render.canvas.rotateAtOffset(e,l,n/2,i/2)},ol.renderer.canvas.Layer.prototype.dispatchComposeEvent_=function(e,t,o,r){var n=this.getLayer();if(n.hasListener(e)){var i=o.size[0]*o.pixelRatio,l=o.size[1]*o.pixelRatio,a=o.viewState.rotation;ol.render.canvas.rotateAtOffset(t,-a,i/2,l/2);var s=void 0!==r?r:this.getTransform(o,0),p=new ol.render.canvas.Immediate(t,o.pixelRatio,o.extent,s,o.viewState.rotation),u=new ol.render.Event(e,p,o,t,null);n.dispatchEvent(u),ol.render.canvas.rotateAtOffset(t,a,i/2,l/2)}},ol.renderer.canvas.Layer.prototype.forEachLayerAtCoordinate=function(e,t,o,r){return this.forEachFeatureAtCoordinate(e,t,0,ol.functions.TRUE,this)?o.call(r,this.getLayer(),null):void 0},ol.renderer.canvas.Layer.prototype.postCompose=function(e,t,o,r){this.dispatchComposeEvent_(ol.render.EventType.POSTCOMPOSE,e,t,r)},ol.renderer.canvas.Layer.prototype.preCompose=function(e,t,o){this.dispatchComposeEvent_(ol.render.EventType.PRECOMPOSE,e,t,o)},ol.renderer.canvas.Layer.prototype.dispatchRenderEvent=function(e,t,o){this.dispatchComposeEvent_(ol.render.EventType.RENDER,e,t,o)},ol.renderer.canvas.Layer.prototype.getTransform=function(e,t){var o=e.viewState,r=e.pixelRatio,n=r/o.resolution;return ol.transform.compose(this.transform_,r*e.size[0]/2,r*e.size[1]/2,n,-n,-o.rotation,-o.center[0]+t,-o.center[1])},ol.renderer.canvas.Layer.prototype.composeFrame=function(e,t,o){},ol.renderer.canvas.Layer.prototype.prepareFrame=function(e,t){},goog.provide("ol.renderer.canvas.IntermediateCanvas"),goog.require("ol"),goog.require("ol.coordinate"),goog.require("ol.dom"),goog.require("ol.extent"),goog.require("ol.renderer.canvas.Layer"),goog.require("ol.transform"),ol.renderer.canvas.IntermediateCanvas=function(e){ol.renderer.canvas.Layer.call(this,e),this.coordinateToCanvasPixelTransform=ol.transform.create(),this.hitCanvasContext_=null},ol.inherits(ol.renderer.canvas.IntermediateCanvas,ol.renderer.canvas.Layer),ol.renderer.canvas.IntermediateCanvas.prototype.composeFrame=function(e,t,o){this.preCompose(o,e);var r=this.getImage();if(r){var n=t.extent,i=void 0!==n&&!ol.extent.containsExtent(n,e.extent)&&ol.extent.intersects(n,e.extent);i&&this.clip(o,e,n);var l=this.getImageTransform(),a=o.globalAlpha;o.globalAlpha=t.opacity;var s=l[5],p=r.width*l[0],u=r.height*l[3];o.drawImage(r,0,0,+r.width,+r.height,Math.round(l[4]),Math.round(s),Math.round(p),Math.round(u)),o.globalAlpha=a,i&&o.restore()}this.postCompose(o,e,t)},ol.renderer.canvas.IntermediateCanvas.prototype.getImage=function(){},ol.renderer.canvas.IntermediateCanvas.prototype.getImageTransform=function(){},ol.renderer.canvas.IntermediateCanvas.prototype.forEachFeatureAtCoordinate=function(e,t,o,r,n){var i=this.getLayer();return i.getSource().forEachFeatureAtCoordinate(e,t.viewState.resolution,t.viewState.rotation,o,t.skippedFeatureUids,function(e){return r.call(n,e,i)})},ol.renderer.canvas.IntermediateCanvas.prototype.forEachLayerAtCoordinate=function(e,t,o,r){if(this.getImage()){if(this.getLayer().getSource().forEachFeatureAtCoordinate!==ol.nullFunction)return ol.renderer.canvas.Layer.prototype.forEachLayerAtCoordinate.apply(this,arguments);var n=ol.transform.apply(this.coordinateToCanvasPixelTransform,e.slice());ol.coordinate.scale(n,t.viewState.resolution/this.renderedResolution),this.hitCanvasContext_||(this.hitCanvasContext_=ol.dom.createCanvasContext2D(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.getImage(),n[0],n[1],1,1,0,0,1,1);var i=this.hitCanvasContext_.getImageData(0,0,1,1).data;return i[3]>0?o.call(r,this.getLayer(),i):void 0}},goog.provide("ol.renderer.canvas.ImageLayer"),goog.require("ol"),goog.require("ol.ImageCanvas"),goog.require("ol.LayerType"),goog.require("ol.ViewHint"),goog.require("ol.array"),goog.require("ol.extent"),goog.require("ol.layer.VectorRenderType"),goog.require("ol.obj"),goog.require("ol.plugins"),goog.require("ol.renderer.Type"),goog.require("ol.renderer.canvas.IntermediateCanvas"),goog.require("ol.transform"),ol.renderer.canvas.ImageLayer=function(e){ol.renderer.canvas.IntermediateCanvas.call(this,e),this.image_=null,this.imageTransform_=ol.transform.create(),this.skippedFeatures_=[],this.vectorRenderer_=null},ol.inherits(ol.renderer.canvas.ImageLayer,ol.renderer.canvas.IntermediateCanvas),ol.renderer.canvas.ImageLayer.handles=function(e,t){return e===ol.renderer.Type.CANVAS&&(t.getType()===ol.LayerType.IMAGE||t.getType()===ol.LayerType.VECTOR&&t.getRenderMode()===ol.layer.VectorRenderType.IMAGE)},ol.renderer.canvas.ImageLayer.create=function(e,t){var o=new ol.renderer.canvas.ImageLayer(t);if(t.getType()===ol.LayerType.VECTOR)for(var r=ol.plugins.getLayerRendererPlugins(),n=0,i=r.length;n<i;++n){var l=r[n];l!==ol.renderer.canvas.ImageLayer&&l.handles(ol.renderer.Type.CANVAS,t)&&o.setVectorRenderer(l.create(e,t))}return o},ol.renderer.canvas.ImageLayer.prototype.getImage=function(){return this.image_?this.image_.getImage():null},ol.renderer.canvas.ImageLayer.prototype.getImageTransform=function(){return this.imageTransform_},ol.renderer.canvas.ImageLayer.prototype.prepareFrame=function(e,t){var o,r=e.pixelRatio,n=e.size,i=e.viewState,l=i.center,a=i.resolution,s=this.getLayer().getSource(),p=e.viewHints,u=e.extent;if(void 0!==t.extent&&(u=ol.extent.getIntersection(u,t.extent)),!p[ol.ViewHint.ANIMATING]&&!p[ol.ViewHint.INTERACTING]&&!ol.extent.isEmpty(u)){var c=i.projection;if(!ol.ENABLE_RASTER_REPROJECTION){var g=s.getProjection();g&&(c=g)}var d=this.vectorRenderer_;if(d){var h=d.context,y=ol.obj.assign({},e,{size:[ol.extent.getWidth(u)/a,ol.extent.getHeight(u)/a],viewState:ol.obj.assign({},e.viewState,{rotation:0})}),f=Object.keys(y.skippedFeatureUids).sort();!d.prepareFrame(y,t)||!d.replayGroupChanged&&ol.array.equals(f,this.skippedFeatures_)||(h.canvas.width=y.size[0]*r,h.canvas.height=y.size[1]*r,d.composeFrame(y,t,h),this.image_=new ol.ImageCanvas(u,a,r,h.canvas),this.skippedFeatures_=f)}else(o=s.getImage(u,a,r,c))&&this.loadImage(o)&&(this.image_=o)}if(this.image_){var m=(o=this.image_).getExtent(),v=o.getResolution(),_=o.getPixelRatio(),S=r*v/(a*_),x=ol.transform.compose(this.imageTransform_,r*n[0]/2,r*n[1]/2,S,S,0,_*(m[0]-l[0])/v,_*(l[1]-m[3])/v);ol.transform.compose(this.coordinateToCanvasPixelTransform,r*n[0]/2-x[4],r*n[1]/2-x[5],r/a,-r/a,0,-l[0],-l[1]),this.updateLogos(e,s),this.renderedResolution=v*r/_}return!!this.image_},ol.renderer.canvas.ImageLayer.prototype.forEachFeatureAtCoordinate=function(e,t,o,r,n){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(e,t,o,r,n):ol.renderer.canvas.IntermediateCanvas.prototype.forEachFeatureAtCoordinate.call(this,e,t,o,r,n)},ol.renderer.canvas.ImageLayer.prototype.setVectorRenderer=function(e){this.vectorRenderer_=e},goog.provide("ol.style.IconImageCache"),goog.require("ol.color"),ol.style.IconImageCache=function(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32},ol.style.IconImageCache.getKey=function(e,t,o){return t+":"+e+":"+(o?ol.color.asString(o):"null")},ol.style.IconImageCache.prototype.clear=function(){this.cache_={},this.cacheSize_=0},ol.style.IconImageCache.prototype.expire=function(){if(this.cacheSize_>this.maxCacheSize_){var e,t=0;for(e in this.cache_)0!=(3&t++)||this.cache_[e].hasListener()||(delete this.cache_[e],--this.cacheSize_)}},ol.style.IconImageCache.prototype.get=function(e,t,o){var r=ol.style.IconImageCache.getKey(e,t,o);return r in this.cache_?this.cache_[r]:null},ol.style.IconImageCache.prototype.set=function(e,t,o,r){var n=ol.style.IconImageCache.getKey(e,t,o);this.cache_[n]=r,++this.cacheSize_},ol.style.IconImageCache.prototype.setSize=function(e){this.maxCacheSize_=e,this.expire()},goog.provide("ol.style"),goog.require("ol.style.IconImageCache"),ol.style.iconImageCache=new ol.style.IconImageCache,goog.provide("ol.renderer.Map"),goog.require("ol"),goog.require("ol.Disposable"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.extent"),goog.require("ol.functions"),goog.require("ol.layer.Layer"),goog.require("ol.plugins"),goog.require("ol.style"),goog.require("ol.transform"),ol.renderer.Map=function(e,t){ol.Disposable.call(this),this.map_=t,this.layerRenderers_={},this.layerRendererListeners_={}},ol.inherits(ol.renderer.Map,ol.Disposable),ol.renderer.Map.prototype.calculateMatrices2D=function(e){var t=e.viewState,o=e.coordinateToPixelTransform,r=e.pixelToCoordinateTransform;ol.transform.compose(o,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),ol.transform.invert(ol.transform.setFromArray(r,o))},ol.renderer.Map.prototype.removeLayerRenderers=function(){for(var e in this.layerRenderers_)this.removeLayerRendererByKey_(e).dispose()},ol.renderer.Map.expireIconCache_=function(e,t){ol.style.iconImageCache.expire()},ol.renderer.Map.prototype.forEachFeatureAtCoordinate=function(e,t,o,r,n,i,l){var a,s=t.viewState,p=s.resolution;function u(e,o){var i=ol.getUid(e).toString(),l=t.layerStates[ol.getUid(o)].managed;if(!(i in t.skippedFeatureUids)||l)return r.call(n,e,l?o:null)}var c=s.projection,g=e;if(c.canWrapX()){var d=c.getExtent(),h=ol.extent.getWidth(d),y=e[0];(y<d[0]||y>d[2])&&(g=[y+h*Math.ceil((d[0]-y)/h),e[1]])}var f,m=t.layerStatesArray;for(f=m.length-1;f>=0;--f){var v=m[f],_=v.layer;if(ol.layer.Layer.visibleAtResolution(v,p)&&i.call(l,_)){var S=this.getLayerRenderer(_);if(_.getSource()&&(a=S.forEachFeatureAtCoordinate(_.getSource().getWrapX()?g:e,t,o,u,n)),a)return a}}},ol.renderer.Map.prototype.forEachLayerAtPixel=function(e,t,o,r,n,i){},ol.renderer.Map.prototype.hasFeatureAtCoordinate=function(e,t,o,r,n){return void 0!==this.forEachFeatureAtCoordinate(e,t,o,ol.functions.TRUE,this,r,n)},ol.renderer.Map.prototype.getLayerRenderer=function(e){var t=ol.getUid(e).toString();if(t in this.layerRenderers_)return this.layerRenderers_[t];for(var o,r=ol.plugins.getLayerRendererPlugins(),n=this.getType(),i=0,l=r.length;i<l;++i){var a=r[i];if(a.handles(n,e)){o=a.create(this,e);break}}if(!o)throw new Error("Unable to create renderer for layer: "+e.getType());return this.layerRenderers_[t]=o,this.layerRendererListeners_[t]=ol.events.listen(o,ol.events.EventType.CHANGE,this.handleLayerRendererChange_,this),o},ol.renderer.Map.prototype.getLayerRendererByKey=function(e){return this.layerRenderers_[e]},ol.renderer.Map.prototype.getLayerRenderers=function(){return this.layerRenderers_},ol.renderer.Map.prototype.getMap=function(){return this.map_},ol.renderer.Map.prototype.getType=function(){},ol.renderer.Map.prototype.handleLayerRendererChange_=function(){this.map_.render()},ol.renderer.Map.prototype.removeLayerRendererByKey_=function(e){var t=this.layerRenderers_[e];return delete this.layerRenderers_[e],ol.events.unlistenByKey(this.layerRendererListeners_[e]),delete this.layerRendererListeners_[e],t},ol.renderer.Map.prototype.renderFrame=ol.nullFunction,ol.renderer.Map.prototype.removeUnusedLayerRenderers_=function(e,t){var o;for(o in this.layerRenderers_)t&&o in t.layerStates||this.removeLayerRendererByKey_(o).dispose()},ol.renderer.Map.prototype.scheduleExpireIconCache=function(e){e.postRenderFunctions.push(ol.renderer.Map.expireIconCache_)},ol.renderer.Map.prototype.scheduleRemoveUnusedLayerRenderers=function(e){var t;for(t in this.layerRenderers_)if(!(t in e.layerStates))return void e.postRenderFunctions.push(this.removeUnusedLayerRenderers_.bind(this))},ol.renderer.Map.sortByZIndex=function(e,t){return e.zIndex-t.zIndex},goog.provide("ol.renderer.canvas.Map"),goog.require("ol.transform"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.css"),goog.require("ol.dom"),goog.require("ol.layer.Layer"),goog.require("ol.render.Event"),goog.require("ol.render.EventType"),goog.require("ol.render.canvas"),goog.require("ol.render.canvas.Immediate"),goog.require("ol.renderer.Map"),goog.require("ol.renderer.Type"),goog.require("ol.source.State"),ol.renderer.canvas.Map=function(e,t){ol.renderer.Map.call(this,e,t),this.context_=ol.dom.createCanvasContext2D(),this.canvas_=this.context_.canvas,this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=ol.css.CLASS_UNSELECTABLE,e.insertBefore(this.canvas_,e.childNodes[0]||null),this.renderedVisible_=!0,this.transform_=ol.transform.create()},ol.inherits(ol.renderer.canvas.Map,ol.renderer.Map),ol.renderer.canvas.Map.handles=function(e){return e===ol.renderer.Type.CANVAS},ol.renderer.canvas.Map.create=function(e,t){return new ol.renderer.canvas.Map(e,t)},ol.renderer.canvas.Map.prototype.dispatchComposeEvent_=function(e,t){var o=this.getMap(),r=this.context_;if(o.hasListener(e)){var n=t.extent,i=t.pixelRatio,l=t.viewState.rotation,a=this.getTransform(t),s=new ol.render.canvas.Immediate(r,i,n,a,l),p=new ol.render.Event(e,s,t,r,null);o.dispatchEvent(p)}},ol.renderer.canvas.Map.prototype.getTransform=function(e){var t=e.viewState,o=e.pixelRatio/t.resolution;return ol.transform.compose(this.transform_,this.canvas_.width/2,this.canvas_.height/2,o,-o,-t.rotation,-t.center[0],-t.center[1])},ol.renderer.canvas.Map.prototype.getType=function(){return ol.renderer.Type.CANVAS},ol.renderer.canvas.Map.prototype.renderFrame=function(e){if(e){var t=this.context_,o=e.pixelRatio,r=Math.round(e.size[0]*o),n=Math.round(e.size[1]*o);this.canvas_.width!=r||this.canvas_.height!=n?(this.canvas_.width=r,this.canvas_.height=n):t.clearRect(0,0,r,n);var i=e.viewState.rotation;this.calculateMatrices2D(e),this.dispatchComposeEvent_(ol.render.EventType.PRECOMPOSE,e);var l=e.layerStatesArray;ol.array.stableSort(l,ol.renderer.Map.sortByZIndex),i&&(t.save(),ol.render.canvas.rotateAtOffset(t,i,r/2,n/2));var a,s,p,u,c=e.viewState.resolution;for(a=0,s=l.length;a<s;++a)p=this.getLayerRenderer((u=l[a]).layer),ol.layer.Layer.visibleAtResolution(u,c)&&u.sourceState==ol.source.State.READY&&p.prepareFrame(e,u)&&p.composeFrame(e,u,t);i&&t.restore(),this.dispatchComposeEvent_(ol.render.EventType.POSTCOMPOSE,e),this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.scheduleRemoveUnusedLayerRenderers(e),this.scheduleExpireIconCache(e)}else this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1)},ol.renderer.canvas.Map.prototype.forEachLayerAtPixel=function(e,t,o,r,n,i){var l,a,s=t.viewState.resolution,p=t.layerStatesArray,u=p.length,c=ol.transform.apply(t.pixelToCoordinateTransform,e.slice());for(a=u-1;a>=0;--a){var g=p[a],d=g.layer;if(ol.layer.Layer.visibleAtResolution(g,s)&&n.call(i,d)&&(l=this.getLayerRenderer(d).forEachLayerAtCoordinate(c,t,o,r)))return l}},goog.provide("ol.renderer.canvas.TileLayer"),goog.require("ol"),goog.require("ol.LayerType"),goog.require("ol.TileRange"),goog.require("ol.TileState"),goog.require("ol.ViewHint"),goog.require("ol.dom"),goog.require("ol.extent"),goog.require("ol.renderer.Type"),goog.require("ol.renderer.canvas.IntermediateCanvas"),goog.require("ol.transform"),ol.renderer.canvas.TileLayer=function(e){ol.renderer.canvas.IntermediateCanvas.call(this,e),this.context=null===this.context?null:ol.dom.createCanvasContext2D(),this.renderedExtent_=null,this.renderedTiles=[],this.tmpExtent=ol.extent.createEmpty(),this.tmpTileRange_=new ol.TileRange(0,0,0,0),this.imageTransform_=ol.transform.create(),this.zDirection=0},ol.inherits(ol.renderer.canvas.TileLayer,ol.renderer.canvas.IntermediateCanvas),ol.renderer.canvas.TileLayer.handles=function(e,t){return e===ol.renderer.Type.CANVAS&&t.getType()===ol.LayerType.TILE},ol.renderer.canvas.TileLayer.create=function(e,t){return new ol.renderer.canvas.TileLayer(t)},ol.renderer.canvas.TileLayer.prototype.isDrawableTile_=function(e){var t=e.getState(),o=this.getLayer().getUseInterimTilesOnError();return t==ol.TileState.LOADED||t==ol.TileState.EMPTY||t==ol.TileState.ERROR&&!o},ol.renderer.canvas.TileLayer.prototype.prepareFrame=function(e,t){var o=e.pixelRatio,r=e.size,n=e.viewState,i=n.projection,l=n.resolution,a=n.center,s=this.getLayer(),p=s.getSource(),u=p.getRevision(),c=p.getTileGridForProjection(i),g=c.getZForResolution(l,this.zDirection),d=c.getResolution(g),h=Math.round(l/d)||1,y=e.extent;if(void 0!==t.extent&&(y=ol.extent.getIntersection(y,t.extent)),ol.extent.isEmpty(y))return!1;var f=c.getTileRangeForExtentAndZ(y,g),m=c.getTileRangeExtent(g,f),v=p.getTilePixelRatio(o),_={};_[g]={};var S,x,E,P=this.createLoadedTileFinder(p,i,_),b=this.tmpExtent,T=this.tmpTileRange_,C=!1;for(x=f.minX;x<=f.maxX;++x)for(E=f.minY;E<=f.maxY;++E){if((S=p.getTile(g,x,E,o,i)).getState()==ol.TileState.ERROR&&(s.getUseInterimTilesOnError()?s.getPreload()>0&&(C=!0):S.setState(ol.TileState.LOADED)),this.isDrawableTile_(S)||(S=S.getInterimTile()),this.isDrawableTile_(S)){var R=ol.getUid(this);if(S.getState()==ol.TileState.LOADED){_[g][S.tileCoord.toString()]=S;var w=S.inTransition(R);C||!w&&-1!==this.renderedTiles.indexOf(S)||(C=!0)}if(1===S.getAlpha(R,e.time))continue}var M=c.getTileCoordChildTileRange(S.tileCoord,T,b),L=!1;M&&(L=P(g+1,M)),L||c.forEachTileCoordParentTileRange(S.tileCoord,P,null,T,b)}var O=d*o/v*h,I=e.viewHints,A=I[ol.ViewHint.ANIMATING]||I[ol.ViewHint.INTERACTING];if(!(this.renderedResolution&&Date.now()-e.time>16&&A)&&(C||!this.renderedExtent_||!ol.extent.containsExtent(this.renderedExtent_,y)||this.renderedRevision!=u||h!=this.oversampling_||!A&&O!=this.renderedResolution)){var D=this.context;if(D){var N=p.getTilePixelSize(g,o,i),F=Math.round(f.getWidth()*N[0]/h),G=Math.round(f.getHeight()*N[1]/h),k=D.canvas;k.width!=F||k.height!=G?(this.oversampling_=h,k.width=F,k.height=G):(this.renderedExtent_&&!ol.extent.equals(m,this.renderedExtent_)&&D.clearRect(0,0,F,G),h=this.oversampling_)}this.renderedTiles.length=0;var j,q,V,U,B,W,Y,K,X=Object.keys(_).map(Number);for(X.sort(function(e,t){return e===g?1:t===g?-1:e>t?1:e<t?-1:0}),U=0,B=X.length;U<B;++U)for(var Z in q=p.getTilePixelSize(V=X[U],o,i),j=c.getResolution(V)/d,Y=v*p.getGutter(i),K=_[V])W=c.getTileCoordExtent((S=K[Z]).getTileCoord(),b),this.drawTileImage(S,e,t,x=(W[0]-m[0])/d*v/h,E=(m[3]-W[3])/d*v/h,q[0]*j/h,q[1]*j/h,Y,g===V),this.renderedTiles.push(S);this.renderedRevision=u,this.renderedResolution=d*o/v*h,this.renderedExtent_=m}var H=this.renderedResolution/l,z=ol.transform.compose(this.imageTransform_,o*r[0]/2,o*r[1]/2,H,H,0,(this.renderedExtent_[0]-a[0])/this.renderedResolution*o,(a[1]-this.renderedExtent_[3])/this.renderedResolution*o);return ol.transform.compose(this.coordinateToCanvasPixelTransform,o*r[0]/2-z[4],o*r[1]/2-z[5],o/l,-o/l,0,-a[0],-a[1]),this.updateUsedTiles(e.usedTiles,p,g,f),this.manageTilePyramid(e,p,c,o,i,y,g,s.getPreload()),this.scheduleExpireCache(e,p),this.updateLogos(e,p),this.renderedTiles.length>0},ol.renderer.canvas.TileLayer.prototype.drawTileImage=function(e,t,o,r,n,i,l,a,s){var p=e.getImage(this.getLayer());if(p){var u=ol.getUid(this),c=s?e.getAlpha(u,t.time):1;1!==c||this.getLayer().getSource().getOpaque(t.viewState.projection)||this.context.clearRect(r,n,i,l);var g=c!==this.context.globalAlpha;g&&(this.context.save(),this.context.globalAlpha=c),this.context.drawImage(p,a,a,p.width-2*a,p.height-2*a,r,n,i,l),g&&this.context.restore(),1!==c?t.animate=!0:s&&e.endTransition(u)}},ol.renderer.canvas.TileLayer.prototype.getImage=function(){var e=this.context;return e?e.canvas:null},ol,ol.renderer.canvas.TileLayer.prototype.getImageTransform=function(){return this.imageTransform_},goog.provide("ol.ext.rbush"),ol.ext.rbush=function(){},(function(){!function(e){"use strict";var t=function e(t,n,i,l,a){for(i=i||0,l=l||t.length-1,a=a||r;l>i;){if(l-i>600){var s=l-i+1,p=n-i+1,u=Math.log(s),c=.5*Math.exp(2*u/3),g=.5*Math.sqrt(u*c*(s-c)/s)*(p-s/2<0?-1:1);e(t,n,Math.max(i,Math.floor(n-p*c/s+g)),Math.min(l,Math.floor(n+(s-p)*c/s+g)),a)}var d=t[n],h=i,y=l;for(o(t,i,n),a(t[l],d)>0&&o(t,i,l);h<y;){for(o(t,h,y),h++,y--;a(t[h],d)<0;)h++;for(;a(t[y],d)>0;)y--}0===a(t[i],d)?o(t,i,y):o(t,++y,l),y<=n&&(i=y+1),n<=y&&(l=y-1)}};function o(e,t,o){var r=e[t];e[t]=e[o],e[o]=r}function r(e,t){return e<t?-1:e>t?1:0}var n=i;function i(e,t){if(!(this instanceof i))return new i(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&this._initFormat(t),this.clear()}function l(e,t,o){if(!o)return t.indexOf(e);for(var r=0;r<t.length;r++)if(o(e,t[r]))return r;return-1}function a(e,t){s(e,0,e.children.length,t,e)}function s(e,t,o,r,n){n||(n=f(null)),n.minX=1/0,n.minY=1/0,n.maxX=-1/0,n.maxY=-1/0;for(var i,l=t;l<o;l++)i=e.children[l],p(n,e.leaf?r(i):i);return n}function p(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function u(e,t){return e.minX-t.minX}function c(e,t){return e.minY-t.minY}function g(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function d(e){return e.maxX-e.minX+(e.maxY-e.minY)}function h(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function y(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function f(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function m(e,o,r,n,i){for(var l,a=[o,r];a.length;)(r=a.pop())-(o=a.pop())<=n||(l=o+Math.ceil((r-o)/n/2)*n,t(e,l,o,r,i),a.push(o,l,l,r))}i.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,o=[],r=this.toBBox;if(!y(e,t))return o;for(var n,i,l,a,s=[];t;){for(n=0,i=t.children.length;n<i;n++)l=t.children[n],y(e,a=t.leaf?r(l):l)&&(t.leaf?o.push(l):h(e,a)?this._all(l,o):s.push(l));t=s.pop()}return o},collides:function(e){var t=this.data,o=this.toBBox;if(!y(e,t))return!1;for(var r,n,i,l,a=[];t;){for(r=0,n=t.children.length;r<n;r++)if(i=t.children[r],y(e,l=t.leaf?o(i):i)){if(t.leaf||h(e,l))return!0;a.push(i)}t=a.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,o=e.length;t<o;t++)this.insert(e[t]);return this}var r=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var n=this.data;this.data=r,r=n}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=f([]),this},remove:function(e,t){if(!e)return this;for(var o,r,n,i,a=this.data,s=this.toBBox(e),p=[],u=[];a||p.length;){if(a||(a=p.pop(),r=p[p.length-1],o=u.pop(),i=!0),a.leaf&&-1!==(n=l(e,a.children,t)))return a.children.splice(n,1),p.push(a),this._condense(p),this;i||a.leaf||!h(a,s)?r?(a=r.children[++o],i=!1):a=null:(p.push(a),u.push(o),o=0,r=a,a=a.children[0])}return this},toBBox:function(e){return e},compareMinX:u,compareMinY:c,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var o=[];e;)e.leaf?t.push.apply(t,e.children):o.push.apply(o,e.children),e=o.pop();return t},_build:function(e,t,o,r){var n,i=o-t+1,l=this._maxEntries;if(i<=l)return a(n=f(e.slice(t,o+1)),this.toBBox),n;r||(r=Math.ceil(Math.log(i)/Math.log(l)),l=Math.ceil(i/Math.pow(l,r-1))),(n=f([])).leaf=!1,n.height=r;var s,p,u,c,g=Math.ceil(i/l),d=g*Math.ceil(Math.sqrt(l));for(m(e,t,o,d,this.compareMinX),s=t;s<=o;s+=d)for(m(e,s,u=Math.min(s+d-1,o),g,this.compareMinY),p=s;p<=u;p+=g)c=Math.min(p+g-1,u),n.children.push(this._build(e,p,c,r-1));return a(n,this.toBBox),n},_chooseSubtree:function(e,t,o,r){for(var n,i,l,a,s,p,u,c,d,h;r.push(t),!t.leaf&&r.length-1!==o;){for(u=c=1/0,n=0,i=t.children.length;n<i;n++)s=g(l=t.children[n]),d=e,h=l,(p=(Math.max(h.maxX,d.maxX)-Math.min(h.minX,d.minX))*(Math.max(h.maxY,d.maxY)-Math.min(h.minY,d.minY))-s)<c?(c=p,u=s<u?s:u,a=l):p===c&&s<u&&(u=s,a=l);t=a||t.children[0]}return t},_insert:function(e,t,o){var r=o?e:(0,this.toBBox)(e),n=[],i=this._chooseSubtree(r,this.data,t,n);for(i.children.push(e),p(i,r);t>=0&&n[t].children.length>this._maxEntries;)this._split(n,t),t--;this._adjustParentBBoxes(r,n,t)},_split:function(e,t){var o=e[t],r=o.children.length,n=this._minEntries;this._chooseSplitAxis(o,n,r);var i=this._chooseSplitIndex(o,n,r),l=f(o.children.splice(i,o.children.length-i));l.height=o.height,l.leaf=o.leaf,a(o,this.toBBox),a(l,this.toBBox),t?e[t-1].children.push(l):this._splitRoot(o,l)},_splitRoot:function(e,t){this.data=f([e,t]),this.data.height=e.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,o){var r,n,i,l,a,p,u,c,d,h,y,f,m,v;for(p=u=1/0,r=t;r<=o-t;r++)d=n=s(e,0,r,this.toBBox),h=i=s(e,r,o,this.toBBox),y=Math.max(d.minX,h.minX),f=Math.max(d.minY,h.minY),m=Math.min(d.maxX,h.maxX),v=Math.min(d.maxY,h.maxY),l=Math.max(0,m-y)*Math.max(0,v-f),a=g(n)+g(i),l<p?(p=l,c=r,u=a<u?a:u):l===p&&a<u&&(u=a,c=r);return c},_chooseSplitAxis:function(e,t,o){var r=e.leaf?this.compareMinX:u,n=e.leaf?this.compareMinY:c;this._allDistMargin(e,t,o,r)<this._allDistMargin(e,t,o,n)&&e.children.sort(r)},_allDistMargin:function(e,t,o,r){e.children.sort(r);var n,i,l=this.toBBox,a=s(e,0,t,l),u=s(e,o-t,o,l),c=d(a)+d(u);for(n=t;n<o-t;n++)i=e.children[n],p(a,e.leaf?l(i):i),c+=d(a);for(n=o-t-1;n>=t;n--)i=e.children[n],p(u,e.leaf?l(i):i),c+=d(u);return c},_adjustParentBBoxes:function(e,t,o){for(var r=o;r>=0;r--)p(t[r],e)},_condense:function(e){for(var t,o=e.length-1;o>=0;o--)0===e[o].children.length?o>0?(t=e[o-1].children).splice(t.indexOf(e[o]),1):this.clear():a(e[o],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}},e.default=n}(this.rbush=this.rbush||{})}).call(ol.ext),ol.ext.rbush=ol.ext.rbush.default,goog.provide("ol.render.ReplayGroup"),ol.render.ReplayGroup=function(){},ol.render.ReplayGroup.prototype.getReplay=function(e,t){},ol.render.ReplayGroup.prototype.isEmpty=function(){},goog.provide("ol.render.ReplayType"),ol.render.ReplayType={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"},goog.provide("ol.geom.flat.length"),ol.geom.flat.length.lineString=function(e,t,o,r){var n,i=e[t],l=e[t+1],a=0;for(n=t+r;n<o;n+=r){var s=e[n],p=e[n+1];a+=Math.sqrt((s-i)*(s-i)+(p-l)*(p-l)),i=s,l=p}return a},ol.geom.flat.length.linearRing=function(e,t,o,r){var n=ol.geom.flat.length.lineString(e,t,o,r),i=e[o-r]-e[t],l=e[o-r+1]-e[t+1];return n+Math.sqrt(i*i+l*l)},goog.provide("ol.geom.flat.textpath"),goog.require("ol.math"),ol.geom.flat.textpath.lineString=function(e,t,o,r,n,i,l,a){for(var s,p,u=[],c=e[t]>e[o-r],g=n.length,d=e[t],h=e[t+1],y=e[t+=r],f=e[t+1],m=0,v=Math.sqrt(Math.pow(y-d,2)+Math.pow(f-h,2)),_="",S=0,x=0;x<g;++x){var E=n.charAt(c?g-x-1:x),P=i(_=c?E+_:_+E)-S;S+=P;for(var b=l+P/2;t<o-r&&m+v<b;)d=y,h=f,y=e[t+=r],f=e[t+1],m+=v,v=Math.sqrt(Math.pow(y-d,2)+Math.pow(f-h,2));var T=b-m,C=Math.atan2(f-h,y-d);if(c&&(C+=C>0?-Math.PI:Math.PI),void 0!==p){var R=C-p;if(R+=R>Math.PI?-2*Math.PI:R<-Math.PI?2*Math.PI:0,Math.abs(R)>a)return null}var w=T/v,M=ol.math.lerp(d,y,w),L=ol.math.lerp(h,f,w);p==C?(c&&(s[0]=M,s[1]=L,s[2]=P/2),s[4]=_):(S=P,s=[M,L,P/2,C,_=E],c?u.unshift(s):u.push(s),p=C),l+=P}return u},goog.provide("ol.render.canvas.Instruction"),ol.render.canvas.Instruction={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},goog.provide("ol.render.replay"),goog.require("ol.render.ReplayType"),ol.render.replay.ORDER=[ol.render.ReplayType.POLYGON,ol.render.ReplayType.CIRCLE,ol.render.ReplayType.LINE_STRING,ol.render.ReplayType.IMAGE,ol.render.ReplayType.TEXT,ol.render.ReplayType.DEFAULT],ol.render.replay.TEXT_ALIGN={},ol.render.replay.TEXT_ALIGN.left=0,ol.render.replay.TEXT_ALIGN.end=0,ol.render.replay.TEXT_ALIGN.center=.5,ol.render.replay.TEXT_ALIGN.right=1,ol.render.replay.TEXT_ALIGN.start=1,ol.render.replay.TEXT_ALIGN.top=0,ol.render.replay.TEXT_ALIGN.middle=.5,ol.render.replay.TEXT_ALIGN.hanging=.2,ol.render.replay.TEXT_ALIGN.alphabetic=.8,ol.render.replay.TEXT_ALIGN.ideographic=.8,ol.render.replay.TEXT_ALIGN.bottom=1,goog.provide("ol.render.canvas.Replay"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.colorlike"),goog.require("ol.extent"),goog.require("ol.extent.Relationship"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.flat.inflate"),goog.require("ol.geom.flat.length"),goog.require("ol.geom.flat.textpath"),goog.require("ol.geom.flat.transform"),goog.require("ol.has"),goog.require("ol.obj"),goog.require("ol.render.VectorContext"),goog.require("ol.render.canvas"),goog.require("ol.render.canvas.Instruction"),goog.require("ol.render.replay"),goog.require("ol.transform"),ol.render.canvas.Replay=function(e,t,o,r,n,i){ol.render.VectorContext.call(this),this.declutterTree=i,this.tmpExtent_=ol.extent.createEmpty(),this.tolerance=e,this.maxExtent=t,this.overlaps=n,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=o,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.coordinateCache_={},this.renderedTransform_=ol.transform.create(),this.hitDetectionInstructions=[],this.pixelCoordinates_=null,this.state={},this.viewRotation_=0,this.tmpLocalTransform_=ol.transform.create(),this.resetTransform_=ol.transform.create()},ol.inherits(ol.render.canvas.Replay,ol.render.VectorContext),ol.render.canvas.Replay.prototype.replayTextBackground_=function(e,t,o,r,n,i,l){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,o),e.lineTo.apply(e,r),e.lineTo.apply(e,n),e.lineTo.apply(e,t),i&&(this.fillOrigin_=i[2],this.fill_(e)),l&&(this.setStrokeStyle_(e,l),e.stroke())},ol.render.canvas.Replay.prototype.replayImage_=function(e,t,o,r,n,i,l,a,s,p,u,c,g,d,h,y,f,m){var v=f||m,_=this.tmpLocalTransform_;t-=n*=g,o-=i*=g,d&&(t=Math.round(t),o=Math.round(o));var S,x,E,P,b=h+p>r.width?r.width-p:h,T=a+u>r.height?r.height-u:a,C=this.tmpExtent_,R=y[3]+b*g+y[1],w=y[0]+T*g+y[2],M=t-y[3],L=o-y[0];(v||0!==c)&&(S=[M,L],x=[M+R,L],E=[M+R,L+w],P=[M,L+w]);var O=null;if(0!==c){var I=t+n,A=o+i;O=ol.transform.compose(_,I,A,1,1,c,-I,-A),ol.extent.createOrUpdateEmpty(C),ol.extent.extendCoordinate(C,ol.transform.apply(_,S)),ol.extent.extendCoordinate(C,ol.transform.apply(_,x)),ol.extent.extendCoordinate(C,ol.transform.apply(_,E)),ol.extent.extendCoordinate(C,ol.transform.apply(_,P))}else ol.extent.createOrUpdate(M,L,M+R,L+w,C);var D=e.canvas,N=C[0]<=D.width&&C[2]>=0&&C[1]<=D.height&&C[3]>=0;if(l){if(!N&&1==l[4])return;ol.extent.extend(l,C);var F=N?[e,O?O.slice(0):null,s,r,p,u,b,T,t,o,g]:null;F&&v&&F.push(f,m,S,x,E,P),l.push(F)}else N&&(v&&this.replayTextBackground_(e,S,x,E,P,f,m),ol.render.canvas.drawImage(e,O,s,r,p,u,b,T,t,o,g))},ol.render.canvas.Replay.prototype.applyPixelRatio=function(e){var t=this.pixelRatio;return 1==t?e:e.map(function(e){return e*t})},ol.render.canvas.Replay.prototype.appendFlatCoordinates=function(e,t,o,r,n,i){var l=this.coordinates.length,a=this.getBufferedMaxExtent();i&&(t+=r);var s,p,u,c=[e[t],e[t+1]],g=[NaN,NaN],d=!0;for(s=t+r;s<o;s+=r)g[0]=e[s],g[1]=e[s+1],(u=ol.extent.coordinateRelationship(a,g))!==p?(d&&(this.coordinates[l++]=c[0],this.coordinates[l++]=c[1]),this.coordinates[l++]=g[0],this.coordinates[l++]=g[1],d=!1):u===ol.extent.Relationship.INTERSECTING?(this.coordinates[l++]=g[0],this.coordinates[l++]=g[1],d=!1):d=!0,c[0]=g[0],c[1]=g[1],p=u;return(n&&d||s===t+r)&&(this.coordinates[l++]=c[0],this.coordinates[l++]=c[1]),l},ol.render.canvas.Replay.prototype.drawCustomCoordinates_=function(e,t,o,r,n){for(var i=0,l=o.length;i<l;++i){var a=o[i],s=this.appendFlatCoordinates(e,t,a,r,!1,!1);n.push(s),t=a}return t},ol.render.canvas.Replay.prototype.drawCustom=function(e,t,o){this.beginGeometry(e,t);var r,n,i,l,a,s=e.getType(),p=e.getStride(),u=this.coordinates.length;if(s==ol.geom.GeometryType.MULTI_POLYGON){r=(e=e).getOrientedFlatCoordinates(),l=[];var c=e.getEndss();a=0;for(var g=0,d=c.length;g<d;++g){var h=[];a=this.drawCustomCoordinates_(r,a,c[g],p,h),l.push(h)}this.instructions.push([ol.render.canvas.Instruction.CUSTOM,u,l,e,o,ol.geom.flat.inflate.coordinatesss])}else s==ol.geom.GeometryType.POLYGON||s==ol.geom.GeometryType.MULTI_LINE_STRING?(i=[],r=s==ol.geom.GeometryType.POLYGON?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),a=this.drawCustomCoordinates_(r,0,e.getEnds(),p,i),this.instructions.push([ol.render.canvas.Instruction.CUSTOM,u,i,e,o,ol.geom.flat.inflate.coordinatess])):s==ol.geom.GeometryType.LINE_STRING||s==ol.geom.GeometryType.MULTI_POINT?(r=e.getFlatCoordinates(),n=this.appendFlatCoordinates(r,0,r.length,p,!1,!1),this.instructions.push([ol.render.canvas.Instruction.CUSTOM,u,n,e,o,ol.geom.flat.inflate.coordinates])):s==ol.geom.GeometryType.POINT&&(r=e.getFlatCoordinates(),this.coordinates.push(r[0],r[1]),n=this.coordinates.length,this.instructions.push([ol.render.canvas.Instruction.CUSTOM,u,n,e,o]));this.endGeometry(e,t)},ol.render.canvas.Replay.prototype.beginGeometry=function(e,t){this.beginGeometryInstruction1_=[ol.render.canvas.Instruction.BEGIN_GEOMETRY,t,0],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[ol.render.canvas.Instruction.BEGIN_GEOMETRY,t,0],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},ol.render.canvas.Replay.prototype.fill_=function(e){if(this.fillOrigin_){var t=ol.transform.apply(this.renderedTransform_,this.fillOrigin_.slice());e.translate(t[0],t[1]),e.rotate(this.viewRotation_)}e.fill(),this.fillOrigin_&&e.setTransform.apply(e,ol.render.canvas.resetTransform_)},ol.render.canvas.Replay.prototype.setStrokeStyle_=function(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],ol.has.CANVAS_LINE_DASH&&(e.lineDashOffset=t[7],e.setLineDash(t[6]))},ol.render.canvas.Replay.prototype.renderDeclutter_=function(e,t){if(e&&e.length>5){var o=e[4];if(1==o||o==e.length-5){var r={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};if(!this.declutterTree.collides(r)){this.declutterTree.insert(r);for(var n=ol.render.canvas.drawImage,i=5,l=e.length;i<l;++i){var a=e[i];a&&(a.length>11&&this.replayTextBackground_(a[0],a[13],a[14],a[15],a[16],a[11],a[12]),n.apply(void 0,a))}}e.length=5,ol.extent.createOrUpdateEmpty(e)}}},ol.render.canvas.Replay.prototype.replay_=function(e,t,o,r,n,i){var l;this.pixelCoordinates_&&ol.array.equals(t,this.renderedTransform_)?l=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),l=ol.geom.flat.transform.transform2D(this.coordinates,0,this.coordinates.length,2,t,this.pixelCoordinates_),ol.transform.setFromArray(this.renderedTransform_,t));for(var a,s,p,u,c,g,d,h,y,f=!ol.obj.isEmpty(o),m=0,v=r.length,_=0,S=0,x=0,E=null,P=null,b=this.coordinateCache_,T=this.viewRotation_,C={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:T},R=this.instructions!=r||this.overlaps?0:200;m<v;){var w,M,L,O=r[m];switch(O[0]){case ol.render.canvas.Instruction.BEGIN_GEOMETRY:w=O[1],f&&o[ol.getUid(w).toString()]||!w.getGeometry()?m=O[2]:void 0===i||ol.extent.intersects(i,w.getGeometry().getExtent())?++m:m=O[2]+1;break;case ol.render.canvas.Instruction.BEGIN_PATH:S>R&&(this.fill_(e),S=0),x>R&&(e.stroke(),x=0),S||x||(e.beginPath(),u=c=NaN),++m;break;case ol.render.canvas.Instruction.CIRCLE:var I=l[_=O[1]],A=l[_+1],D=l[_+2]-I,N=l[_+3]-A,F=Math.sqrt(D*D+N*N);e.moveTo(I+F,A),e.arc(I,A,F,0,2*Math.PI,!0),++m;break;case ol.render.canvas.Instruction.CLOSE_PATH:e.closePath(),++m;break;case ol.render.canvas.Instruction.CUSTOM:_=O[1],a=O[2];var G=O[4],k=6==O.length?O[5]:void 0;C.geometry=O[3],C.feature=w,m in b||(b[m]=[]);var j=b[m];k?k(l,_,a,2,j):(j[0]=l[_],j[1]=l[_+1],j.length=2),G(j,C),++m;break;case ol.render.canvas.Instruction.DRAW_IMAGE:_=O[1],a=O[2],y=O[3],s=O[4],p=O[5],h=n?null:O[6];var q,V,U,B=O[7],W=O[8],Y=O[9],K=O[10],X=O[12],Z=O[13],H=O[14],z=O[15];for(O.length>16?(q=O[16],V=O[17],U=O[18]):(q=ol.render.canvas.defaultPadding,V=U=!1),O[11]&&(X+=T);_<a;_+=2)this.replayImage_(e,l[_],l[_+1],y,s,p,h,B,W,Y,K,X,Z,H,z,q,V?E:null,U?P:null);this.renderDeclutter_(h,w),++m;break;case ol.render.canvas.Instruction.DRAW_CHARS:var J=O[1],Q=O[2],$=O[3];h=n?null:O[4];var ee=O[5],te=O[6],oe=O[7],re=O[8],ne=O[9],ie=O[10],le=O[11],ae=O[12],se=O[13],pe=O[14],ue=ol.geom.flat.length.lineString(l,J,Q,2),ce=re(ae);if(ee||ce<=ue){var ge=(ue-ce)*ol.render.replay.TEXT_ALIGN[this.textStates[se].textAlign],de=ol.geom.flat.textpath.lineString(l,J,Q,2,ae,re,ge,oe);if(de){var he,ye,fe,me;if(ie)for(he=0,ye=de.length;he<ye;++he)fe=this.getImage((me=de[he])[4],se,"",ie),this.replayImage_(e,me[0],me[1],fe,s=me[2]+le,p=$*fe.height+2*(.5-$)*le-ne,h,fe.height,1,0,0,me[3],pe,!1,fe.width,ol.render.canvas.defaultPadding,null,null);if(te)for(he=0,ye=de.length;he<ye;++he)fe=this.getImage((me=de[he])[4],se,te,""),this.replayImage_(e,me[0],me[1],fe,s=me[2],p=$*fe.height-ne,h,fe.height,1,0,0,me[3],pe,!1,fe.width,ol.render.canvas.defaultPadding,null,null)}}this.renderDeclutter_(h,w),++m;break;case ol.render.canvas.Instruction.END_GEOMETRY:if(void 0!==n){var ve=n(w=O[1]);if(ve)return ve}++m;break;case ol.render.canvas.Instruction.FILL:R?S++:this.fill_(e),++m;break;case ol.render.canvas.Instruction.MOVE_TO_LINE_TO:for(a=O[2],d=(L=l[(_=O[1])+1])+.5|0,(g=(M=l[_])+.5|0)===u&&d===c||(e.moveTo(M,L),u=g,c=d),_+=2;_<a;_+=2)g=(M=l[_])+.5|0,d=(L=l[_+1])+.5|0,_!=a-2&&g===u&&d===c||(e.lineTo(M,L),u=g,c=d);++m;break;case ol.render.canvas.Instruction.SET_FILL_STYLE:E=O,this.fillOrigin_=O[2],S&&(this.fill_(e),S=0,x&&(e.stroke(),x=0)),e.fillStyle=O[1],++m;break;case ol.render.canvas.Instruction.SET_STROKE_STYLE:P=O,x&&(e.stroke(),x=0),this.setStrokeStyle_(e,O),++m;break;case ol.render.canvas.Instruction.STROKE:R?x++:e.stroke(),++m;break;default:++m}}S&&this.fill_(e),x&&e.stroke()},ol.render.canvas.Replay.prototype.replay=function(e,t,o,r){this.viewRotation_=o,this.replay_(e,t,r,this.instructions,void 0,void 0)},ol.render.canvas.Replay.prototype.replayHitDetection=function(e,t,o,r,n,i){return this.viewRotation_=o,this.replay_(e,t,r,this.hitDetectionInstructions,n,i)},ol.render.canvas.Replay.prototype.reverseHitDetectionInstructions=function(){var e,t=this.hitDetectionInstructions;t.reverse();var o,r,n=t.length,i=-1;for(e=0;e<n;++e)(r=(o=t[e])[0])==ol.render.canvas.Instruction.END_GEOMETRY?i=e:r==ol.render.canvas.Instruction.BEGIN_GEOMETRY&&(o[2]=e,ol.array.reverseSubArray(this.hitDetectionInstructions,i,e),i=-1)},ol.render.canvas.Replay.prototype.setFillStrokeStyle=function(e,t){var o=this.state;if(e){var r=e.getColor();o.fillStyle=ol.colorlike.asColorLike(r||ol.render.canvas.defaultFillStyle)}else o.fillStyle=void 0;if(t){var n=t.getColor();o.strokeStyle=ol.colorlike.asColorLike(n||ol.render.canvas.defaultStrokeStyle);var i=t.getLineCap();o.lineCap=void 0!==i?i:ol.render.canvas.defaultLineCap;var l=t.getLineDash();o.lineDash=l?l.slice():ol.render.canvas.defaultLineDash;var a=t.getLineDashOffset();o.lineDashOffset=a||ol.render.canvas.defaultLineDashOffset;var s=t.getLineJoin();o.lineJoin=void 0!==s?s:ol.render.canvas.defaultLineJoin;var p=t.getWidth();o.lineWidth=void 0!==p?p:ol.render.canvas.defaultLineWidth;var u=t.getMiterLimit();o.miterLimit=void 0!==u?u:ol.render.canvas.defaultMiterLimit,o.lineWidth>this.maxLineWidth&&(this.maxLineWidth=o.lineWidth,this.bufferedMaxExtent_=null)}else o.strokeStyle=void 0,o.lineCap=void 0,o.lineDash=null,o.lineDashOffset=void 0,o.lineJoin=void 0,o.lineWidth=void 0,o.miterLimit=void 0},ol.render.canvas.Replay.prototype.applyFill=function(e,t){var o=e.fillStyle,r=[ol.render.canvas.Instruction.SET_FILL_STYLE,o];if("string"!=typeof o){var n=t.getExtent();r.push([n[0],n[3]])}this.instructions.push(r)},ol.render.canvas.Replay.prototype.applyStroke=function(e){this.instructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio])},ol.render.canvas.Replay.prototype.updateFillStyle=function(e,t,o){var r=e.fillStyle;"string"==typeof r&&e.currentFillStyle==r||(t.call(this,e,o),e.currentFillStyle=r)},ol.render.canvas.Replay.prototype.updateStrokeStyle=function(e,t){var o=e.strokeStyle,r=e.lineCap,n=e.lineDash,i=e.lineDashOffset,l=e.lineJoin,a=e.lineWidth,s=e.miterLimit;(e.currentStrokeStyle!=o||e.currentLineCap!=r||n!=e.currentLineDash&&!ol.array.equals(e.currentLineDash,n)||e.currentLineDashOffset!=i||e.currentLineJoin!=l||e.currentLineWidth!=a||e.currentMiterLimit!=s)&&(t.call(this,e),e.currentStrokeStyle=o,e.currentLineCap=r,e.currentLineDash=n,e.currentLineDashOffset=i,e.currentLineJoin=l,e.currentLineWidth=a,e.currentMiterLimit=s)},ol.render.canvas.Replay.prototype.endGeometry=function(e,t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var o=[ol.render.canvas.Instruction.END_GEOMETRY,t];this.instructions.push(o),this.hitDetectionInstructions.push(o)},ol.render.canvas.Replay.prototype.finish=ol.nullFunction,ol.render.canvas.Replay.prototype.getBufferedMaxExtent=function(){return this.bufferedMaxExtent_||(this.bufferedMaxExtent_=ol.extent.clone(this.maxExtent),this.maxLineWidth>0&&ol.extent.buffer(this.bufferedMaxExtent_,this.resolution*(this.maxLineWidth+1)/2,this.bufferedMaxExtent_)),this.bufferedMaxExtent_},goog.provide("ol.render.canvas.ImageReplay"),goog.require("ol"),goog.require("ol.render.canvas.Instruction"),goog.require("ol.render.canvas.Replay"),ol.render.canvas.ImageReplay=function(e,t,o,r,n,i){ol.render.canvas.Replay.call(this,e,t,o,r,n,i),this.declutterGroup_=null,this.hitDetectionImage_=null,this.image_=null,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.snapToPixel_=void 0,this.width_=void 0},ol.inherits(ol.render.canvas.ImageReplay,ol.render.canvas.Replay),ol.render.canvas.ImageReplay.prototype.drawCoordinates_=function(e,t,o,r){return this.appendFlatCoordinates(e,t,o,r,!1,!1)},ol.render.canvas.ImageReplay.prototype.drawPoint=function(e,t){if(this.image_){this.beginGeometry(e,t);var o=e.getFlatCoordinates(),r=e.getStride(),n=this.coordinates.length,i=this.drawCoordinates_(o,0,o.length,r);this.instructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,n,i,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.snapToPixel_,this.width_]),this.hitDetectionInstructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,n,i,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]),this.endGeometry(e,t)}},ol.render.canvas.ImageReplay.prototype.drawMultiPoint=function(e,t){if(this.image_){this.beginGeometry(e,t);var o=e.getFlatCoordinates(),r=e.getStride(),n=this.coordinates.length,i=this.drawCoordinates_(o,0,o.length,r);this.instructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,n,i,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.snapToPixel_,this.width_]),this.hitDetectionInstructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,n,i,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]),this.endGeometry(e,t)}},ol.render.canvas.ImageReplay.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.snapToPixel_=void 0,this.width_=void 0},ol.render.canvas.ImageReplay.prototype.setImageStyle=function(e,t){var o=e.getAnchor(),r=e.getSize(),n=e.getHitDetectionImage(1),i=e.getImage(1),l=e.getOrigin();this.anchorX_=o[0],this.anchorY_=o[1],this.declutterGroup_=t,this.hitDetectionImage_=n,this.image_=i,this.height_=r[1],this.opacity_=e.getOpacity(),this.originX_=l[0],this.originY_=l[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScale(),this.snapToPixel_=e.getSnapToPixel(),this.width_=r[0]},goog.provide("ol.render.canvas.LineStringReplay"),goog.require("ol"),goog.require("ol.render.canvas.Instruction"),goog.require("ol.render.canvas.Replay"),ol.render.canvas.LineStringReplay=function(e,t,o,r,n,i){ol.render.canvas.Replay.call(this,e,t,o,r,n,i)},ol.inherits(ol.render.canvas.LineStringReplay,ol.render.canvas.Replay),ol.render.canvas.LineStringReplay.prototype.drawFlatCoordinates_=function(e,t,o,r){var n=this.coordinates.length,i=this.appendFlatCoordinates(e,t,o,r,!1,!1),l=[ol.render.canvas.Instruction.MOVE_TO_LINE_TO,n,i];return this.instructions.push(l),this.hitDetectionInstructions.push(l),o},ol.render.canvas.LineStringReplay.prototype.drawLineString=function(e,t){var o=this.state;if(void 0!==o.strokeStyle&&void 0!==o.lineWidth){this.updateStrokeStyle(o,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset],[ol.render.canvas.Instruction.BEGIN_PATH]);var r=e.getFlatCoordinates(),n=e.getStride();this.drawFlatCoordinates_(r,0,r.length,n),this.hitDetectionInstructions.push([ol.render.canvas.Instruction.STROKE]),this.endGeometry(e,t)}},ol.render.canvas.LineStringReplay.prototype.drawMultiLineString=function(e,t){var o=this.state;if(void 0!==o.strokeStyle&&void 0!==o.lineWidth){this.updateStrokeStyle(o,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset],[ol.render.canvas.Instruction.BEGIN_PATH]);var r,n,i=e.getEnds(),l=e.getFlatCoordinates(),a=e.getStride(),s=0;for(r=0,n=i.length;r<n;++r)s=this.drawFlatCoordinates_(l,s,i[r],a);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.STROKE]),this.endGeometry(e,t)}},ol.render.canvas.LineStringReplay.prototype.finish=function(){var e=this.state;void 0!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push([ol.render.canvas.Instruction.STROKE]),this.reverseHitDetectionInstructions(),this.state=null},ol.render.canvas.LineStringReplay.prototype.applyStroke=function(e){void 0!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push([ol.render.canvas.Instruction.STROKE]),e.lastStroke=this.coordinates.length),e.lastStroke=0,ol.render.canvas.Replay.prototype.applyStroke.call(this,e),this.instructions.push([ol.render.canvas.Instruction.BEGIN_PATH])},goog.provide("ol.render.canvas.PolygonReplay"),goog.require("ol"),goog.require("ol.color"),goog.require("ol.geom.flat.simplify"),goog.require("ol.render.canvas"),goog.require("ol.render.canvas.Instruction"),goog.require("ol.render.canvas.Replay"),ol.render.canvas.PolygonReplay=function(e,t,o,r,n,i){ol.render.canvas.Replay.call(this,e,t,o,r,n,i)},ol.inherits(ol.render.canvas.PolygonReplay,ol.render.canvas.Replay),ol.render.canvas.PolygonReplay.prototype.drawFlatCoordinatess_=function(e,t,o,r){var n=this.state,i=void 0!==n.fillStyle,l=void 0!=n.strokeStyle,a=o.length,s=[ol.render.canvas.Instruction.BEGIN_PATH];this.instructions.push(s),this.hitDetectionInstructions.push(s);for(var p=0;p<a;++p){var u=o[p],c=this.coordinates.length,g=this.appendFlatCoordinates(e,t,u,r,!0,!l),d=[ol.render.canvas.Instruction.MOVE_TO_LINE_TO,c,g];if(this.instructions.push(d),this.hitDetectionInstructions.push(d),l){var h=[ol.render.canvas.Instruction.CLOSE_PATH];this.instructions.push(h),this.hitDetectionInstructions.push(h)}t=u}var y=[ol.render.canvas.Instruction.FILL];if(this.hitDetectionInstructions.push(y),i&&this.instructions.push(y),l){var f=[ol.render.canvas.Instruction.STROKE];this.instructions.push(f),this.hitDetectionInstructions.push(f)}return t},ol.render.canvas.PolygonReplay.prototype.drawCircle=function(e,t){var o=this.state;if(void 0!==o.fillStyle||void 0!==o.strokeStyle){this.setFillStrokeStyles_(e),this.beginGeometry(e,t),this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_FILL_STYLE,ol.color.asString(ol.render.canvas.defaultFillStyle)]),void 0!==o.strokeStyle&&this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset]);var r=e.getFlatCoordinates(),n=e.getStride(),i=this.coordinates.length;this.appendFlatCoordinates(r,0,r.length,n,!1,!1);var l=[ol.render.canvas.Instruction.BEGIN_PATH],a=[ol.render.canvas.Instruction.CIRCLE,i];this.instructions.push(l,a),this.hitDetectionInstructions.push(l,a);var s=[ol.render.canvas.Instruction.FILL];if(this.hitDetectionInstructions.push(s),void 0!==o.fillStyle&&this.instructions.push(s),void 0!==o.strokeStyle){var p=[ol.render.canvas.Instruction.STROKE];this.instructions.push(p),this.hitDetectionInstructions.push(p)}this.endGeometry(e,t)}},ol.render.canvas.PolygonReplay.prototype.drawPolygon=function(e,t){var o=this.state;this.setFillStrokeStyles_(e),this.beginGeometry(e,t),this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_FILL_STYLE,ol.color.asString(ol.render.canvas.defaultFillStyle)]),void 0!==o.strokeStyle&&this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset]);var r=e.getEnds(),n=e.getOrientedFlatCoordinates(),i=e.getStride();this.drawFlatCoordinatess_(n,0,r,i),this.endGeometry(e,t)},ol.render.canvas.PolygonReplay.prototype.drawMultiPolygon=function(e,t){var o=this.state;if(void 0!==o.fillStyle||void 0!==o.strokeStyle){this.setFillStrokeStyles_(e),this.beginGeometry(e,t),this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_FILL_STYLE,ol.color.asString(ol.render.canvas.defaultFillStyle)]),void 0!==o.strokeStyle&&this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset]);var r,n,i=e.getEndss(),l=e.getOrientedFlatCoordinates(),a=e.getStride(),s=0;for(r=0,n=i.length;r<n;++r)s=this.drawFlatCoordinatess_(l,s,i[r],a);this.endGeometry(e,t)}},ol.render.canvas.PolygonReplay.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e){var t,o,r=this.coordinates;for(t=0,o=r.length;t<o;++t)r[t]=ol.geom.flat.simplify.snap(r[t],e)}},ol.render.canvas.PolygonReplay.prototype.setFillStrokeStyles_=function(e){var t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.applyFill,e),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)},goog.provide("ol.geom.flat.straightchunk"),ol.geom.flat.straightchunk.lineString=function(e,t,o,r,n){var i,l,a,s,p,u,c,g,d,h=o,y=o,f=0,m=0,v=o;for(i=o;i<r;i+=n){var _=t[i],S=t[i+1];void 0!==s&&(g=_-s,d=S-p,a=Math.sqrt(g*g+d*d),void 0!==u&&(m+=l,Math.acos((u*g+c*d)/(l*a))>e&&(m>f&&(f=m,h=v,y=i),m=0,v=i-n)),l=a,u=g,c=d),s=_,p=S}return(m+=a)>f?[v,i]:[h,y]},goog.provide("ol.style.TextPlacement"),ol.style.TextPlacement={POINT:"point",LINE:"line"},goog.provide("ol.render.canvas.TextReplay"),goog.require("ol"),goog.require("ol.colorlike"),goog.require("ol.dom"),goog.require("ol.extent"),goog.require("ol.geom.flat.straightchunk"),goog.require("ol.geom.GeometryType"),goog.require("ol.has"),goog.require("ol.render.canvas"),goog.require("ol.render.canvas.Instruction"),goog.require("ol.render.canvas.Replay"),goog.require("ol.render.replay"),goog.require("ol.style.TextPlacement"),ol.render.canvas.TextReplay=function(e,t,o,r,n,i){ol.render.canvas.Replay.call(this,e,t,o,r,n,i),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.widths_={},ol.render.canvas.labelCache.prune()},ol.inherits(ol.render.canvas.TextReplay,ol.render.canvas.Replay),ol.render.canvas.TextReplay.measureTextWidths=function(e,t,o){var r,n,i=t.length,l=0;for(n=0;n<i;++n)r=ol.render.canvas.measureTextWidth(e,t[n]),l=Math.max(l,r),o.push(r);return l},ol.render.canvas.TextReplay.prototype.drawText=function(e,t){var o=this.textState_;if(""!==this.text_&&o&&(this.textFillState_||this.textStrokeState_)){var r,n,i=this.coordinates.length,l=e.getType(),a=null,s=2,p=2;if(o.placement===ol.style.TextPlacement.LINE){if(!ol.extent.intersects(this.getBufferedMaxExtent(),e.getExtent()))return;var u;if(a=e.getFlatCoordinates(),p=e.getStride(),l==ol.geom.GeometryType.LINE_STRING)u=[a.length];else if(l==ol.geom.GeometryType.MULTI_LINE_STRING)u=e.getEnds();else if(l==ol.geom.GeometryType.POLYGON)u=e.getEnds().slice(0,1);else if(l==ol.geom.GeometryType.MULTI_POLYGON){var c=e.getEndss();for(u=[],r=0,n=c.length;r<n;++r)u.push(c[r][0])}this.beginGeometry(e,t);for(var g,d=o.textAlign,h=0,y=0,f=u.length;y<f;++y){if(void 0==d){var m=ol.geom.flat.straightchunk.lineString(o.maxAngle,a,h,u[y],p);h=m[0],g=m[1]}else g=u[y];for(r=h;r<g;r+=p)this.coordinates.push(a[r],a[r+1]);h=u[y],this.drawChars_(i,s=this.coordinates.length,this.declutterGroup_),i=s}this.endGeometry(e,t)}else{var v=this.getImage(this.text_,this.textKey_,this.fillKey_,this.strokeKey_),_=v.width/this.pixelRatio;switch(l){case ol.geom.GeometryType.POINT:case ol.geom.GeometryType.MULTI_POINT:s=(a=e.getFlatCoordinates()).length;break;case ol.geom.GeometryType.LINE_STRING:a=e.getFlatMidpoint();break;case ol.geom.GeometryType.CIRCLE:a=e.getCenter();break;case ol.geom.GeometryType.MULTI_LINE_STRING:s=(a=e.getFlatMidpoints()).length;break;case ol.geom.GeometryType.POLYGON:if(a=e.getFlatInteriorPoint(),!o.overflow&&a[2]/this.resolution<_)return;p=3;break;case ol.geom.GeometryType.MULTI_POLYGON:var S=e.getFlatInteriorPoints();for(a=[],r=0,n=S.length;r<n;r+=3)(o.overflow||S[r+2]/this.resolution>=_)&&a.push(S[r],S[r+1]);if(0==(s=a.length))return}s=this.appendFlatCoordinates(a,0,s,p,!1,!1),this.beginGeometry(e,t),(o.backgroundFill||o.backgroundStroke)&&(this.setFillStrokeStyle(o.backgroundFill,o.backgroundStroke),this.updateFillStyle(this.state,this.applyFill,e),this.updateStrokeStyle(this.state,this.applyStroke)),this.drawTextImage_(v,i,s),this.endGeometry(e,t)}}},ol.render.canvas.TextReplay.prototype.getImage=function(e,t,o,r){var n,i=r+t+e+o+this.pixelRatio,l=ol.render.canvas.labelCache;if(!l.containsKey(i)){var a=r?this.strokeStates[r]||this.textStrokeState_:null,s=o?this.fillStates[o]||this.textFillState_:null,p=this.textStates[t]||this.textState_,u=p.scale*this.pixelRatio,c=ol.render.replay.TEXT_ALIGN[p.textAlign||ol.render.canvas.defaultTextAlign],g=r&&a.lineWidth?a.lineWidth:0,d=e.split("\n"),h=d.length,y=[],f=ol.render.canvas.TextReplay.measureTextWidths(p.font,d,y),m=ol.render.canvas.measureTextHeight(p.font),v=m*h,_=ol.dom.createCanvasContext2D(Math.ceil((f+g)*u),Math.ceil((v+g)*u));l.set(i,n=_.canvas),1!=u&&_.scale(u,u),_.font=p.font,r&&(_.strokeStyle=a.strokeStyle,_.lineWidth=g*(ol.has.SAFARI?u:1),_.lineCap=a.lineCap,_.lineJoin=a.lineJoin,_.miterLimit=a.miterLimit,ol.has.CANVAS_LINE_DASH&&a.lineDash.length&&(_.setLineDash(a.lineDash),_.lineDashOffset=a.lineDashOffset)),o&&(_.fillStyle=s.fillStyle),_.textBaseline="middle",_.textAlign="center";var S,x=.5-c,E=c*n.width/u+x*g;if(r)for(S=0;S<h;++S)_.strokeText(d[S],E+x*y[S],.5*(g+m)+S*m);if(o)for(S=0;S<h;++S)_.fillText(d[S],E+x*y[S],.5*(g+m)+S*m)}return l.get(i)},ol.render.canvas.TextReplay.prototype.drawTextImage_=function(e,t,o){var r=this.textState_,n=this.textStrokeState_,i=this.pixelRatio,l=ol.render.replay.TEXT_ALIGN[r.textAlign||ol.render.canvas.defaultTextAlign],a=ol.render.replay.TEXT_ALIGN[r.textBaseline],s=n&&n.lineWidth?n.lineWidth:0,p=l*e.width/i+2*(.5-l)*s,u=a*e.height/i+2*(.5-a)*s;this.instructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,t,o,e,(p-this.textOffsetX_)*i,(u-this.textOffsetY_)*i,this.declutterGroup_,e.height,1,0,0,this.textRotateWithView_,this.textRotation_,1,!0,e.width,r.padding==ol.render.canvas.defaultPadding?ol.render.canvas.defaultPadding:r.padding.map(function(e){return e*i}),!!r.backgroundFill,!!r.backgroundStroke]),this.hitDetectionInstructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,t,o,e,(p-this.textOffsetX_)*i,(u-this.textOffsetY_)*i,this.declutterGroup_,e.height,1,0,0,this.textRotateWithView_,this.textRotation_,1/i,!0,e.width,r.padding,!!r.backgroundFill,!!r.backgroundStroke])},ol.render.canvas.TextReplay.prototype.drawChars_=function(e,t,o){var r=this.textStrokeState_,n=this.textState_,i=this.textFillState_,l=this.strokeKey_;r&&(l in this.strokeStates||(this.strokeStates[l]={strokeStyle:r.strokeStyle,lineCap:r.lineCap,lineDashOffset:r.lineDashOffset,lineWidth:r.lineWidth,lineJoin:r.lineJoin,miterLimit:r.miterLimit,lineDash:r.lineDash}));var a=this.textKey_;this.textKey_ in this.textStates||(this.textStates[this.textKey_]={font:n.font,textAlign:n.textAlign||ol.render.canvas.defaultTextAlign,scale:n.scale});var s=this.fillKey_;i&&(s in this.fillStates||(this.fillStates[s]={fillStyle:i.fillStyle}));var p=this.pixelRatio,u=ol.render.replay.TEXT_ALIGN[n.textBaseline],c=this.textOffsetY_*p,g=this.text_,d=n.font,h=n.scale,y=r?r.lineWidth*h/2:0,f=this.widths_[d];f||(this.widths_[d]=f={}),this.instructions.push([ol.render.canvas.Instruction.DRAW_CHARS,e,t,u,o,n.overflow,s,n.maxAngle,function(e){var t=f[e];return t||(t=f[e]=ol.render.canvas.measureTextWidth(d,e)),t*h*p},c,l,y*p,g,a,1]),this.hitDetectionInstructions.push([ol.render.canvas.Instruction.DRAW_CHARS,e,t,u,o,n.overflow,s,n.maxAngle,function(e){var t=f[e];return t||(t=f[e]=ol.render.canvas.measureTextWidth(d,e)),t*h},c,l,y,g,a,1/p])},ol.render.canvas.TextReplay.prototype.setTextStyle=function(e,t){var o,r,n;if(e){this.declutterGroup_=t;var i=e.getFill();i?((r=this.textFillState_)||(r=this.textFillState_={}),r.fillStyle=ol.colorlike.asColorLike(i.getColor()||ol.render.canvas.defaultFillStyle)):r=this.textFillState_=null;var l=e.getStroke();if(l){(n=this.textStrokeState_)||(n=this.textStrokeState_={});var a=l.getLineDash(),s=l.getLineDashOffset(),p=l.getWidth(),u=l.getMiterLimit();n.lineCap=l.getLineCap()||ol.render.canvas.defaultLineCap,n.lineDash=a?a.slice():ol.render.canvas.defaultLineDash,n.lineDashOffset=void 0===s?ol.render.canvas.defaultLineDashOffset:s,n.lineJoin=l.getLineJoin()||ol.render.canvas.defaultLineJoin,n.lineWidth=void 0===p?ol.render.canvas.defaultLineWidth:p,n.miterLimit=void 0===u?ol.render.canvas.defaultMiterLimit:u,n.strokeStyle=ol.colorlike.asColorLike(l.getColor()||ol.render.canvas.defaultStrokeStyle)}else n=this.textStrokeState_=null;o=this.textState_;var c=e.getFont()||ol.render.canvas.defaultFont;ol.render.canvas.checkFont(c);var g=e.getScale();o.overflow=e.getOverflow(),o.font=c,o.maxAngle=e.getMaxAngle(),o.placement=e.getPlacement(),o.textAlign=e.getTextAlign(),o.textBaseline=e.getTextBaseline()||ol.render.canvas.defaultTextBaseline,o.backgroundFill=e.getBackgroundFill(),o.backgroundStroke=e.getBackgroundStroke(),o.padding=e.getPadding()||ol.render.canvas.defaultPadding,o.scale=void 0===g?1:g;var d=e.getOffsetX(),h=e.getOffsetY(),y=e.getRotateWithView(),f=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=void 0===d?0:d,this.textOffsetY_=void 0===h?0:h,this.textRotateWithView_=void 0!==y&&y,this.textRotation_=void 0===f?0:f,this.strokeKey_=n?("string"==typeof n.strokeStyle?n.strokeStyle:ol.getUid(n.strokeStyle))+n.lineCap+n.lineDashOffset+"|"+n.lineWidth+n.lineJoin+n.miterLimit+"["+n.lineDash.join()+"]":"",this.textKey_=o.font+o.scale+(o.textAlign||"?"),this.fillKey_=r?"string"==typeof r.fillStyle?r.fillStyle:"|"+ol.getUid(r.fillStyle):""}else this.text_=""},goog.provide("ol.render.canvas.ReplayGroup"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.dom"),goog.require("ol.extent"),goog.require("ol.geom.flat.transform"),goog.require("ol.obj"),goog.require("ol.render.ReplayGroup"),goog.require("ol.render.ReplayType"),goog.require("ol.render.canvas.Replay"),goog.require("ol.render.canvas.ImageReplay"),goog.require("ol.render.canvas.LineStringReplay"),goog.require("ol.render.canvas.PolygonReplay"),goog.require("ol.render.canvas.TextReplay"),goog.require("ol.render.replay"),goog.require("ol.transform"),ol.render.canvas.ReplayGroup=function(e,t,o,r,n,i,l){ol.render.ReplayGroup.call(this),this.declutterTree_=i,this.declutterGroup_=null,this.tolerance_=e,this.maxExtent_=t,this.overlaps_=n,this.pixelRatio_=r,this.resolution_=o,this.renderBuffer_=l,this.replaysByZIndex_={},this.hitDetectionContext_=ol.dom.createCanvasContext2D(1,1),this.hitDetectionTransform_=ol.transform.create()},ol.inherits(ol.render.canvas.ReplayGroup,ol.render.ReplayGroup),ol.render.canvas.ReplayGroup.circleArrayCache_={0:[[!0]]},ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_=function(e,t,o){var r,n=Math.floor(e.length/2);if(t>=n)for(r=n;r<t;r++)e[r][o]=!0;else if(t<n)for(r=t+1;r<n;r++)e[r][o]=!0},ol.render.canvas.ReplayGroup.getCircleArray_=function(e){if(void 0!==ol.render.canvas.ReplayGroup.circleArrayCache_[e])return ol.render.canvas.ReplayGroup.circleArrayCache_[e];for(var t=2*e+1,o=new Array(t),r=0;r<t;r++)o[r]=new Array(t);for(var n=e,i=0,l=0;n>=i;)ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(o,e+n,e+i),ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(o,e+i,e+n),ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(o,e-i,e+n),ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(o,e-n,e+i),ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(o,e-n,e-i),ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(o,e-i,e-n),ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(o,e+i,e-n),ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(o,e+n,e-i),2*((l+=1+2*++i)-n)+1>0&&(l+=1-2*(n-=1));return ol.render.canvas.ReplayGroup.circleArrayCache_[e]=o,o},ol.render.canvas.ReplayGroup.replayDeclutter=function(e,t,o){for(var r=Object.keys(e).map(Number).sort(ol.array.numberSafeCompareFunction),n={},i=0,l=r.length;i<l;++i)for(var a=e[r[i].toString()],s=0,p=a.length;s<p;){var u=a[s++],c=a[s++];u.replay(t,c,o,n)}},ol.render.canvas.ReplayGroup.prototype.addDeclutter=function(e){var t=null;return this.declutterTree_&&(e?(t=this.declutterGroup_)[4]++:(t=this.declutterGroup_=ol.extent.createEmpty()).push(1)),t},ol.render.canvas.ReplayGroup.prototype.clip=function(e,t){var o=this.getClipCoords(t);e.beginPath(),e.moveTo(o[0],o[1]),e.lineTo(o[2],o[3]),e.lineTo(o[4],o[5]),e.lineTo(o[6],o[7]),e.clip()},ol.render.canvas.ReplayGroup.prototype.hasReplays=function(e){for(var t in this.replaysByZIndex_)for(var o=this.replaysByZIndex_[t],r=0,n=e.length;r<n;++r)if(e[r]in o)return!0;return!1},ol.render.canvas.ReplayGroup.prototype.finish=function(){var e;for(e in this.replaysByZIndex_){var t,o=this.replaysByZIndex_[e];for(t in o)o[t].finish()}},ol.render.canvas.ReplayGroup.prototype.forEachFeatureAtCoordinate=function(e,t,o,r,n,i,l){var a,s=2*(r=Math.round(r))+1,p=ol.transform.compose(this.hitDetectionTransform_,r+.5,r+.5,1/t,-1/t,-o,-e[0],-e[1]),u=this.hitDetectionContext_;u.canvas.width!==s||u.canvas.height!==s?(u.canvas.width=s,u.canvas.height=s):u.clearRect(0,0,s,s),void 0!==this.renderBuffer_&&(a=ol.extent.createEmpty(),ol.extent.extendCoordinate(a,e),ol.extent.buffer(a,t*(this.renderBuffer_+r),a));var c,g=ol.render.canvas.ReplayGroup.getCircleArray_(r);return this.declutterTree_&&(c=this.declutterTree_.all().map(function(e){return e.value})),this.replayHitDetection_(u,p,o,n,function(e){for(var t=u.getImageData(0,0,s,s).data,o=0;o<s;o++)for(var r=0;r<s;r++){var n;if(g[o][r]&&t[4*(r*s+o)+3]>0)return c&&-1===c.indexOf(e)||(n=i(e)),n||void u.clearRect(0,0,s,s)}},a,l)},ol.render.canvas.ReplayGroup.prototype.getClipCoords=function(e){var t=this.maxExtent_,o=t[0],r=t[1],n=t[2],i=t[3],l=[o,r,o,i,n,i,n,r];return ol.geom.flat.transform.transform2D(l,0,8,2,e,l),l},ol.render.canvas.ReplayGroup.prototype.getReplay=function(e,t){var o=void 0!==e?e.toString():"0",r=this.replaysByZIndex_[o];void 0===r&&(this.replaysByZIndex_[o]=r={});var n=r[t];return void 0===n&&(n=new(0,ol.render.canvas.ReplayGroup.BATCH_CONSTRUCTORS_[t])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_,this.overlaps_,this.declutterTree_),r[t]=n),n},ol.render.canvas.ReplayGroup.prototype.getReplays=function(){return this.replaysByZIndex_},ol.render.canvas.ReplayGroup.prototype.isEmpty=function(){return ol.obj.isEmpty(this.replaysByZIndex_)},ol.render.canvas.ReplayGroup.prototype.replay=function(e,t,o,r,n,i){var l=Object.keys(this.replaysByZIndex_).map(Number);l.sort(ol.array.numberSafeCompareFunction),e.save(),this.clip(e,t);var a,s,p,u,c,g,d=n||ol.render.replay.ORDER;for(a=0,s=l.length;a<s;++a){var h=l[a].toString();for(c=this.replaysByZIndex_[h],p=0,u=d.length;p<u;++p){var y=d[p];if(void 0!==(g=c[y]))if(!i||y!=ol.render.ReplayType.IMAGE&&y!=ol.render.ReplayType.TEXT)g.replay(e,t,o,r);else{var f=i[h];f?f.push(g,t.slice(0)):i[h]=[g,t.slice(0)]}}}e.restore()},ol.render.canvas.ReplayGroup.prototype.replayHitDetection_=function(e,t,o,r,n,i,l){var a,s,p,u,c,g=Object.keys(this.replaysByZIndex_).map(Number);for(g.sort(ol.array.numberSafeCompareFunction),a=g.length-1;a>=0;--a){var d=g[a].toString();for(p=this.replaysByZIndex_[d],s=ol.render.replay.ORDER.length-1;s>=0;--s){var h=ol.render.replay.ORDER[s];if(void 0!==(u=p[h]))if(!l||h!=ol.render.ReplayType.IMAGE&&h!=ol.render.ReplayType.TEXT){if(c=u.replayHitDetection(e,t,o,r,n,i))return c}else{var y=l[d];y?y.push(u,t.slice(0)):l[d]=[u,t.slice(0)]}}}},ol.render.canvas.ReplayGroup.BATCH_CONSTRUCTORS_={Circle:ol.render.canvas.PolygonReplay,Default:ol.render.canvas.Replay,Image:ol.render.canvas.ImageReplay,LineString:ol.render.canvas.LineStringReplay,Polygon:ol.render.canvas.PolygonReplay,Text:ol.render.canvas.TextReplay},goog.provide("ol.renderer.vector"),goog.require("ol"),goog.require("ol.ImageState"),goog.require("ol.geom.GeometryType"),goog.require("ol.render.ReplayType"),ol.renderer.vector.defaultOrder=function(e,t){return ol.getUid(e)-ol.getUid(t)},ol.renderer.vector.getSquaredTolerance=function(e,t){var o=ol.renderer.vector.getTolerance(e,t);return o*o},ol.renderer.vector.getTolerance=function(e,t){return ol.SIMPLIFY_TOLERANCE*e/t},ol.renderer.vector.renderCircleGeometry_=function(e,t,o,r){var n=o.getFill(),i=o.getStroke();if(n||i){var l=e.getReplay(o.getZIndex(),ol.render.ReplayType.CIRCLE);l.setFillStrokeStyle(n,i),l.drawCircle(t,r)}var a=o.getText();if(a){var s=e.getReplay(o.getZIndex(),ol.render.ReplayType.TEXT);s.setTextStyle(a,e.addDeclutter(!1)),s.drawText(t,r)}},ol.renderer.vector.renderFeature=function(e,t,o,r,n,i){var l,a,s=!1;return(l=o.getImage())&&((a=l.getImageState())==ol.ImageState.LOADED||a==ol.ImageState.ERROR?l.unlistenImageChange(n,i):(a==ol.ImageState.IDLE&&l.load(),a=l.getImageState(),l.listenImageChange(n,i),s=!0)),ol.renderer.vector.renderFeature_(e,t,o,r),s},ol.renderer.vector.renderFeature_=function(e,t,o,r){var n=o.getGeometryFunction()(t);if(n){var i=n.getSimplifiedGeometry(r);o.getRenderer()?ol.renderer.vector.renderGeometry_(e,i,o,t):(0,ol.renderer.vector.GEOMETRY_RENDERERS_[i.getType()])(e,i,o,t)}},ol.renderer.vector.renderGeometry_=function(e,t,o,r){if(t.getType()!=ol.geom.GeometryType.GEOMETRY_COLLECTION)e.getReplay(o.getZIndex(),ol.render.ReplayType.DEFAULT).drawCustom(t,r,o.getRenderer());else for(var n=t.getGeometries(),i=0,l=n.length;i<l;++i)ol.renderer.vector.renderGeometry_(e,n[i],o,r)},ol.renderer.vector.renderGeometryCollectionGeometry_=function(e,t,o,r){var n,i,l=t.getGeometriesArray();for(n=0,i=l.length;n<i;++n)(0,ol.renderer.vector.GEOMETRY_RENDERERS_[l[n].getType()])(e,l[n],o,r)},ol.renderer.vector.renderLineStringGeometry_=function(e,t,o,r){var n=o.getStroke();if(n){var i=e.getReplay(o.getZIndex(),ol.render.ReplayType.LINE_STRING);i.setFillStrokeStyle(null,n),i.drawLineString(t,r)}var l=o.getText();if(l){var a=e.getReplay(o.getZIndex(),ol.render.ReplayType.TEXT);a.setTextStyle(l,e.addDeclutter(!1)),a.drawText(t,r)}},ol.renderer.vector.renderMultiLineStringGeometry_=function(e,t,o,r){var n=o.getStroke();if(n){var i=e.getReplay(o.getZIndex(),ol.render.ReplayType.LINE_STRING);i.setFillStrokeStyle(null,n),i.drawMultiLineString(t,r)}var l=o.getText();if(l){var a=e.getReplay(o.getZIndex(),ol.render.ReplayType.TEXT);a.setTextStyle(l,e.addDeclutter(!1)),a.drawText(t,r)}},ol.renderer.vector.renderMultiPolygonGeometry_=function(e,t,o,r){var n=o.getFill(),i=o.getStroke();if(i||n){var l=e.getReplay(o.getZIndex(),ol.render.ReplayType.POLYGON);l.setFillStrokeStyle(n,i),l.drawMultiPolygon(t,r)}var a=o.getText();if(a){var s=e.getReplay(o.getZIndex(),ol.render.ReplayType.TEXT);s.setTextStyle(a,e.addDeclutter(!1)),s.drawText(t,r)}},ol.renderer.vector.renderPointGeometry_=function(e,t,o,r){var n=o.getImage();if(n){if(n.getImageState()!=ol.ImageState.LOADED)return;var i=e.getReplay(o.getZIndex(),ol.render.ReplayType.IMAGE);i.setImageStyle(n,e.addDeclutter(!1)),i.drawPoint(t,r)}var l=o.getText();if(l){var a=e.getReplay(o.getZIndex(),ol.render.ReplayType.TEXT);a.setTextStyle(l,e.addDeclutter(!!n)),a.drawText(t,r)}},ol.renderer.vector.renderMultiPointGeometry_=function(e,t,o,r){var n=o.getImage();if(n){if(n.getImageState()!=ol.ImageState.LOADED)return;var i=e.getReplay(o.getZIndex(),ol.render.ReplayType.IMAGE);i.setImageStyle(n,e.addDeclutter(!1)),i.drawMultiPoint(t,r)}var l=o.getText();if(l){var a=e.getReplay(o.getZIndex(),ol.render.ReplayType.TEXT);a.setTextStyle(l,e.addDeclutter(!!n)),a.drawText(t,r)}},ol.renderer.vector.renderPolygonGeometry_=function(e,t,o,r){var n=o.getFill(),i=o.getStroke();if(n||i){var l=e.getReplay(o.getZIndex(),ol.render.ReplayType.POLYGON);l.setFillStrokeStyle(n,i),l.drawPolygon(t,r)}var a=o.getText();if(a){var s=e.getReplay(o.getZIndex(),ol.render.ReplayType.TEXT);s.setTextStyle(a,e.addDeclutter(!1)),s.drawText(t,r)}},ol.renderer.vector.GEOMETRY_RENDERERS_={Point:ol.renderer.vector.renderPointGeometry_,LineString:ol.renderer.vector.renderLineStringGeometry_,Polygon:ol.renderer.vector.renderPolygonGeometry_,MultiPoint:ol.renderer.vector.renderMultiPointGeometry_,MultiLineString:ol.renderer.vector.renderMultiLineStringGeometry_,MultiPolygon:ol.renderer.vector.renderMultiPolygonGeometry_,GeometryCollection:ol.renderer.vector.renderGeometryCollectionGeometry_,Circle:ol.renderer.vector.renderCircleGeometry_},goog.provide("ol.renderer.canvas.VectorLayer"),goog.require("ol"),goog.require("ol.LayerType"),goog.require("ol.ViewHint"),goog.require("ol.dom"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.ext.rbush"),goog.require("ol.extent"),goog.require("ol.render.EventType"),goog.require("ol.render.canvas"),goog.require("ol.render.canvas.ReplayGroup"),goog.require("ol.renderer.Type"),goog.require("ol.renderer.canvas.Layer"),goog.require("ol.renderer.vector"),ol.renderer.canvas.VectorLayer=function(e){ol.renderer.canvas.Layer.call(this,e),this.declutterTree_=e.getDeclutter()?ol.ext.rbush(9):null,this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=ol.extent.createEmpty(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.context=ol.dom.createCanvasContext2D(),ol.events.listen(ol.render.canvas.labelCache,ol.events.EventType.CLEAR,this.handleFontsChanged_,this)},ol.inherits(ol.renderer.canvas.VectorLayer,ol.renderer.canvas.Layer),ol.renderer.canvas.VectorLayer.handles=function(e,t){return e===ol.renderer.Type.CANVAS&&t.getType()===ol.LayerType.VECTOR},ol.renderer.canvas.VectorLayer.create=function(e,t){return new ol.renderer.canvas.VectorLayer(t)},ol.renderer.canvas.VectorLayer.prototype.disposeInternal=function(){ol.events.unlisten(ol.render.canvas.labelCache,ol.events.EventType.CLEAR,this.handleFontsChanged_,this),ol.renderer.canvas.Layer.prototype.disposeInternal.call(this)},ol.renderer.canvas.VectorLayer.prototype.composeFrame=function(e,t,o){var r=e.extent,n=e.pixelRatio,i=t.managed?e.skippedFeatureUids:{},l=e.viewState,a=l.projection,s=l.rotation,p=a.getExtent(),u=this.getLayer().getSource(),c=this.getTransform(e,0);this.preCompose(o,e,c);var g=t.extent,d=void 0!==g;d&&this.clip(o,e,g);var h=this.replayGroup_;if(h&&!h.isEmpty()){this.declutterTree_&&this.declutterTree_.clear();var y,f=this.getLayer(),m=0,v=0,_=1!==t.opacity,S=f.hasListener(ol.render.EventType.RENDER);if(_||S){var x=o.canvas.width,E=o.canvas.height;if(s){var P=Math.round(Math.sqrt(x*x+E*E));m=(P-x)/2,v=(P-E)/2,x=E=P}this.context.canvas.width=x,this.context.canvas.height=E,y=this.context}else y=o;var b=y.globalAlpha;_||(y.globalAlpha=t.opacity),y!=o&&y.translate(m,v);var T=e.size[0]*n,C=e.size[1]*n;if(ol.render.canvas.rotateAtOffset(y,-s,T/2,C/2),h.replay(y,c,s,i),u.getWrapX()&&a.canWrapX()&&!ol.extent.containsExtent(p,r)){for(var R=r[0],w=ol.extent.getWidth(p),M=0;R<p[0];)c=this.getTransform(e,w*--M),h.replay(y,c,s,i),R+=w;for(M=0,R=r[2];R>p[2];)c=this.getTransform(e,w*++M),h.replay(y,c,s,i),R-=w;c=this.getTransform(e,0)}if(ol.render.canvas.rotateAtOffset(y,s,T/2,C/2),y!=o){if(S&&this.dispatchRenderEvent(y,e,c),_){var L=o.globalAlpha;o.globalAlpha=t.opacity,o.drawImage(y.canvas,-m,-v),o.globalAlpha=L}else o.drawImage(y.canvas,-m,-v);y.translate(-m,-v)}_||(y.globalAlpha=b)}d&&o.restore(),this.postCompose(o,e,t,c)},ol.renderer.canvas.VectorLayer.prototype.forEachFeatureAtCoordinate=function(e,t,o,r,n){if(this.replayGroup_){var i=t.viewState.resolution,l=t.viewState.rotation,a=this.getLayer(),s={};return this.replayGroup_.forEachFeatureAtCoordinate(e,i,l,o,{},function(e){var t=ol.getUid(e).toString();if(!(t in s))return s[t]=!0,r.call(n,e,a)},null)}},ol.renderer.canvas.VectorLayer.prototype.handleFontsChanged_=function(e){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},ol.renderer.canvas.VectorLayer.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},ol.renderer.canvas.VectorLayer.prototype.prepareFrame=function(e,t){var o=this.getLayer(),r=o.getSource();this.updateLogos(e,r);var n=e.viewHints[ol.ViewHint.ANIMATING],i=e.viewHints[ol.ViewHint.INTERACTING],l=o.getUpdateWhileAnimating(),a=o.getUpdateWhileInteracting();if(!this.dirty_&&!l&&n||!a&&i)return!0;var s=e.extent,p=e.viewState,u=p.projection,c=p.resolution,g=e.pixelRatio,d=o.getRevision(),h=o.getRenderBuffer(),y=o.getRenderOrder();void 0===y&&(y=ol.renderer.vector.defaultOrder);var f=ol.extent.buffer(s,h*c),m=p.projection.getExtent();if(r.getWrapX()&&p.projection.canWrapX()&&!ol.extent.containsExtent(m,e.extent)){var v=ol.extent.getWidth(m),_=Math.max(ol.extent.getWidth(f)/2,v);f[0]=m[0]-_,f[2]=m[2]+_}if(!this.dirty_&&this.renderedResolution_==c&&this.renderedRevision_==d&&this.renderedRenderOrder_==y&&ol.extent.containsExtent(this.renderedExtent_,f))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var S=new ol.render.canvas.ReplayGroup(ol.renderer.vector.getTolerance(c,g),f,c,g,r.getOverlaps(),this.declutterTree_,o.getRenderBuffer());r.loadFeatures(f,c,u);var x=(function(e){var t,r=e.getStyleFunction();if(r?t=r.call(e,c):(r=o.getStyleFunction())&&(t=r(e,c)),t){var n=this.renderFeature(e,c,g,t,S);this.dirty_=this.dirty_||n}}).bind(this);if(y){var E=[];r.forEachFeatureInExtent(f,function(e){E.push(e)},this),E.sort(y);for(var P=0,b=E.length;P<b;++P)x(E[P])}else r.forEachFeatureInExtent(f,x,this);return S.finish(),this.renderedResolution_=c,this.renderedRevision_=d,this.renderedRenderOrder_=y,this.renderedExtent_=f,this.replayGroup_=S,this.replayGroupChanged=!0,!0},ol.renderer.canvas.VectorLayer.prototype.renderFeature=function(e,t,o,r,n){if(!r)return!1;var i=!1;if(Array.isArray(r))for(var l=0,a=r.length;l<a;++l)i=ol.renderer.vector.renderFeature(n,e,r[l],ol.renderer.vector.getSquaredTolerance(t,o),this.handleStyleImageChange_,this)||i;else i=ol.renderer.vector.renderFeature(n,e,r,ol.renderer.vector.getSquaredTolerance(t,o),this.handleStyleImageChange_,this);return i},goog.provide("ol.layer.VectorTileRenderType"),ol.layer.VectorTileRenderType={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"},goog.provide("ol.renderer.canvas.VectorTileLayer"),goog.require("ol"),goog.require("ol.LayerType"),goog.require("ol.TileState"),goog.require("ol.dom"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.ext.rbush"),goog.require("ol.extent"),goog.require("ol.layer.VectorTileRenderType"),goog.require("ol.proj"),goog.require("ol.proj.Units"),goog.require("ol.render.ReplayType"),goog.require("ol.render.canvas"),goog.require("ol.render.canvas.ReplayGroup"),goog.require("ol.render.replay"),goog.require("ol.renderer.Type"),goog.require("ol.renderer.canvas.TileLayer"),goog.require("ol.renderer.vector"),goog.require("ol.transform"),ol.renderer.canvas.VectorTileLayer=function(e){this.context=null,ol.renderer.canvas.TileLayer.call(this,e),this.declutterTree_=e.getDeclutter()?ol.ext.rbush(9):null,this.dirty_=!1,this.tmpTransform_=ol.transform.create(),this.zDirection=e.getRenderMode()==ol.layer.VectorTileRenderType.VECTOR?1:0,ol.events.listen(ol.render.canvas.labelCache,ol.events.EventType.CLEAR,this.handleFontsChanged_,this)},ol.inherits(ol.renderer.canvas.VectorTileLayer,ol.renderer.canvas.TileLayer),ol.renderer.canvas.VectorTileLayer.handles=function(e,t){return e===ol.renderer.Type.CANVAS&&t.getType()===ol.LayerType.VECTOR_TILE},ol.renderer.canvas.VectorTileLayer.create=function(e,t){return new ol.renderer.canvas.VectorTileLayer(t)},ol.renderer.canvas.VectorTileLayer.IMAGE_REPLAYS={image:[ol.render.ReplayType.POLYGON,ol.render.ReplayType.CIRCLE,ol.render.ReplayType.LINE_STRING,ol.render.ReplayType.IMAGE,ol.render.ReplayType.TEXT],hybrid:[ol.render.ReplayType.POLYGON,ol.render.ReplayType.LINE_STRING]},ol.renderer.canvas.VectorTileLayer.VECTOR_REPLAYS={image:[ol.render.ReplayType.DEFAULT],hybrid:[ol.render.ReplayType.IMAGE,ol.render.ReplayType.TEXT,ol.render.ReplayType.DEFAULT],vector:ol.render.replay.ORDER},ol.renderer.canvas.VectorTileLayer.prototype.disposeInternal=function(){ol.events.unlisten(ol.render.canvas.labelCache,ol.events.EventType.CLEAR,this.handleFontsChanged_,this),ol.renderer.canvas.TileLayer.prototype.disposeInternal.call(this)},ol.renderer.canvas.VectorTileLayer.prototype.prepareFrame=function(e,t){var o=this.getLayer(),r=o.getRevision();if(this.renderedLayerRevision_!=r){this.renderedTiles.length=0;var n=o.getRenderMode();this.context||n==ol.layer.VectorTileRenderType.VECTOR||(this.context=ol.dom.createCanvasContext2D()),this.context&&n==ol.layer.VectorTileRenderType.VECTOR&&(this.context=null)}return this.renderedLayerRevision_=r,ol.renderer.canvas.TileLayer.prototype.prepareFrame.apply(this,arguments)},ol.renderer.canvas.VectorTileLayer.prototype.createReplayGroup_=function(e,t){var o=this.getLayer(),r=t.pixelRatio,n=t.viewState.projection,i=o.getRevision(),l=o.getRenderOrder()||null,a=e.getReplayState(o);if(a.dirty||a.renderedRevision!=i||a.renderedRenderOrder!=l){for(var s=o.getSource(),p=s.getTileGrid(),u=s.getTileGridForProjection(n),c=u.getResolution(e.tileCoord[0]),g=u.getTileCoordExtent(e.wrappedTileCoord),d={},h=0,y=e.tileKeys.length;h<y;++h){var f=e.getTile(e.tileKeys[h]);if(f.getState()!=ol.TileState.ERROR){var m=p.getTileCoordExtent(f.tileCoord),v=ol.extent.getIntersection(g,m),_=ol.extent.equals(m,v)?null:ol.extent.buffer(v,o.getRenderBuffer()*c),S=f.getProjection(),x=!1;ol.proj.equivalent(n,S)||(x=!0,f.setProjection(n)),a.dirty=!1;var E,P=new ol.render.canvas.ReplayGroup(0,v,c,r,s.getOverlaps(),this.declutterTree_,o.getRenderBuffer()),b=ol.renderer.vector.getSquaredTolerance(c,r),T=function(e){var t,r=e.getStyleFunction();if(r?t=r.call(e,c):(r=o.getStyleFunction())&&(t=r(e,c)),t){var n=this.renderFeature(e,b,t,P);this.dirty_=this.dirty_||n,a.dirty=a.dirty||n}},C=f.getFeatures();l&&l!==a.renderedRenderOrder&&C.sort(l);for(var R=0,w=C.length;R<w;++R)E=C[R],x&&(S.getUnits()==ol.proj.Units.TILE_PIXELS&&(S.setWorldExtent(m),S.setExtent(f.getExtent())),E.getGeometry().transform(S,n)),_&&!ol.extent.intersects(_,E.getGeometry().getExtent())||T.call(this,E);for(var M in P.finish(),P.getReplays())d[M]=!0;f.setReplayGroup(o,e.tileCoord.toString(),P)}}a.renderedRevision=i,a.renderedRenderOrder=l}},ol.renderer.canvas.VectorTileLayer.prototype.drawTileImage=function(e,t,o,r,n,i,l,a,s){var p=e;this.createReplayGroup_(p,t),this.context&&(this.renderTileImage_(p,t,o),ol.renderer.canvas.TileLayer.prototype.drawTileImage.apply(this,arguments))},ol.renderer.canvas.VectorTileLayer.prototype.forEachFeatureAtCoordinate=function(e,t,o,r,n){var i=t.viewState.resolution,l=t.viewState.rotation;o=void 0==o?0:o;var a,s,p,u,c,g,d,h=this.getLayer(),y={},f=this.renderedTiles,m=h.getSource().getTileGridForProjection(t.viewState.projection);for(p=0,u=f.length;p<u;++p)if(d=m.getTileCoordExtent((g=f[p]).wrappedTileCoord,this.tmpExtent),a=ol.extent.buffer(d,o*i,a),ol.extent.containsCoordinate(a,e))for(var v=0,_=g.tileKeys.length;v<_;++v){var S=g.getTile(g.tileKeys[v]);S.getState()!=ol.TileState.ERROR&&(c=S.getReplayGroup(h,g.tileCoord.toString()),s=s||c.forEachFeatureAtCoordinate(e,i,l,o,{},function(e){var t=ol.getUid(e).toString();if(!(t in y))return y[t]=!0,r.call(n,e,h)},null))}return s},ol.renderer.canvas.VectorTileLayer.prototype.getReplayTransform_=function(e,t){var o=this.getLayer().getSource().getTileGrid(),r=e.tileCoord,n=o.getResolution(r[0]),i=t.viewState,l=t.pixelRatio,a=i.resolution/l,s=o.getTileCoordExtent(r,this.tmpExtent),p=i.center,u=ol.extent.getTopLeft(s),c=t.size,g=Math.round(l*c[0]/2),d=Math.round(l*c[1]/2);return ol.transform.compose(this.tmpTransform_,g,d,n/a,n/a,i.rotation,(u[0]-p[0])/n,(p[1]-u[1])/n)},ol.renderer.canvas.VectorTileLayer.prototype.handleFontsChanged_=function(e){var t=this.getLayer();t.getVisible()&&void 0!==this.renderedLayerRevision_&&t.changed()},ol.renderer.canvas.VectorTileLayer.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},ol.renderer.canvas.VectorTileLayer.prototype.postCompose=function(e,t,o){var r,n,i=this.getLayer(),l=i.getDeclutter()?{}:null,a=i.getSource(),s=i.getRenderMode(),p=ol.renderer.canvas.VectorTileLayer.VECTOR_REPLAYS[s],u=t.pixelRatio,c=t.viewState.rotation,g=t.size;c&&(r=Math.round(u*g[0]/2),n=Math.round(u*g[1]/2),ol.render.canvas.rotateAtOffset(e,-c,r,n)),l&&this.declutterTree_.clear();for(var d=this.renderedTiles,h=a.getTileGridForProjection(t.viewState.projection),y=[],f=[],m=d.length-1;m>=0;--m){var v=d[m];if(v.getState()!=ol.TileState.ABORT)for(var _=v.tileCoord,S=h.getTileCoordExtent(_)[0]-h.getTileCoordExtent(v.wrappedTileCoord)[0],x=void 0,E=0,P=v.tileKeys.length;E<P;++E){var b=v.getTile(v.tileKeys[E]);if(b.getState()!=ol.TileState.ERROR){var T=b.getReplayGroup(i,_.toString());if(s==ol.layer.VectorTileRenderType.VECTOR||T.hasReplays(p)){x||(x=this.getTransform(t,S));var C=b.tileCoord[0],R=T.getClipCoords(x);e.save(),e.globalAlpha=o.opacity;for(var w=0,M=y.length;w<M;++w){var L=y[w];C<f[w]&&(e.beginPath(),e.moveTo(R[0],R[1]),e.lineTo(R[2],R[3]),e.lineTo(R[4],R[5]),e.lineTo(R[6],R[7]),e.moveTo(L[6],L[7]),e.lineTo(L[4],L[5]),e.lineTo(L[2],L[3]),e.lineTo(L[0],L[1]),e.clip())}T.replay(e,x,c,{},p,l),e.restore(),y.push(R),f.push(C)}}}}l&&ol.render.canvas.ReplayGroup.replayDeclutter(l,e,c),c&&ol.render.canvas.rotateAtOffset(e,c,r,n),ol.renderer.canvas.TileLayer.prototype.postCompose.apply(this,arguments)},ol.renderer.canvas.VectorTileLayer.prototype.renderFeature=function(e,t,o,r){if(!o)return!1;var n=!1;if(Array.isArray(o))for(var i=0,l=o.length;i<l;++i)n=ol.renderer.vector.renderFeature(r,e,o[i],t,this.handleStyleImageChange_,this)||n;else n=ol.renderer.vector.renderFeature(r,e,o,t,this.handleStyleImageChange_,this);return n},ol.renderer.canvas.VectorTileLayer.prototype.renderTileImage_=function(e,t,o){var r=this.getLayer(),n=e.getReplayState(r),i=r.getRevision(),l=ol.renderer.canvas.VectorTileLayer.IMAGE_REPLAYS[r.getRenderMode()];if(l&&n.renderedTileRevision!==i){n.renderedTileRevision=i;var a=e.wrappedTileCoord,s=a[0],p=t.pixelRatio,u=r.getSource(),c=u.getTileGridForProjection(t.viewState.projection),g=c.getResolution(s),d=e.getContext(r),h=u.getTilePixelSize(s,p,t.viewState.projection);d.canvas.width=h[0],d.canvas.height=h[1];for(var y=c.getTileCoordExtent(a),f=0,m=e.tileKeys.length;f<m;++f){var v=e.getTile(e.tileKeys[f]);if(v.getState()!=ol.TileState.ERROR){var _=p/g,S=ol.transform.reset(this.tmpTransform_);ol.transform.scale(S,_,-_),ol.transform.translate(S,-y[0],-y[3]),v.getReplayGroup(r,e.tileCoord.toString()).replay(d,S,0,{},l)}}}},goog.provide("ol.CanvasMap"),goog.require("ol"),goog.require("ol.PluggableMap"),goog.require("ol.PluginType"),goog.require("ol.control"),goog.require("ol.interaction"),goog.require("ol.obj"),goog.require("ol.plugins"),goog.require("ol.renderer.canvas.ImageLayer"),goog.require("ol.renderer.canvas.Map"),goog.require("ol.renderer.canvas.TileLayer"),goog.require("ol.renderer.canvas.VectorLayer"),goog.require("ol.renderer.canvas.VectorTileLayer"),ol.plugins.register(ol.PluginType.MAP_RENDERER,ol.renderer.canvas.Map),ol.plugins.registerMultiple(ol.PluginType.LAYER_RENDERER,[ol.renderer.canvas.ImageLayer,ol.renderer.canvas.TileLayer,ol.renderer.canvas.VectorLayer,ol.renderer.canvas.VectorTileLayer]),ol.CanvasMap=function(e){delete(e=ol.obj.assign({},e)).renderer,e.controls||(e.controls=ol.control.defaults()),e.interactions||(e.interactions=ol.interaction.defaults()),ol.PluggableMap.call(this,e)},ol.inherits(ol.CanvasMap,ol.PluggableMap),goog.provide("ol.control.FullScreen"),goog.require("ol"),goog.require("ol.control.Control"),goog.require("ol.css"),goog.require("ol.dom"),goog.require("ol.events"),goog.require("ol.events.EventType"),ol.control.FullScreen=function(e){var t=e||{};this.cssClassName_=void 0!==t.className?t.className:"ol-full-screen";var o=void 0!==t.label?t.label:"\u2922";this.labelNode_="string"==typeof o?document.createTextNode(o):o;var r=void 0!==t.labelActive?t.labelActive:"\xd7";this.labelActiveNode_="string"==typeof r?document.createTextNode(r):r;var n=t.tipLabel?t.tipLabel:"Toggle full-screen",i=document.createElement("button");i.className=this.cssClassName_+"-"+ol.control.FullScreen.isFullScreen(),i.setAttribute("type","button"),i.title=n,i.appendChild(this.labelNode_),ol.events.listen(i,ol.events.EventType.CLICK,this.handleClick_,this);var l=this.cssClassName_+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL+" "+(ol.control.FullScreen.isFullScreenSupported()?"":ol.css.CLASS_UNSUPPORTED),a=document.createElement("div");a.className=l,a.appendChild(i),ol.control.Control.call(this,{element:a,target:t.target}),this.keys_=void 0!==t.keys&&t.keys,this.source_=t.source},ol.inherits(ol.control.FullScreen,ol.control.Control),ol.control.FullScreen.prototype.handleClick_=function(e){e.preventDefault(),this.handleFullScreen_()},ol.control.FullScreen.prototype.handleFullScreen_=function(){if(ol.control.FullScreen.isFullScreenSupported()){var e,t=this.getMap();t&&(ol.control.FullScreen.isFullScreen()?ol.control.FullScreen.exitFullScreen():(e=this.source_?"string"==typeof this.source_?document.getElementById(this.source_):this.source_:t.getTargetElement(),this.keys_?ol.control.FullScreen.requestFullScreenWithKeys(e):ol.control.FullScreen.requestFullScreen(e)))}},ol.control.FullScreen.prototype.handleFullScreenChange_=function(){var e=this.element.firstElementChild,t=this.getMap();ol.control.FullScreen.isFullScreen()?(e.className=this.cssClassName_+"-true",ol.dom.replaceNode(this.labelActiveNode_,this.labelNode_)):(e.className=this.cssClassName_+"-false",ol.dom.replaceNode(this.labelNode_,this.labelActiveNode_)),t&&t.updateSize()},ol.control.FullScreen.prototype.setMap=function(e){ol.control.Control.prototype.setMap.call(this,e),e&&this.listenerKeys.push(ol.events.listen(document,ol.control.FullScreen.getChangeType_(),this.handleFullScreenChange_,this))},ol.control.FullScreen.isFullScreenSupported=function(){var e=document.body;return!!(e.webkitRequestFullscreen||e.mozRequestFullScreen&&document.mozFullScreenEnabled||e.msRequestFullscreen&&document.msFullscreenEnabled||e.requestFullscreen&&document.fullscreenEnabled)},ol.control.FullScreen.isFullScreen=function(){return!!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)},ol.control.FullScreen.requestFullScreen=function(e){e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()},ol.control.FullScreen.requestFullScreenWithKeys=function(e){e.mozRequestFullScreenWithKeys?e.mozRequestFullScreenWithKeys():e.webkitRequestFullscreen?e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):ol.control.FullScreen.requestFullScreen(e)},ol.control.FullScreen.exitFullScreen=function(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},ol.control.FullScreen.getChangeType_=function(){if(!changeType){var e=document.body;e.webkitRequestFullscreen?changeType="webkitfullscreenchange":e.mozRequestFullScreen?changeType="mozfullscreenchange":e.msRequestFullscreen?changeType="MSFullscreenChange":e.requestFullscreen&&(changeType="fullscreenchange")}return changeType},goog.provide("ol.control.MousePosition"),goog.require("ol"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.Object"),goog.require("ol.control.Control"),goog.require("ol.proj"),ol.control.MousePosition=function(e){var t=e||{},o=document.createElement("DIV");o.className=void 0!==t.className?t.className:"ol-mouse-position";var r=t.render?t.render:ol.control.MousePosition.render;ol.control.Control.call(this,{element:o,render:r,target:t.target}),ol.events.listen(this,ol.Object.getChangeEventType(ol.control.MousePosition.Property_.PROJECTION),this.handleProjectionChanged_,this),t.coordinateFormat&&this.setCoordinateFormat(t.coordinateFormat),t.projection&&this.setProjection(t.projection),this.undefinedHTML_=void 0!==t.undefinedHTML?t.undefinedHTML:"",this.renderedHTML_=o.innerHTML,this.mapProjection_=null,this.transform_=null,this.lastMouseMovePixel_=null},ol.inherits(ol.control.MousePosition,ol.control.Control),ol.control.MousePosition.render=function(e){var t=e.frameState;t?this.mapProjection_!=t.viewState.projection&&(this.mapProjection_=t.viewState.projection,this.transform_=null):this.mapProjection_=null,this.updateHTML_(this.lastMouseMovePixel_)},ol.control.MousePosition.prototype.handleProjectionChanged_=function(){this.transform_=null},ol.control.MousePosition.prototype.getCoordinateFormat=function(){return this.get(ol.control.MousePosition.Property_.COORDINATE_FORMAT)},ol.control.MousePosition.prototype.getProjection=function(){return this.get(ol.control.MousePosition.Property_.PROJECTION)},ol.control.MousePosition.prototype.handleMouseMove=function(e){var t=this.getMap();this.lastMouseMovePixel_=t.getEventPixel(e),this.updateHTML_(this.lastMouseMovePixel_)},ol.control.MousePosition.prototype.handleMouseOut=function(e){this.updateHTML_(null),this.lastMouseMovePixel_=null},ol.control.MousePosition.prototype.setMap=function(e){if(ol.control.Control.prototype.setMap.call(this,e),e){var t=e.getViewport();this.listenerKeys.push(ol.events.listen(t,ol.events.EventType.MOUSEMOVE,this.handleMouseMove,this),ol.events.listen(t,ol.events.EventType.MOUSEOUT,this.handleMouseOut,this))}},ol.control.MousePosition.prototype.setCoordinateFormat=function(e){this.set(ol.control.MousePosition.Property_.COORDINATE_FORMAT,e)},ol.control.MousePosition.prototype.setProjection=function(e){this.set(ol.control.MousePosition.Property_.PROJECTION,ol.proj.get(e))},ol.control.MousePosition.prototype.updateHTML_=function(e){var t=this.undefinedHTML_;if(e&&this.mapProjection_){if(!this.transform_){var o=this.getProjection();this.transform_=o?ol.proj.getTransformFromProjections(this.mapProjection_,o):ol.proj.identityTransform}var r=this.getMap().getCoordinateFromPixel(e);if(r){this.transform_(r,r);var n=this.getCoordinateFormat();t=n?n(r):r.toString()}}this.renderedHTML_&&t==this.renderedHTML_||(this.element.innerHTML=t,this.renderedHTML_=t)},ol.control.MousePosition.Property_={PROJECTION:"projection",COORDINATE_FORMAT:"coordinateFormat"},goog.provide("ol.OverlayPositioning"),ol.OverlayPositioning={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"},goog.provide("ol.Overlay"),goog.require("ol"),goog.require("ol.MapEventType"),goog.require("ol.Object"),goog.require("ol.OverlayPositioning"),goog.require("ol.css"),goog.require("ol.dom"),goog.require("ol.events"),goog.require("ol.extent"),ol.Overlay=function(e){ol.Object.call(this),this.options=e,this.id=e.id,this.insertFirst=void 0===e.insertFirst||e.insertFirst,this.stopEvent=void 0===e.stopEvent||e.stopEvent,this.element=document.createElement("DIV"),this.element.className=void 0!==e.className?e.className:"ol-overlay-container "+ol.css.CLASS_SELECTABLE,this.element.style.position="absolute",this.autoPan=void 0!==e.autoPan&&e.autoPan,this.autoPanAnimation=e.autoPanAnimation||{},this.autoPanMargin=void 0!==e.autoPanMargin?e.autoPanMargin:20,this.rendered={bottom_:"",left_:"",right_:"",top_:"",visible:!0},this.mapPostrenderListenerKey=null,ol.events.listen(this,ol.Object.getChangeEventType(ol.Overlay.Property.ELEMENT),this.handleElementChanged,this),ol.events.listen(this,ol.Object.getChangeEventType(ol.Overlay.Property.MAP),this.handleMapChanged,this),ol.events.listen(this,ol.Object.getChangeEventType(ol.Overlay.Property.OFFSET),this.handleOffsetChanged,this),ol.events.listen(this,ol.Object.getChangeEventType(ol.Overlay.Property.POSITION),this.handlePositionChanged,this),ol.events.listen(this,ol.Object.getChangeEventType(ol.Overlay.Property.POSITIONING),this.handlePositioningChanged,this),void 0!==e.element&&this.setElement(e.element),this.setOffset(void 0!==e.offset?e.offset:[0,0]),this.setPositioning(void 0!==e.positioning?e.positioning:ol.OverlayPositioning.TOP_LEFT),void 0!==e.position&&this.setPosition(e.position)},ol.inherits(ol.Overlay,ol.Object),ol.Overlay.prototype.getElement=function(){return this.get(ol.Overlay.Property.ELEMENT)},ol.Overlay.prototype.getId=function(){return this.id},ol.Overlay.prototype.getMap=function(){return this.get(ol.Overlay.Property.MAP)},ol.Overlay.prototype.getOffset=function(){return this.get(ol.Overlay.Property.OFFSET)},ol.Overlay.prototype.getPosition=function(){return this.get(ol.Overlay.Property.POSITION)},ol.Overlay.prototype.getPositioning=function(){return this.get(ol.Overlay.Property.POSITIONING)},ol.Overlay.prototype.handleElementChanged=function(){ol.dom.removeChildren(this.element);var e=this.getElement();e&&this.element.appendChild(e)},ol.Overlay.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(ol.dom.removeNode(this.element),ol.events.unlistenByKey(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var e=this.getMap();if(e){this.mapPostrenderListenerKey=ol.events.listen(e,ol.MapEventType.POSTRENDER,this.render,this),this.updatePixelPosition();var t=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element)}},ol.Overlay.prototype.render=function(){this.updatePixelPosition()},ol.Overlay.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},ol.Overlay.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.get(ol.Overlay.Property.POSITION)&&this.autoPan&&this.panIntoView()},ol.Overlay.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},ol.Overlay.prototype.setElement=function(e){this.set(ol.Overlay.Property.ELEMENT,e)},ol.Overlay.prototype.setMap=function(e){this.set(ol.Overlay.Property.MAP,e)},ol.Overlay.prototype.setOffset=function(e){this.set(ol.Overlay.Property.OFFSET,e)},ol.Overlay.prototype.setPosition=function(e){this.set(ol.Overlay.Property.POSITION,e)},ol.Overlay.prototype.panIntoView=function(){var e=this.getMap();if(e&&e.getTargetElement()){var t=this.getRect(e.getTargetElement(),e.getSize()),o=this.getElement(),r=this.getRect(o,[ol.dom.outerWidth(o),ol.dom.outerHeight(o)]),n=this.autoPanMargin;if(!ol.extent.containsExtent(t,r)){var i=r[0]-t[0],l=t[2]-r[2],a=r[1]-t[1],s=t[3]-r[3],p=[0,0];if(i<0?p[0]=i-n:l<0&&(p[0]=Math.abs(l)+n),a<0?p[1]=a-n:s<0&&(p[1]=Math.abs(s)+n),0!==p[0]||0!==p[1]){var u=e.getView().getCenter(),c=e.getPixelFromCoordinate(u),g=[c[0]+p[0],c[1]+p[1]];e.getView().animate({center:e.getCoordinateFromPixel(g),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing})}}}},ol.Overlay.prototype.getRect=function(e,t){var o=e.getBoundingClientRect(),r=o.left+window.pageXOffset,n=o.top+window.pageYOffset;return[r,n,r+t[0],n+t[1]]},ol.Overlay.prototype.setPositioning=function(e){this.set(ol.Overlay.Property.POSITIONING,e)},ol.Overlay.prototype.setVisible=function(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)},ol.Overlay.prototype.updatePixelPosition=function(){var e=this.getMap(),t=this.getPosition();if(e&&e.isRendered()&&t){var o=e.getPixelFromCoordinate(t),r=e.getSize();this.updateRenderedPosition(o,r)}else this.setVisible(!1)},ol.Overlay.prototype.updateRenderedPosition=function(e,t){var o=this.element.style,r=this.getOffset(),n=this.getPositioning();this.setVisible(!0);var i=r[0],l=r[1];if(n==ol.OverlayPositioning.BOTTOM_RIGHT||n==ol.OverlayPositioning.CENTER_RIGHT||n==ol.OverlayPositioning.TOP_RIGHT){""!==this.rendered.left_&&(this.rendered.left_=o.left="");var a=Math.round(t[0]-e[0]-i)+"px";this.rendered.right_!=a&&(this.rendered.right_=o.right=a)}else{""!==this.rendered.right_&&(this.rendered.right_=o.right=""),n!=ol.OverlayPositioning.BOTTOM_CENTER&&n!=ol.OverlayPositioning.CENTER_CENTER&&n!=ol.OverlayPositioning.TOP_CENTER||(i-=this.element.offsetWidth/2);var s=Math.round(e[0]+i)+"px";this.rendered.left_!=s&&(this.rendered.left_=o.left=s)}if(n==ol.OverlayPositioning.BOTTOM_LEFT||n==ol.OverlayPositioning.BOTTOM_CENTER||n==ol.OverlayPositioning.BOTTOM_RIGHT){""!==this.rendered.top_&&(this.rendered.top_=o.top="");var p=Math.round(t[1]-e[1]-l)+"px";this.rendered.bottom_!=p&&(this.rendered.bottom_=o.bottom=p)}else{""!==this.rendered.bottom_&&(this.rendered.bottom_=o.bottom=""),n!=ol.OverlayPositioning.CENTER_LEFT&&n!=ol.OverlayPositioning.CENTER_CENTER&&n!=ol.OverlayPositioning.CENTER_RIGHT||(l-=this.element.offsetHeight/2);var u=Math.round(e[1]+l)+"px";this.rendered.top_!=u&&(this.rendered.top_=o.top=u)}},ol.Overlay.prototype.getOptions=function(){return this.options},ol.Overlay.Property={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},goog.provide("ol.control.OverviewMap"),goog.require("ol"),goog.require("ol.Collection"),goog.require("ol.PluggableMap"),goog.require("ol.MapEventType"),goog.require("ol.MapProperty"),goog.require("ol.Object"),goog.require("ol.ObjectEventType"),goog.require("ol.Overlay"),goog.require("ol.OverlayPositioning"),goog.require("ol.ViewProperty"),goog.require("ol.control.Control"),goog.require("ol.coordinate"),goog.require("ol.css"),goog.require("ol.dom"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.extent"),ol.control.OverviewMap=function(e){var t=e||{};this.collapsed_=void 0===t.collapsed||t.collapsed,this.collapsible_=void 0===t.collapsible||t.collapsible,this.collapsible_||(this.collapsed_=!1);var o=void 0!==t.className?t.className:"ol-overviewmap",r=void 0!==t.tipLabel?t.tipLabel:"Overview map",n=void 0!==t.collapseLabel?t.collapseLabel:"\xab";"string"==typeof n?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=n):this.collapseLabel_=n;var i=void 0!==t.label?t.label:"\xbb";"string"==typeof i?(this.label_=document.createElement("span"),this.label_.textContent=i):this.label_=i;var l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,a=document.createElement("button");a.setAttribute("type","button"),a.title=r,a.appendChild(l),ol.events.listen(a,ol.events.EventType.CLICK,this.handleClick_,this),this.ovmapDiv_=document.createElement("DIV"),this.ovmapDiv_.className="ol-overviewmap-map",this.ovmap_=new ol.PluggableMap({controls:new ol.Collection,interactions:new ol.Collection,view:t.view});var s=this.ovmap_;t.layers&&t.layers.forEach(function(e){s.addLayer(e)},this);var p=document.createElement("DIV");p.className="ol-overviewmap-box",p.style.boxSizing="border-box",this.boxOverlay_=new ol.Overlay({position:[0,0],positioning:ol.OverlayPositioning.BOTTOM_LEFT,element:p}),this.ovmap_.addOverlay(this.boxOverlay_);var u=o+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL+(this.collapsed_&&this.collapsible_?" ol-collapsed":"")+(this.collapsible_?"":" ol-uncollapsible"),c=document.createElement("div");c.className=u,c.appendChild(this.ovmapDiv_),c.appendChild(a);var g=t.render?t.render:ol.control.OverviewMap.render;ol.control.Control.call(this,{element:c,render:g,target:t.target});var d=this,h=this.boxOverlay_,y=this.boxOverlay_.getElement(),f=function(e){var t,o=s.getEventCoordinate({clientX:(t=e).clientX-y.offsetWidth/2,clientY:t.clientY+y.offsetHeight/2});h.setPosition(o)},m=function(e){var t=s.getEventCoordinate(e);d.getMap().getView().setCenter(t),window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",m)};y.addEventListener("mousedown",function(){window.addEventListener("mousemove",f),window.addEventListener("mouseup",m)})},ol.inherits(ol.control.OverviewMap,ol.control.Control),ol.control.OverviewMap.prototype.setMap=function(e){var t=this.getMap();if(e!==t){if(t){var o=t.getView();o&&this.unbindView_(o),this.ovmap_.setTarget(null)}if(ol.control.Control.prototype.setMap.call(this,e),e){this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push(ol.events.listen(e,ol.ObjectEventType.PROPERTYCHANGE,this.handleMapPropertyChange_,this)),0===this.ovmap_.getLayers().getLength()&&this.ovmap_.setLayerGroup(e.getLayerGroup());var r=e.getView();r&&(this.bindView_(r),r.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_()))}}},ol.control.OverviewMap.prototype.handleMapPropertyChange_=function(e){if(e.key===ol.MapProperty.VIEW){var t=e.oldValue;t&&this.unbindView_(t);var o=this.getMap().getView();this.bindView_(o)}},ol.control.OverviewMap.prototype.bindView_=function(e){ol.events.listen(e,ol.Object.getChangeEventType(ol.ViewProperty.ROTATION),this.handleRotationChanged_,this)},ol.control.OverviewMap.prototype.unbindView_=function(e){ol.events.unlisten(e,ol.Object.getChangeEventType(ol.ViewProperty.ROTATION),this.handleRotationChanged_,this)},ol.control.OverviewMap.prototype.handleRotationChanged_=function(){this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())},ol.control.OverviewMap.render=function(e){this.validateExtent_(),this.updateBox_()},ol.control.OverviewMap.prototype.validateExtent_=function(){var e=this.getMap(),t=this.ovmap_;if(e.isRendered()&&t.isRendered()){var o=e.getSize(),r=e.getView().calculateExtent(o),n=t.getSize(),i=t.getView().calculateExtent(n),l=t.getPixelFromCoordinate(ol.extent.getTopLeft(r)),a=t.getPixelFromCoordinate(ol.extent.getBottomRight(r)),s=Math.abs(l[0]-a[0]),p=Math.abs(l[1]-a[1]),u=n[0],c=n[1];s<u*ol.OVERVIEWMAP_MIN_RATIO||p<c*ol.OVERVIEWMAP_MIN_RATIO||s>u*ol.OVERVIEWMAP_MAX_RATIO||p>c*ol.OVERVIEWMAP_MAX_RATIO?this.resetExtent_():ol.extent.containsExtent(i,r)||this.recenter_()}},ol.control.OverviewMap.prototype.resetExtent_=function(){if(0!==ol.OVERVIEWMAP_MAX_RATIO&&0!==ol.OVERVIEWMAP_MIN_RATIO){var e=this.getMap(),t=this.ovmap_,o=e.getSize(),r=e.getView().calculateExtent(o),n=t.getView(),i=Math.log(ol.OVERVIEWMAP_MAX_RATIO/ol.OVERVIEWMAP_MIN_RATIO)/Math.LN2,l=1/(Math.pow(2,i/2)*ol.OVERVIEWMAP_MIN_RATIO);ol.extent.scaleFromCenter(r,l),n.fit(r)}},ol.control.OverviewMap.prototype.recenter_=function(){var e=this.getMap(),t=this.ovmap_,o=e.getView();t.getView().setCenter(o.getCenter())},ol.control.OverviewMap.prototype.updateBox_=function(){var e=this.getMap(),t=this.ovmap_;if(e.isRendered()&&t.isRendered()){var o=e.getSize(),r=e.getView(),n=t.getView(),i=r.getRotation(),l=this.boxOverlay_,a=this.boxOverlay_.getElement(),s=r.calculateExtent(o),p=n.getResolution(),u=ol.extent.getBottomLeft(s),c=ol.extent.getTopRight(s),g=this.calculateCoordinateRotate_(i,u);l.setPosition(g),a&&(a.style.width=Math.abs((u[0]-c[0])/p)+"px",a.style.height=Math.abs((c[1]-u[1])/p)+"px")}},ol.control.OverviewMap.prototype.calculateCoordinateRotate_=function(e,t){var o,r=this.getMap().getView().getCenter();return r&&(o=[t[0]-r[0],t[1]-r[1]],ol.coordinate.rotate(o,e),ol.coordinate.add(o,r)),o},ol.control.OverviewMap.prototype.handleClick_=function(e){e.preventDefault(),this.handleToggle_()},ol.control.OverviewMap.prototype.handleToggle_=function(){this.element.classList.toggle("ol-collapsed"),this.collapsed_?ol.dom.replaceNode(this.collapseLabel_,this.label_):ol.dom.replaceNode(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_;var e=this.ovmap_;this.collapsed_||e.isRendered()||(e.updateSize(),this.resetExtent_(),ol.events.listenOnce(e,ol.MapEventType.POSTRENDER,function(e){this.updateBox_()},this))},ol.control.OverviewMap.prototype.getCollapsible=function(){return this.collapsible_},ol.control.OverviewMap.prototype.setCollapsible=function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),!e&&this.collapsed_&&this.handleToggle_())},ol.control.OverviewMap.prototype.setCollapsed=function(e){this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()},ol.control.OverviewMap.prototype.getCollapsed=function(){return this.collapsed_},ol.control.OverviewMap.prototype.getOverviewMap=function(){return this.ovmap_},goog.provide("ol.control.ScaleLineUnits"),ol.control.ScaleLineUnits={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"},goog.provide("ol.control.ScaleLine"),goog.require("ol"),goog.require("ol.Object"),goog.require("ol.asserts"),goog.require("ol.control.Control"),goog.require("ol.control.ScaleLineUnits"),goog.require("ol.css"),goog.require("ol.events"),goog.require("ol.proj"),goog.require("ol.proj.Units"),ol.control.ScaleLine=function(e){var t=e||{},o=void 0!==t.className?t.className:"ol-scale-line";this.innerElement_=document.createElement("DIV"),this.innerElement_.className=o+"-inner",this.element_=document.createElement("DIV"),this.element_.className=o+" "+ol.css.CLASS_UNSELECTABLE,this.element_.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=void 0!==t.minWidth?t.minWidth:64,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="";var r=t.render?t.render:ol.control.ScaleLine.render;ol.control.Control.call(this,{element:this.element_,render:r,target:t.target}),ol.events.listen(this,ol.Object.getChangeEventType(ol.control.ScaleLine.Property_.UNITS),this.handleUnitsChanged_,this),this.setUnits(t.units||ol.control.ScaleLineUnits.METRIC)},ol.inherits(ol.control.ScaleLine,ol.control.Control),ol.control.ScaleLine.LEADING_DIGITS=[1,2,5],ol.control.ScaleLine.prototype.getUnits=function(){return this.get(ol.control.ScaleLine.Property_.UNITS)},ol.control.ScaleLine.render=function(e){var t=e.frameState;this.viewState_=t?t.viewState:null,this.updateElement_()},ol.control.ScaleLine.prototype.handleUnitsChanged_=function(){this.updateElement_()},ol.control.ScaleLine.prototype.setUnits=function(e){this.set(ol.control.ScaleLine.Property_.UNITS,e)},ol.control.ScaleLine.prototype.updateElement_=function(){var e=this.viewState_;if(e){var t=e.center,o=e.projection,r=this.getUnits(),n=r==ol.control.ScaleLineUnits.DEGREES?ol.proj.Units.DEGREES:ol.proj.Units.METERS,i=ol.proj.getPointResolution(o,e.resolution,t,n);r!=ol.control.ScaleLineUnits.DEGREES&&(i*=o.getMetersPerUnit());var l=this.minWidth_*i,a="";if(r==ol.control.ScaleLineUnits.DEGREES){var s=ol.proj.METERS_PER_UNIT[ol.proj.Units.DEGREES];o.getUnits()==ol.proj.Units.DEGREES?l*=s:i/=s,l<s/60?(a="\u2033",i*=3600):l<s?(a="\u2032",i*=60):a="\xb0"}else r==ol.control.ScaleLineUnits.IMPERIAL?l<.9144?(a="in",i/=.0254):l<1609.344?(a="ft",i/=.3048):(a="mi",i/=1609.344):r==ol.control.ScaleLineUnits.NAUTICAL?(i/=1852,a="nm"):r==ol.control.ScaleLineUnits.METRIC?l<.001?(a="\u03bcm",i*=1e6):l<1?(a="mm",i*=1e3):l<1e3?a="m":(a="km",i/=1e3):r==ol.control.ScaleLineUnits.US?l<.9144?(a="in",i*=39.37):l<1609.344?(a="ft",i/=.30480061):(a="mi",i/=1609.3472):ol.asserts.assert(!1,33);for(var p,u,c=3*Math.floor(Math.log(this.minWidth_*i)/Math.log(10));;){if(p=ol.control.ScaleLine.LEADING_DIGITS[(c%3+3)%3]*Math.pow(10,Math.floor(c/3)),u=Math.round(p/i),isNaN(u))return this.element_.style.display="none",void(this.renderedVisible_=!1);if(u>=this.minWidth_)break;++c}var g=p+" "+a;this.renderedHTML_!=g&&(this.innerElement_.innerHTML=g,this.renderedHTML_=g),this.renderedWidth_!=u&&(this.innerElement_.style.width=u+"px",this.renderedWidth_=u),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},ol.control.ScaleLine.Property_={UNITS:"units"},goog.provide("ol.control.ZoomSlider"),goog.require("ol"),goog.require("ol.ViewHint"),goog.require("ol.control.Control"),goog.require("ol.css"),goog.require("ol.easing"),goog.require("ol.events"),goog.require("ol.events.Event"),goog.require("ol.events.EventType"),goog.require("ol.math"),goog.require("ol.pointer.EventType"),goog.require("ol.pointer.PointerEventHandler"),ol.control.ZoomSlider=function(e){var t=e||{};this.currentResolution_=void 0,this.direction_=ol.control.ZoomSlider.Direction_.VERTICAL,this.heightLimit_=0,this.widthLimit_=0,this.thumbSize_=null,this.sliderInitialized_=!1,this.duration_=void 0!==t.duration?t.duration:200;var o=void 0!==t.className?t.className:"ol-zoomslider",r=document.createElement("button");r.setAttribute("type","button"),r.className=o+"-thumb "+ol.css.CLASS_UNSELECTABLE;var n=document.createElement("div");n.className=o+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL,n.appendChild(r),this.dragger_=new ol.pointer.PointerEventHandler(n),ol.events.listen(this.dragger_,ol.pointer.EventType.POINTERDOWN,this.handleDraggerStart_,this),ol.events.listen(this.dragger_,ol.pointer.EventType.POINTERMOVE,this.handleDraggerDrag_,this),ol.events.listen(this.dragger_,ol.pointer.EventType.POINTERUP,this.handleDraggerEnd_,this),ol.events.listen(n,ol.events.EventType.CLICK,this.handleContainerClick_,this),ol.events.listen(r,ol.events.EventType.CLICK,ol.events.Event.stopPropagation);var i=t.render?t.render:ol.control.ZoomSlider.render;ol.control.Control.call(this,{element:n,render:i})},ol.inherits(ol.control.ZoomSlider,ol.control.Control),ol.control.ZoomSlider.prototype.disposeInternal=function(){this.dragger_.dispose(),ol.control.Control.prototype.disposeInternal.call(this)},ol.control.ZoomSlider.Direction_={VERTICAL:0,HORIZONTAL:1},ol.control.ZoomSlider.prototype.setMap=function(e){ol.control.Control.prototype.setMap.call(this,e),e&&e.render()},ol.control.ZoomSlider.prototype.initSlider_=function(){var e=this.element,t=e.offsetWidth,o=e.offsetHeight,r=e.firstElementChild,n=getComputedStyle(r),i=r.offsetWidth+parseFloat(n.marginRight)+parseFloat(n.marginLeft),l=r.offsetHeight+parseFloat(n.marginTop)+parseFloat(n.marginBottom);this.thumbSize_=[i,l],t>o?(this.direction_=ol.control.ZoomSlider.Direction_.HORIZONTAL,this.widthLimit_=t-i):(this.direction_=ol.control.ZoomSlider.Direction_.VERTICAL,this.heightLimit_=o-l),this.sliderInitialized_=!0},ol.control.ZoomSlider.render=function(e){if(e.frameState){this.sliderInitialized_||this.initSlider_();var t=e.frameState.viewState.resolution;t!==this.currentResolution_&&(this.currentResolution_=t,this.setThumbPosition_(t))}},ol.control.ZoomSlider.prototype.handleContainerClick_=function(e){var t=this.getMap().getView(),o=this.getRelativePosition_(e.offsetX-this.thumbSize_[0]/2,e.offsetY-this.thumbSize_[1]/2),r=this.getResolutionForPosition_(o);t.animate({resolution:t.constrainResolution(r),duration:this.duration_,easing:ol.easing.easeOut})},ol.control.ZoomSlider.prototype.handleDraggerStart_=function(e){this.dragging_||e.originalEvent.target!==this.element.firstElementChild||(this.getMap().getView().setHint(ol.ViewHint.INTERACTING,1),this.previousX_=e.clientX,this.previousY_=e.clientY,this.dragging_=!0)},ol.control.ZoomSlider.prototype.handleDraggerDrag_=function(e){if(this.dragging_){var t=this.element.firstElementChild,o=e.clientX-this.previousX_+parseInt(t.style.left,10),r=e.clientY-this.previousY_+parseInt(t.style.top,10),n=this.getRelativePosition_(o,r);this.currentResolution_=this.getResolutionForPosition_(n),this.getMap().getView().setResolution(this.currentResolution_),this.setThumbPosition_(this.currentResolution_),this.previousX_=e.clientX,this.previousY_=e.clientY}},ol.control.ZoomSlider.prototype.handleDraggerEnd_=function(e){if(this.dragging_){var t=this.getMap().getView();t.setHint(ol.ViewHint.INTERACTING,-1),t.animate({resolution:t.constrainResolution(this.currentResolution_),duration:this.duration_,easing:ol.easing.easeOut}),this.dragging_=!1,this.previousX_=void 0,this.previousY_=void 0}},ol.control.ZoomSlider.prototype.setThumbPosition_=function(e){var t=this.getPositionForResolution_(e),o=this.element.firstElementChild;this.direction_==ol.control.ZoomSlider.Direction_.HORIZONTAL?o.style.left=this.widthLimit_*t+"px":o.style.top=this.heightLimit_*t+"px"},ol.control.ZoomSlider.prototype.getRelativePosition_=function(e,t){var o;return o=this.direction_===ol.control.ZoomSlider.Direction_.HORIZONTAL?e/this.widthLimit_:t/this.heightLimit_,ol.math.clamp(o,0,1)},ol.control.ZoomSlider.prototype.getResolutionForPosition_=function(e){return this.getMap().getView().getResolutionForValueFunction()(1-e)},ol.control.ZoomSlider.prototype.getPositionForResolution_=function(e){return 1-this.getMap().getView().getValueForResolutionFunction()(e)},goog.provide("ol.control.ZoomToExtent"),goog.require("ol"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.control.Control"),goog.require("ol.css"),ol.control.ZoomToExtent=function(e){var t=e||{};this.extent=t.extent?t.extent:null;var o=void 0!==t.className?t.className:"ol-zoom-extent",r=void 0!==t.label?t.label:"E",n=void 0!==t.tipLabel?t.tipLabel:"Fit to extent",i=document.createElement("button");i.setAttribute("type","button"),i.title=n,i.appendChild("string"==typeof r?document.createTextNode(r):r),ol.events.listen(i,ol.events.EventType.CLICK,this.handleClick_,this);var l=o+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL,a=document.createElement("div");a.className=l,a.appendChild(i),ol.control.Control.call(this,{element:a,target:t.target})},ol.inherits(ol.control.ZoomToExtent,ol.control.Control),ol.control.ZoomToExtent.prototype.handleClick_=function(e){e.preventDefault(),this.handleZoomToExtent()},ol.control.ZoomToExtent.prototype.handleZoomToExtent=function(){var e=this.getMap().getView(),t=this.extent?this.extent:e.getProjection().getExtent();e.fit(t)},goog.provide("ol.DeviceOrientation"),goog.require("ol.events"),goog.require("ol"),goog.require("ol.Object"),goog.require("ol.has"),goog.require("ol.math"),ol.DeviceOrientation=function(e){ol.Object.call(this);var t=e||{};this.listenerKey_=null,ol.events.listen(this,ol.Object.getChangeEventType(ol.DeviceOrientation.Property_.TRACKING),this.handleTrackingChanged_,this),this.setTracking(void 0!==t.tracking&&t.tracking)},ol.inherits(ol.DeviceOrientation,ol.Object),ol.DeviceOrientation.prototype.disposeInternal=function(){this.setTracking(!1),ol.Object.prototype.disposeInternal.call(this)},ol.DeviceOrientation.prototype.orientationChange_=function(e){var t=e;if(null!==t.alpha){var o=ol.math.toRadians(t.alpha);if(this.set(ol.DeviceOrientation.Property_.ALPHA,o),"boolean"==typeof t.absolute&&t.absolute)this.set(ol.DeviceOrientation.Property_.HEADING,o);else if("number"==typeof t.webkitCompassHeading&&-1!=t.webkitCompassAccuracy){var r=ol.math.toRadians(t.webkitCompassHeading);this.set(ol.DeviceOrientation.Property_.HEADING,r)}}null!==t.beta&&this.set(ol.DeviceOrientation.Property_.BETA,ol.math.toRadians(t.beta)),null!==t.gamma&&this.set(ol.DeviceOrientation.Property_.GAMMA,ol.math.toRadians(t.gamma)),this.changed()},ol.DeviceOrientation.prototype.getAlpha=function(){return this.get(ol.DeviceOrientation.Property_.ALPHA)},ol.DeviceOrientation.prototype.getBeta=function(){return this.get(ol.DeviceOrientation.Property_.BETA)},ol.DeviceOrientation.prototype.getGamma=function(){return this.get(ol.DeviceOrientation.Property_.GAMMA)},ol.DeviceOrientation.prototype.getHeading=function(){return this.get(ol.DeviceOrientation.Property_.HEADING)},ol.DeviceOrientation.prototype.getTracking=function(){return this.get(ol.DeviceOrientation.Property_.TRACKING)},ol.DeviceOrientation.prototype.handleTrackingChanged_=function(){if(ol.has.DEVICE_ORIENTATION){var e=this.getTracking();e&&!this.listenerKey_?this.listenerKey_=ol.events.listen(window,"deviceorientation",this.orientationChange_,this):e||null===this.listenerKey_||(ol.events.unlistenByKey(this.listenerKey_),this.listenerKey_=null)}},ol.DeviceOrientation.prototype.setTracking=function(e){this.set(ol.DeviceOrientation.Property_.TRACKING,e)},ol.DeviceOrientation.Property_={ALPHA:"alpha",BETA:"beta",GAMMA:"gamma",HEADING:"heading",TRACKING:"tracking"},goog.provide("ol.style.Image"),ol.style.Image=function(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.snapToPixel_=e.snapToPixel},ol.style.Image.prototype.getOpacity=function(){return this.opacity_},ol.style.Image.prototype.getRotateWithView=function(){return this.rotateWithView_},ol.style.Image.prototype.getRotation=function(){return this.rotation_},ol.style.Image.prototype.getScale=function(){return this.scale_},ol.style.Image.prototype.getSnapToPixel=function(){return this.snapToPixel_},ol.style.Image.prototype.getAnchor=function(){},ol.style.Image.prototype.getImage=function(e){},ol.style.Image.prototype.getHitDetectionImage=function(e){},ol.style.Image.prototype.getImageState=function(){},ol.style.Image.prototype.getImageSize=function(){},ol.style.Image.prototype.getHitDetectionImageSize=function(){},ol.style.Image.prototype.getOrigin=function(){},ol.style.Image.prototype.getSize=function(){},ol.style.Image.prototype.setOpacity=function(e){this.opacity_=e},ol.style.Image.prototype.setRotateWithView=function(e){this.rotateWithView_=e},ol.style.Image.prototype.setRotation=function(e){this.rotation_=e},ol.style.Image.prototype.setScale=function(e){this.scale_=e},ol.style.Image.prototype.setSnapToPixel=function(e){this.snapToPixel_=e},ol.style.Image.prototype.listenImageChange=function(e,t){},ol.style.Image.prototype.load=function(){},ol.style.Image.prototype.unlistenImageChange=function(e,t){},goog.provide("ol.style.RegularShape"),goog.require("ol"),goog.require("ol.colorlike"),goog.require("ol.dom"),goog.require("ol.has"),goog.require("ol.ImageState"),goog.require("ol.render.canvas"),goog.require("ol.style.Image"),ol.style.RegularShape=function(e){this.checksums_=null,this.canvas_=null,this.hitDetectionCanvas_=null,this.fill_=void 0!==e.fill?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=void 0!==e.radius?e.radius:e.radius1,this.radius2_=e.radius2,this.angle_=void 0!==e.angle?e.angle:0,this.stroke_=void 0!==e.stroke?e.stroke:null,this.anchor_=null,this.size_=null,this.imageSize_=null,this.hitDetectionImageSize_=null,this.atlasManager_=e.atlasManager,this.render_(this.atlasManager_),ol.style.Image.call(this,{opacity:1,rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,rotation:void 0!==e.rotation?e.rotation:0,scale:1,snapToPixel:void 0===e.snapToPixel||e.snapToPixel})},ol.inherits(ol.style.RegularShape,ol.style.Image),ol.style.RegularShape.prototype.clone=function(){var e=new ol.style.RegularShape({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),snapToPixel:this.getSnapToPixel(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),atlasManager:this.atlasManager_});return e.setOpacity(this.getOpacity()),e.setScale(this.getScale()),e},ol.style.RegularShape.prototype.getAnchor=function(){return this.anchor_},ol.style.RegularShape.prototype.getAngle=function(){return this.angle_},ol.style.RegularShape.prototype.getFill=function(){return this.fill_},ol.style.RegularShape.prototype.getHitDetectionImage=function(e){return this.hitDetectionCanvas_},ol.style.RegularShape.prototype.getImage=function(e){return this.canvas_},ol.style.RegularShape.prototype.getImageSize=function(){return this.imageSize_},ol.style.RegularShape.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},ol.style.RegularShape.prototype.getImageState=function(){return ol.ImageState.LOADED},ol.style.RegularShape.prototype.getOrigin=function(){return this.origin_},ol.style.RegularShape.prototype.getPoints=function(){return this.points_},ol.style.RegularShape.prototype.getRadius=function(){return this.radius_},ol.style.RegularShape.prototype.getRadius2=function(){return this.radius2_},ol.style.RegularShape.prototype.getSize=function(){return this.size_},ol.style.RegularShape.prototype.getStroke=function(){return this.stroke_},ol.style.RegularShape.prototype.listenImageChange=function(e,t){},ol.style.RegularShape.prototype.load=function(){},ol.style.RegularShape.prototype.unlistenImageChange=function(e,t){},ol.style.RegularShape.prototype.render_=function(e){var t,o,r="",n="",i=0,l=null,a=0,s=0;this.stroke_&&(null===(o=this.stroke_.getColor())&&(o=ol.render.canvas.defaultStrokeStyle),o=ol.colorlike.asColorLike(o),void 0===(s=this.stroke_.getWidth())&&(s=ol.render.canvas.defaultLineWidth),l=this.stroke_.getLineDash(),a=this.stroke_.getLineDashOffset(),ol.has.CANVAS_LINE_DASH||(l=null,a=0),void 0===(n=this.stroke_.getLineJoin())&&(n=ol.render.canvas.defaultLineJoin),void 0===(r=this.stroke_.getLineCap())&&(r=ol.render.canvas.defaultLineCap),void 0===(i=this.stroke_.getMiterLimit())&&(i=ol.render.canvas.defaultMiterLimit));var p=2*(this.radius_+s)+1,u={strokeStyle:o,strokeWidth:s,size:p,lineCap:r,lineDash:l,lineDashOffset:a,lineJoin:n,miterLimit:i};if(void 0===e){var c=ol.dom.createCanvasContext2D(p,p);this.canvas_=c.canvas,t=p=this.canvas_.width,this.draw_(u,c,0,0),this.createHitDetectionCanvas_(u)}else{p=Math.round(p);var g,d=!this.fill_;d&&(g=this.drawHitDetectionCanvas_.bind(this,u));var h=this.getChecksum(),y=e.add(h,p,p,this.draw_.bind(this,u),g);this.canvas_=y.image,this.origin_=[y.offsetX,y.offsetY],t=y.image.width,d?(this.hitDetectionCanvas_=y.hitImage,this.hitDetectionImageSize_=[y.hitImage.width,y.hitImage.height]):(this.hitDetectionCanvas_=this.canvas_,this.hitDetectionImageSize_=[t,t])}this.anchor_=[p/2,p/2],this.size_=[p,p],this.imageSize_=[t,t]},ol.style.RegularShape.prototype.draw_=function(e,t,o,r){var n,i,l;t.setTransform(1,0,0,1,0,0),t.translate(o,r),t.beginPath();var a=this.points_;if(a===1/0)t.arc(e.size/2,e.size/2,this.radius_,0,2*Math.PI,!0);else{var s=void 0!==this.radius2_?this.radius2_:this.radius_;for(s!==this.radius_&&(a*=2),n=0;n<=a;n++)i=2*n*Math.PI/a-Math.PI/2+this.angle_,t.lineTo(e.size/2+(l=n%2==0?this.radius_:s)*Math.cos(i),e.size/2+l*Math.sin(i))}if(this.fill_){var p=this.fill_.getColor();null===p&&(p=ol.render.canvas.defaultFillStyle),t.fillStyle=ol.colorlike.asColorLike(p),t.fill()}this.stroke_&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke()),t.closePath()},ol.style.RegularShape.prototype.createHitDetectionCanvas_=function(e){if(this.hitDetectionImageSize_=[e.size,e.size],this.fill_)this.hitDetectionCanvas_=this.canvas_;else{var t=ol.dom.createCanvasContext2D(e.size,e.size);this.hitDetectionCanvas_=t.canvas,this.drawHitDetectionCanvas_(e,t,0,0)}},ol.style.RegularShape.prototype.drawHitDetectionCanvas_=function(e,t,o,r){t.setTransform(1,0,0,1,0,0),t.translate(o,r),t.beginPath();var n=this.points_;if(n===1/0)t.arc(e.size/2,e.size/2,this.radius_,0,2*Math.PI,!0);else{var i,l,a,s=void 0!==this.radius2_?this.radius2_:this.radius_;for(s!==this.radius_&&(n*=2),i=0;i<=n;i++)a=2*i*Math.PI/n-Math.PI/2+this.angle_,t.lineTo(e.size/2+(l=i%2==0?this.radius_:s)*Math.cos(a),e.size/2+l*Math.sin(a))}t.fillStyle=ol.render.canvas.defaultFillStyle,t.fill(),this.stroke_&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.stroke()),t.closePath()},ol.style.RegularShape.prototype.getChecksum=function(){var e=this.stroke_?this.stroke_.getChecksum():"-",t=this.fill_?this.fill_.getChecksum():"-";if(!this.checksums_||e!=this.checksums_[1]||t!=this.checksums_[2]||this.radius_!=this.checksums_[3]||this.radius2_!=this.checksums_[4]||this.angle_!=this.checksums_[5]||this.points_!=this.checksums_[6]){var o="r"+e+t+(void 0!==this.radius_?this.radius_.toString():"-")+(void 0!==this.radius2_?this.radius2_.toString():"-")+(void 0!==this.angle_?this.angle_.toString():"-")+(void 0!==this.points_?this.points_.toString():"-");this.checksums_=[o,e,t,this.radius_,this.radius2_,this.angle_,this.points_]}return this.checksums_[0]},goog.provide("ol.style.Circle"),goog.require("ol"),goog.require("ol.style.RegularShape"),ol.style.Circle=function(e){var t=e||{};ol.style.RegularShape.call(this,{points:1/0,fill:t.fill,radius:t.radius,snapToPixel:t.snapToPixel,stroke:t.stroke,atlasManager:t.atlasManager})},ol.inherits(ol.style.Circle,ol.style.RegularShape),ol.style.Circle.prototype.clone=function(){var e=new ol.style.Circle({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),snapToPixel:this.getSnapToPixel(),atlasManager:this.atlasManager_});return e.setOpacity(this.getOpacity()),e.setScale(this.getScale()),e},ol.style.Circle.prototype.setRadius=function(e){this.radius_=e,this.render_(this.atlasManager_)},goog.provide("ol.style.Fill"),goog.require("ol"),goog.require("ol.color"),ol.style.Fill=function(e){var t=e||{};this.color_=void 0!==t.color?t.color:null,this.checksum_=void 0},ol.style.Fill.prototype.clone=function(){var e=this.getColor();return new ol.style.Fill({color:e&&e.slice?e.slice():e||void 0})},ol.style.Fill.prototype.getColor=function(){return this.color_},ol.style.Fill.prototype.setColor=function(e){this.color_=e,this.checksum_=void 0},ol.style.Fill.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.checksum_=this.color_ instanceof CanvasPattern||this.color_ instanceof CanvasGradient?ol.getUid(this.color_).toString():"f"+(this.color_?ol.color.asString(this.color_):"-")),this.checksum_},goog.provide("ol.style.Stroke"),goog.require("ol"),ol.style.Stroke=function(e){var t=e||{};this.color_=void 0!==t.color?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=void 0!==t.lineDash?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width,this.checksum_=void 0},ol.style.Stroke.prototype.clone=function(){var e=this.getColor();return new ol.style.Stroke({color:e&&e.slice?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},ol.style.Stroke.prototype.getColor=function(){return this.color_},ol.style.Stroke.prototype.getLineCap=function(){return this.lineCap_},ol.style.Stroke.prototype.getLineDash=function(){return this.lineDash_},ol.style.Stroke.prototype.getLineDashOffset=function(){return this.lineDashOffset_},ol.style.Stroke.prototype.getLineJoin=function(){return this.lineJoin_},ol.style.Stroke.prototype.getMiterLimit=function(){return this.miterLimit_},ol.style.Stroke.prototype.getWidth=function(){return this.width_},ol.style.Stroke.prototype.setColor=function(e){this.color_=e,this.checksum_=void 0},ol.style.Stroke.prototype.setLineCap=function(e){this.lineCap_=e,this.checksum_=void 0},ol.style.Stroke.prototype.setLineDash=function(e){this.lineDash_=e,this.checksum_=void 0},ol.style.Stroke.prototype.setLineDashOffset=function(e){this.lineDashOffset_=e,this.checksum_=void 0},ol.style.Stroke.prototype.setLineJoin=function(e){this.lineJoin_=e,this.checksum_=void 0},ol.style.Stroke.prototype.setMiterLimit=function(e){this.miterLimit_=e,this.checksum_=void 0},ol.style.Stroke.prototype.setWidth=function(e){this.width_=e,this.checksum_=void 0},ol.style.Stroke.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.checksum_="s",this.checksum_+=this.color_?"string"==typeof this.color_?this.color_:ol.getUid(this.color_).toString():"-",this.checksum_+=","+(void 0!==this.lineCap_?this.lineCap_.toString():"-")+","+(this.lineDash_?this.lineDash_.toString():"-")+","+(void 0!==this.lineDashOffset_?this.lineDashOffset_:"-")+","+(void 0!==this.lineJoin_?this.lineJoin_:"-")+","+(void 0!==this.miterLimit_?this.miterLimit_.toString():"-")+","+(void 0!==this.width_?this.width_.toString():"-")),this.checksum_},goog.provide("ol.style.Style"),goog.require("ol.asserts"),goog.require("ol.geom.GeometryType"),goog.require("ol.style.Circle"),goog.require("ol.style.Fill"),goog.require("ol.style.Stroke"),ol.style.Style=function(e){var t=e||{};this.geometry_=null,this.geometryFunction_=ol.style.Style.defaultGeometryFunction,void 0!==t.geometry&&this.setGeometry(t.geometry),this.fill_=void 0!==t.fill?t.fill:null,this.image_=void 0!==t.image?t.image:null,this.renderer_=void 0!==t.renderer?t.renderer:null,this.stroke_=void 0!==t.stroke?t.stroke:null,this.text_=void 0!==t.text?t.text:null,this.zIndex_=t.zIndex},ol.style.Style.prototype.clone=function(){var e=this.getGeometry();return e&&e.clone&&(e=e.clone()),new ol.style.Style({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},ol.style.Style.prototype.getRenderer=function(){return this.renderer_},ol.style.Style.prototype.setRenderer=function(e){this.renderer_=e},ol.style.Style.prototype.getGeometry=function(){return this.geometry_},ol.style.Style.prototype.getGeometryFunction=function(){return this.geometryFunction_},ol.style.Style.prototype.getFill=function(){return this.fill_},ol.style.Style.prototype.setFill=function(e){this.fill_=e},ol.style.Style.prototype.getImage=function(){return this.image_},ol.style.Style.prototype.setImage=function(e){this.image_=e},ol.style.Style.prototype.getStroke=function(){return this.stroke_},ol.style.Style.prototype.setStroke=function(e){this.stroke_=e},ol.style.Style.prototype.getText=function(){return this.text_},ol.style.Style.prototype.setText=function(e){this.text_=e},ol.style.Style.prototype.getZIndex=function(){return this.zIndex_},ol.style.Style.prototype.setGeometry=function(e){"function"==typeof e?this.geometryFunction_=e:"string"==typeof e?this.geometryFunction_=function(t){return t.get(e)}:e?void 0!==e&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=ol.style.Style.defaultGeometryFunction,this.geometry_=e},ol.style.Style.prototype.setZIndex=function(e){this.zIndex_=e},ol.style.Style.createFunction=function(e){var t,o;return"function"==typeof e?t=e:(Array.isArray(e)?o=e:(ol.asserts.assert(e instanceof ol.style.Style,41),o=[e]),t=function(){return o}),t},ol.style.Style.default_=null,ol.style.Style.defaultFunction=function(e,t){if(!ol.style.Style.default_){var o=new ol.style.Fill({color:"rgba(255,255,255,0.4)"}),r=new ol.style.Stroke({color:"#3399CC",width:1.25});ol.style.Style.default_=[new ol.style.Style({image:new ol.style.Circle({fill:o,stroke:r,radius:5}),fill:o,stroke:r})]}return ol.style.Style.default_},ol.style.Style.createDefaultEditing=function(){var e={},t=[255,255,255,1],o=[0,153,255,1];return e[ol.geom.GeometryType.POLYGON]=[new ol.style.Style({fill:new ol.style.Fill({color:[255,255,255,.5]})})],e[ol.geom.GeometryType.MULTI_POLYGON]=e[ol.geom.GeometryType.POLYGON],e[ol.geom.GeometryType.LINE_STRING]=[new ol.style.Style({stroke:new ol.style.Stroke({color:t,width:5})}),new ol.style.Style({stroke:new ol.style.Stroke({color:o,width:3})})],e[ol.geom.GeometryType.MULTI_LINE_STRING]=e[ol.geom.GeometryType.LINE_STRING],e[ol.geom.GeometryType.CIRCLE]=e[ol.geom.GeometryType.POLYGON].concat(e[ol.geom.GeometryType.LINE_STRING]),e[ol.geom.GeometryType.POINT]=[new ol.style.Style({image:new ol.style.Circle({radius:6,fill:new ol.style.Fill({color:o}),stroke:new ol.style.Stroke({color:t,width:1.5})}),zIndex:1/0})],e[ol.geom.GeometryType.MULTI_POINT]=e[ol.geom.GeometryType.POINT],e[ol.geom.GeometryType.GEOMETRY_COLLECTION]=e[ol.geom.GeometryType.POLYGON].concat(e[ol.geom.GeometryType.LINE_STRING],e[ol.geom.GeometryType.POINT]),e},ol.style.Style.defaultGeometryFunction=function(e){return e.getGeometry()},goog.provide("ol.Feature"),goog.require("ol.asserts"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol"),goog.require("ol.Object"),goog.require("ol.geom.Geometry"),goog.require("ol.style.Style"),ol.Feature=function(e){ol.Object.call(this),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,ol.events.listen(this,ol.Object.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this),void 0!==e&&(e instanceof ol.geom.Geometry||!e?this.setGeometry(e):this.setProperties(e))},ol.inherits(ol.Feature,ol.Object),ol.Feature.prototype.clone=function(){var e=new ol.Feature(this.getProperties());e.setGeometryName(this.getGeometryName());var t=this.getGeometry();t&&e.setGeometry(t.clone());var o=this.getStyle();return o&&e.setStyle(o),e},ol.Feature.prototype.getGeometry=function(){return this.get(this.geometryName_)},ol.Feature.prototype.getId=function(){return this.id_},ol.Feature.prototype.getGeometryName=function(){return this.geometryName_},ol.Feature.prototype.getStyle=function(){return this.style_},ol.Feature.prototype.getStyleFunction=function(){return this.styleFunction_},ol.Feature.prototype.handleGeometryChange_=function(){this.changed()},ol.Feature.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(ol.events.unlistenByKey(this.geometryChangeKey_),this.geometryChangeKey_=null);var e=this.getGeometry();e&&(this.geometryChangeKey_=ol.events.listen(e,ol.events.EventType.CHANGE,this.handleGeometryChange_,this)),this.changed()},ol.Feature.prototype.setGeometry=function(e){this.set(this.geometryName_,e)},ol.Feature.prototype.setStyle=function(e){this.style_=e,this.styleFunction_=e?ol.Feature.createStyleFunction(e):void 0,this.changed()},ol.Feature.prototype.setId=function(e){this.id_=e,this.changed()},ol.Feature.prototype.setGeometryName=function(e){ol.events.unlisten(this,ol.Object.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this),this.geometryName_=e,ol.events.listen(this,ol.Object.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this),this.handleGeometryChanged_()},ol.Feature.createStyleFunction=function(e){var t,o;return"function"==typeof e?t=2==e.length?function(t){return e(this,t)}:e:(Array.isArray(e)?o=e:(ol.asserts.assert(e instanceof ol.style.Style,41),o=[e]),t=function(){return o}),t},goog.provide("ol.format.FormatType"),ol.format.FormatType={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"},goog.provide("ol.xml"),goog.require("ol.array"),ol.xml.DOCUMENT=document.implementation.createDocument("","",null),ol.xml.createElementNS=function(e,t){return ol.xml.DOCUMENT.createElementNS(e,t)},ol.xml.getAllTextContent=function(e,t){return ol.xml.getAllTextContent_(e,t,[]).join("")},ol.xml.getAllTextContent_=function(e,t,o){var r;if(e.nodeType==Node.CDATA_SECTION_NODE||e.nodeType==Node.TEXT_NODE)o.push(t?String(e.nodeValue).replace(/(\r\n|\r|\n)/g,""):e.nodeValue);else for(r=e.firstChild;r;r=r.nextSibling)ol.xml.getAllTextContent_(r,t,o);return o},ol.xml.isDocument=function(e){return e instanceof Document},ol.xml.isNode=function(e){return e instanceof Node},ol.xml.getAttributeNS=function(e,t,o){return e.getAttributeNS(t,o)||""},ol.xml.setAttributeNS=function(e,t,o,r){e.setAttributeNS(t,o,r)},ol.xml.parse=function(e){return(new DOMParser).parseFromString(e,"application/xml")},ol.xml.makeArrayExtender=function(e,t){return function(o,r){var n=e.call(t,o,r);void 0!==n&&ol.array.extend(r[r.length-1],n)}},ol.xml.makeArrayPusher=function(e,t){return function(o,r){var n=e.call(void 0!==t?t:this,o,r);void 0!==n&&r[r.length-1].push(n)}},ol.xml.makeReplacer=function(e,t){return function(o,r){var n=e.call(void 0!==t?t:this,o,r);void 0!==n&&(r[r.length-1]=n)}},ol.xml.makeObjectPropertyPusher=function(e,t,o){return function(r,n){var i=e.call(void 0!==o?o:this,r,n);if(void 0!==i){var l=n[n.length-1],a=void 0!==t?t:r.localName;(a in l?l[a]:l[a]=[]).push(i)}}},ol.xml.makeObjectPropertySetter=function(e,t,o){return function(r,n){var i=e.call(void 0!==o?o:this,r,n);void 0!==i&&(n[n.length-1][void 0!==t?t:r.localName]=i)}},ol.xml.makeChildAppender=function(e,t){return function(o,r,n){e.call(void 0!==t?t:this,o,r,n),n[n.length-1].node.appendChild(o)}},ol.xml.makeArraySerializer=function(e,t){var o,r;return function(t,n,i){if(void 0===o){o={};var l={};l[t.localName]=e,o[t.namespaceURI]=l,r=ol.xml.makeSimpleNodeFactory(t.localName)}ol.xml.serialize(o,r,n,i)}},ol.xml.makeSimpleNodeFactory=function(e,t){var o=e;return function(e,r,n){var i=o;void 0===i&&(i=n);var l=t;return void 0===t&&(l=r[r.length-1].node.namespaceURI),ol.xml.createElementNS(l,i)}},ol.xml.OBJECT_PROPERTY_NODE_FACTORY=ol.xml.makeSimpleNodeFactory(),ol.xml.makeSequence=function(e,t){for(var o=t.length,r=new Array(o),n=0;n<o;++n)r[n]=e[t[n]];return r},ol.xml.makeStructureNS=function(e,t,o){var r,n,i=void 0!==o?o:{};for(r=0,n=e.length;r<n;++r)i[e[r]]=t;return i},ol.xml.parseNode=function(e,t,o,r){var n;for(n=t.firstElementChild;n;n=n.nextElementSibling){var i=e[n.namespaceURI];if(void 0!==i){var l=i[n.localName];void 0!==l&&l.call(r,n,o)}}},ol.xml.pushParseAndPop=function(e,t,o,r,n){return r.push(e),ol.xml.parseNode(t,o,r,n),r.pop()},ol.xml.serialize=function(e,t,o,r,n,i){for(var l,a,s=(void 0!==n?n:o).length,p=0;p<s;++p)void 0!==(l=o[p])&&void 0!==(a=t.call(i,l,r,void 0!==n?n[p]:void 0))&&e[a.namespaceURI][a.localName].call(i,a,l,r)},ol.xml.pushSerializeAndPop=function(e,t,o,r,n,i,l){return n.push(e),ol.xml.serialize(t,o,r,n,i,l),n.pop()},goog.provide("ol.featureloader"),goog.require("ol"),goog.require("ol.format.FormatType"),goog.require("ol.xml"),ol.featureloader.loadFeaturesXhr=function(e,t,o,r){return function(n,i,l){var a=new XMLHttpRequest;a.open("GET","function"==typeof e?e(n,i,l):e,!0),t.getType()==ol.format.FormatType.ARRAY_BUFFER&&(a.responseType="arraybuffer"),a.onload=(function(e){if(!a.status||a.status>=200&&a.status<300){var n,i=t.getType();i==ol.format.FormatType.JSON||i==ol.format.FormatType.TEXT?n=a.responseText:i==ol.format.FormatType.XML?(n=a.responseXML)||(n=ol.xml.parse(a.responseText)):i==ol.format.FormatType.ARRAY_BUFFER&&(n=a.response),n?o.call(this,t.readFeatures(n,{featureProjection:l}),t.readProjection(n),t.getLastExtent()):r.call(this)}else r.call(this)}).bind(this),a.onerror=(function(){r.call(this)}).bind(this),a.send()}},ol.featureloader.xhr=function(e,t){return ol.featureloader.loadFeaturesXhr(e,t,function(e,t){this.addFeatures(e)},ol.nullFunction)},goog.provide("ol.format.Feature"),goog.require("ol.geom.Geometry"),goog.require("ol.obj"),goog.require("ol.proj"),ol.format.Feature=function(){this.defaultDataProjection=null,this.defaultFeatureProjection=null},ol.format.Feature.prototype.getReadOptions=function(e,t){var o;return t&&(o={dataProjection:t.dataProjection?t.dataProjection:this.readProjection(e),featureProjection:t.featureProjection}),this.adaptOptions(o)},ol.format.Feature.prototype.adaptOptions=function(e){return ol.obj.assign({dataProjection:this.defaultDataProjection,featureProjection:this.defaultFeatureProjection},e)},ol.format.Feature.prototype.getLastExtent=function(){return null},ol.format.Feature.prototype.getType=function(){},ol.format.Feature.prototype.readFeature=function(e,t){},ol.format.Feature.prototype.readFeatures=function(e,t){},ol.format.Feature.prototype.readGeometry=function(e,t){},ol.format.Feature.prototype.readProjection=function(e){},ol.format.Feature.prototype.writeFeature=function(e,t){},ol.format.Feature.prototype.writeFeatures=function(e,t){},ol.format.Feature.prototype.writeGeometry=function(e,t){},ol.format.Feature.transformWithOptions=function(e,t,o){var r,n=o?ol.proj.get(o.featureProjection):null,i=o?ol.proj.get(o.dataProjection):null;if(r=n&&i&&!ol.proj.equivalent(n,i)?e instanceof ol.geom.Geometry?(t?e.clone():e).transform(t?n:i,t?i:n):ol.proj.transformExtent(e,i,n):e,t&&o&&void 0!==o.decimals){var l=Math.pow(10,o.decimals);r===e&&(r=r.clone()),r.applyTransform(function(e){for(var t=0,o=e.length;t<o;++t)e[t]=Math.round(e[t]*l)/l;return e})}return r},goog.provide("ol.format.JSONFeature"),goog.require("ol"),goog.require("ol.format.Feature"),goog.require("ol.format.FormatType"),ol.format.JSONFeature=function(){ol.format.Feature.call(this)},ol.inherits(ol.format.JSONFeature,ol.format.Feature),ol.format.JSONFeature.prototype.getObject_=function(e){return"string"==typeof e?JSON.parse(e)||null:null!==e?e:null},ol.format.JSONFeature.prototype.getType=function(){return ol.format.FormatType.JSON},ol.format.JSONFeature.prototype.readFeature=function(e,t){return this.readFeatureFromObject(this.getObject_(e),this.getReadOptions(e,t))},ol.format.JSONFeature.prototype.readFeatures=function(e,t){return this.readFeaturesFromObject(this.getObject_(e),this.getReadOptions(e,t))},ol.format.JSONFeature.prototype.readFeatureFromObject=function(e,t){},ol.format.JSONFeature.prototype.readFeaturesFromObject=function(e,t){},ol.format.JSONFeature.prototype.readGeometry=function(e,t){return this.readGeometryFromObject(this.getObject_(e),this.getReadOptions(e,t))},ol.format.JSONFeature.prototype.readGeometryFromObject=function(e,t){},ol.format.JSONFeature.prototype.readProjection=function(e){return this.readProjectionFromObject(this.getObject_(e))},ol.format.JSONFeature.prototype.readProjectionFromObject=function(e){},ol.format.JSONFeature.prototype.writeFeature=function(e,t){return JSON.stringify(this.writeFeatureObject(e,t))},ol.format.JSONFeature.prototype.writeFeatureObject=function(e,t){},ol.format.JSONFeature.prototype.writeFeatures=function(e,t){return JSON.stringify(this.writeFeaturesObject(e,t))},ol.format.JSONFeature.prototype.writeFeaturesObject=function(e,t){},ol.format.JSONFeature.prototype.writeGeometry=function(e,t){return JSON.stringify(this.writeGeometryObject(e,t))},ol.format.JSONFeature.prototype.writeGeometryObject=function(e,t){},goog.provide("ol.geom.flat.interpolate"),goog.require("ol.array"),goog.require("ol.math"),ol.geom.flat.interpolate.lineString=function(e,t,o,r,n,i){var l=NaN,a=NaN,s=(o-t)/r;if(1===s)l=e[t],a=e[t+1];else if(2==s)l=(1-n)*e[t]+n*e[t+r],a=(1-n)*e[t+1]+n*e[t+r+1];else if(0!==s){var p,u=e[t],c=e[t+1],g=0,d=[0];for(p=t+r;p<o;p+=r){var h=e[p],y=e[p+1];g+=Math.sqrt((h-u)*(h-u)+(y-c)*(y-c)),d.push(g),u=h,c=y}var f=n*g,m=ol.array.binarySearch(d,f);if(m<0){var v=(f-d[-m-2])/(d[-m-1]-d[-m-2]),_=t+(-m-2)*r;l=ol.math.lerp(e[_],e[_+r],v),a=ol.math.lerp(e[_+1],e[_+r+1],v)}else l=e[t+m*r],a=e[t+m*r+1]}return i?(i[0]=l,i[1]=a,i):[l,a]},ol.geom.flat.interpolate.lineStringCoordinateAtM=function(e,t,o,r,n,i){if(o==t)return null;var l;if(n<e[t+r-1])return i?((l=e.slice(t,t+r))[r-1]=n,l):null;if(e[o-1]<n)return i?((l=e.slice(o-r,o))[r-1]=n,l):null;if(n==e[t+r-1])return e.slice(t,t+r);for(var a=t/r,s=o/r;a<s;){var p=a+s>>1;n<e[(p+1)*r-1]?s=p:a=p+1}var u=e[a*r-1];if(n==u)return e.slice((a-1)*r,(a-1)*r+r);var c,g=(n-u)/(e[(a+1)*r-1]-u);for(l=[],c=0;c<r-1;++c)l.push(ol.math.lerp(e[(a-1)*r+c],e[a*r+c],g));return l.push(n),l},ol.geom.flat.interpolate.lineStringsCoordinateAtM=function(e,t,o,r,n,i,l){if(l)return ol.geom.flat.interpolate.lineStringCoordinateAtM(e,t,o[o.length-1],r,n,i);var a,s,p;if(n<e[r-1])return i?((a=e.slice(0,r))[r-1]=n,a):null;if(e[e.length-1]<n)return i?((a=e.slice(e.length-r))[r-1]=n,a):null;for(s=0,p=o.length;s<p;++s){var u=o[s];if(t!=u){if(n<e[t+r-1])return null;if(n<=e[u-1])return ol.geom.flat.interpolate.lineStringCoordinateAtM(e,t,u,r,n,!1);t=u}}return null},goog.provide("ol.geom.LineString"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.extent"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.geom.flat.closest"),goog.require("ol.geom.flat.deflate"),goog.require("ol.geom.flat.inflate"),goog.require("ol.geom.flat.interpolate"),goog.require("ol.geom.flat.intersectsextent"),goog.require("ol.geom.flat.length"),goog.require("ol.geom.flat.segments"),goog.require("ol.geom.flat.simplify"),ol.geom.LineString=function(e,t){ol.geom.SimpleGeometry.call(this),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.setCoordinates(e,t)},ol.inherits(ol.geom.LineString,ol.geom.SimpleGeometry),ol.geom.LineString.prototype.appendCoordinate=function(e){this.flatCoordinates?ol.array.extend(this.flatCoordinates,e):this.flatCoordinates=e.slice(),this.changed()},ol.geom.LineString.prototype.clone=function(){var e=new ol.geom.LineString(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),e},ol.geom.LineString.prototype.closestPointXY=function(e,t,o,r){return r<ol.extent.closestSquaredDistanceXY(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getMaxSquaredDelta(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),ol.geom.flat.closest.getClosestPoint(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,t,o,r))},ol.geom.LineString.prototype.forEachSegment=function(e,t){return ol.geom.flat.segments.forEach(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t)},ol.geom.LineString.prototype.getCoordinateAtM=function(e,t){return this.layout!=ol.geom.GeometryLayout.XYM&&this.layout!=ol.geom.GeometryLayout.XYZM?null:ol.geom.flat.interpolate.lineStringCoordinateAtM(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,void 0!==t&&t)},ol.geom.LineString.prototype.getCoordinates=function(){return ol.geom.flat.inflate.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},ol.geom.LineString.prototype.getCoordinateAt=function(e,t){return ol.geom.flat.interpolate.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t)},ol.geom.LineString.prototype.getLength=function(){return ol.geom.flat.length.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},ol.geom.LineString.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},ol.geom.LineString.prototype.getSimplifiedGeometryInternal=function(e){var t=[];t.length=ol.geom.flat.simplify.douglasPeucker(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0);var o=new ol.geom.LineString(null);return o.setFlatCoordinates(ol.geom.GeometryLayout.XY,t),o},ol.geom.LineString.prototype.getType=function(){return ol.geom.GeometryType.LINE_STRING},ol.geom.LineString.prototype.intersectsExtent=function(e){return ol.geom.flat.intersectsextent.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},ol.geom.LineString.prototype.setCoordinates=function(e,t){e?(this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=ol.geom.flat.deflate.coordinates(this.flatCoordinates,0,e,this.stride),this.changed()):this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null)},ol.geom.LineString.prototype.setFlatCoordinates=function(e,t){this.setFlatCoordinatesInternal(e,t),this.changed()},goog.provide("ol.geom.MultiLineString"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.extent"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.LineString"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.geom.flat.closest"),goog.require("ol.geom.flat.deflate"),goog.require("ol.geom.flat.inflate"),goog.require("ol.geom.flat.interpolate"),goog.require("ol.geom.flat.intersectsextent"),goog.require("ol.geom.flat.simplify"),ol.geom.MultiLineString=function(e,t){ol.geom.SimpleGeometry.call(this),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.setCoordinates(e,t)},ol.inherits(ol.geom.MultiLineString,ol.geom.SimpleGeometry),ol.geom.MultiLineString.prototype.appendLineString=function(e){this.flatCoordinates?ol.array.extend(this.flatCoordinates,e.getFlatCoordinates().slice()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},ol.geom.MultiLineString.prototype.clone=function(){var e=new ol.geom.MultiLineString(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),this.ends_.slice()),e},ol.geom.MultiLineString.prototype.closestPointXY=function(e,t,o,r){return r<ol.extent.closestSquaredDistanceXY(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getsMaxSquaredDelta(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),ol.geom.flat.closest.getsClosestPoint(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,t,o,r))},ol.geom.MultiLineString.prototype.getCoordinateAtM=function(e,t,o){return this.layout!=ol.geom.GeometryLayout.XYM&&this.layout!=ol.geom.GeometryLayout.XYZM||0===this.flatCoordinates.length?null:ol.geom.flat.interpolate.lineStringsCoordinateAtM(this.flatCoordinates,0,this.ends_,this.stride,e,void 0!==t&&t,void 0!==o&&o)},ol.geom.MultiLineString.prototype.getCoordinates=function(){return ol.geom.flat.inflate.coordinatess(this.flatCoordinates,0,this.ends_,this.stride)},ol.geom.MultiLineString.prototype.getEnds=function(){return this.ends_},ol.geom.MultiLineString.prototype.getLineString=function(e){if(e<0||this.ends_.length<=e)return null;var t=new ol.geom.LineString(null);return t.setFlatCoordinates(this.layout,this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e])),t},ol.geom.MultiLineString.prototype.getLineStrings=function(){var e,t,o=this.flatCoordinates,r=this.ends_,n=this.layout,i=[],l=0;for(e=0,t=r.length;e<t;++e){var a=r[e],s=new ol.geom.LineString(null);s.setFlatCoordinates(n,o.slice(l,a)),i.push(s),l=a}return i},ol.geom.MultiLineString.prototype.getFlatMidpoints=function(){var e,t,o=[],r=this.flatCoordinates,n=0,i=this.ends_,l=this.stride;for(e=0,t=i.length;e<t;++e){var a=i[e],s=ol.geom.flat.interpolate.lineString(r,n,a,l,.5);ol.array.extend(o,s),n=a}return o},ol.geom.MultiLineString.prototype.getSimplifiedGeometryInternal=function(e){var t=[],o=[];t.length=ol.geom.flat.simplify.douglasPeuckers(this.flatCoordinates,0,this.ends_,this.stride,e,t,0,o);var r=new ol.geom.MultiLineString(null);return r.setFlatCoordinates(ol.geom.GeometryLayout.XY,t,o),r},ol.geom.MultiLineString.prototype.getType=function(){return ol.geom.GeometryType.MULTI_LINE_STRING},ol.geom.MultiLineString.prototype.intersectsExtent=function(e){return ol.geom.flat.intersectsextent.lineStrings(this.flatCoordinates,0,this.ends_,this.stride,e)},ol.geom.MultiLineString.prototype.setCoordinates=function(e,t){if(e){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);var o=ol.geom.flat.deflate.coordinatess(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===o.length?0:o[o.length-1],this.changed()}else this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null,this.ends_)},ol.geom.MultiLineString.prototype.setFlatCoordinates=function(e,t,o){this.setFlatCoordinatesInternal(e,t),this.ends_=o,this.changed()},ol.geom.MultiLineString.prototype.setLineStrings=function(e){var t,o,r=this.getLayout(),n=[],i=[];for(t=0,o=e.length;t<o;++t){var l=e[t];0===t&&(r=l.getLayout()),ol.array.extend(n,l.getFlatCoordinates()),i.push(n.length)}this.setFlatCoordinates(r,n,i)},goog.provide("ol.geom.MultiPoint"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.extent"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.Point"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.geom.flat.deflate"),goog.require("ol.geom.flat.inflate"),goog.require("ol.math"),ol.geom.MultiPoint=function(e,t){ol.geom.SimpleGeometry.call(this),this.setCoordinates(e,t)},ol.inherits(ol.geom.MultiPoint,ol.geom.SimpleGeometry),ol.geom.MultiPoint.prototype.appendPoint=function(e){this.flatCoordinates?ol.array.extend(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.changed()},ol.geom.MultiPoint.prototype.clone=function(){var e=new ol.geom.MultiPoint(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),e},ol.geom.MultiPoint.prototype.closestPointXY=function(e,t,o,r){if(r<ol.extent.closestSquaredDistanceXY(this.getExtent(),e,t))return r;var n,i,l,a=this.flatCoordinates,s=this.stride;for(n=0,i=a.length;n<i;n+=s){var p=ol.math.squaredDistance(e,t,a[n],a[n+1]);if(p<r){for(r=p,l=0;l<s;++l)o[l]=a[n+l];o.length=s}}return r},ol.geom.MultiPoint.prototype.getCoordinates=function(){return ol.geom.flat.inflate.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},ol.geom.MultiPoint.prototype.getPoint=function(e){if(e<0||(this.flatCoordinates?this.flatCoordinates.length/this.stride:0)<=e)return null;var t=new ol.geom.Point(null);return t.setFlatCoordinates(this.layout,this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride)),t},ol.geom.MultiPoint.prototype.getPoints=function(){var e,t,o=this.flatCoordinates,r=this.layout,n=this.stride,i=[];for(e=0,t=o.length;e<t;e+=n){var l=new ol.geom.Point(null);l.setFlatCoordinates(r,o.slice(e,e+n)),i.push(l)}return i},ol.geom.MultiPoint.prototype.getType=function(){return ol.geom.GeometryType.MULTI_POINT},ol.geom.MultiPoint.prototype.intersectsExtent=function(e){var t,o,r=this.flatCoordinates,n=this.stride;for(t=0,o=r.length;t<o;t+=n)if(ol.extent.containsXY(e,r[t],r[t+1]))return!0;return!1},ol.geom.MultiPoint.prototype.setCoordinates=function(e,t){e?(this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=ol.geom.flat.deflate.coordinates(this.flatCoordinates,0,e,this.stride),this.changed()):this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null)},ol.geom.MultiPoint.prototype.setFlatCoordinates=function(e,t){this.setFlatCoordinatesInternal(e,t),this.changed()},goog.provide("ol.geom.flat.center"),goog.require("ol.extent"),ol.geom.flat.center.linearRingss=function(e,t,o,r){var n,i,l=[],a=ol.extent.createEmpty();for(n=0,i=o.length;n<i;++n){var s=o[n];a=ol.extent.createOrUpdateFromFlatCoordinates(e,t,s[0],r),l.push((a[0]+a[2])/2,(a[1]+a[3])/2),t=s[s.length-1]}return l},goog.provide("ol.geom.MultiPolygon"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.extent"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.MultiPoint"),goog.require("ol.geom.Polygon"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.geom.flat.area"),goog.require("ol.geom.flat.center"),goog.require("ol.geom.flat.closest"),goog.require("ol.geom.flat.contains"),goog.require("ol.geom.flat.deflate"),goog.require("ol.geom.flat.inflate"),goog.require("ol.geom.flat.interiorpoint"),goog.require("ol.geom.flat.intersectsextent"),goog.require("ol.geom.flat.orient"),goog.require("ol.geom.flat.simplify"),ol.geom.MultiPolygon=function(e,t){ol.geom.SimpleGeometry.call(this),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,this.setCoordinates(e,t)},ol.inherits(ol.geom.MultiPolygon,ol.geom.SimpleGeometry),ol.geom.MultiPolygon.prototype.appendPolygon=function(e){var t;if(this.flatCoordinates){var o,r,n=this.flatCoordinates.length;for(ol.array.extend(this.flatCoordinates,e.getFlatCoordinates()),o=0,r=(t=e.getEnds().slice()).length;o<r;++o)t[o]+=n}else this.flatCoordinates=e.getFlatCoordinates().slice(),t=e.getEnds().slice(),this.endss_.push();this.endss_.push(t),this.changed()},ol.geom.MultiPolygon.prototype.clone=function(){for(var e=new ol.geom.MultiPolygon(null),t=this.endss_.length,o=new Array(t),r=0;r<t;++r)o[r]=this.endss_[r].slice();return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),o),e},ol.geom.MultiPolygon.prototype.closestPointXY=function(e,t,o,r){return r<ol.extent.closestSquaredDistanceXY(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getssMaxSquaredDelta(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),ol.geom.flat.closest.getssClosestPoint(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,t,o,r))},ol.geom.MultiPolygon.prototype.containsXY=function(e,t){return ol.geom.flat.contains.linearRingssContainsXY(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)},ol.geom.MultiPolygon.prototype.getArea=function(){return ol.geom.flat.area.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},ol.geom.MultiPolygon.prototype.getCoordinates=function(e){var t;return void 0!==e?(t=this.getOrientedFlatCoordinates().slice(),ol.geom.flat.orient.orientLinearRingss(t,0,this.endss_,this.stride,e)):t=this.flatCoordinates,ol.geom.flat.inflate.coordinatesss(t,0,this.endss_,this.stride)},ol.geom.MultiPolygon.prototype.getEndss=function(){return this.endss_},ol.geom.MultiPolygon.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var e=ol.geom.flat.center.linearRingss(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=ol.geom.flat.interiorpoint.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},ol.geom.MultiPolygon.prototype.getInteriorPoints=function(){var e=new ol.geom.MultiPoint(null);return e.setFlatCoordinates(ol.geom.GeometryLayout.XYM,this.getFlatInteriorPoints().slice()),e},ol.geom.MultiPolygon.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;ol.geom.flat.orient.linearRingssAreOriented(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=ol.geom.flat.orient.orientLinearRingss(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},ol.geom.MultiPolygon.prototype.getSimplifiedGeometryInternal=function(e){var t=[],o=[];t.length=ol.geom.flat.simplify.quantizess(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),t,0,o);var r=new ol.geom.MultiPolygon(null);return r.setFlatCoordinates(ol.geom.GeometryLayout.XY,t,o),r},ol.geom.MultiPolygon.prototype.getPolygon=function(e){if(e<0||this.endss_.length<=e)return null;var t;if(0===e)t=0;else{var o=this.endss_[e-1];t=o[o.length-1]}var r,n,i=this.endss_[e].slice(),l=i[i.length-1];if(0!==t)for(r=0,n=i.length;r<n;++r)i[r]-=t;var a=new ol.geom.Polygon(null);return a.setFlatCoordinates(this.layout,this.flatCoordinates.slice(t,l),i),a},ol.geom.MultiPolygon.prototype.getPolygons=function(){var e,t,o,r,n=this.layout,i=this.flatCoordinates,l=this.endss_,a=[],s=0;for(e=0,t=l.length;e<t;++e){var p=l[e].slice(),u=p[p.length-1];if(0!==s)for(o=0,r=p.length;o<r;++o)p[o]-=s;var c=new ol.geom.Polygon(null);c.setFlatCoordinates(n,i.slice(s,u),p),a.push(c),s=u}return a},ol.geom.MultiPolygon.prototype.getType=function(){return ol.geom.GeometryType.MULTI_POLYGON},ol.geom.MultiPolygon.prototype.intersectsExtent=function(e){return ol.geom.flat.intersectsextent.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)},ol.geom.MultiPolygon.prototype.setCoordinates=function(e,t){if(e){this.setLayout(t,e,3),this.flatCoordinates||(this.flatCoordinates=[]);var o=ol.geom.flat.deflate.coordinatesss(this.flatCoordinates,0,e,this.stride,this.endss_);if(0===o.length)this.flatCoordinates.length=0;else{var r=o[o.length-1];this.flatCoordinates.length=0===r.length?0:r[r.length-1]}this.changed()}else this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null,this.endss_)},ol.geom.MultiPolygon.prototype.setFlatCoordinates=function(e,t,o){this.setFlatCoordinatesInternal(e,t),this.endss_=o,this.changed()},ol.geom.MultiPolygon.prototype.setPolygons=function(e){var t,o,r,n=this.getLayout(),i=[],l=[];for(t=0,o=e.length;t<o;++t){var a=e[t];0===t&&(n=a.getLayout());var s,p,u=i.length;for(s=0,p=(r=a.getEnds()).length;s<p;++s)r[s]+=u;ol.array.extend(i,a.getFlatCoordinates()),l.push(r)}this.setFlatCoordinates(n,i,l)},goog.provide("ol.format.EsriJSON"),goog.require("ol"),goog.require("ol.Feature"),goog.require("ol.asserts"),goog.require("ol.extent"),goog.require("ol.format.Feature"),goog.require("ol.format.JSONFeature"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.LineString"),goog.require("ol.geom.LinearRing"),goog.require("ol.geom.MultiLineString"),goog.require("ol.geom.MultiPoint"),goog.require("ol.geom.MultiPolygon"),goog.require("ol.geom.Point"),goog.require("ol.geom.Polygon"),goog.require("ol.geom.flat.deflate"),goog.require("ol.geom.flat.orient"),goog.require("ol.obj"),goog.require("ol.proj"),ol.format.EsriJSON=function(e){var t=e||{};ol.format.JSONFeature.call(this),this.geometryName_=t.geometryName},ol.inherits(ol.format.EsriJSON,ol.format.JSONFeature),ol.format.EsriJSON.readGeometry_=function(e,t){if(!e)return null;var o;if("number"==typeof e.x&&"number"==typeof e.y)o=ol.geom.GeometryType.POINT;else if(e.points)o=ol.geom.GeometryType.MULTI_POINT;else if(e.paths)o=1===e.paths.length?ol.geom.GeometryType.LINE_STRING:ol.geom.GeometryType.MULTI_LINE_STRING;else if(e.rings){var r=ol.format.EsriJSON.getGeometryLayout_(e),n=ol.format.EsriJSON.convertRings_(e.rings,r);e=ol.obj.assign({},e),1===n.length?(o=ol.geom.GeometryType.POLYGON,e.rings=n[0]):(o=ol.geom.GeometryType.MULTI_POLYGON,e.rings=n)}var i=ol.format.EsriJSON.GEOMETRY_READERS_[o];return ol.format.Feature.transformWithOptions(i(e),!1,t)},ol.format.EsriJSON.convertRings_=function(e,t){var o,r,n=[],i=[],l=[];for(o=0,r=e.length;o<r;++o)n.length=0,ol.geom.flat.deflate.coordinates(n,0,e[o],t.length),ol.geom.flat.orient.linearRingIsClockwise(n,0,n.length,t.length)?i.push([e[o]]):l.push(e[o]);for(;l.length;){var a=l.shift(),s=!1;for(o=i.length-1;o>=0;o--)if(ol.extent.containsExtent(new ol.geom.LinearRing(i[o][0]).getExtent(),new ol.geom.LinearRing(a).getExtent())){i[o].push(a),s=!0;break}s||i.push([a.reverse()])}return i},ol.format.EsriJSON.readPointGeometry_=function(e){return void 0!==e.m&&void 0!==e.z?new ol.geom.Point([e.x,e.y,e.z,e.m],ol.geom.GeometryLayout.XYZM):void 0!==e.z?new ol.geom.Point([e.x,e.y,e.z],ol.geom.GeometryLayout.XYZ):void 0!==e.m?new ol.geom.Point([e.x,e.y,e.m],ol.geom.GeometryLayout.XYM):new ol.geom.Point([e.x,e.y])},ol.format.EsriJSON.readLineStringGeometry_=function(e){var t=ol.format.EsriJSON.getGeometryLayout_(e);return new ol.geom.LineString(e.paths[0],t)},ol.format.EsriJSON.readMultiLineStringGeometry_=function(e){var t=ol.format.EsriJSON.getGeometryLayout_(e);return new ol.geom.MultiLineString(e.paths,t)},ol.format.EsriJSON.getGeometryLayout_=function(e){var t=ol.geom.GeometryLayout.XY;return!0===e.hasZ&&!0===e.hasM?t=ol.geom.GeometryLayout.XYZM:!0===e.hasZ?t=ol.geom.GeometryLayout.XYZ:!0===e.hasM&&(t=ol.geom.GeometryLayout.XYM),t},ol.format.EsriJSON.readMultiPointGeometry_=function(e){var t=ol.format.EsriJSON.getGeometryLayout_(e);return new ol.geom.MultiPoint(e.points,t)},ol.format.EsriJSON.readMultiPolygonGeometry_=function(e){var t=ol.format.EsriJSON.getGeometryLayout_(e);return new ol.geom.MultiPolygon(e.rings,t)},ol.format.EsriJSON.readPolygonGeometry_=function(e){var t=ol.format.EsriJSON.getGeometryLayout_(e);return new ol.geom.Polygon(e.rings,t)},ol.format.EsriJSON.writePointGeometry_=function(e,t){var o,r=e.getCoordinates(),n=e.getLayout();return n===ol.geom.GeometryLayout.XYZ?o={x:r[0],y:r[1],z:r[2]}:n===ol.geom.GeometryLayout.XYM?o={x:r[0],y:r[1],m:r[2]}:n===ol.geom.GeometryLayout.XYZM?o={x:r[0],y:r[1],z:r[2],m:r[3]}:n===ol.geom.GeometryLayout.XY?o={x:r[0],y:r[1]}:ol.asserts.assert(!1,34),o},ol.format.EsriJSON.getHasZM_=function(e){var t=e.getLayout();return{hasZ:t===ol.geom.GeometryLayout.XYZ||t===ol.geom.GeometryLayout.XYZM,hasM:t===ol.geom.GeometryLayout.XYM||t===ol.geom.GeometryLayout.XYZM}},ol.format.EsriJSON.writeLineStringGeometry_=function(e,t){var o=ol.format.EsriJSON.getHasZM_(e);return{hasZ:o.hasZ,hasM:o.hasM,paths:[e.getCoordinates()]}},ol.format.EsriJSON.writePolygonGeometry_=function(e,t){var o=ol.format.EsriJSON.getHasZM_(e);return{hasZ:o.hasZ,hasM:o.hasM,rings:e.getCoordinates(!1)}},ol.format.EsriJSON.writeMultiLineStringGeometry_=function(e,t){var o=ol.format.EsriJSON.getHasZM_(e);return{hasZ:o.hasZ,hasM:o.hasM,paths:e.getCoordinates()}},ol.format.EsriJSON.writeMultiPointGeometry_=function(e,t){var o=ol.format.EsriJSON.getHasZM_(e);return{hasZ:o.hasZ,hasM:o.hasM,points:e.getCoordinates()}},ol.format.EsriJSON.writeMultiPolygonGeometry_=function(e,t){for(var o=ol.format.EsriJSON.getHasZM_(e),r=e.getCoordinates(!1),n=[],i=0;i<r.length;i++)for(var l=r[i].length-1;l>=0;l--)n.push(r[i][l]);return{hasZ:o.hasZ,hasM:o.hasM,rings:n}},ol.format.EsriJSON.GEOMETRY_READERS_={},ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.POINT]=ol.format.EsriJSON.readPointGeometry_,ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.LINE_STRING]=ol.format.EsriJSON.readLineStringGeometry_,ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.POLYGON]=ol.format.EsriJSON.readPolygonGeometry_,ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.MULTI_POINT]=ol.format.EsriJSON.readMultiPointGeometry_,ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.MULTI_LINE_STRING]=ol.format.EsriJSON.readMultiLineStringGeometry_,ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.MULTI_POLYGON]=ol.format.EsriJSON.readMultiPolygonGeometry_,ol.format.EsriJSON.GEOMETRY_WRITERS_={},ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.POINT]=ol.format.EsriJSON.writePointGeometry_,ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.LINE_STRING]=ol.format.EsriJSON.writeLineStringGeometry_,ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.POLYGON]=ol.format.EsriJSON.writePolygonGeometry_,ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.MULTI_POINT]=ol.format.EsriJSON.writeMultiPointGeometry_,ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.MULTI_LINE_STRING]=ol.format.EsriJSON.writeMultiLineStringGeometry_,ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.MULTI_POLYGON]=ol.format.EsriJSON.writeMultiPolygonGeometry_,ol,ol,ol.format.EsriJSON.prototype.readFeatureFromObject=function(e,t){var o=e,r=ol.format.EsriJSON.readGeometry_(o.geometry,t),n=new ol.Feature;return this.geometryName_&&n.setGeometryName(this.geometryName_),n.setGeometry(r),t&&t.idField&&o.attributes[t.idField]&&n.setId(o.attributes[t.idField]),o.attributes&&n.setProperties(o.attributes),n},ol.format.EsriJSON.prototype.readFeaturesFromObject=function(e,t){var o=t||{};if(e.features){var r,n,i=[],l=e.features;for(o.idField=e.objectIdFieldName,r=0,n=l.length;r<n;++r)i.push(this.readFeatureFromObject(l[r],o));return i}return[this.readFeatureFromObject(e,o)]},ol,ol.format.EsriJSON.prototype.readGeometryFromObject=function(e,t){return ol.format.EsriJSON.readGeometry_(e,t)},ol,ol.format.EsriJSON.prototype.readProjectionFromObject=function(e){return e.spatialReference&&e.spatialReference.wkid?ol.proj.get("EPSG:"+e.spatialReference.wkid):null},ol.format.EsriJSON.writeGeometry_=function(e,t){return(0,ol.format.EsriJSON.GEOMETRY_WRITERS_[e.getType()])(ol.format.Feature.transformWithOptions(e,!0,t),t)},ol,ol.format.EsriJSON.prototype.writeGeometryObject=function(e,t){return ol.format.EsriJSON.writeGeometry_(e,this.adaptOptions(t))},ol,ol.format.EsriJSON.prototype.writeFeatureObject=function(e,t){t=this.adaptOptions(t);var o={},r=e.getGeometry();r&&(o.geometry=ol.format.EsriJSON.writeGeometry_(r,t),t&&t.featureProjection&&(o.geometry.spatialReference={wkid:ol.proj.get(t.featureProjection).getCode().split(":").pop()}));var n=e.getProperties();return delete n[e.getGeometryName()],o.attributes=ol.obj.isEmpty(n)?{}:n,o},ol,ol.format.EsriJSON.prototype.writeFeaturesObject=function(e,t){t=this.adaptOptions(t);var o,r,n=[];for(o=0,r=e.length;o<r;++o)n.push(this.writeFeatureObject(e[o],t));return{features:n}},goog.provide("ol.format.filter.Filter"),ol.format.filter.Filter=function(e){this.tagName_=e},ol.format.filter.Filter.prototype.getTagName=function(){return this.tagName_},goog.provide("ol.format.filter.LogicalNary"),goog.require("ol"),goog.require("ol.asserts"),goog.require("ol.format.filter.Filter"),ol.format.filter.LogicalNary=function(e,t){ol.format.filter.Filter.call(this,e),this.conditions=Array.prototype.slice.call(arguments,1),ol.asserts.assert(this.conditions.length>=2,57)},ol.inherits(ol.format.filter.LogicalNary,ol.format.filter.Filter),goog.provide("ol.format.filter.And"),goog.require("ol"),goog.require("ol.format.filter.LogicalNary"),ol.format.filter.And=function(e){var t=["And"].concat(Array.prototype.slice.call(arguments));ol.format.filter.LogicalNary.apply(this,t)},ol.inherits(ol.format.filter.And,ol.format.filter.LogicalNary),goog.provide("ol.format.filter.Bbox"),goog.require("ol"),goog.require("ol.format.filter.Filter"),ol.format.filter.Bbox=function(e,t,o){ol.format.filter.Filter.call(this,"BBOX"),this.geometryName=e,this.extent=t,this.srsName=o},ol.inherits(ol.format.filter.Bbox,ol.format.filter.Filter),goog.provide("ol.format.filter.Spatial"),goog.require("ol"),goog.require("ol.format.filter.Filter"),ol.format.filter.Spatial=function(e,t,o,r){ol.format.filter.Filter.call(this,e),this.geometryName=t||"the_geom",this.geometry=o,this.srsName=r},ol.inherits(ol.format.filter.Spatial,ol.format.filter.Filter),goog.provide("ol.format.filter.Contains"),goog.require("ol"),goog.require("ol.format.filter.Spatial"),ol.format.filter.Contains=function(e,t,o){ol.format.filter.Spatial.call(this,"Contains",e,t,o)},ol.inherits(ol.format.filter.Contains,ol.format.filter.Spatial),goog.provide("ol.format.filter.Comparison"),goog.require("ol"),goog.require("ol.format.filter.Filter"),ol.format.filter.Comparison=function(e,t){ol.format.filter.Filter.call(this,e),this.propertyName=t},ol.inherits(ol.format.filter.Comparison,ol.format.filter.Filter),goog.provide("ol.format.filter.During"),goog.require("ol"),goog.require("ol.format.filter.Comparison"),ol.format.filter.During=function(e,t,o){ol.format.filter.Comparison.call(this,"During",e),this.begin=t,this.end=o},ol.inherits(ol.format.filter.During,ol.format.filter.Comparison),goog.provide("ol.format.filter.ComparisonBinary"),goog.require("ol"),goog.require("ol.format.filter.Comparison"),ol.format.filter.ComparisonBinary=function(e,t,o,r){ol.format.filter.Comparison.call(this,e,t),this.expression=o,this.matchCase=r},ol.inherits(ol.format.filter.ComparisonBinary,ol.format.filter.Comparison),goog.provide("ol.format.filter.EqualTo"),goog.require("ol"),goog.require("ol.format.filter.ComparisonBinary"),ol.format.filter.EqualTo=function(e,t,o){ol.format.filter.ComparisonBinary.call(this,"PropertyIsEqualTo",e,t,o)},ol.inherits(ol.format.filter.EqualTo,ol.format.filter.ComparisonBinary),goog.provide("ol.format.filter.GreaterThan"),goog.require("ol"),goog.require("ol.format.filter.ComparisonBinary"),ol.format.filter.GreaterThan=function(e,t){ol.format.filter.ComparisonBinary.call(this,"PropertyIsGreaterThan",e,t)},ol.inherits(ol.format.filter.GreaterThan,ol.format.filter.ComparisonBinary),goog.provide("ol.format.filter.GreaterThanOrEqualTo"),goog.require("ol"),goog.require("ol.format.filter.ComparisonBinary"),ol.format.filter.GreaterThanOrEqualTo=function(e,t){ol.format.filter.ComparisonBinary.call(this,"PropertyIsGreaterThanOrEqualTo",e,t)},ol.inherits(ol.format.filter.GreaterThanOrEqualTo,ol.format.filter.ComparisonBinary),goog.provide("ol.format.filter.Intersects"),goog.require("ol"),goog.require("ol.format.filter.Spatial"),ol.format.filter.Intersects=function(e,t,o){ol.format.filter.Spatial.call(this,"Intersects",e,t,o)},ol.inherits(ol.format.filter.Intersects,ol.format.filter.Spatial),goog.provide("ol.format.filter.IsBetween"),goog.require("ol"),goog.require("ol.format.filter.Comparison"),ol.format.filter.IsBetween=function(e,t,o){ol.format.filter.Comparison.call(this,"PropertyIsBetween",e),this.lowerBoundary=t,this.upperBoundary=o},ol.inherits(ol.format.filter.IsBetween,ol.format.filter.Comparison),goog.provide("ol.format.filter.IsLike"),goog.require("ol"),goog.require("ol.format.filter.Comparison"),ol.format.filter.IsLike=function(e,t,o,r,n,i){ol.format.filter.Comparison.call(this,"PropertyIsLike",e),this.pattern=t,this.wildCard=void 0!==o?o:"*",this.singleChar=void 0!==r?r:".",this.escapeChar=void 0!==n?n:"!",this.matchCase=i},ol.inherits(ol.format.filter.IsLike,ol.format.filter.Comparison),goog.provide("ol.format.filter.IsNull"),goog.require("ol"),goog.require("ol.format.filter.Comparison"),ol.format.filter.IsNull=function(e){ol.format.filter.Comparison.call(this,"PropertyIsNull",e)},ol.inherits(ol.format.filter.IsNull,ol.format.filter.Comparison),goog.provide("ol.format.filter.LessThan"),goog.require("ol"),goog.require("ol.format.filter.ComparisonBinary"),ol.format.filter.LessThan=function(e,t){ol.format.filter.ComparisonBinary.call(this,"PropertyIsLessThan",e,t)},ol.inherits(ol.format.filter.LessThan,ol.format.filter.ComparisonBinary),goog.provide("ol.format.filter.LessThanOrEqualTo"),goog.require("ol"),goog.require("ol.format.filter.ComparisonBinary"),ol.format.filter.LessThanOrEqualTo=function(e,t){ol.format.filter.ComparisonBinary.call(this,"PropertyIsLessThanOrEqualTo",e,t)},ol.inherits(ol.format.filter.LessThanOrEqualTo,ol.format.filter.ComparisonBinary),goog.provide("ol.format.filter.Not"),goog.require("ol"),goog.require("ol.format.filter.Filter"),ol.format.filter.Not=function(e){ol.format.filter.Filter.call(this,"Not"),this.condition=e},ol.inherits(ol.format.filter.Not,ol.format.filter.Filter),goog.provide("ol.format.filter.NotEqualTo"),goog.require("ol"),goog.require("ol.format.filter.ComparisonBinary"),ol.format.filter.NotEqualTo=function(e,t,o){ol.format.filter.ComparisonBinary.call(this,"PropertyIsNotEqualTo",e,t,o)},ol.inherits(ol.format.filter.NotEqualTo,ol.format.filter.ComparisonBinary),goog.provide("ol.format.filter.Or"),goog.require("ol"),goog.require("ol.format.filter.LogicalNary"),ol.format.filter.Or=function(e){var t=["Or"].concat(Array.prototype.slice.call(arguments));ol.format.filter.LogicalNary.apply(this,t)},ol.inherits(ol.format.filter.Or,ol.format.filter.LogicalNary),goog.provide("ol.format.filter.Within"),goog.require("ol"),goog.require("ol.format.filter.Spatial"),ol.format.filter.Within=function(e,t,o){ol.format.filter.Spatial.call(this,"Within",e,t,o)},ol.inherits(ol.format.filter.Within,ol.format.filter.Spatial),goog.provide("ol.format.filter"),goog.require("ol.format.filter.And"),goog.require("ol.format.filter.Bbox"),goog.require("ol.format.filter.Contains"),goog.require("ol.format.filter.During"),goog.require("ol.format.filter.EqualTo"),goog.require("ol.format.filter.GreaterThan"),goog.require("ol.format.filter.GreaterThanOrEqualTo"),goog.require("ol.format.filter.Intersects"),goog.require("ol.format.filter.IsBetween"),goog.require("ol.format.filter.IsLike"),goog.require("ol.format.filter.IsNull"),goog.require("ol.format.filter.LessThan"),goog.require("ol.format.filter.LessThanOrEqualTo"),goog.require("ol.format.filter.Not"),goog.require("ol.format.filter.NotEqualTo"),goog.require("ol.format.filter.Or"),goog.require("ol.format.filter.Within"),ol.format.filter.and=function(e){var t=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(ol.format.filter.And,t))},ol.format.filter.or=function(e){var t=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(ol.format.filter.Or,t))},ol.format.filter.not=function(e){return new ol.format.filter.Not(e)},ol.format.filter.bbox=function(e,t,o){return new ol.format.filter.Bbox(e,t,o)},ol.format.filter.contains=function(e,t,o){return new ol.format.filter.Contains(e,t,o)},ol.format.filter.intersects=function(e,t,o){return new ol.format.filter.Intersects(e,t,o)},ol.format.filter.within=function(e,t,o){return new ol.format.filter.Within(e,t,o)},ol.format.filter.equalTo=function(e,t,o){return new ol.format.filter.EqualTo(e,t,o)},ol.format.filter.notEqualTo=function(e,t,o){return new ol.format.filter.NotEqualTo(e,t,o)},ol.format.filter.lessThan=function(e,t){return new ol.format.filter.LessThan(e,t)},ol.format.filter.lessThanOrEqualTo=function(e,t){return new ol.format.filter.LessThanOrEqualTo(e,t)},ol.format.filter.greaterThan=function(e,t){return new ol.format.filter.GreaterThan(e,t)},ol.format.filter.greaterThanOrEqualTo=function(e,t){return new ol.format.filter.GreaterThanOrEqualTo(e,t)},ol.format.filter.isNull=function(e){return new ol.format.filter.IsNull(e)},ol.format.filter.between=function(e,t,o){return new ol.format.filter.IsBetween(e,t,o)},ol.format.filter.like=function(e,t,o,r,n,i){return new ol.format.filter.IsLike(e,t,o,r,n,i)},ol.format.filter.during=function(e,t,o){return new ol.format.filter.During(e,t,o)},goog.provide("ol.geom.GeometryCollection"),goog.require("ol"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.extent"),goog.require("ol.geom.Geometry"),goog.require("ol.geom.GeometryType"),goog.require("ol.obj"),ol.geom.GeometryCollection=function(e){ol.geom.Geometry.call(this),this.geometries_=e||null,this.listenGeometriesChange_()},ol.inherits(ol.geom.GeometryCollection,ol.geom.Geometry),ol.geom.GeometryCollection.cloneGeometries_=function(e){var t,o,r=[];for(t=0,o=e.length;t<o;++t)r.push(e[t].clone());return r},ol.geom.GeometryCollection.prototype.unlistenGeometriesChange_=function(){var e,t;if(this.geometries_)for(e=0,t=this.geometries_.length;e<t;++e)ol.events.unlisten(this.geometries_[e],ol.events.EventType.CHANGE,this.changed,this)},ol.geom.GeometryCollection.prototype.listenGeometriesChange_=function(){var e,t;if(this.geometries_)for(e=0,t=this.geometries_.length;e<t;++e)ol.events.listen(this.geometries_[e],ol.events.EventType.CHANGE,this.changed,this)},ol.geom.GeometryCollection.prototype.clone=function(){var e=new ol.geom.GeometryCollection(null);return e.setGeometries(this.geometries_),e},ol.geom.GeometryCollection.prototype.closestPointXY=function(e,t,o,r){if(r<ol.extent.closestSquaredDistanceXY(this.getExtent(),e,t))return r;var n,i,l=this.geometries_;for(n=0,i=l.length;n<i;++n)r=l[n].closestPointXY(e,t,o,r);return r},ol.geom.GeometryCollection.prototype.containsXY=function(e,t){var o,r,n=this.geometries_;for(o=0,r=n.length;o<r;++o)if(n[o].containsXY(e,t))return!0;return!1},ol.geom.GeometryCollection.prototype.computeExtent=function(e){ol.extent.createOrUpdateEmpty(e);for(var t=this.geometries_,o=0,r=t.length;o<r;++o)ol.extent.extend(e,t[o].getExtent());return e},ol.geom.GeometryCollection.prototype.getGeometries=function(){return ol.geom.GeometryCollection.cloneGeometries_(this.geometries_)},ol.geom.GeometryCollection.prototype.getGeometriesArray=function(){return this.geometries_},ol.geom.GeometryCollection.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!=this.getRevision()&&(ol.obj.clear(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;var t=e.toString();if(this.simplifiedGeometryCache.hasOwnProperty(t))return this.simplifiedGeometryCache[t];var o,r,n=[],i=this.geometries_,l=!1;for(o=0,r=i.length;o<r;++o){var a=i[o],s=a.getSimplifiedGeometry(e);n.push(s),s!==a&&(l=!0)}if(l){var p=new ol.geom.GeometryCollection(null);return p.setGeometriesArray(n),this.simplifiedGeometryCache[t]=p,p}return this.simplifiedGeometryMaxMinSquaredTolerance=e,this},ol.geom.GeometryCollection.prototype.getType=function(){return ol.geom.GeometryType.GEOMETRY_COLLECTION},ol.geom.GeometryCollection.prototype.intersectsExtent=function(e){var t,o,r=this.geometries_;for(t=0,o=r.length;t<o;++t)if(r[t].intersectsExtent(e))return!0;return!1},ol.geom.GeometryCollection.prototype.isEmpty=function(){return 0===this.geometries_.length},ol.geom.GeometryCollection.prototype.rotate=function(e,t){for(var o=this.geometries_,r=0,n=o.length;r<n;++r)o[r].rotate(e,t);this.changed()},ol.geom.GeometryCollection.prototype.scale=function(e,t,o){var r=o;r||(r=ol.extent.getCenter(this.getExtent()));for(var n=this.geometries_,i=0,l=n.length;i<l;++i)n[i].scale(e,t,r);this.changed()},ol.geom.GeometryCollection.prototype.setGeometries=function(e){this.setGeometriesArray(ol.geom.GeometryCollection.cloneGeometries_(e))},ol.geom.GeometryCollection.prototype.setGeometriesArray=function(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()},ol.geom.GeometryCollection.prototype.applyTransform=function(e){var t,o,r=this.geometries_;for(t=0,o=r.length;t<o;++t)r[t].applyTransform(e);this.changed()},ol.geom.GeometryCollection.prototype.translate=function(e,t){var o,r,n=this.geometries_;for(o=0,r=n.length;o<r;++o)n[o].translate(e,t);this.changed()},ol.geom.GeometryCollection.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),ol.geom.Geometry.prototype.disposeInternal.call(this)},goog.provide("ol.format.GeoJSON"),goog.require("ol"),goog.require("ol.asserts"),goog.require("ol.Feature"),goog.require("ol.format.Feature"),goog.require("ol.format.JSONFeature"),goog.require("ol.geom.GeometryCollection"),goog.require("ol.geom.LineString"),goog.require("ol.geom.MultiLineString"),goog.require("ol.geom.MultiPoint"),goog.require("ol.geom.MultiPolygon"),goog.require("ol.geom.Point"),goog.require("ol.geom.Polygon"),goog.require("ol.obj"),goog.require("ol.proj"),ol.format.GeoJSON=function(e){var t=e||{};ol.format.JSONFeature.call(this),this.defaultDataProjection=ol.proj.get(t.defaultDataProjection?t.defaultDataProjection:"EPSG:4326"),t.featureProjection&&(this.defaultFeatureProjection=ol.proj.get(t.featureProjection)),this.geometryName_=t.geometryName,this.extractGeometryName_=t.extractGeometryName},ol.inherits(ol.format.GeoJSON,ol.format.JSONFeature),ol.format.GeoJSON.readGeometry_=function(e,t){if(!e)return null;var o=ol.format.GeoJSON.GEOMETRY_READERS_[e.type];return ol.format.Feature.transformWithOptions(o(e),!1,t)},ol.format.GeoJSON.readGeometryCollectionGeometry_=function(e,t){var o=e.geometries.map(function(e){return ol.format.GeoJSON.readGeometry_(e,t)});return new ol.geom.GeometryCollection(o)},ol.format.GeoJSON.readPointGeometry_=function(e){return new ol.geom.Point(e.coordinates)},ol.format.GeoJSON.readLineStringGeometry_=function(e){return new ol.geom.LineString(e.coordinates)},ol.format.GeoJSON.readMultiLineStringGeometry_=function(e){return new ol.geom.MultiLineString(e.coordinates)},ol.format.GeoJSON.readMultiPointGeometry_=function(e){return new ol.geom.MultiPoint(e.coordinates)},ol.format.GeoJSON.readMultiPolygonGeometry_=function(e){return new ol.geom.MultiPolygon(e.coordinates)},ol.format.GeoJSON.readPolygonGeometry_=function(e){return new ol.geom.Polygon(e.coordinates)},ol.format.GeoJSON.writeGeometry_=function(e,t){return(0,ol.format.GeoJSON.GEOMETRY_WRITERS_[e.getType()])(ol.format.Feature.transformWithOptions(e,!0,t),t)},ol.format.GeoJSON.writeEmptyGeometryCollectionGeometry_=function(e){return{type:"GeometryCollection",geometries:[]}},ol.format.GeoJSON.writeGeometryCollectionGeometry_=function(e,t){return{type:"GeometryCollection",geometries:e.getGeometriesArray().map(function(e){var o=ol.obj.assign({},t);return delete o.featureProjection,ol.format.GeoJSON.writeGeometry_(e,o)})}},ol.format.GeoJSON.writeLineStringGeometry_=function(e,t){return{type:"LineString",coordinates:e.getCoordinates()}},ol.format.GeoJSON.writeMultiLineStringGeometry_=function(e,t){return{type:"MultiLineString",coordinates:e.getCoordinates()}},ol.format.GeoJSON.writeMultiPointGeometry_=function(e,t){return{type:"MultiPoint",coordinates:e.getCoordinates()}},ol.format.GeoJSON.writeMultiPolygonGeometry_=function(e,t){var o;return t&&(o=t.rightHanded),{type:"MultiPolygon",coordinates:e.getCoordinates(o)}},ol.format.GeoJSON.writePointGeometry_=function(e,t){return{type:"Point",coordinates:e.getCoordinates()}},ol.format.GeoJSON.writePolygonGeometry_=function(e,t){var o;return t&&(o=t.rightHanded),{type:"Polygon",coordinates:e.getCoordinates(o)}},ol.format.GeoJSON.GEOMETRY_READERS_={Point:ol.format.GeoJSON.readPointGeometry_,LineString:ol.format.GeoJSON.readLineStringGeometry_,Polygon:ol.format.GeoJSON.readPolygonGeometry_,MultiPoint:ol.format.GeoJSON.readMultiPointGeometry_,MultiLineString:ol.format.GeoJSON.readMultiLineStringGeometry_,MultiPolygon:ol.format.GeoJSON.readMultiPolygonGeometry_,GeometryCollection:ol.format.GeoJSON.readGeometryCollectionGeometry_},ol.format.GeoJSON.GEOMETRY_WRITERS_={Point:ol.format.GeoJSON.writePointGeometry_,LineString:ol.format.GeoJSON.writeLineStringGeometry_,Polygon:ol.format.GeoJSON.writePolygonGeometry_,MultiPoint:ol.format.GeoJSON.writeMultiPointGeometry_,MultiLineString:ol.format.GeoJSON.writeMultiLineStringGeometry_,MultiPolygon:ol.format.GeoJSON.writeMultiPolygonGeometry_,GeometryCollection:ol.format.GeoJSON.writeGeometryCollectionGeometry_,Circle:ol.format.GeoJSON.writeEmptyGeometryCollectionGeometry_},ol,ol,ol.format.GeoJSON.prototype.readFeatureFromObject=function(e,t){var o;o="Feature"===e.type?e:{type:"Feature",geometry:e};var r=ol.format.GeoJSON.readGeometry_(o.geometry,t),n=new ol.Feature;return this.geometryName_?n.setGeometryName(this.geometryName_):this.extractGeometryName_&&void 0!==o.geometry_name&&n.setGeometryName(o.geometry_name),n.setGeometry(r),void 0!==o.id&&n.setId(o.id),o.properties&&n.setProperties(o.properties),n},ol.format.GeoJSON.prototype.readFeaturesFromObject=function(e,t){var o=null;if("FeatureCollection"===e.type){o=[];var r,n,i=e.features;for(r=0,n=i.length;r<n;++r)o.push(this.readFeatureFromObject(i[r],t))}else o=[this.readFeatureFromObject(e,t)];return o},ol,ol.format.GeoJSON.prototype.readGeometryFromObject=function(e,t){return ol.format.GeoJSON.readGeometry_(e,t)},ol,ol.format.GeoJSON.prototype.readProjectionFromObject=function(e){var t,o=e.crs;return o?"name"==o.type?t=ol.proj.get(o.properties.name):ol.asserts.assert(!1,36):t=this.defaultDataProjection,t},ol,ol.format.GeoJSON.prototype.writeFeatureObject=function(e,t){t=this.adaptOptions(t);var o={type:"Feature"},r=e.getId();void 0!==r&&(o.id=r);var n=e.getGeometry();o.geometry=n?ol.format.GeoJSON.writeGeometry_(n,t):null;var i=e.getProperties();return delete i[e.getGeometryName()],o.properties=ol.obj.isEmpty(i)?null:i,o},ol,ol.format.GeoJSON.prototype.writeFeaturesObject=function(e,t){t=this.adaptOptions(t);var o,r,n=[];for(o=0,r=e.length;o<r;++o)n.push(this.writeFeatureObject(e[o],t));return{type:"FeatureCollection",features:n}},ol,ol.format.GeoJSON.prototype.writeGeometryObject=function(e,t){return ol.format.GeoJSON.writeGeometry_(e,this.adaptOptions(t))},goog.provide("ol.format.XMLFeature"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.format.Feature"),goog.require("ol.format.FormatType"),goog.require("ol.xml"),ol.format.XMLFeature=function(){this.xmlSerializer_=new XMLSerializer,ol.format.Feature.call(this)},ol.inherits(ol.format.XMLFeature,ol.format.Feature),ol.format.XMLFeature.prototype.getType=function(){return ol.format.FormatType.XML},ol.format.XMLFeature.prototype.readFeature=function(e,t){if(ol.xml.isDocument(e))return this.readFeatureFromDocument(e,t);if(ol.xml.isNode(e))return this.readFeatureFromNode(e,t);if("string"==typeof e){var o=ol.xml.parse(e);return this.readFeatureFromDocument(o,t)}return null},ol.format.XMLFeature.prototype.readFeatureFromDocument=function(e,t){var o=this.readFeaturesFromDocument(e,t);return o.length>0?o[0]:null},ol.format.XMLFeature.prototype.readFeatureFromNode=function(e,t){return null},ol.format.XMLFeature.prototype.readFeatures=function(e,t){if(ol.xml.isDocument(e))return this.readFeaturesFromDocument(e,t);if(ol.xml.isNode(e))return this.readFeaturesFromNode(e,t);if("string"==typeof e){var o=ol.xml.parse(e);return this.readFeaturesFromDocument(o,t)}return[]},ol.format.XMLFeature.prototype.readFeaturesFromDocument=function(e,t){var o,r=[];for(o=e.firstChild;o;o=o.nextSibling)o.nodeType==Node.ELEMENT_NODE&&ol.array.extend(r,this.readFeaturesFromNode(o,t));return r},ol.format.XMLFeature.prototype.readFeaturesFromNode=function(e,t){},ol.format.XMLFeature.prototype.readGeometry=function(e,t){if(ol.xml.isDocument(e))return this.readGeometryFromDocument(e,t);if(ol.xml.isNode(e))return this.readGeometryFromNode(e,t);if("string"==typeof e){var o=ol.xml.parse(e);return this.readGeometryFromDocument(o,t)}return null},ol.format.XMLFeature.prototype.readGeometryFromDocument=function(e,t){return null},ol.format.XMLFeature.prototype.readGeometryFromNode=function(e,t){return null},ol.format.XMLFeature.prototype.readProjection=function(e){if(ol.xml.isDocument(e))return this.readProjectionFromDocument(e);if(ol.xml.isNode(e))return this.readProjectionFromNode(e);if("string"==typeof e){var t=ol.xml.parse(e);return this.readProjectionFromDocument(t)}return null},ol.format.XMLFeature.prototype.readProjectionFromDocument=function(e){return this.defaultDataProjection},ol.format.XMLFeature.prototype.readProjectionFromNode=function(e){return this.defaultDataProjection},ol.format.XMLFeature.prototype.writeFeature=function(e,t){var o=this.writeFeatureNode(e,t);return this.xmlSerializer_.serializeToString(o)},ol.format.XMLFeature.prototype.writeFeatureNode=function(e,t){return null},ol.format.XMLFeature.prototype.writeFeatures=function(e,t){var o=this.writeFeaturesNode(e,t);return this.xmlSerializer_.serializeToString(o)},ol.format.XMLFeature.prototype.writeFeaturesNode=function(e,t){return null},ol.format.XMLFeature.prototype.writeGeometry=function(e,t){var o=this.writeGeometryNode(e,t);return this.xmlSerializer_.serializeToString(o)},ol.format.XMLFeature.prototype.writeGeometryNode=function(e,t){return null},goog.provide("ol.format.GMLBase"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.Feature"),goog.require("ol.format.Feature"),goog.require("ol.format.XMLFeature"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.LineString"),goog.require("ol.geom.LinearRing"),goog.require("ol.geom.MultiLineString"),goog.require("ol.geom.MultiPoint"),goog.require("ol.geom.MultiPolygon"),goog.require("ol.geom.Point"),goog.require("ol.geom.Polygon"),goog.require("ol.obj"),goog.require("ol.proj"),goog.require("ol.xml"),ol.format.GMLBase=function(e){var t=e||{};this.featureType=t.featureType,this.featureNS=t.featureNS,this.srsName=t.srsName,this.schemaLocation="",this.FEATURE_COLLECTION_PARSERS={},this.FEATURE_COLLECTION_PARSERS[ol.format.GMLBase.GMLNS]={featureMember:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readFeaturesInternal),featureMembers:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readFeaturesInternal)},ol.format.XMLFeature.call(this)},ol.inherits(ol.format.GMLBase,ol.format.XMLFeature),ol.format.GMLBase.GMLNS="http://www.opengis.net/gml",ol.format.GMLBase.ONLY_WHITESPACE_RE_=/^[\s\xa0]*$/,ol.format.GMLBase.prototype.readFeaturesInternal=function(e,t){var o=e.localName,r=null;if("FeatureCollection"==o)r="http://www.opengis.net/wfs"===e.namespaceURI?ol.xml.pushParseAndPop([],this.FEATURE_COLLECTION_PARSERS,e,t,this):ol.xml.pushParseAndPop(null,this.FEATURE_COLLECTION_PARSERS,e,t,this);else if("featureMembers"==o||"featureMember"==o){var n,i,l=t[0],a=l.featureType,s=l.featureNS;if(!a&&e.childNodes){for(a=[],s={},n=0,i=e.childNodes.length;n<i;++n){var p=e.childNodes[n];if(1===p.nodeType){var u=p.nodeName.split(":").pop();if(-1===a.indexOf(u)){var c="",g=0,d=p.namespaceURI;for(var h in s){if(s[h]===d){c=h;break}++g}c||(s[c="p"+g]=d),a.push(c+":"+u)}}}"featureMember"!=o&&(l.featureType=a,l.featureNS=s)}if("string"==typeof s){var y=s;(s={}).p0=y}var f={},m=Array.isArray(a)?a:[a];for(var v in s){var _={};for(n=0,i=m.length;n<i;++n)(-1===m[n].indexOf(":")?"p0":m[n].split(":")[0])===v&&(_[m[n].split(":").pop()]="featureMembers"==o?ol.xml.makeArrayPusher(this.readFeatureElement,this):ol.xml.makeReplacer(this.readFeatureElement,this));f[s[v]]=_}r="featureMember"==o?ol.xml.pushParseAndPop(void 0,f,e,t):ol.xml.pushParseAndPop([],f,e,t)}return null===r&&(r=[]),r},ol.format.GMLBase.prototype.readGeometryElement=function(e,t){var o=t[0];o.srsName=e.firstElementChild.getAttribute("srsName"),o.srsDimension=e.firstElementChild.getAttribute("srsDimension");var r=ol.xml.pushParseAndPop(null,this.GEOMETRY_PARSERS_,e,t,this);return r?ol.format.Feature.transformWithOptions(r,!1,o):void 0},ol.format.GMLBase.prototype.readFeatureElement=function(e,t){var o,r,n=e.getAttribute("fid")||ol.xml.getAttributeNS(e,ol.format.GMLBase.GMLNS,"id"),i={};for(o=e.firstElementChild;o;o=o.nextElementSibling){var l=o.localName;if(0===o.childNodes.length||1===o.childNodes.length&&(3===o.firstChild.nodeType||4===o.firstChild.nodeType)){var a=ol.xml.getAllTextContent(o,!1);ol.format.GMLBase.ONLY_WHITESPACE_RE_.test(a)&&(a=void 0),i[l]=a}else"boundedBy"!==l&&(r=l),i[l]=this.readGeometryElement(o,t)}var s=new ol.Feature(i);return r&&s.setGeometryName(r),n&&s.setId(n),s},ol.format.GMLBase.prototype.readPoint=function(e,t){var o=this.readFlatCoordinatesFromNode_(e,t);if(o){var r=new ol.geom.Point(null);return r.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,o),r}},ol.format.GMLBase.prototype.readMultiPoint=function(e,t){var o=ol.xml.pushParseAndPop([],this.MULTIPOINT_PARSERS_,e,t,this);return o?new ol.geom.MultiPoint(o):void 0},ol.format.GMLBase.prototype.readMultiLineString=function(e,t){var o=ol.xml.pushParseAndPop([],this.MULTILINESTRING_PARSERS_,e,t,this);if(o){var r=new ol.geom.MultiLineString(null);return r.setLineStrings(o),r}},ol.format.GMLBase.prototype.readMultiPolygon=function(e,t){var o=ol.xml.pushParseAndPop([],this.MULTIPOLYGON_PARSERS_,e,t,this);if(o){var r=new ol.geom.MultiPolygon(null);return r.setPolygons(o),r}},ol.format.GMLBase.prototype.pointMemberParser_=function(e,t){ol.xml.parseNode(this.POINTMEMBER_PARSERS_,e,t,this)},ol.format.GMLBase.prototype.lineStringMemberParser_=function(e,t){ol.xml.parseNode(this.LINESTRINGMEMBER_PARSERS_,e,t,this)},ol.format.GMLBase.prototype.polygonMemberParser_=function(e,t){ol.xml.parseNode(this.POLYGONMEMBER_PARSERS_,e,t,this)},ol.format.GMLBase.prototype.readLineString=function(e,t){var o=this.readFlatCoordinatesFromNode_(e,t);if(o){var r=new ol.geom.LineString(null);return r.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,o),r}},ol.format.GMLBase.prototype.readFlatLinearRing_=function(e,t){return ol.xml.pushParseAndPop(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS_,e,t,this)||void 0},ol.format.GMLBase.prototype.readLinearRing=function(e,t){var o=this.readFlatCoordinatesFromNode_(e,t);if(o){var r=new ol.geom.LinearRing(null);return r.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,o),r}},ol.format.GMLBase.prototype.readPolygon=function(e,t){var o=ol.xml.pushParseAndPop([null],this.FLAT_LINEAR_RINGS_PARSERS_,e,t,this);if(o&&o[0]){var r,n,i=new ol.geom.Polygon(null),l=o[0],a=[l.length];for(r=1,n=o.length;r<n;++r)ol.array.extend(l,o[r]),a.push(l.length);return i.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,l,a),i}},ol.format.GMLBase.prototype.readFlatCoordinatesFromNode_=function(e,t){return ol.xml.pushParseAndPop(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS_,e,t,this)},ol.format.GMLBase.prototype.MULTIPOINT_PARSERS_={"http://www.opengis.net/gml":{pointMember:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.pointMemberParser_),pointMembers:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.pointMemberParser_)}},ol.format.GMLBase.prototype.MULTILINESTRING_PARSERS_={"http://www.opengis.net/gml":{lineStringMember:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.lineStringMemberParser_),lineStringMembers:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.lineStringMemberParser_)}},ol.format.GMLBase.prototype.MULTIPOLYGON_PARSERS_={"http://www.opengis.net/gml":{polygonMember:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.polygonMemberParser_),polygonMembers:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.polygonMemberParser_)}},ol.format.GMLBase.prototype.POINTMEMBER_PARSERS_={"http://www.opengis.net/gml":{Point:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readFlatCoordinatesFromNode_)}},ol.format.GMLBase.prototype.LINESTRINGMEMBER_PARSERS_={"http://www.opengis.net/gml":{LineString:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readLineString)}},ol.format.GMLBase.prototype.POLYGONMEMBER_PARSERS_={"http://www.opengis.net/gml":{Polygon:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readPolygon)}},ol.format.GMLBase.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readFlatLinearRing_)}},ol.format.GMLBase.prototype.readGeometryFromNode=function(e,t){return this.readGeometryElement(e,[this.getReadOptions(e,t||{})])||null},ol,ol.format.GMLBase.prototype.readFeaturesFromNode=function(e,t){var o={featureType:this.featureType,featureNS:this.featureNS};return t&&ol.obj.assign(o,this.getReadOptions(e,t)),this.readFeaturesInternal(e,[o])||[]},ol.format.GMLBase.prototype.readProjectionFromNode=function(e){return ol.proj.get(this.srsName?this.srsName:e.firstElementChild.getAttribute("srsName"))},goog.provide("ol.format.XSD"),goog.require("ol.xml"),goog.require("ol.string"),ol.format.XSD.NAMESPACE_URI="http://www.w3.org/2001/XMLSchema",ol.format.XSD.readBoolean=function(e){var t=ol.xml.getAllTextContent(e,!1);return ol.format.XSD.readBooleanString(t)},ol.format.XSD.readBooleanString=function(e){var t=/^\s*(true|1)|(false|0)\s*$/.exec(e);return t?void 0!==t[1]||!1:void 0},ol.format.XSD.readDateTime=function(e){var t=ol.xml.getAllTextContent(e,!1),o=Date.parse(t);return isNaN(o)?void 0:o/1e3},ol.format.XSD.readDecimal=function(e){var t=ol.xml.getAllTextContent(e,!1);return ol.format.XSD.readDecimalString(t)},ol.format.XSD.readDecimalString=function(e){var t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(e);return t?parseFloat(t[1]):void 0},ol.format.XSD.readNonNegativeInteger=function(e){var t=ol.xml.getAllTextContent(e,!1);return ol.format.XSD.readNonNegativeIntegerString(t)},ol.format.XSD.readNonNegativeIntegerString=function(e){var t=/^\s*(\d+)\s*$/.exec(e);return t?parseInt(t[1],10):void 0},ol.format.XSD.readString=function(e){return ol.xml.getAllTextContent(e,!1).trim()},ol.format.XSD.writeBooleanTextNode=function(e,t){ol.format.XSD.writeStringTextNode(e,t?"1":"0")},ol.format.XSD.writeCDATASection=function(e,t){e.appendChild(ol.xml.DOCUMENT.createCDATASection(t))},ol.format.XSD.writeDateTimeTextNode=function(e,t){var o=new Date(1e3*t),r=o.getUTCFullYear()+"-"+ol.string.padNumber(o.getUTCMonth()+1,2)+"-"+ol.string.padNumber(o.getUTCDate(),2)+"T"+ol.string.padNumber(o.getUTCHours(),2)+":"+ol.string.padNumber(o.getUTCMinutes(),2)+":"+ol.string.padNumber(o.getUTCSeconds(),2)+"Z";e.appendChild(ol.xml.DOCUMENT.createTextNode(r))},ol.format.XSD.writeDecimalTextNode=function(e,t){var o=t.toPrecision();e.appendChild(ol.xml.DOCUMENT.createTextNode(o))},ol.format.XSD.writeNonNegativeIntegerTextNode=function(e,t){var o=t.toString();e.appendChild(ol.xml.DOCUMENT.createTextNode(o))},ol.format.XSD.writeStringTextNode=function(e,t){e.appendChild(ol.xml.DOCUMENT.createTextNode(t))},goog.provide("ol.format.GML3"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.extent"),goog.require("ol.format.Feature"),goog.require("ol.format.GMLBase"),goog.require("ol.format.XSD"),goog.require("ol.geom.Geometry"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.LineString"),goog.require("ol.geom.MultiLineString"),goog.require("ol.geom.MultiPolygon"),goog.require("ol.geom.Polygon"),goog.require("ol.obj"),goog.require("ol.proj"),goog.require("ol.xml"),ol.format.GML3=function(e){var t=e||{};ol.format.GMLBase.call(this,t),this.surface_=void 0!==t.surface&&t.surface,this.curve_=void 0!==t.curve&&t.curve,this.multiCurve_=void 0===t.multiCurve||t.multiCurve,this.multiSurface_=void 0===t.multiSurface||t.multiSurface,this.schemaLocation=t.schemaLocation?t.schemaLocation:ol.format.GML3.schemaLocation_,this.hasZ=void 0!==t.hasZ&&t.hasZ},ol.inherits(ol.format.GML3,ol.format.GMLBase),ol.format.GML3.schemaLocation_=ol.format.GMLBase.GMLNS+" http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",ol.format.GML3.prototype.readMultiCurve_=function(e,t){var o=ol.xml.pushParseAndPop([],this.MULTICURVE_PARSERS_,e,t,this);if(o){var r=new ol.geom.MultiLineString(null);return r.setLineStrings(o),r}},ol.format.GML3.prototype.readMultiSurface_=function(e,t){var o=ol.xml.pushParseAndPop([],this.MULTISURFACE_PARSERS_,e,t,this);if(o){var r=new ol.geom.MultiPolygon(null);return r.setPolygons(o),r}},ol.format.GML3.prototype.curveMemberParser_=function(e,t){ol.xml.parseNode(this.CURVEMEMBER_PARSERS_,e,t,this)},ol.format.GML3.prototype.surfaceMemberParser_=function(e,t){ol.xml.parseNode(this.SURFACEMEMBER_PARSERS_,e,t,this)},ol.format.GML3.prototype.readPatch_=function(e,t){return ol.xml.pushParseAndPop([null],this.PATCHES_PARSERS_,e,t,this)},ol.format.GML3.prototype.readSegment_=function(e,t){return ol.xml.pushParseAndPop([null],this.SEGMENTS_PARSERS_,e,t,this)},ol.format.GML3.prototype.readPolygonPatch_=function(e,t){return ol.xml.pushParseAndPop([null],this.FLAT_LINEAR_RINGS_PARSERS_,e,t,this)},ol.format.GML3.prototype.readLineStringSegment_=function(e,t){return ol.xml.pushParseAndPop([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS_,e,t,this)},ol.format.GML3.prototype.interiorParser_=function(e,t){var o=ol.xml.pushParseAndPop(void 0,this.RING_PARSERS,e,t,this);o&&t[t.length-1].push(o)},ol.format.GML3.prototype.exteriorParser_=function(e,t){var o=ol.xml.pushParseAndPop(void 0,this.RING_PARSERS,e,t,this);o&&(t[t.length-1][0]=o)},ol.format.GML3.prototype.readSurface_=function(e,t){var o=ol.xml.pushParseAndPop([null],this.SURFACE_PARSERS_,e,t,this);if(o&&o[0]){var r,n,i=new ol.geom.Polygon(null),l=o[0],a=[l.length];for(r=1,n=o.length;r<n;++r)ol.array.extend(l,o[r]),a.push(l.length);return i.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,l,a),i}},ol.format.GML3.prototype.readCurve_=function(e,t){var o=ol.xml.pushParseAndPop([null],this.CURVE_PARSERS_,e,t,this);if(o){var r=new ol.geom.LineString(null);return r.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,o),r}},ol.format.GML3.prototype.readEnvelope_=function(e,t){var o=ol.xml.pushParseAndPop([null],this.ENVELOPE_PARSERS_,e,t,this);return ol.extent.createOrUpdate(o[1][0],o[1][1],o[2][0],o[2][1])},ol.format.GML3.prototype.readFlatPos_=function(e,t){for(var o,r=ol.xml.getAllTextContent(e,!1),n=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,i=[];o=n.exec(r);)i.push(parseFloat(o[1])),r=r.substr(o[0].length);if(""===r){var l,a,s=t[0].srsName,p="enu";if(s&&(p=ol.proj.get(s).getAxisOrientation()),"neu"===p)for(l=0,a=i.length;l<a;l+=3){var u=i[l];i[l]=i[l+1],i[l+1]=u}var c=i.length;if(2==c&&i.push(0),0!==c)return i}},ol.format.GML3.prototype.readFlatPosList_=function(e,t){var o=ol.xml.getAllTextContent(e,!1).replace(/^\s*|\s*$/g,""),r=t[0],n=r.srsName,i=r.srsDimension,l="enu";n&&(l=ol.proj.get(n).getAxisOrientation());var a,s,p,u=o.split(/\s+/),c=2;e.getAttribute("srsDimension")?c=ol.format.XSD.readNonNegativeIntegerString(e.getAttribute("srsDimension")):e.getAttribute("dimension")?c=ol.format.XSD.readNonNegativeIntegerString(e.getAttribute("dimension")):e.parentNode.getAttribute("srsDimension")?c=ol.format.XSD.readNonNegativeIntegerString(e.parentNode.getAttribute("srsDimension")):i&&(c=ol.format.XSD.readNonNegativeIntegerString(i));for(var g=[],d=0,h=u.length;d<h;d+=c)a=parseFloat(u[d]),s=parseFloat(u[d+1]),p=3===c?parseFloat(u[d+2]):0,"en"===l.substr(0,2)?g.push(a,s,p):g.push(s,a,p);return g},ol.format.GML3.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS_={"http://www.opengis.net/gml":{pos:ol.xml.makeReplacer(ol.format.GML3.prototype.readFlatPos_),posList:ol.xml.makeReplacer(ol.format.GML3.prototype.readFlatPosList_)}},ol.format.GML3.prototype.FLAT_LINEAR_RINGS_PARSERS_={"http://www.opengis.net/gml":{interior:ol.format.GML3.prototype.interiorParser_,exterior:ol.format.GML3.prototype.exteriorParser_}},ol.format.GML3.prototype.GEOMETRY_PARSERS_={"http://www.opengis.net/gml":{Point:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readPoint),MultiPoint:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiPoint),LineString:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readLineString),MultiLineString:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiLineString),LinearRing:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readLinearRing),Polygon:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readPolygon),MultiPolygon:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiPolygon),Surface:ol.xml.makeReplacer(ol.format.GML3.prototype.readSurface_),MultiSurface:ol.xml.makeReplacer(ol.format.GML3.prototype.readMultiSurface_),Curve:ol.xml.makeReplacer(ol.format.GML3.prototype.readCurve_),MultiCurve:ol.xml.makeReplacer(ol.format.GML3.prototype.readMultiCurve_),Envelope:ol.xml.makeReplacer(ol.format.GML3.prototype.readEnvelope_)}},ol.format.GML3.prototype.MULTICURVE_PARSERS_={"http://www.opengis.net/gml":{curveMember:ol.xml.makeArrayPusher(ol.format.GML3.prototype.curveMemberParser_),curveMembers:ol.xml.makeArrayPusher(ol.format.GML3.prototype.curveMemberParser_)}},ol.format.GML3.prototype.MULTISURFACE_PARSERS_={"http://www.opengis.net/gml":{surfaceMember:ol.xml.makeArrayPusher(ol.format.GML3.prototype.surfaceMemberParser_),surfaceMembers:ol.xml.makeArrayPusher(ol.format.GML3.prototype.surfaceMemberParser_)}},ol.format.GML3.prototype.CURVEMEMBER_PARSERS_={"http://www.opengis.net/gml":{LineString:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readLineString),Curve:ol.xml.makeArrayPusher(ol.format.GML3.prototype.readCurve_)}},ol.format.GML3.prototype.SURFACEMEMBER_PARSERS_={"http://www.opengis.net/gml":{Polygon:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readPolygon),Surface:ol.xml.makeArrayPusher(ol.format.GML3.prototype.readSurface_)}},ol.format.GML3.prototype.SURFACE_PARSERS_={"http://www.opengis.net/gml":{patches:ol.xml.makeReplacer(ol.format.GML3.prototype.readPatch_)}},ol.format.GML3.prototype.CURVE_PARSERS_={"http://www.opengis.net/gml":{segments:ol.xml.makeReplacer(ol.format.GML3.prototype.readSegment_)}},ol.format.GML3.prototype.ENVELOPE_PARSERS_={"http://www.opengis.net/gml":{lowerCorner:ol.xml.makeArrayPusher(ol.format.GML3.prototype.readFlatPosList_),upperCorner:ol.xml.makeArrayPusher(ol.format.GML3.prototype.readFlatPosList_)}},ol.format.GML3.prototype.PATCHES_PARSERS_={"http://www.opengis.net/gml":{PolygonPatch:ol.xml.makeReplacer(ol.format.GML3.prototype.readPolygonPatch_)}},ol.format.GML3.prototype.SEGMENTS_PARSERS_={"http://www.opengis.net/gml":{LineStringSegment:ol.xml.makeReplacer(ol.format.GML3.prototype.readLineStringSegment_)}},ol.format.GML3.prototype.writePos_=function(e,t,o){var r=o[o.length-1],n=r.hasZ;e.setAttribute("srsDimension",n?3:2);var i=r.srsName,l="enu";i&&(l=ol.proj.get(i).getAxisOrientation());var a,s=t.getCoordinates();a="en"===l.substr(0,2)?s[0]+" "+s[1]:s[1]+" "+s[0],n&&(a+=" "+(s[2]||0)),ol.format.XSD.writeStringTextNode(e,a)},ol.format.GML3.prototype.getCoords_=function(e,t,o){var r="enu";t&&(r=ol.proj.get(t).getAxisOrientation());var n="en"===r.substr(0,2)?e[0]+" "+e[1]:e[1]+" "+e[0];return o&&(n+=" "+(e[2]||0)),n},ol.format.GML3.prototype.writePosList_=function(e,t,o){var r=o[o.length-1],n=r.hasZ;e.setAttribute("srsDimension",n?3:2);for(var i=r.srsName,l=t.getCoordinates(),a=l.length,s=new Array(a),p=0;p<a;++p)s[p]=this.getCoords_(l[p],i,n);ol.format.XSD.writeStringTextNode(e,s.join(" "))},ol.format.GML3.prototype.writePoint_=function(e,t,o){var r=o[o.length-1].srsName;r&&e.setAttribute("srsName",r);var n=ol.xml.createElementNS(e.namespaceURI,"pos");e.appendChild(n),this.writePos_(n,t,o)},ol.format.GML3.ENVELOPE_SERIALIZERS_={"http://www.opengis.net/gml":{lowerCorner:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),upperCorner:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)}},ol.format.GML3.prototype.writeEnvelope=function(e,t,o){var r=o[o.length-1].srsName;r&&e.setAttribute("srsName",r),ol.xml.pushSerializeAndPop({node:e},ol.format.GML3.ENVELOPE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,[t[0]+" "+t[1],t[2]+" "+t[3]],o,["lowerCorner","upperCorner"],this)},ol.format.GML3.prototype.writeLinearRing_=function(e,t,o){var r=o[o.length-1].srsName;r&&e.setAttribute("srsName",r);var n=ol.xml.createElementNS(e.namespaceURI,"posList");e.appendChild(n),this.writePosList_(n,t,o)},ol.format.GML3.prototype.RING_NODE_FACTORY_=function(e,t,o){var r=t[t.length-1],n=r.node,i=r.exteriorWritten;return void 0===i&&(r.exteriorWritten=!0),ol.xml.createElementNS(n.namespaceURI,void 0!==i?"interior":"exterior")},ol.format.GML3.prototype.writeSurfaceOrPolygon_=function(e,t,o){var r=o[o.length-1],n=r.hasZ,i=r.srsName;if("PolygonPatch"!==e.nodeName&&i&&e.setAttribute("srsName",i),"Polygon"===e.nodeName||"PolygonPatch"===e.nodeName){var l=t.getLinearRings();ol.xml.pushSerializeAndPop({node:e,hasZ:n,srsName:i},ol.format.GML3.RING_SERIALIZERS_,this.RING_NODE_FACTORY_,l,o,void 0,this)}else if("Surface"===e.nodeName){var a=ol.xml.createElementNS(e.namespaceURI,"patches");e.appendChild(a),this.writeSurfacePatches_(a,t,o)}},ol.format.GML3.prototype.writeCurveOrLineString_=function(e,t,o){var r=o[o.length-1].srsName;if("LineStringSegment"!==e.nodeName&&r&&e.setAttribute("srsName",r),"LineString"===e.nodeName||"LineStringSegment"===e.nodeName){var n=ol.xml.createElementNS(e.namespaceURI,"posList");e.appendChild(n),this.writePosList_(n,t,o)}else if("Curve"===e.nodeName){var i=ol.xml.createElementNS(e.namespaceURI,"segments");e.appendChild(i),this.writeCurveSegments_(i,t,o)}},ol.format.GML3.prototype.writeMultiSurfaceOrPolygon_=function(e,t,o){var r=o[o.length-1],n=r.hasZ,i=r.srsName,l=r.surface;i&&e.setAttribute("srsName",i);var a=t.getPolygons();ol.xml.pushSerializeAndPop({node:e,hasZ:n,srsName:i,surface:l},ol.format.GML3.SURFACEORPOLYGONMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,o,void 0,this)},ol.format.GML3.prototype.writeMultiPoint_=function(e,t,o){var r=o[o.length-1],n=r.srsName,i=r.hasZ;n&&e.setAttribute("srsName",n);var l=t.getPoints();ol.xml.pushSerializeAndPop({node:e,hasZ:i,srsName:n},ol.format.GML3.POINTMEMBER_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("pointMember"),l,o,void 0,this)},ol.format.GML3.prototype.writeMultiCurveOrLineString_=function(e,t,o){var r=o[o.length-1],n=r.hasZ,i=r.srsName,l=r.curve;i&&e.setAttribute("srsName",i);var a=t.getLineStrings();ol.xml.pushSerializeAndPop({node:e,hasZ:n,srsName:i,curve:l},ol.format.GML3.LINESTRINGORCURVEMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,o,void 0,this)},ol.format.GML3.prototype.writeRing_=function(e,t,o){var r=ol.xml.createElementNS(e.namespaceURI,"LinearRing");e.appendChild(r),this.writeLinearRing_(r,t,o)},ol.format.GML3.prototype.writeSurfaceOrPolygonMember_=function(e,t,o){var r=this.GEOMETRY_NODE_FACTORY_(t,o);r&&(e.appendChild(r),this.writeSurfaceOrPolygon_(r,t,o))},ol.format.GML3.prototype.writePointMember_=function(e,t,o){var r=ol.xml.createElementNS(e.namespaceURI,"Point");e.appendChild(r),this.writePoint_(r,t,o)},ol.format.GML3.prototype.writeLineStringOrCurveMember_=function(e,t,o){var r=this.GEOMETRY_NODE_FACTORY_(t,o);r&&(e.appendChild(r),this.writeCurveOrLineString_(r,t,o))},ol.format.GML3.prototype.writeSurfacePatches_=function(e,t,o){var r=ol.xml.createElementNS(e.namespaceURI,"PolygonPatch");e.appendChild(r),this.writeSurfaceOrPolygon_(r,t,o)},ol.format.GML3.prototype.writeCurveSegments_=function(e,t,o){var r=ol.xml.createElementNS(e.namespaceURI,"LineStringSegment");e.appendChild(r),this.writeCurveOrLineString_(r,t,o)},ol.format.GML3.prototype.writeGeometryElement=function(e,t,o){var r,n=o[o.length-1],i=ol.obj.assign({},n);i.node=e,r=Array.isArray(t)?n.dataProjection?ol.proj.transformExtent(t,n.featureProjection,n.dataProjection):t:ol.format.Feature.transformWithOptions(t,!0,n),ol.xml.pushSerializeAndPop(i,ol.format.GML3.GEOMETRY_SERIALIZERS_,this.GEOMETRY_NODE_FACTORY_,[r],o,void 0,this)},ol.format.GML3.prototype.writeFeatureElement=function(e,t,o){var r=t.getId();r&&e.setAttribute("fid",r);var n=o[o.length-1],i=n.featureNS,l=t.getGeometryName();n.serializers||(n.serializers={},n.serializers[i]={});var a=t.getProperties(),s=[],p=[];for(var u in a){var c=a[u];null!==c&&(s.push(u),p.push(c),u==l||c instanceof ol.geom.Geometry?u in n.serializers[i]||(n.serializers[i][u]=ol.xml.makeChildAppender(this.writeGeometryElement,this)):u in n.serializers[i]||(n.serializers[i][u]=ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)))}var g=ol.obj.assign({},n);g.node=e,ol.xml.pushSerializeAndPop(g,n.serializers,ol.xml.makeSimpleNodeFactory(void 0,i),p,o,s)},ol.format.GML3.prototype.writeFeatureMembers_=function(e,t,o){var r=o[o.length-1],n=r.featureType,i=r.featureNS,l={};l[i]={},l[i][n]=ol.xml.makeChildAppender(this.writeFeatureElement,this);var a=ol.obj.assign({},r);a.node=e,ol.xml.pushSerializeAndPop(a,l,ol.xml.makeSimpleNodeFactory(n,i),t,o)},ol.format.GML3.SURFACEORPOLYGONMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{surfaceMember:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeSurfaceOrPolygonMember_),polygonMember:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeSurfaceOrPolygonMember_)}},ol.format.GML3.POINTMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{pointMember:ol.xml.makeChildAppender(ol.format.GML3.prototype.writePointMember_)}},ol.format.GML3.LINESTRINGORCURVEMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{lineStringMember:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeLineStringOrCurveMember_),curveMember:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeLineStringOrCurveMember_)}},ol.format.GML3.RING_SERIALIZERS_={"http://www.opengis.net/gml":{exterior:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeRing_),interior:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeRing_)}},ol.format.GML3.GEOMETRY_SERIALIZERS_={"http://www.opengis.net/gml":{Curve:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeCurveOrLineString_),MultiCurve:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeMultiCurveOrLineString_),Point:ol.xml.makeChildAppender(ol.format.GML3.prototype.writePoint_),MultiPoint:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeMultiPoint_),LineString:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeCurveOrLineString_),MultiLineString:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeMultiCurveOrLineString_),LinearRing:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeLinearRing_),Polygon:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeSurfaceOrPolygon_),MultiPolygon:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeMultiSurfaceOrPolygon_),Surface:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeSurfaceOrPolygon_),MultiSurface:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeMultiSurfaceOrPolygon_),Envelope:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeEnvelope)}},ol.format.GML3.MULTIGEOMETRY_TO_MEMBER_NODENAME_={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},ol.format.GML3.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(e,t,o){return ol.xml.createElementNS("http://www.opengis.net/gml",ol.format.GML3.MULTIGEOMETRY_TO_MEMBER_NODENAME_[t[t.length-1].node.nodeName])},ol.format.GML3.prototype.GEOMETRY_NODE_FACTORY_=function(e,t,o){var r,n=t[t.length-1],i=n.multiSurface,l=n.surface,a=n.curve,s=n.multiCurve;return Array.isArray(e)?r="Envelope":"MultiPolygon"===(r=e.getType())&&!0===i?r="MultiSurface":"Polygon"===r&&!0===l?r="Surface":"LineString"===r&&!0===a?r="Curve":"MultiLineString"===r&&!0===s&&(r="MultiCurve"),ol.xml.createElementNS("http://www.opengis.net/gml",r)},ol.format.GML3.prototype.writeGeometryNode=function(e,t){t=this.adaptOptions(t);var o=ol.xml.createElementNS("http://www.opengis.net/gml","geom"),r={node:o,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};return t&&ol.obj.assign(r,t),this.writeGeometryElement(o,e,[r]),o},ol,ol.format.GML3.prototype.writeFeaturesNode=function(e,t){t=this.adaptOptions(t);var o=ol.xml.createElementNS("http://www.opengis.net/gml","featureMembers");ol.xml.setAttributeNS(o,"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation);var r={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};return t&&ol.obj.assign(r,t),this.writeFeatureMembers_(o,e,[r]),o},goog.provide("ol.format.GML"),goog.require("ol.format.GML3"),ol.format.GML=ol.format.GML3,ol,ol,goog.provide("ol.format.GML2"),goog.require("ol"),goog.require("ol.extent"),goog.require("ol.format.Feature"),goog.require("ol.format.GMLBase"),goog.require("ol.format.XSD"),goog.require("ol.geom.Geometry"),goog.require("ol.obj"),goog.require("ol.proj"),goog.require("ol.xml"),ol.format.GML2=function(e){var t=e||{};ol.format.GMLBase.call(this,t),this.FEATURE_COLLECTION_PARSERS[ol.format.GMLBase.GMLNS].featureMember=ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readFeaturesInternal),this.schemaLocation=t.schemaLocation?t.schemaLocation:ol.format.GML2.schemaLocation_},ol.inherits(ol.format.GML2,ol.format.GMLBase),ol.format.GML2.schemaLocation_=ol.format.GMLBase.GMLNS+" http://schemas.opengis.net/gml/2.1.2/feature.xsd",ol.format.GML2.prototype.readFlatCoordinates_=function(e,t){var o=ol.xml.getAllTextContent(e,!1).replace(/^\s*|\s*$/g,""),r=t[0].srsName,n="enu";if(r){var i=ol.proj.get(r);i&&(n=i.getAxisOrientation())}for(var l,a,s,p=o.trim().split(/\s+/),u=[],c=0,g=p.length;c<g;c++){var d=p[c].split(/,+/);l=parseFloat(d[0]),a=parseFloat(d[1]),s=3===d.length?parseFloat(d[2]):0,"en"===n.substr(0,2)?u.push(l,a,s):u.push(a,l,s)}return u},ol.format.GML2.prototype.readBox_=function(e,t){var o=ol.xml.pushParseAndPop([null],this.BOX_PARSERS_,e,t,this);return ol.extent.createOrUpdate(o[1][0],o[1][1],o[1][3],o[1][4])},ol.format.GML2.prototype.innerBoundaryIsParser_=function(e,t){var o=ol.xml.pushParseAndPop(void 0,this.RING_PARSERS,e,t,this);o&&t[t.length-1].push(o)},ol.format.GML2.prototype.outerBoundaryIsParser_=function(e,t){var o=ol.xml.pushParseAndPop(void 0,this.RING_PARSERS,e,t,this);o&&(t[t.length-1][0]=o)},ol.format.GML2.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS_={"http://www.opengis.net/gml":{coordinates:ol.xml.makeReplacer(ol.format.GML2.prototype.readFlatCoordinates_)}},ol.format.GML2.prototype.FLAT_LINEAR_RINGS_PARSERS_={"http://www.opengis.net/gml":{innerBoundaryIs:ol.format.GML2.prototype.innerBoundaryIsParser_,outerBoundaryIs:ol.format.GML2.prototype.outerBoundaryIsParser_}},ol.format.GML2.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:ol.xml.makeArrayPusher(ol.format.GML2.prototype.readFlatCoordinates_)}},ol.format.GML2.prototype.GEOMETRY_PARSERS_={"http://www.opengis.net/gml":{Point:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readPoint),MultiPoint:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiPoint),LineString:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readLineString),MultiLineString:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiLineString),LinearRing:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readLinearRing),Polygon:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readPolygon),MultiPolygon:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiPolygon),Box:ol.xml.makeReplacer(ol.format.GML2.prototype.readBox_)}},ol.format.GML2.prototype.GEOMETRY_NODE_FACTORY_=function(e,t,o){var r,n=t[t.length-1],i=n.multiSurface,l=n.surface,a=n.multiCurve;return Array.isArray(e)?r="Envelope":"MultiPolygon"===(r=e.getType())&&!0===i?r="MultiSurface":"Polygon"===r&&!0===l?r="Surface":"MultiLineString"===r&&!0===a&&(r="MultiCurve"),ol.xml.createElementNS("http://www.opengis.net/gml",r)},ol.format.GML2.prototype.writeFeatureElement=function(e,t,o){var r=t.getId();r&&e.setAttribute("fid",r);var n=o[o.length-1],i=n.featureNS,l=t.getGeometryName();n.serializers||(n.serializers={},n.serializers[i]={});var a=t.getProperties(),s=[],p=[];for(var u in a){var c=a[u];null!==c&&(s.push(u),p.push(c),u==l||c instanceof ol.geom.Geometry?u in n.serializers[i]||(n.serializers[i][u]=ol.xml.makeChildAppender(this.writeGeometryElement,this)):u in n.serializers[i]||(n.serializers[i][u]=ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)))}var g=ol.obj.assign({},n);g.node=e,ol.xml.pushSerializeAndPop(g,n.serializers,ol.xml.makeSimpleNodeFactory(void 0,i),p,o,s)},ol.format.GML2.prototype.writeGeometryElement=function(e,t,o){var r,n=o[o.length-1],i=ol.obj.assign({},n);i.node=e,r=Array.isArray(t)?n.dataProjection?ol.proj.transformExtent(t,n.featureProjection,n.dataProjection):t:ol.format.Feature.transformWithOptions(t,!0,n),ol.xml.pushSerializeAndPop(i,ol.format.GML2.GEOMETRY_SERIALIZERS_,this.GEOMETRY_NODE_FACTORY_,[r],o,void 0,this)},ol.format.GML2.prototype.writeCurveOrLineString_=function(e,t,o){var r=o[o.length-1].srsName;if("LineStringSegment"!==e.nodeName&&r&&e.setAttribute("srsName",r),"LineString"===e.nodeName||"LineStringSegment"===e.nodeName){var n=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(n),this.writeCoordinates_(n,t,o)}else if("Curve"===e.nodeName){var i=ol.xml.createElementNS(e.namespaceURI,"segments");e.appendChild(i),this.writeCurveSegments_(i,t,o)}},ol.format.GML2.prototype.createCoordinatesNode_=function(e){var t=ol.xml.createElementNS(e,"coordinates");return t.setAttribute("decimal","."),t.setAttribute("cs",","),t.setAttribute("ts"," "),t},ol.format.GML2.prototype.writeCoordinates_=function(e,t,o){for(var r=o[o.length-1],n=r.hasZ,i=r.srsName,l=t.getCoordinates(),a=l.length,s=new Array(a),p=0;p<a;++p)s[p]=this.getCoords_(l[p],i,n);ol.format.XSD.writeStringTextNode(e,s.join(" "))},ol.format.GML2.prototype.writeCurveSegments_=function(e,t,o){var r=ol.xml.createElementNS(e.namespaceURI,"LineStringSegment");e.appendChild(r),this.writeCurveOrLineString_(r,t,o)},ol.format.GML2.prototype.writeSurfaceOrPolygon_=function(e,t,o){var r=o[o.length-1],n=r.hasZ,i=r.srsName;if("PolygonPatch"!==e.nodeName&&i&&e.setAttribute("srsName",i),"Polygon"===e.nodeName||"PolygonPatch"===e.nodeName){var l=t.getLinearRings();ol.xml.pushSerializeAndPop({node:e,hasZ:n,srsName:i},ol.format.GML2.RING_SERIALIZERS_,this.RING_NODE_FACTORY_,l,o,void 0,this)}else if("Surface"===e.nodeName){var a=ol.xml.createElementNS(e.namespaceURI,"patches");e.appendChild(a),this.writeSurfacePatches_(a,t,o)}},ol.format.GML2.prototype.RING_NODE_FACTORY_=function(e,t,o){var r=t[t.length-1],n=r.node,i=r.exteriorWritten;return void 0===i&&(r.exteriorWritten=!0),ol.xml.createElementNS(n.namespaceURI,void 0!==i?"innerBoundaryIs":"outerBoundaryIs")},ol.format.GML2.prototype.writeSurfacePatches_=function(e,t,o){var r=ol.xml.createElementNS(e.namespaceURI,"PolygonPatch");e.appendChild(r),this.writeSurfaceOrPolygon_(r,t,o)},ol.format.GML2.prototype.writeRing_=function(e,t,o){var r=ol.xml.createElementNS(e.namespaceURI,"LinearRing");e.appendChild(r),this.writeLinearRing_(r,t,o)},ol.format.GML2.prototype.getCoords_=function(e,t,o){var r="enu";t&&(r=ol.proj.get(t).getAxisOrientation());var n="en"===r.substr(0,2)?e[0]+","+e[1]:e[1]+","+e[0];return o&&(n+=","+(e[2]||0)),n},ol.format.GML2.prototype.writeMultiCurveOrLineString_=function(e,t,o){var r=o[o.length-1],n=r.hasZ,i=r.srsName,l=r.curve;i&&e.setAttribute("srsName",i);var a=t.getLineStrings();ol.xml.pushSerializeAndPop({node:e,hasZ:n,srsName:i,curve:l},ol.format.GML2.LINESTRINGORCURVEMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,o,void 0,this)},ol.format.GML2.prototype.writePoint_=function(e,t,o){var r=o[o.length-1],n=r.hasZ,i=r.srsName;i&&e.setAttribute("srsName",i);var l=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(l);var a=t.getCoordinates(),s=this.getCoords_(a,i,n);ol.format.XSD.writeStringTextNode(l,s)},ol.format.GML2.prototype.writeMultiPoint_=function(e,t,o){var r=o[o.length-1],n=r.hasZ,i=r.srsName;i&&e.setAttribute("srsName",i);var l=t.getPoints();ol.xml.pushSerializeAndPop({node:e,hasZ:n,srsName:i},ol.format.GML2.POINTMEMBER_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("pointMember"),l,o,void 0,this)},ol.format.GML2.prototype.writePointMember_=function(e,t,o){var r=ol.xml.createElementNS(e.namespaceURI,"Point");e.appendChild(r),this.writePoint_(r,t,o)},ol.format.GML2.prototype.writeLineStringOrCurveMember_=function(e,t,o){var r=this.GEOMETRY_NODE_FACTORY_(t,o);r&&(e.appendChild(r),this.writeCurveOrLineString_(r,t,o))},ol.format.GML2.prototype.writeLinearRing_=function(e,t,o){var r=o[o.length-1].srsName;r&&e.setAttribute("srsName",r);var n=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(n),this.writeCoordinates_(n,t,o)},ol.format.GML2.prototype.writeMultiSurfaceOrPolygon_=function(e,t,o){var r=o[o.length-1],n=r.hasZ,i=r.srsName,l=r.surface;i&&e.setAttribute("srsName",i);var a=t.getPolygons();ol.xml.pushSerializeAndPop({node:e,hasZ:n,srsName:i,surface:l},ol.format.GML2.SURFACEORPOLYGONMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,o,void 0,this)},ol.format.GML2.prototype.writeSurfaceOrPolygonMember_=function(e,t,o){var r=this.GEOMETRY_NODE_FACTORY_(t,o);r&&(e.appendChild(r),this.writeSurfaceOrPolygon_(r,t,o))},ol.format.GML2.prototype.writeEnvelope=function(e,t,o){var r=o[o.length-1].srsName;r&&e.setAttribute("srsName",r),ol.xml.pushSerializeAndPop({node:e},ol.format.GML2.ENVELOPE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,[t[0]+" "+t[1],t[2]+" "+t[3]],o,["lowerCorner","upperCorner"],this)},ol.format.GML2.GEOMETRY_SERIALIZERS_={"http://www.opengis.net/gml":{Curve:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeCurveOrLineString_),MultiCurve:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeMultiCurveOrLineString_),Point:ol.xml.makeChildAppender(ol.format.GML2.prototype.writePoint_),MultiPoint:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeMultiPoint_),LineString:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeCurveOrLineString_),MultiLineString:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeMultiCurveOrLineString_),LinearRing:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeLinearRing_),Polygon:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeSurfaceOrPolygon_),MultiPolygon:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeMultiSurfaceOrPolygon_),Surface:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeSurfaceOrPolygon_),MultiSurface:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeMultiSurfaceOrPolygon_),Envelope:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeEnvelope)}},ol.format.GML2.RING_SERIALIZERS_={"http://www.opengis.net/gml":{outerBoundaryIs:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeRing_),innerBoundaryIs:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeRing_)}},ol.format.GML2.POINTMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{pointMember:ol.xml.makeChildAppender(ol.format.GML2.prototype.writePointMember_)}},ol.format.GML2.LINESTRINGORCURVEMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{lineStringMember:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeLineStringOrCurveMember_),curveMember:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeLineStringOrCurveMember_)}},ol.format.GML2.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(e,t,o){return ol.xml.createElementNS("http://www.opengis.net/gml",ol.format.GML2.MULTIGEOMETRY_TO_MEMBER_NODENAME_[t[t.length-1].node.nodeName])},ol.format.GML2.MULTIGEOMETRY_TO_MEMBER_NODENAME_={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},ol.format.GML2.SURFACEORPOLYGONMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{surfaceMember:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeSurfaceOrPolygonMember_),polygonMember:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeSurfaceOrPolygonMember_)}},ol.format.GML2.ENVELOPE_SERIALIZERS_={"http://www.opengis.net/gml":{lowerCorner:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),upperCorner:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)}},goog.provide("ol.format.GPX"),goog.require("ol"),goog.require("ol.Feature"),goog.require("ol.array"),goog.require("ol.format.Feature"),goog.require("ol.format.XMLFeature"),goog.require("ol.format.XSD"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.LineString"),goog.require("ol.geom.MultiLineString"),goog.require("ol.geom.Point"),goog.require("ol.proj"),goog.require("ol.xml"),ol.format.GPX=function(e){var t=e||{};ol.format.XMLFeature.call(this),this.defaultDataProjection=ol.proj.get("EPSG:4326"),this.readExtensions_=t.readExtensions},ol.inherits(ol.format.GPX,ol.format.XMLFeature),ol.format.GPX.NAMESPACE_URIS_=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],ol.format.GPX.SCHEMA_LOCATION_="http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd",ol.format.GPX.appendCoordinate_=function(e,t,o,r){return e.push(parseFloat(o.getAttribute("lon")),parseFloat(o.getAttribute("lat"))),"ele"in r?(e.push(r.ele),delete r.ele,t.hasZ=!0):e.push(0),"time"in r?(e.push(r.time),delete r.time,t.hasM=!0):e.push(0),e},ol.format.GPX.applyLayoutOptions_=function(e,t,o){var r=ol.geom.GeometryLayout.XY,n=2;if(e.hasZ&&e.hasM?(r=ol.geom.GeometryLayout.XYZM,n=4):e.hasZ?(r=ol.geom.GeometryLayout.XYZ,n=3):e.hasM&&(r=ol.geom.GeometryLayout.XYM,n=3),4!==n){var i,l;for(i=0,l=t.length/4;i<l;i++)t[i*n]=t[4*i],t[i*n+1]=t[4*i+1],e.hasZ&&(t[i*n+2]=t[4*i+2]),e.hasM&&(t[i*n+2]=t[4*i+3]);if(t.length=t.length/4*n,o)for(i=0,l=o.length;i<l;i++)o[i]=o[i]/4*n}return r},ol.format.GPX.parseLink_=function(e,t){var o=t[t.length-1],r=e.getAttribute("href");null!==r&&(o.link=r),ol.xml.parseNode(ol.format.GPX.LINK_PARSERS_,e,t)},ol.format.GPX.parseExtensions_=function(e,t){t[t.length-1].extensionsNode_=e},ol.format.GPX.parseRtePt_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.GPX.RTEPT_PARSERS_,e,t);if(o){var r=t[t.length-1];ol.format.GPX.appendCoordinate_(r.flatCoordinates,r.layoutOptions,e,o)}},ol.format.GPX.parseTrkPt_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.GPX.TRKPT_PARSERS_,e,t);if(o){var r=t[t.length-1];ol.format.GPX.appendCoordinate_(r.flatCoordinates,r.layoutOptions,e,o)}},ol.format.GPX.parseTrkSeg_=function(e,t){var o=t[t.length-1];ol.xml.parseNode(ol.format.GPX.TRKSEG_PARSERS_,e,t),o.ends.push(o.flatCoordinates.length)},ol.format.GPX.readRte_=function(e,t){var o=t[0],r=ol.xml.pushParseAndPop({flatCoordinates:[],layoutOptions:{}},ol.format.GPX.RTE_PARSERS_,e,t);if(r){var n=r.flatCoordinates;delete r.flatCoordinates;var i=r.layoutOptions;delete r.layoutOptions;var l=ol.format.GPX.applyLayoutOptions_(i,n),a=new ol.geom.LineString(null);a.setFlatCoordinates(l,n),ol.format.Feature.transformWithOptions(a,!1,o);var s=new ol.Feature(a);return s.setProperties(r),s}},ol.format.GPX.readTrk_=function(e,t){var o=t[0],r=ol.xml.pushParseAndPop({flatCoordinates:[],ends:[],layoutOptions:{}},ol.format.GPX.TRK_PARSERS_,e,t);if(r){var n=r.flatCoordinates;delete r.flatCoordinates;var i=r.ends;delete r.ends;var l=r.layoutOptions;delete r.layoutOptions;var a=ol.format.GPX.applyLayoutOptions_(l,n,i),s=new ol.geom.MultiLineString(null);s.setFlatCoordinates(a,n,i),ol.format.Feature.transformWithOptions(s,!1,o);var p=new ol.Feature(s);return p.setProperties(r),p}},ol.format.GPX.readWpt_=function(e,t){var o=t[0],r=ol.xml.pushParseAndPop({},ol.format.GPX.WPT_PARSERS_,e,t);if(r){var n={},i=ol.format.GPX.appendCoordinate_([],n,e,r),l=ol.format.GPX.applyLayoutOptions_(n,i),a=new ol.geom.Point(i,l);ol.format.Feature.transformWithOptions(a,!1,o);var s=new ol.Feature(a);return s.setProperties(r),s}},ol.format.GPX.FEATURE_READER_={rte:ol.format.GPX.readRte_,trk:ol.format.GPX.readTrk_,wpt:ol.format.GPX.readWpt_},ol.format.GPX.GPX_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{rte:ol.xml.makeArrayPusher(ol.format.GPX.readRte_),trk:ol.xml.makeArrayPusher(ol.format.GPX.readTrk_),wpt:ol.xml.makeArrayPusher(ol.format.GPX.readWpt_)}),ol.format.GPX.LINK_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{text:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString,"linkText"),type:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString,"linkType")}),ol.format.GPX.RTE_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),cmt:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),desc:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),src:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),link:ol.format.GPX.parseLink_,number:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),extensions:ol.format.GPX.parseExtensions_,type:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),rtept:ol.format.GPX.parseRtePt_}),ol.format.GPX.RTEPT_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{ele:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),time:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDateTime)}),ol.format.GPX.TRK_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),cmt:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),desc:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),src:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),link:ol.format.GPX.parseLink_,number:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),type:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),extensions:ol.format.GPX.parseExtensions_,trkseg:ol.format.GPX.parseTrkSeg_}),ol.format.GPX.TRKSEG_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{trkpt:ol.format.GPX.parseTrkPt_}),ol.format.GPX.TRKPT_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{ele:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),time:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDateTime)}),ol.format.GPX.WPT_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{ele:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),time:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDateTime),magvar:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),geoidheight:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),cmt:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),desc:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),src:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),link:ol.format.GPX.parseLink_,sym:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),type:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),fix:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),sat:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),hdop:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),vdop:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),pdop:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),ageofdgpsdata:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),dgpsid:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),extensions:ol.format.GPX.parseExtensions_}),ol.format.GPX.prototype.handleReadExtensions_=function(e){e||(e=[]);for(var t=0,o=e.length;t<o;++t){var r=e[t];if(this.readExtensions_){var n=r.get("extensionsNode_")||null;this.readExtensions_(r,n)}r.set("extensionsNode_",void 0)}},ol,ol.format.GPX.prototype.readFeatureFromNode=function(e,t){if(!ol.array.includes(ol.format.GPX.NAMESPACE_URIS_,e.namespaceURI))return null;var o=ol.format.GPX.FEATURE_READER_[e.localName];if(!o)return null;var r=o(e,[this.getReadOptions(e,t)]);return r?(this.handleReadExtensions_([r]),r):null},ol,ol.format.GPX.prototype.readFeaturesFromNode=function(e,t){if(!ol.array.includes(ol.format.GPX.NAMESPACE_URIS_,e.namespaceURI))return[];if("gpx"==e.localName){var o=ol.xml.pushParseAndPop([],ol.format.GPX.GPX_PARSERS_,e,[this.getReadOptions(e,t)]);return o?(this.handleReadExtensions_(o),o):[]}return[]},ol,ol.format.GPX.writeLink_=function(e,t,o){e.setAttribute("href",t);var r=o[o.length-1].properties;ol.xml.pushSerializeAndPop({node:e},ol.format.GPX.LINK_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,[r.linkText,r.linkType],o,ol.format.GPX.LINK_SEQUENCE_)},ol.format.GPX.writeWptType_=function(e,t,o){var r=o[o.length-1],n=r.node.namespaceURI,i=r.properties;switch(ol.xml.setAttributeNS(e,null,"lat",t[1]),ol.xml.setAttributeNS(e,null,"lon",t[0]),r.geometryLayout){case ol.geom.GeometryLayout.XYZM:0!==t[3]&&(i.time=t[3]);case ol.geom.GeometryLayout.XYZ:0!==t[2]&&(i.ele=t[2]);break;case ol.geom.GeometryLayout.XYM:0!==t[2]&&(i.time=t[2])}var l="rtept"==e.nodeName?ol.format.GPX.RTEPT_TYPE_SEQUENCE_[n]:ol.format.GPX.WPT_TYPE_SEQUENCE_[n],a=ol.xml.makeSequence(i,l);ol.xml.pushSerializeAndPop({node:e,properties:i},ol.format.GPX.WPT_TYPE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,a,o,l)},ol.format.GPX.writeRte_=function(e,t,o){var r=o[0],n=t.getProperties(),i={node:e,properties:n},l=t.getGeometry();l&&(l=ol.format.Feature.transformWithOptions(l,!0,r),i.geometryLayout=l.getLayout(),n.rtept=l.getCoordinates());var a=ol.format.GPX.RTE_SEQUENCE_[o[o.length-1].node.namespaceURI],s=ol.xml.makeSequence(n,a);ol.xml.pushSerializeAndPop(i,ol.format.GPX.RTE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,s,o,a)},ol.format.GPX.writeTrk_=function(e,t,o){var r=o[0],n=t.getProperties(),i={node:e,properties:n},l=t.getGeometry();l&&(l=ol.format.Feature.transformWithOptions(l,!0,r),n.trkseg=l.getLineStrings());var a=ol.format.GPX.TRK_SEQUENCE_[o[o.length-1].node.namespaceURI],s=ol.xml.makeSequence(n,a);ol.xml.pushSerializeAndPop(i,ol.format.GPX.TRK_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,s,o,a)},ol.format.GPX.writeTrkSeg_=function(e,t,o){var r={node:e,geometryLayout:t.getLayout(),properties:{}};ol.xml.pushSerializeAndPop(r,ol.format.GPX.TRKSEG_SERIALIZERS_,ol.format.GPX.TRKSEG_NODE_FACTORY_,t.getCoordinates(),o)},ol.format.GPX.writeWpt_=function(e,t,o){var r=o[0],n=o[o.length-1];n.properties=t.getProperties();var i=t.getGeometry();i&&(i=ol.format.Feature.transformWithOptions(i,!0,r),n.geometryLayout=i.getLayout(),ol.format.GPX.writeWptType_(e,i.getCoordinates(),o))},ol.format.GPX.LINK_SEQUENCE_=["text","type"],ol.format.GPX.LINK_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{text:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),type:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)}),ol.format.GPX.RTE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,["name","cmt","desc","src","link","number","type","rtept"]),ol.format.GPX.RTE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{name:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),cmt:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),desc:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),src:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),link:ol.xml.makeChildAppender(ol.format.GPX.writeLink_),number:ol.xml.makeChildAppender(ol.format.XSD.writeNonNegativeIntegerTextNode),type:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),rtept:ol.xml.makeArraySerializer(ol.xml.makeChildAppender(ol.format.GPX.writeWptType_))}),ol.format.GPX.RTEPT_TYPE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,["ele","time"]),ol.format.GPX.TRK_SEQUENCE_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,["name","cmt","desc","src","link","number","type","trkseg"]),ol.format.GPX.TRK_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{name:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),cmt:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),desc:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),src:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),link:ol.xml.makeChildAppender(ol.format.GPX.writeLink_),number:ol.xml.makeChildAppender(ol.format.XSD.writeNonNegativeIntegerTextNode),type:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),trkseg:ol.xml.makeArraySerializer(ol.xml.makeChildAppender(ol.format.GPX.writeTrkSeg_))}),ol.format.GPX.TRKSEG_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("trkpt"),ol.format.GPX.TRKSEG_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{trkpt:ol.xml.makeChildAppender(ol.format.GPX.writeWptType_)}),ol.format.GPX.WPT_TYPE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,["ele","time","magvar","geoidheight","name","cmt","desc","src","link","sym","type","fix","sat","hdop","vdop","pdop","ageofdgpsdata","dgpsid"]),ol.format.GPX.WPT_TYPE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{ele:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),time:ol.xml.makeChildAppender(ol.format.XSD.writeDateTimeTextNode),magvar:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),geoidheight:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),name:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),cmt:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),desc:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),src:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),link:ol.xml.makeChildAppender(ol.format.GPX.writeLink_),sym:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),type:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),fix:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),sat:ol.xml.makeChildAppender(ol.format.XSD.writeNonNegativeIntegerTextNode),hdop:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),vdop:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),pdop:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),ageofdgpsdata:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),dgpsid:ol.xml.makeChildAppender(ol.format.XSD.writeNonNegativeIntegerTextNode)}),ol.format.GPX.GEOMETRY_TYPE_TO_NODENAME_={Point:"wpt",LineString:"rte",MultiLineString:"trk"},ol.format.GPX.GPX_NODE_FACTORY_=function(e,t,o){var r=e.getGeometry();if(r){var n=ol.format.GPX.GEOMETRY_TYPE_TO_NODENAME_[r.getType()];if(n)return ol.xml.createElementNS(t[t.length-1].node.namespaceURI,n)}},ol.format.GPX.GPX_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{rte:ol.xml.makeChildAppender(ol.format.GPX.writeRte_),trk:ol.xml.makeChildAppender(ol.format.GPX.writeTrk_),wpt:ol.xml.makeChildAppender(ol.format.GPX.writeWpt_)}),ol,ol.format.GPX.prototype.writeFeaturesNode=function(e,t){t=this.adaptOptions(t);var o=ol.xml.createElementNS("http://www.topografix.com/GPX/1/1","gpx");return ol.xml.setAttributeNS(o,"http://www.w3.org/2000/xmlns/","xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),ol.xml.setAttributeNS(o,"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",ol.format.GPX.SCHEMA_LOCATION_),o.setAttribute("version","1.1"),o.setAttribute("creator","OpenLayers"),ol.xml.pushSerializeAndPop({node:o},ol.format.GPX.GPX_SERIALIZERS_,ol.format.GPX.GPX_NODE_FACTORY_,e,[t]),o},goog.provide("ol.format.IGCZ"),ol.format.IGCZ={BAROMETRIC:"barometric",GPS:"gps",NONE:"none"},goog.provide("ol.format.TextFeature"),goog.require("ol"),goog.require("ol.format.Feature"),goog.require("ol.format.FormatType"),ol.format.TextFeature=function(){ol.format.Feature.call(this)},ol.inherits(ol.format.TextFeature,ol.format.Feature),ol.format.TextFeature.prototype.getText_=function(e){return"string"==typeof e?e:""},ol.format.TextFeature.prototype.getType=function(){return ol.format.FormatType.TEXT},ol.format.TextFeature.prototype.readFeature=function(e,t){return this.readFeatureFromText(this.getText_(e),this.adaptOptions(t))},ol.format.TextFeature.prototype.readFeatureFromText=function(e,t){},ol.format.TextFeature.prototype.readFeatures=function(e,t){return this.readFeaturesFromText(this.getText_(e),this.adaptOptions(t))},ol.format.TextFeature.prototype.readFeaturesFromText=function(e,t){},ol.format.TextFeature.prototype.readGeometry=function(e,t){return this.readGeometryFromText(this.getText_(e),this.adaptOptions(t))},ol.format.TextFeature.prototype.readGeometryFromText=function(e,t){},ol.format.TextFeature.prototype.readProjection=function(e){return this.readProjectionFromText(this.getText_(e))},ol.format.TextFeature.prototype.readProjectionFromText=function(e){return this.defaultDataProjection},ol.format.TextFeature.prototype.writeFeature=function(e,t){return this.writeFeatureText(e,this.adaptOptions(t))},ol.format.TextFeature.prototype.writeFeatureText=function(e,t){},ol.format.TextFeature.prototype.writeFeatures=function(e,t){return this.writeFeaturesText(e,this.adaptOptions(t))},ol.format.TextFeature.prototype.writeFeaturesText=function(e,t){},ol.format.TextFeature.prototype.writeGeometry=function(e,t){return this.writeGeometryText(e,this.adaptOptions(t))},ol.format.TextFeature.prototype.writeGeometryText=function(e,t){},goog.provide("ol.format.IGC"),goog.require("ol"),goog.require("ol.Feature"),goog.require("ol.format.Feature"),goog.require("ol.format.IGCZ"),goog.require("ol.format.TextFeature"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.LineString"),goog.require("ol.proj"),ol.format.IGC=function(e){var t=e||{};ol.format.TextFeature.call(this),this.defaultDataProjection=ol.proj.get("EPSG:4326"),this.altitudeMode_=t.altitudeMode?t.altitudeMode:ol.format.IGCZ.NONE},ol.inherits(ol.format.IGC,ol.format.TextFeature),ol.format.IGC.B_RECORD_RE_=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/,ol.format.IGC.H_RECORD_RE_=/^H.([A-Z]{3}).*?:(.*)/,ol.format.IGC.HFDTE_RECORD_RE_=/^HFDTE(\d{2})(\d{2})(\d{2})/,ol.format.IGC.NEWLINE_RE_=/\r\n|\r|\n/,ol,ol.format.IGC.prototype.readFeatureFromText=function(e,t){var o,r,n=this.altitudeMode_,i=e.split(ol.format.IGC.NEWLINE_RE_),l={},a=[],s=2e3,p=0,u=1,c=-1;for(o=0,r=i.length;o<r;++o){var g,d=i[o];if("B"==d.charAt(0)){if(g=ol.format.IGC.B_RECORD_RE_.exec(d)){var h=parseInt(g[1],10),y=parseInt(g[2],10),f=parseInt(g[3],10),m=parseInt(g[4],10)+parseInt(g[5],10)/6e4;"S"==g[6]&&(m=-m);var v,_=parseInt(g[7],10)+parseInt(g[8],10)/6e4;"W"==g[9]&&(_=-_),a.push(_,m),n!=ol.format.IGCZ.NONE&&(v=n==ol.format.IGCZ.GPS?parseInt(g[11],10):n==ol.format.IGCZ.BAROMETRIC?parseInt(g[12],10):0,a.push(v));var S=Date.UTC(s,p,u,h,y,f);S<c&&(S=Date.UTC(s,p,u+1,h,y,f)),a.push(S/1e3),c=S}}else"H"==d.charAt(0)&&((g=ol.format.IGC.HFDTE_RECORD_RE_.exec(d))?(u=parseInt(g[1],10),p=parseInt(g[2],10)-1,s=2e3+parseInt(g[3],10)):(g=ol.format.IGC.H_RECORD_RE_.exec(d))&&(l[g[1]]=g[2].trim()))}if(0===a.length)return null;var x=new ol.geom.LineString(null),E=n==ol.format.IGCZ.NONE?ol.geom.GeometryLayout.XYM:ol.geom.GeometryLayout.XYZM;x.setFlatCoordinates(E,a);var P=new ol.Feature(ol.format.Feature.transformWithOptions(x,!1,t));return P.setProperties(l),P},ol,ol.format.IGC.prototype.readFeaturesFromText=function(e,t){var o=this.readFeatureFromText(e,t);return o?[o]:[]},ol,ol.format.IGC.prototype.writeFeatureText=function(e,t){},ol.format.IGC.prototype.writeFeaturesText=function(e,t){},ol.format.IGC.prototype.writeGeometryText=function(e,t){},ol.format.IGC.prototype.readGeometryFromText=function(e,t){},goog.provide("ol.style.IconAnchorUnits"),ol.style.IconAnchorUnits={FRACTION:"fraction",PIXELS:"pixels"},goog.provide("ol.style.IconImage"),goog.require("ol"),goog.require("ol.dom"),goog.require("ol.events"),goog.require("ol.events.EventTarget"),goog.require("ol.events.EventType"),goog.require("ol.ImageState"),goog.require("ol.style"),ol.style.IconImage=function(e,t,o,r,n,i){ol.events.EventTarget.call(this),this.hitDetectionImage_=null,this.image_=e||new Image,null!==r&&(this.image_.crossOrigin=r),this.canvas_=i?document.createElement("CANVAS"):null,this.color_=i,this.imageListenerKeys_=null,this.imageState_=n,this.size_=o,this.src_=t,this.tainting_=!1,this.imageState_==ol.ImageState.LOADED&&this.determineTainting_()},ol.inherits(ol.style.IconImage,ol.events.EventTarget),ol.style.IconImage.get=function(e,t,o,r,n,i){var l=ol.style.iconImageCache,a=l.get(t,r,i);return a||(a=new ol.style.IconImage(e,t,o,r,n,i),l.set(t,r,i,a)),a},ol.style.IconImage.prototype.determineTainting_=function(){var e=ol.dom.createCanvasContext2D(1,1);try{e.drawImage(this.image_,0,0),e.getImageData(0,0,1,1)}catch(e){this.tainting_=!0}},ol.style.IconImage.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(ol.events.EventType.CHANGE)},ol.style.IconImage.prototype.handleImageError_=function(){this.imageState_=ol.ImageState.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},ol.style.IconImage.prototype.handleImageLoad_=function(){this.imageState_=ol.ImageState.LOADED,this.size_&&(this.image_.width=this.size_[0],this.image_.height=this.size_[1]),this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.determineTainting_(),this.replaceColor_(),this.dispatchChangeEvent_()},ol.style.IconImage.prototype.getImage=function(e){return this.canvas_?this.canvas_:this.image_},ol.style.IconImage.prototype.getImageState=function(){return this.imageState_},ol.style.IconImage.prototype.getHitDetectionImage=function(e){if(!this.hitDetectionImage_)if(this.tainting_){var t=this.size_[0],o=this.size_[1],r=ol.dom.createCanvasContext2D(t,o);r.fillRect(0,0,t,o),this.hitDetectionImage_=r.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},ol.style.IconImage.prototype.getSize=function(){return this.size_},ol.style.IconImage.prototype.getSrc=function(){return this.src_},ol.style.IconImage.prototype.load=function(){if(this.imageState_==ol.ImageState.IDLE){this.imageState_=ol.ImageState.LOADING,this.imageListenerKeys_=[ol.events.listenOnce(this.image_,ol.events.EventType.ERROR,this.handleImageError_,this),ol.events.listenOnce(this.image_,ol.events.EventType.LOAD,this.handleImageLoad_,this)];try{this.image_.src=this.src_}catch(e){this.handleImageError_()}}},ol.style.IconImage.prototype.replaceColor_=function(){if(!this.tainting_&&null!==this.color_){this.canvas_.width=this.image_.width,this.canvas_.height=this.image_.height;var e=this.canvas_.getContext("2d");e.drawImage(this.image_,0,0);for(var t=e.getImageData(0,0,this.image_.width,this.image_.height),o=t.data,r=this.color_[0]/255,n=this.color_[1]/255,i=this.color_[2]/255,l=0,a=o.length;l<a;l+=4)o[l]*=r,o[l+1]*=n,o[l+2]*=i;e.putImageData(t,0,0)}},ol.style.IconImage.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(ol.events.unlistenByKey),this.imageListenerKeys_=null},goog.provide("ol.style.IconOrigin"),ol.style.IconOrigin={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},goog.provide("ol.style.Icon"),goog.require("ol"),goog.require("ol.ImageState"),goog.require("ol.asserts"),goog.require("ol.color"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.style.IconAnchorUnits"),goog.require("ol.style.IconImage"),goog.require("ol.style.IconOrigin"),goog.require("ol.style.Image"),ol.style.Icon=function(e){var t=e||{};this.anchor_=void 0!==t.anchor?t.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==t.anchorOrigin?t.anchorOrigin:ol.style.IconOrigin.TOP_LEFT,this.anchorXUnits_=void 0!==t.anchorXUnits?t.anchorXUnits:ol.style.IconAnchorUnits.FRACTION,this.anchorYUnits_=void 0!==t.anchorYUnits?t.anchorYUnits:ol.style.IconAnchorUnits.FRACTION,this.crossOrigin_=void 0!==t.crossOrigin?t.crossOrigin:null;var o=void 0!==t.img?t.img:null,r=void 0!==t.imgSize?t.imgSize:null,n=t.src;ol.asserts.assert(!(void 0!==n&&o),4),ol.asserts.assert(!o||o&&r,5),void 0!==n&&0!==n.length||!o||(n=o.src||ol.getUid(o).toString()),ol.asserts.assert(void 0!==n&&n.length>0,6);var i=void 0!==t.src?ol.ImageState.IDLE:ol.ImageState.LOADED;this.color_=void 0!==t.color?ol.color.asArray(t.color):null,this.iconImage_=ol.style.IconImage.get(o,n,r,this.crossOrigin_,i,this.color_),this.offset_=void 0!==t.offset?t.offset:[0,0],this.offsetOrigin_=void 0!==t.offsetOrigin?t.offsetOrigin:ol.style.IconOrigin.TOP_LEFT,this.origin_=null,this.size_=void 0!==t.size?t.size:null,ol.style.Image.call(this,{opacity:void 0!==t.opacity?t.opacity:1,rotation:void 0!==t.rotation?t.rotation:0,scale:void 0!==t.scale?t.scale:1,snapToPixel:void 0===t.snapToPixel||t.snapToPixel,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView})},ol.inherits(ol.style.Icon,ol.style.Image),ol.style.Icon.prototype.clone=function(){return new ol.style.Icon({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:this.getScale(),snapToPixel:this.getSnapToPixel(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},ol.style.Icon.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var e=this.anchor_,t=this.getSize();if(this.anchorXUnits_==ol.style.IconAnchorUnits.FRACTION||this.anchorYUnits_==ol.style.IconAnchorUnits.FRACTION){if(!t)return null;e=this.anchor_.slice(),this.anchorXUnits_==ol.style.IconAnchorUnits.FRACTION&&(e[0]*=t[0]),this.anchorYUnits_==ol.style.IconAnchorUnits.FRACTION&&(e[1]*=t[1])}if(this.anchorOrigin_!=ol.style.IconOrigin.TOP_LEFT){if(!t)return null;e===this.anchor_&&(e=this.anchor_.slice()),this.anchorOrigin_!=ol.style.IconOrigin.TOP_RIGHT&&this.anchorOrigin_!=ol.style.IconOrigin.BOTTOM_RIGHT||(e[0]=-e[0]+t[0]),this.anchorOrigin_!=ol.style.IconOrigin.BOTTOM_LEFT&&this.anchorOrigin_!=ol.style.IconOrigin.BOTTOM_RIGHT||(e[1]=-e[1]+t[1])}return this.normalizedAnchor_=e,this.normalizedAnchor_},ol.style.Icon.prototype.getColor=function(){return this.color_},ol.style.Icon.prototype.getImage=function(e){return this.iconImage_.getImage(e)},ol.style.Icon.prototype.getImageSize=function(){return this.iconImage_.getSize()},ol.style.Icon.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},ol.style.Icon.prototype.getImageState=function(){return this.iconImage_.getImageState()},ol.style.Icon.prototype.getHitDetectionImage=function(e){return this.iconImage_.getHitDetectionImage(e)},ol.style.Icon.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var e=this.offset_;if(this.offsetOrigin_!=ol.style.IconOrigin.TOP_LEFT){var t=this.getSize(),o=this.iconImage_.getSize();if(!t||!o)return null;e=e.slice(),this.offsetOrigin_!=ol.style.IconOrigin.TOP_RIGHT&&this.offsetOrigin_!=ol.style.IconOrigin.BOTTOM_RIGHT||(e[0]=o[0]-t[0]-e[0]),this.offsetOrigin_!=ol.style.IconOrigin.BOTTOM_LEFT&&this.offsetOrigin_!=ol.style.IconOrigin.BOTTOM_RIGHT||(e[1]=o[1]-t[1]-e[1])}return this.origin_=e,this.origin_},ol.style.Icon.prototype.getSrc=function(){return this.iconImage_.getSrc()},ol.style.Icon.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},ol.style.Icon.prototype.listenImageChange=function(e,t){return ol.events.listen(this.iconImage_,ol.events.EventType.CHANGE,e,t)},ol.style.Icon.prototype.load=function(){this.iconImage_.load()},ol.style.Icon.prototype.unlistenImageChange=function(e,t){ol.events.unlisten(this.iconImage_,ol.events.EventType.CHANGE,e,t)},goog.provide("ol.style.Text"),goog.require("ol.style.Fill"),goog.require("ol.style.TextPlacement"),ol.style.Text=function(e){var t=e||{};this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.scale_=t.scale,this.text_=t.text,this.textAlign_=t.textAlign,this.textBaseline_=t.textBaseline,this.fill_=void 0!==t.fill?t.fill:new ol.style.Fill({color:ol.style.Text.DEFAULT_FILL_COLOR_}),this.maxAngle_=void 0!==t.maxAngle?t.maxAngle:Math.PI/4,this.placement_=void 0!==t.placement?t.placement:ol.style.TextPlacement.POINT;var o=void 0===t.overflow?t.exceedLength:t.overflow;this.overflow_=void 0!==o&&o,this.stroke_=void 0!==t.stroke?t.stroke:null,this.offsetX_=void 0!==t.offsetX?t.offsetX:0,this.offsetY_=void 0!==t.offsetY?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=void 0===t.padding?null:t.padding},ol.style.Text.DEFAULT_FILL_COLOR_="#333",ol.style.Text.prototype.clone=function(){return new ol.style.Text({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY()})},ol.style.Text.prototype.getOverflow=function(){return this.overflow_},ol.style.Text.prototype.getFont=function(){return this.font_},ol.style.Text.prototype.getMaxAngle=function(){return this.maxAngle_},ol.style.Text.prototype.getPlacement=function(){return this.placement_},ol.style.Text.prototype.getOffsetX=function(){return this.offsetX_},ol.style.Text.prototype.getOffsetY=function(){return this.offsetY_},ol.style.Text.prototype.getFill=function(){return this.fill_},ol.style.Text.prototype.getRotateWithView=function(){return this.rotateWithView_},ol.style.Text.prototype.getRotation=function(){return this.rotation_},ol.style.Text.prototype.getScale=function(){return this.scale_},ol.style.Text.prototype.getStroke=function(){return this.stroke_},ol.style.Text.prototype.getText=function(){return this.text_},ol.style.Text.prototype.getTextAlign=function(){return this.textAlign_},ol.style.Text.prototype.getTextBaseline=function(){return this.textBaseline_},ol.style.Text.prototype.getBackgroundFill=function(){return this.backgroundFill_},ol.style.Text.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},ol.style.Text.prototype.getPadding=function(){return this.padding_},ol.style.Text.prototype.setOverflow=function(e){this.overflow_=e},ol.style.Text.prototype.setFont=function(e){this.font_=e},ol.style.Text.prototype.setMaxAngle=function(e){this.maxAngle_=e},ol.style.Text.prototype.setOffsetX=function(e){this.offsetX_=e},ol.style.Text.prototype.setOffsetY=function(e){this.offsetY_=e},ol.style.Text.prototype.setPlacement=function(e){this.placement_=e},ol.style.Text.prototype.setFill=function(e){this.fill_=e},ol.style.Text.prototype.setRotation=function(e){this.rotation_=e},ol.style.Text.prototype.setScale=function(e){this.scale_=e},ol.style.Text.prototype.setStroke=function(e){this.stroke_=e},ol.style.Text.prototype.setText=function(e){this.text_=e},ol.style.Text.prototype.setTextAlign=function(e){this.textAlign_=e},ol.style.Text.prototype.setTextBaseline=function(e){this.textBaseline_=e},ol.style.Text.prototype.setBackgroundFill=function(e){this.backgroundFill_=e},ol.style.Text.prototype.setBackgroundStroke=function(e){this.backgroundStroke_=e},ol.style.Text.prototype.setPadding=function(e){this.padding_=e},goog.provide("ol.format.KML"),goog.require("ol"),goog.require("ol.Feature"),goog.require("ol.array"),goog.require("ol.asserts"),goog.require("ol.color"),goog.require("ol.format.Feature"),goog.require("ol.format.XMLFeature"),goog.require("ol.format.XSD"),goog.require("ol.geom.GeometryCollection"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.LineString"),goog.require("ol.geom.MultiLineString"),goog.require("ol.geom.MultiPoint"),goog.require("ol.geom.MultiPolygon"),goog.require("ol.geom.Point"),goog.require("ol.geom.Polygon"),goog.require("ol.math"),goog.require("ol.proj"),goog.require("ol.style.Fill"),goog.require("ol.style.Icon"),goog.require("ol.style.IconAnchorUnits"),goog.require("ol.style.IconOrigin"),goog.require("ol.style.Stroke"),goog.require("ol.style.Style"),goog.require("ol.style.Text"),goog.require("ol.xml"),ol.format.KML=function(e){var t=e||{};ol.format.XMLFeature.call(this),ol.format.KML.DEFAULT_STYLE_ARRAY_||ol.format.KML.createStyleDefaults_(),this.defaultDataProjection=ol.proj.get("EPSG:4326"),this.defaultStyle_=t.defaultStyle?t.defaultStyle:ol.format.KML.DEFAULT_STYLE_ARRAY_,this.extractStyles_=void 0===t.extractStyles||t.extractStyles,this.writeStyles_=void 0===t.writeStyles||t.writeStyles,this.sharedStyles_={},this.showPointNames_=void 0===t.showPointNames||t.showPointNames},ol.inherits(ol.format.KML,ol.format.XMLFeature),ol.format.KML.GX_NAMESPACE_URIS_=["http://www.google.com/kml/ext/2.2"],ol.format.KML.NAMESPACE_URIS_=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],ol.format.KML.SCHEMA_LOCATION_="http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd",ol.format.KML.createStyleDefaults_=function(){return ol.format.KML.DEFAULT_COLOR_=[255,255,255,1],ol.format.KML.DEFAULT_FILL_STYLE_=new ol.style.Fill({color:ol.format.KML.DEFAULT_COLOR_}),ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_=[20,2],ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS_=ol.style.IconAnchorUnits.PIXELS,ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS_=ol.style.IconAnchorUnits.PIXELS,ol.format.KML.DEFAULT_IMAGE_STYLE_SIZE_=[64,64],ol.format.KML.DEFAULT_IMAGE_STYLE_SRC_="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",ol.format.KML.DEFAULT_IMAGE_SCALE_MULTIPLIER_=.5,ol.format.KML.DEFAULT_IMAGE_STYLE_=new ol.style.Icon({anchor:ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_,anchorOrigin:ol.style.IconOrigin.BOTTOM_LEFT,anchorXUnits:ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS_,anchorYUnits:ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS_,crossOrigin:"anonymous",rotation:0,scale:ol.format.KML.DEFAULT_IMAGE_SCALE_MULTIPLIER_,size:ol.format.KML.DEFAULT_IMAGE_STYLE_SIZE_,src:ol.format.KML.DEFAULT_IMAGE_STYLE_SRC_}),ol.format.KML.DEFAULT_NO_IMAGE_STYLE_="NO_IMAGE",ol.format.KML.DEFAULT_STROKE_STYLE_=new ol.style.Stroke({color:ol.format.KML.DEFAULT_COLOR_,width:1}),ol.format.KML.DEFAULT_TEXT_STROKE_STYLE_=new ol.style.Stroke({color:[51,51,51,1],width:2}),ol.format.KML.DEFAULT_TEXT_STYLE_=new ol.style.Text({font:"bold 16px Helvetica",fill:ol.format.KML.DEFAULT_FILL_STYLE_,stroke:ol.format.KML.DEFAULT_TEXT_STROKE_STYLE_,scale:.8}),ol.format.KML.DEFAULT_STYLE_=new ol.style.Style({fill:ol.format.KML.DEFAULT_FILL_STYLE_,image:ol.format.KML.DEFAULT_IMAGE_STYLE_,text:ol.format.KML.DEFAULT_TEXT_STYLE_,stroke:ol.format.KML.DEFAULT_STROKE_STYLE_,zIndex:0}),ol.format.KML.DEFAULT_STYLE_ARRAY_=[ol.format.KML.DEFAULT_STYLE_],ol.format.KML.DEFAULT_STYLE_ARRAY_},ol.format.KML.ICON_ANCHOR_UNITS_MAP_={fraction:ol.style.IconAnchorUnits.FRACTION,pixels:ol.style.IconAnchorUnits.PIXELS,insetPixels:ol.style.IconAnchorUnits.PIXELS},ol.format.KML.createNameStyleFunction_=function(e,t){var o=null,r=[0,0],n="start";if(e.getImage()){var i=e.getImage().getImageSize();if(null===i&&(i=ol.format.KML.DEFAULT_IMAGE_STYLE_SIZE_),2==i.length){var l=e.getImage().getScale();r[0]=l*i[0]/2,r[1]=-l*i[1]/2,n="left"}}if(null!==e.getText()){var a=e.getText();(o=a.clone()).setFont(a.getFont()||ol.format.KML.DEFAULT_TEXT_STYLE_.getFont()),o.setScale(a.getScale()||ol.format.KML.DEFAULT_TEXT_STYLE_.getScale()),o.setFill(a.getFill()||ol.format.KML.DEFAULT_TEXT_STYLE_.getFill()),o.setStroke(a.getStroke()||ol.format.KML.DEFAULT_TEXT_STROKE_STYLE_)}else o=ol.format.KML.DEFAULT_TEXT_STYLE_.clone();return o.setText(t),o.setOffsetX(r[0]),o.setOffsetY(r[1]),o.setTextAlign(n),new ol.style.Style({text:o})},ol.format.KML.createFeatureStyleFunction_=function(e,t,o,r,n){return function(i){var l,a=n,s="";if(a&&this.getGeometry()&&(a=this.getGeometry().getType()===ol.geom.GeometryType.POINT),a&&(s=this.get("name"),a=a&&s),e)return a?(l=ol.format.KML.createNameStyleFunction_(e[0],s),e.concat(l)):e;if(t){var p=ol.format.KML.findStyle_(t,o,r);return a?(l=ol.format.KML.createNameStyleFunction_(p[0],s),p.concat(l)):p}return a?(l=ol.format.KML.createNameStyleFunction_(o[0],s),o.concat(l)):o}},ol.format.KML.findStyle_=function(e,t,o){return Array.isArray(e)?e:"string"==typeof e?(!(e in o)&&"#"+e in o&&(e="#"+e),ol.format.KML.findStyle_(o[e],t,o)):t},ol.format.KML.readColor_=function(e){var t=ol.xml.getAllTextContent(e,!1),o=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(t);if(o){var r=o[1];return[parseInt(r.substr(6,2),16),parseInt(r.substr(4,2),16),parseInt(r.substr(2,2),16),parseInt(r.substr(0,2),16)/255]}},ol.format.KML.readFlatCoordinates_=function(e){for(var t,o=ol.xml.getAllTextContent(e,!1),r=[],n=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i;t=n.exec(o);){var i=parseFloat(t[1]),l=parseFloat(t[2]),a=t[3]?parseFloat(t[3]):0;r.push(i,l,a),o=o.substr(t[0].length)}if(""===o)return r},ol.format.KML.readURI_=function(e){var t=ol.xml.getAllTextContent(e,!1).trim(),o=e.baseURI;return o&&"about:blank"!=o||(o=window.location.href),o?new URL(t,o).href:t},ol.format.KML.readVec2_=function(e){var t,o=e.getAttribute("xunits"),r=e.getAttribute("yunits");return t="insetPixels"!==o?"insetPixels"!==r?ol.style.IconOrigin.BOTTOM_LEFT:ol.style.IconOrigin.TOP_LEFT:"insetPixels"!==r?ol.style.IconOrigin.BOTTOM_RIGHT:ol.style.IconOrigin.TOP_RIGHT,{x:parseFloat(e.getAttribute("x")),xunits:ol.format.KML.ICON_ANCHOR_UNITS_MAP_[o],y:parseFloat(e.getAttribute("y")),yunits:ol.format.KML.ICON_ANCHOR_UNITS_MAP_[r],origin:t}},ol.format.KML.readScale_=function(e){return ol.format.XSD.readDecimal(e)},ol.format.KML.readStyleMapValue_=function(e,t){return ol.xml.pushParseAndPop(void 0,ol.format.KML.STYLE_MAP_PARSERS_,e,t)},ol.format.KML.IconStyleParser_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.KML.ICON_STYLE_PARSERS_,e,t);if(o){var r,n,i,l,a=t[t.length-1],s="Icon"in o?o.Icon:{},p=!("Icon"in o)||Object.keys(s).length>0,u=s.href;u?r=u:p&&(r=ol.format.KML.DEFAULT_IMAGE_STYLE_SRC_);var c,g=ol.style.IconOrigin.BOTTOM_LEFT,d=o.hotSpot;d?(n=[d.x,d.y],i=d.xunits,l=d.yunits,g=d.origin):r===ol.format.KML.DEFAULT_IMAGE_STYLE_SRC_?(n=ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_,i=ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS_,l=ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS_):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(r)&&(n=[.5,0],i=ol.style.IconAnchorUnits.FRACTION,l=ol.style.IconAnchorUnits.FRACTION);var h,y=s.x,f=s.y;void 0!==y&&void 0!==f&&(c=[y,f]);var m,v=s.w,_=s.h;void 0!==v&&void 0!==_&&(h=[v,_]);var S=o.heading;void 0!==S&&(m=ol.math.toRadians(S));var x=o.scale;if(p){r==ol.format.KML.DEFAULT_IMAGE_STYLE_SRC_&&(h=ol.format.KML.DEFAULT_IMAGE_STYLE_SIZE_,void 0===x&&(x=ol.format.KML.DEFAULT_IMAGE_SCALE_MULTIPLIER_));var E=new ol.style.Icon({anchor:n,anchorOrigin:g,anchorXUnits:i,anchorYUnits:l,crossOrigin:"anonymous",offset:c,offsetOrigin:ol.style.IconOrigin.BOTTOM_LEFT,rotation:m,scale:x,size:h,src:r});a.imageStyle=E}else a.imageStyle=ol.format.KML.DEFAULT_NO_IMAGE_STYLE_}},ol.format.KML.LabelStyleParser_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.KML.LABEL_STYLE_PARSERS_,e,t);if(o){var r=t[t.length-1],n=new ol.style.Text({fill:new ol.style.Fill({color:"color"in o?o.color:ol.format.KML.DEFAULT_COLOR_}),scale:o.scale});r.textStyle=n}},ol.format.KML.LineStyleParser_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.KML.LINE_STYLE_PARSERS_,e,t);if(o){var r=t[t.length-1],n=new ol.style.Stroke({color:"color"in o?o.color:ol.format.KML.DEFAULT_COLOR_,width:"width"in o?o.width:1});r.strokeStyle=n}},ol.format.KML.PolyStyleParser_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.KML.POLY_STYLE_PARSERS_,e,t);if(o){var r=t[t.length-1],n=new ol.style.Fill({color:"color"in o?o.color:ol.format.KML.DEFAULT_COLOR_});r.fillStyle=n;var i=o.fill;void 0!==i&&(r.fill=i);var l=o.outline;void 0!==l&&(r.outline=l)}},ol.format.KML.readFlatLinearRing_=function(e,t){return ol.xml.pushParseAndPop(null,ol.format.KML.FLAT_LINEAR_RING_PARSERS_,e,t)},ol.format.KML.gxCoordParser_=function(e,t){var o=t[t.length-1].flatCoordinates,r=ol.xml.getAllTextContent(e,!1),n=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(r);if(n){var i=parseFloat(n[1]),l=parseFloat(n[2]),a=parseFloat(n[3]);o.push(i,l,a,0)}else o.push(0,0,0,0)},ol.format.KML.readGxMultiTrack_=function(e,t){var o=ol.xml.pushParseAndPop([],ol.format.KML.GX_MULTITRACK_GEOMETRY_PARSERS_,e,t);if(o){var r=new ol.geom.MultiLineString(null);return r.setLineStrings(o),r}},ol.format.KML.readGxTrack_=function(e,t){var o=ol.xml.pushParseAndPop({flatCoordinates:[],whens:[]},ol.format.KML.GX_TRACK_PARSERS_,e,t);if(o){var r,n,i=o.flatCoordinates,l=o.whens;for(r=0,n=Math.min(i.length,l.length);r<n;++r)i[4*r+3]=l[r];var a=new ol.geom.LineString(null);return a.setFlatCoordinates(ol.geom.GeometryLayout.XYZM,i),a}},ol.format.KML.readIcon_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.KML.ICON_PARSERS_,e,t)||null},ol.format.KML.readFlatCoordinatesFromNode_=function(e,t){return ol.xml.pushParseAndPop(null,ol.format.KML.GEOMETRY_FLAT_COORDINATES_PARSERS_,e,t)},ol.format.KML.readLineString_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_,e,t),r=ol.format.KML.readFlatCoordinatesFromNode_(e,t);if(r){var n=new ol.geom.LineString(null);return n.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,r),n.setProperties(o),n}},ol.format.KML.readLinearRing_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_,e,t),r=ol.format.KML.readFlatCoordinatesFromNode_(e,t);if(r){var n=new ol.geom.Polygon(null);return n.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,r,[r.length]),n.setProperties(o),n}},ol.format.KML.readMultiGeometry_=function(e,t){var o,r=ol.xml.pushParseAndPop([],ol.format.KML.MULTI_GEOMETRY_PARSERS_,e,t);if(!r)return null;if(0===r.length)return new ol.geom.GeometryCollection(r);var n,i,l,a,s,p=!0,u=r[0].getType();for(i=1,l=r.length;i<l;++i)if((n=r[i]).getType()!=u){p=!1;break}if(p)if(u==ol.geom.GeometryType.POINT){var c=r[0];for(a=c.getLayout(),s=c.getFlatCoordinates(),i=1,l=r.length;i<l;++i)n=r[i],ol.array.extend(s,n.getFlatCoordinates());(o=new ol.geom.MultiPoint(null)).setFlatCoordinates(a,s),ol.format.KML.setCommonGeometryProperties_(o,r)}else u==ol.geom.GeometryType.LINE_STRING?((o=new ol.geom.MultiLineString(null)).setLineStrings(r),ol.format.KML.setCommonGeometryProperties_(o,r)):u==ol.geom.GeometryType.POLYGON?((o=new ol.geom.MultiPolygon(null)).setPolygons(r),ol.format.KML.setCommonGeometryProperties_(o,r)):u==ol.geom.GeometryType.GEOMETRY_COLLECTION?o=new ol.geom.GeometryCollection(r):ol.asserts.assert(!1,37);else o=new ol.geom.GeometryCollection(r);return o},ol.format.KML.readPoint_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_,e,t),r=ol.format.KML.readFlatCoordinatesFromNode_(e,t);if(r){var n=new ol.geom.Point(null);return n.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,r),n.setProperties(o),n}},ol.format.KML.readPolygon_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_,e,t),r=ol.xml.pushParseAndPop([null],ol.format.KML.FLAT_LINEAR_RINGS_PARSERS_,e,t);if(r&&r[0]){var n,i,l=new ol.geom.Polygon(null),a=r[0],s=[a.length];for(n=1,i=r.length;n<i;++n)ol.array.extend(a,r[n]),s.push(a.length);return l.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,a,s),l.setProperties(o),l}},ol.format.KML.readStyle_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.KML.STYLE_PARSERS_,e,t);if(!o)return null;var r="fillStyle"in o?o.fillStyle:ol.format.KML.DEFAULT_FILL_STYLE_,n=o.fill;void 0===n||n||(r=null);var i="imageStyle"in o?o.imageStyle:ol.format.KML.DEFAULT_IMAGE_STYLE_;i==ol.format.KML.DEFAULT_NO_IMAGE_STYLE_&&(i=void 0);var l="textStyle"in o?o.textStyle:ol.format.KML.DEFAULT_TEXT_STYLE_,a="strokeStyle"in o?o.strokeStyle:ol.format.KML.DEFAULT_STROKE_STYLE_,s=o.outline;return void 0===s||s||(a=null),[new ol.style.Style({fill:r,image:i,stroke:a,text:l,zIndex:void 0})]},ol.format.KML.setCommonGeometryProperties_=function(e,t){var o,r,n,i,l,a=t.length,s=new Array(t.length),p=new Array(t.length),u=new Array(t.length);for(n=i=l=!1,r=0;r<a;++r)s[r]=(o=t[r]).get("extrude"),p[r]=o.get("tessellate"),u[r]=o.get("altitudeMode"),n=n||void 0!==s[r],i=i||void 0!==p[r],l=l||u[r];n&&e.set("extrude",s),i&&e.set("tessellate",p),l&&e.set("altitudeMode",u)},ol.format.KML.DataParser_=function(e,t){var o=e.getAttribute("name");ol.xml.parseNode(ol.format.KML.DATA_PARSERS_,e,t);var r=t[t.length-1];null!==o?r[o]=r.value:null!==r.displayName&&(r[r.displayName]=r.value),delete r.value},ol.format.KML.ExtendedDataParser_=function(e,t){ol.xml.parseNode(ol.format.KML.EXTENDED_DATA_PARSERS_,e,t)},ol.format.KML.RegionParser_=function(e,t){ol.xml.parseNode(ol.format.KML.REGION_PARSERS_,e,t)},ol.format.KML.PairDataParser_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.KML.PAIR_PARSERS_,e,t);if(o){var r=o.key;if(r&&"normal"==r){var n=o.styleUrl;n&&(t[t.length-1]=n);var i=o.Style;i&&(t[t.length-1]=i)}}},ol.format.KML.PlacemarkStyleMapParser_=function(e,t){var o=ol.format.KML.readStyleMapValue_(e,t);if(o){var r=t[t.length-1];Array.isArray(o)?r.Style=o:"string"==typeof o?r.styleUrl=o:ol.asserts.assert(!1,38)}},ol.format.KML.SchemaDataParser_=function(e,t){ol.xml.parseNode(ol.format.KML.SCHEMA_DATA_PARSERS_,e,t)},ol.format.KML.SimpleDataParser_=function(e,t){var o=e.getAttribute("name");if(null!==o){var r=ol.format.XSD.readString(e);t[t.length-1][o]=r}},ol.format.KML.LatLonAltBoxParser_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.KML.LAT_LON_ALT_BOX_PARSERS_,e,t);if(o){var r=t[t.length-1],n=[parseFloat(o.west),parseFloat(o.south),parseFloat(o.east),parseFloat(o.north)];r.extent=n,r.altitudeMode=o.altitudeMode,r.minAltitude=parseFloat(o.minAltitude),r.maxAltitude=parseFloat(o.maxAltitude)}},ol.format.KML.LodParser_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.KML.LOD_PARSERS_,e,t);if(o){var r=t[t.length-1];r.minLodPixels=parseFloat(o.minLodPixels),r.maxLodPixels=parseFloat(o.maxLodPixels),r.minFadeExtent=parseFloat(o.minFadeExtent),r.maxFadeExtent=parseFloat(o.maxFadeExtent)}},ol.format.KML.innerBoundaryIsParser_=function(e,t){var o=ol.xml.pushParseAndPop(void 0,ol.format.KML.INNER_BOUNDARY_IS_PARSERS_,e,t);o&&t[t.length-1].push(o)},ol.format.KML.outerBoundaryIsParser_=function(e,t){var o=ol.xml.pushParseAndPop(void 0,ol.format.KML.OUTER_BOUNDARY_IS_PARSERS_,e,t);o&&(t[t.length-1][0]=o)},ol.format.KML.LinkParser_=function(e,t){ol.xml.parseNode(ol.format.KML.LINK_PARSERS_,e,t)},ol.format.KML.whenParser_=function(e,t){var o=t[t.length-1].whens,r=ol.xml.getAllTextContent(e,!1),n=Date.parse(r);o.push(isNaN(n)?0:n)},ol.format.KML.DATA_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{displayName:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),value:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}),ol.format.KML.EXTENDED_DATA_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Data:ol.format.KML.DataParser_,SchemaData:ol.format.KML.SchemaDataParser_}),ol.format.KML.REGION_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{LatLonAltBox:ol.format.KML.LatLonAltBoxParser_,Lod:ol.format.KML.LodParser_}),ol.format.KML.LAT_LON_ALT_BOX_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{altitudeMode:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),minAltitude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),maxAltitude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),north:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),south:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),east:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),west:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal)}),ol.format.KML.LOD_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{minLodPixels:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),maxLodPixels:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),minFadeExtent:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),maxFadeExtent:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal)}),ol.format.KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{extrude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean),tessellate:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean),altitudeMode:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}),ol.format.KML.FLAT_LINEAR_RING_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{coordinates:ol.xml.makeReplacer(ol.format.KML.readFlatCoordinates_)}),ol.format.KML.FLAT_LINEAR_RINGS_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{innerBoundaryIs:ol.format.KML.innerBoundaryIsParser_,outerBoundaryIs:ol.format.KML.outerBoundaryIsParser_}),ol.format.KML.GX_TRACK_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{when:ol.format.KML.whenParser_},ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,{coord:ol.format.KML.gxCoordParser_})),ol.format.KML.GEOMETRY_FLAT_COORDINATES_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{coordinates:ol.xml.makeReplacer(ol.format.KML.readFlatCoordinates_)}),ol.format.KML.ICON_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{href:ol.xml.makeObjectPropertySetter(ol.format.KML.readURI_)},ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,{x:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),y:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),w:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),h:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal)})),ol.format.KML.ICON_STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Icon:ol.xml.makeObjectPropertySetter(ol.format.KML.readIcon_),heading:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),hotSpot:ol.xml.makeObjectPropertySetter(ol.format.KML.readVec2_),scale:ol.xml.makeObjectPropertySetter(ol.format.KML.readScale_)}),ol.format.KML.INNER_BOUNDARY_IS_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{LinearRing:ol.xml.makeReplacer(ol.format.KML.readFlatLinearRing_)}),ol.format.KML.LABEL_STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeObjectPropertySetter(ol.format.KML.readColor_),scale:ol.xml.makeObjectPropertySetter(ol.format.KML.readScale_)}),ol.format.KML.LINE_STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeObjectPropertySetter(ol.format.KML.readColor_),width:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal)}),ol.format.KML.MULTI_GEOMETRY_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{LineString:ol.xml.makeArrayPusher(ol.format.KML.readLineString_),LinearRing:ol.xml.makeArrayPusher(ol.format.KML.readLinearRing_),MultiGeometry:ol.xml.makeArrayPusher(ol.format.KML.readMultiGeometry_),Point:ol.xml.makeArrayPusher(ol.format.KML.readPoint_),Polygon:ol.xml.makeArrayPusher(ol.format.KML.readPolygon_)}),ol.format.KML.GX_MULTITRACK_GEOMETRY_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,{Track:ol.xml.makeArrayPusher(ol.format.KML.readGxTrack_)}),ol.format.KML.NETWORK_LINK_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{ExtendedData:ol.format.KML.ExtendedDataParser_,Region:ol.format.KML.RegionParser_,Link:ol.format.KML.LinkParser_,address:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),description:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),open:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean),phoneNumber:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),visibility:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean)}),ol.format.KML.LINK_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{href:ol.xml.makeObjectPropertySetter(ol.format.KML.readURI_)}),ol.format.KML.OUTER_BOUNDARY_IS_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{LinearRing:ol.xml.makeReplacer(ol.format.KML.readFlatLinearRing_)}),ol.format.KML.PAIR_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Style:ol.xml.makeObjectPropertySetter(ol.format.KML.readStyle_),key:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),styleUrl:ol.xml.makeObjectPropertySetter(ol.format.KML.readURI_)}),ol.format.KML.PLACEMARK_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{ExtendedData:ol.format.KML.ExtendedDataParser_,Region:ol.format.KML.RegionParser_,MultiGeometry:ol.xml.makeObjectPropertySetter(ol.format.KML.readMultiGeometry_,"geometry"),LineString:ol.xml.makeObjectPropertySetter(ol.format.KML.readLineString_,"geometry"),LinearRing:ol.xml.makeObjectPropertySetter(ol.format.KML.readLinearRing_,"geometry"),Point:ol.xml.makeObjectPropertySetter(ol.format.KML.readPoint_,"geometry"),Polygon:ol.xml.makeObjectPropertySetter(ol.format.KML.readPolygon_,"geometry"),Style:ol.xml.makeObjectPropertySetter(ol.format.KML.readStyle_),StyleMap:ol.format.KML.PlacemarkStyleMapParser_,address:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),description:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),open:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean),phoneNumber:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),styleUrl:ol.xml.makeObjectPropertySetter(ol.format.KML.readURI_),visibility:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean)},ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,{MultiTrack:ol.xml.makeObjectPropertySetter(ol.format.KML.readGxMultiTrack_,"geometry"),Track:ol.xml.makeObjectPropertySetter(ol.format.KML.readGxTrack_,"geometry")})),ol.format.KML.POLY_STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeObjectPropertySetter(ol.format.KML.readColor_),fill:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean),outline:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean)}),ol.format.KML.SCHEMA_DATA_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{SimpleData:ol.format.KML.SimpleDataParser_}),ol.format.KML.STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{IconStyle:ol.format.KML.IconStyleParser_,LabelStyle:ol.format.KML.LabelStyleParser_,LineStyle:ol.format.KML.LineStyleParser_,PolyStyle:ol.format.KML.PolyStyleParser_}),ol.format.KML.STYLE_MAP_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Pair:ol.format.KML.PairDataParser_}),ol.format.KML.prototype.readDocumentOrFolder_=function(e,t){var o=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Document:ol.xml.makeArrayExtender(this.readDocumentOrFolder_,this),Folder:ol.xml.makeArrayExtender(this.readDocumentOrFolder_,this),Placemark:ol.xml.makeArrayPusher(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)});return ol.xml.pushParseAndPop([],o,e,t,this)||void 0},ol.format.KML.prototype.readPlacemark_=function(e,t){var o=ol.xml.pushParseAndPop({geometry:null},ol.format.KML.PLACEMARK_PARSERS_,e,t);if(o){var r=new ol.Feature,n=e.getAttribute("id");null!==n&&r.setId(n);var i=o.geometry;if(i&&ol.format.Feature.transformWithOptions(i,!1,t[0]),r.setGeometry(i),delete o.geometry,this.extractStyles_){var l=ol.format.KML.createFeatureStyleFunction_(o.Style,o.styleUrl,this.defaultStyle_,this.sharedStyles_,this.showPointNames_);r.setStyle(l)}return delete o.Style,r.setProperties(o),r}},ol.format.KML.prototype.readSharedStyle_=function(e,t){var o=e.getAttribute("id");if(null!==o){var r=ol.format.KML.readStyle_(e,t);if(r){var n,i=e.baseURI;i&&"about:blank"!=i||(i=window.location.href),n=i?new URL("#"+o,i).href:"#"+o,this.sharedStyles_[n]=r}}},ol.format.KML.prototype.readSharedStyleMap_=function(e,t){var o=e.getAttribute("id");if(null!==o){var r=ol.format.KML.readStyleMapValue_(e,t);if(r){var n,i=e.baseURI;i&&"about:blank"!=i||(i=window.location.href),n=i?new URL("#"+o,i).href:"#"+o,this.sharedStyles_[n]=r}}},ol,ol.format.KML.prototype.readFeatureFromNode=function(e,t){return ol.array.includes(ol.format.KML.NAMESPACE_URIS_,e.namespaceURI)&&this.readPlacemark_(e,[this.getReadOptions(e,t)])||null},ol,ol.format.KML.prototype.readFeaturesFromNode=function(e,t){if(!ol.array.includes(ol.format.KML.NAMESPACE_URIS_,e.namespaceURI))return[];var o,r=e.localName;if("Document"==r||"Folder"==r)return(o=this.readDocumentOrFolder_(e,[this.getReadOptions(e,t)]))||[];if("Placemark"==r){var n=this.readPlacemark_(e,[this.getReadOptions(e,t)]);return n?[n]:[]}if("kml"==r){var i;for(o=[],i=e.firstElementChild;i;i=i.nextElementSibling){var l=this.readFeaturesFromNode(i,t);l&&ol.array.extend(o,l)}return o}return[]},ol.format.KML.prototype.readName=function(e){if(ol.xml.isDocument(e))return this.readNameFromDocument(e);if(ol.xml.isNode(e))return this.readNameFromNode(e);if("string"==typeof e){var t=ol.xml.parse(e);return this.readNameFromDocument(t)}},ol.format.KML.prototype.readNameFromDocument=function(e){var t;for(t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE){var o=this.readNameFromNode(t);if(o)return o}},ol.format.KML.prototype.readNameFromNode=function(e){var t;for(t=e.firstElementChild;t;t=t.nextElementSibling)if(ol.array.includes(ol.format.KML.NAMESPACE_URIS_,t.namespaceURI)&&"name"==t.localName)return ol.format.XSD.readString(t);for(t=e.firstElementChild;t;t=t.nextElementSibling){var o=t.localName;if(ol.array.includes(ol.format.KML.NAMESPACE_URIS_,t.namespaceURI)&&("Document"==o||"Folder"==o||"Placemark"==o||"kml"==o)){var r=this.readNameFromNode(t);if(r)return r}}},ol.format.KML.prototype.readNetworkLinks=function(e){var t=[];if(ol.xml.isDocument(e))ol.array.extend(t,this.readNetworkLinksFromDocument(e));else if(ol.xml.isNode(e))ol.array.extend(t,this.readNetworkLinksFromNode(e));else if("string"==typeof e){var o=ol.xml.parse(e);ol.array.extend(t,this.readNetworkLinksFromDocument(o))}return t},ol.format.KML.prototype.readNetworkLinksFromDocument=function(e){var t,o=[];for(t=e.firstChild;t;t=t.nextSibling)t.nodeType==Node.ELEMENT_NODE&&ol.array.extend(o,this.readNetworkLinksFromNode(t));return o},ol.format.KML.prototype.readNetworkLinksFromNode=function(e){var t,o=[];for(t=e.firstElementChild;t;t=t.nextElementSibling)if(ol.array.includes(ol.format.KML.NAMESPACE_URIS_,t.namespaceURI)&&"NetworkLink"==t.localName){var r=ol.xml.pushParseAndPop({},ol.format.KML.NETWORK_LINK_PARSERS_,t,[]);o.push(r)}for(t=e.firstElementChild;t;t=t.nextElementSibling){var n=t.localName;!ol.array.includes(ol.format.KML.NAMESPACE_URIS_,t.namespaceURI)||"Document"!=n&&"Folder"!=n&&"kml"!=n||ol.array.extend(o,this.readNetworkLinksFromNode(t))}return o},ol.format.KML.prototype.readRegion=function(e){var t=[];if(ol.xml.isDocument(e))ol.array.extend(t,this.readRegionFromDocument(e));else if(ol.xml.isNode(e))ol.array.extend(t,this.readRegionFromNode(e));else if("string"==typeof e){var o=ol.xml.parse(e);ol.array.extend(t,this.readRegionFromDocument(o))}return t},ol.format.KML.prototype.readRegionFromDocument=function(e){var t,o=[];for(t=e.firstChild;t;t=t.nextSibling)t.nodeType==Node.ELEMENT_NODE&&ol.array.extend(o,this.readRegionFromNode(t));return o},ol.format.KML.prototype.readRegionFromNode=function(e){var t,o=[];for(t=e.firstElementChild;t;t=t.nextElementSibling)if(ol.array.includes(ol.format.KML.NAMESPACE_URIS_,t.namespaceURI)&&"Region"==t.localName){var r=ol.xml.pushParseAndPop({},ol.format.KML.REGION_PARSERS_,t,[]);o.push(r)}for(t=e.firstElementChild;t;t=t.nextElementSibling){var n=t.localName;!ol.array.includes(ol.format.KML.NAMESPACE_URIS_,t.namespaceURI)||"Document"!=n&&"Folder"!=n&&"kml"!=n||ol.array.extend(o,this.readRegionFromNode(t))}return o},ol,ol.format.KML.writeColorTextNode_=function(e,t){var o,r=ol.color.asArray(t),n=[255*(4==r.length?r[3]:1),r[2],r[1],r[0]];for(o=0;o<4;++o){var i=parseInt(n[o],10).toString(16);n[o]=1==i.length?"0"+i:i}ol.format.XSD.writeStringTextNode(e,n.join(""))},ol.format.KML.writeCoordinatesTextNode_=function(e,t,o){var r,n,i,l=o[o.length-1],a=l.layout,s=l.stride;a==ol.geom.GeometryLayout.XY||a==ol.geom.GeometryLayout.XYM?r=2:a==ol.geom.GeometryLayout.XYZ||a==ol.geom.GeometryLayout.XYZM?r=3:ol.asserts.assert(!1,34);var p=t.length,u="";if(p>0){for(u+=t[0],n=1;n<r;++n)u+=","+t[n];for(i=s;i<p;i+=s)for(u+=" "+t[i],n=1;n<r;++n)u+=","+t[i+n]}ol.format.XSD.writeStringTextNode(e,u)},ol.format.KML.writeDataNode_=function(e,t,o){e.setAttribute("name",t.name);var r={node:e},n=t.value;"object"==typeof n?(null!==n&&n.displayName&&ol.xml.pushSerializeAndPop(r,ol.format.KML.EXTENDEDDATA_NODE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,[n.displayName],o,["displayName"]),null!==n&&n.value&&ol.xml.pushSerializeAndPop(r,ol.format.KML.EXTENDEDDATA_NODE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,[n.value],o,["value"])):ol.xml.pushSerializeAndPop(r,ol.format.KML.EXTENDEDDATA_NODE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,[n],o,["value"])},ol.format.KML.writeDataNodeName_=function(e,t){ol.format.XSD.writeCDATASection(e,t)},ol.format.KML.writeDataNodeValue_=function(e,t){ol.format.XSD.writeStringTextNode(e,t)},ol.format.KML.writeDocument_=function(e,t,o){ol.xml.pushSerializeAndPop({node:e},ol.format.KML.DOCUMENT_SERIALIZERS_,ol.format.KML.DOCUMENT_NODE_FACTORY_,t,o,void 0,this)},ol.format.KML.writeExtendedData_=function(e,t,o){for(var r={node:e},n=t.names,i=t.values,l=n.length,a=0;a<l;a++)ol.xml.pushSerializeAndPop(r,ol.format.KML.EXTENDEDDATA_NODE_SERIALIZERS_,ol.format.KML.DATA_NODE_FACTORY_,[{name:n[a],value:i[a]}],o)},ol.format.KML.writeIcon_=function(e,t,o){var r={node:e},n=ol.format.KML.ICON_SEQUENCE_[o[o.length-1].node.namespaceURI],i=ol.xml.makeSequence(t,n);ol.xml.pushSerializeAndPop(r,ol.format.KML.ICON_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,i,o,n),n=ol.format.KML.ICON_SEQUENCE_[ol.format.KML.GX_NAMESPACE_URIS_[0]],i=ol.xml.makeSequence(t,n),ol.xml.pushSerializeAndPop(r,ol.format.KML.ICON_SERIALIZERS_,ol.format.KML.GX_NODE_FACTORY_,i,o,n)},ol.format.KML.writeIconStyle_=function(e,t,o){var r={node:e},n={},i=t.getSrc(),l=t.getSize(),a=t.getImageSize(),s={href:i};if(l){s.w=l[0],s.h=l[1];var p=t.getAnchor(),u=t.getOrigin();if(u&&a&&0!==u[0]&&u[1]!==l[1]&&(s.x=u[0],s.y=a[1]-(u[1]+l[1])),p&&(p[0]!==l[0]/2||p[1]!==l[1]/2)){var c={x:p[0],xunits:ol.style.IconAnchorUnits.PIXELS,y:l[1]-p[1],yunits:ol.style.IconAnchorUnits.PIXELS};n.hotSpot=c}}n.Icon=s;var g=t.getScale();1!==g&&(n.scale=g);var d=t.getRotation();0!==d&&(n.heading=d);var h=ol.format.KML.ICON_STYLE_SEQUENCE_[o[o.length-1].node.namespaceURI],y=ol.xml.makeSequence(n,h);ol.xml.pushSerializeAndPop(r,ol.format.KML.ICON_STYLE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,y,o,h)},ol.format.KML.writeLabelStyle_=function(e,t,o){var r={node:e},n={},i=t.getFill();i&&(n.color=i.getColor());var l=t.getScale();l&&1!==l&&(n.scale=l);var a=ol.format.KML.LABEL_STYLE_SEQUENCE_[o[o.length-1].node.namespaceURI],s=ol.xml.makeSequence(n,a);ol.xml.pushSerializeAndPop(r,ol.format.KML.LABEL_STYLE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,s,o,a)},ol.format.KML.writeLineStyle_=function(e,t,o){var r={node:e},n={color:t.getColor(),width:t.getWidth()},i=ol.format.KML.LINE_STYLE_SEQUENCE_[o[o.length-1].node.namespaceURI],l=ol.xml.makeSequence(n,i);ol.xml.pushSerializeAndPop(r,ol.format.KML.LINE_STYLE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,l,o,i)},ol.format.KML.writeMultiGeometry_=function(e,t,o){var r,n,i={node:e},l=t.getType();l==ol.geom.GeometryType.GEOMETRY_COLLECTION?(r=t.getGeometries(),n=ol.format.KML.GEOMETRY_NODE_FACTORY_):l==ol.geom.GeometryType.MULTI_POINT?(r=t.getPoints(),n=ol.format.KML.POINT_NODE_FACTORY_):l==ol.geom.GeometryType.MULTI_LINE_STRING?(r=t.getLineStrings(),n=ol.format.KML.LINE_STRING_NODE_FACTORY_):l==ol.geom.GeometryType.MULTI_POLYGON?(r=t.getPolygons(),n=ol.format.KML.POLYGON_NODE_FACTORY_):ol.asserts.assert(!1,39),ol.xml.pushSerializeAndPop(i,ol.format.KML.MULTI_GEOMETRY_SERIALIZERS_,n,r,o)},ol.format.KML.writeBoundaryIs_=function(e,t,o){ol.xml.pushSerializeAndPop({node:e},ol.format.KML.BOUNDARY_IS_SERIALIZERS_,ol.format.KML.LINEAR_RING_NODE_FACTORY_,[t],o)},ol.format.KML.writePlacemark_=function(e,t,o){var r={node:e};t.getId()&&e.setAttribute("id",t.getId());var n=t.getProperties(),i={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};i[t.getGeometryName()]=1;var l=Object.keys(n||{}).sort().filter(function(e){return!i[e]});if(l.length>0){var a=ol.xml.makeSequence(n,l);ol.xml.pushSerializeAndPop(r,ol.format.KML.PLACEMARK_SERIALIZERS_,ol.format.KML.EXTENDEDDATA_NODE_FACTORY_,[{names:l,values:a}],o)}var s=t.getStyleFunction();if(s){var p=s.call(t,0);if(p){var u=Array.isArray(p)?p[0]:p;this.writeStyles_&&(n.Style=u);var c=u.getText();c&&(n.name=c.getText())}}var g=ol.format.KML.PLACEMARK_SEQUENCE_[o[o.length-1].node.namespaceURI],d=ol.xml.makeSequence(n,g);ol.xml.pushSerializeAndPop(r,ol.format.KML.PLACEMARK_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,d,o,g);var h=o[0],y=t.getGeometry();y&&(y=ol.format.Feature.transformWithOptions(y,!0,h)),ol.xml.pushSerializeAndPop(r,ol.format.KML.PLACEMARK_SERIALIZERS_,ol.format.KML.GEOMETRY_NODE_FACTORY_,[y],o)},ol.format.KML.writePrimitiveGeometry_=function(e,t,o){var r=t.getFlatCoordinates(),n={node:e};n.layout=t.getLayout(),n.stride=t.getStride();var i=t.getProperties();i.coordinates=r;var l=ol.format.KML.PRIMITIVE_GEOMETRY_SEQUENCE_[o[o.length-1].node.namespaceURI],a=ol.xml.makeSequence(i,l);ol.xml.pushSerializeAndPop(n,ol.format.KML.PRIMITIVE_GEOMETRY_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,a,o,l)},ol.format.KML.writePolygon_=function(e,t,o){var r=t.getLinearRings(),n=r.shift(),i={node:e};ol.xml.pushSerializeAndPop(i,ol.format.KML.POLYGON_SERIALIZERS_,ol.format.KML.INNER_BOUNDARY_NODE_FACTORY_,r,o),ol.xml.pushSerializeAndPop(i,ol.format.KML.POLYGON_SERIALIZERS_,ol.format.KML.OUTER_BOUNDARY_NODE_FACTORY_,[n],o)},ol.format.KML.writePolyStyle_=function(e,t,o){ol.xml.pushSerializeAndPop({node:e},ol.format.KML.POLY_STYLE_SERIALIZERS_,ol.format.KML.COLOR_NODE_FACTORY_,[t.getColor()],o)},ol.format.KML.writeScaleTextNode_=function(e,t){ol.format.XSD.writeDecimalTextNode(e,Math.round(1e6*t)/1e6)},ol.format.KML.writeStyle_=function(e,t,o){var r={node:e},n={},i=t.getFill(),l=t.getStroke(),a=t.getImage(),s=t.getText();a instanceof ol.style.Icon&&(n.IconStyle=a),s&&(n.LabelStyle=s),l&&(n.LineStyle=l),i&&(n.PolyStyle=i);var p=ol.format.KML.STYLE_SEQUENCE_[o[o.length-1].node.namespaceURI],u=ol.xml.makeSequence(n,p);ol.xml.pushSerializeAndPop(r,ol.format.KML.STYLE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,u,o,p)},ol.format.KML.writeVec2_=function(e,t){e.setAttribute("x",t.x),e.setAttribute("y",t.y),e.setAttribute("xunits",t.xunits),e.setAttribute("yunits",t.yunits)},ol.format.KML.KML_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["Document","Placemark"]),ol.format.KML.KML_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Document:ol.xml.makeChildAppender(ol.format.KML.writeDocument_),Placemark:ol.xml.makeChildAppender(ol.format.KML.writePlacemark_)}),ol.format.KML.DOCUMENT_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Placemark:ol.xml.makeChildAppender(ol.format.KML.writePlacemark_)}),ol.format.KML.EXTENDEDDATA_NODE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Data:ol.xml.makeChildAppender(ol.format.KML.writeDataNode_),value:ol.xml.makeChildAppender(ol.format.KML.writeDataNodeValue_),displayName:ol.xml.makeChildAppender(ol.format.KML.writeDataNodeName_)}),ol.format.KML.GEOMETRY_TYPE_TO_NODENAME_={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},ol.format.KML.ICON_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["href"],ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,["x","y","w","h"])),ol.format.KML.ICON_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{href:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)},ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,{x:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),y:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),w:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),h:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode)})),ol.format.KML.ICON_STYLE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["scale","heading","Icon","hotSpot"]),ol.format.KML.ICON_STYLE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Icon:ol.xml.makeChildAppender(ol.format.KML.writeIcon_),heading:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),hotSpot:ol.xml.makeChildAppender(ol.format.KML.writeVec2_),scale:ol.xml.makeChildAppender(ol.format.KML.writeScaleTextNode_)}),ol.format.KML.LABEL_STYLE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["color","scale"]),ol.format.KML.LABEL_STYLE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeChildAppender(ol.format.KML.writeColorTextNode_),scale:ol.xml.makeChildAppender(ol.format.KML.writeScaleTextNode_)}),ol.format.KML.LINE_STYLE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["color","width"]),ol.format.KML.LINE_STYLE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeChildAppender(ol.format.KML.writeColorTextNode_),width:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode)}),ol.format.KML.BOUNDARY_IS_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{LinearRing:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_)}),ol.format.KML.MULTI_GEOMETRY_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{LineString:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_),Point:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_),Polygon:ol.xml.makeChildAppender(ol.format.KML.writePolygon_),GeometryCollection:ol.xml.makeChildAppender(ol.format.KML.writeMultiGeometry_)}),ol.format.KML.PLACEMARK_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]),ol.format.KML.PLACEMARK_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{ExtendedData:ol.xml.makeChildAppender(ol.format.KML.writeExtendedData_),MultiGeometry:ol.xml.makeChildAppender(ol.format.KML.writeMultiGeometry_),LineString:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_),LinearRing:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_),Point:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_),Polygon:ol.xml.makeChildAppender(ol.format.KML.writePolygon_),Style:ol.xml.makeChildAppender(ol.format.KML.writeStyle_),address:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),description:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),name:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),open:ol.xml.makeChildAppender(ol.format.XSD.writeBooleanTextNode),phoneNumber:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),styleUrl:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),visibility:ol.xml.makeChildAppender(ol.format.XSD.writeBooleanTextNode)}),ol.format.KML.PRIMITIVE_GEOMETRY_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["extrude","tessellate","altitudeMode","coordinates"]),ol.format.KML.PRIMITIVE_GEOMETRY_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{extrude:ol.xml.makeChildAppender(ol.format.XSD.writeBooleanTextNode),tessellate:ol.xml.makeChildAppender(ol.format.XSD.writeBooleanTextNode),altitudeMode:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),coordinates:ol.xml.makeChildAppender(ol.format.KML.writeCoordinatesTextNode_)}),ol.format.KML.POLYGON_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{outerBoundaryIs:ol.xml.makeChildAppender(ol.format.KML.writeBoundaryIs_),innerBoundaryIs:ol.xml.makeChildAppender(ol.format.KML.writeBoundaryIs_)}),ol.format.KML.POLY_STYLE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeChildAppender(ol.format.KML.writeColorTextNode_)}),ol.format.KML.STYLE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),ol.format.KML.STYLE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{IconStyle:ol.xml.makeChildAppender(ol.format.KML.writeIconStyle_),LabelStyle:ol.xml.makeChildAppender(ol.format.KML.writeLabelStyle_),LineStyle:ol.xml.makeChildAppender(ol.format.KML.writeLineStyle_),PolyStyle:ol.xml.makeChildAppender(ol.format.KML.writePolyStyle_)}),ol.format.KML.GX_NODE_FACTORY_=function(e,t,o){return ol.xml.createElementNS(ol.format.KML.GX_NAMESPACE_URIS_[0],"gx:"+o)},ol.format.KML.DOCUMENT_NODE_FACTORY_=function(e,t,o){return ol.xml.createElementNS(t[t.length-1].node.namespaceURI,"Placemark")},ol.format.KML.GEOMETRY_NODE_FACTORY_=function(e,t,o){if(e)return ol.xml.createElementNS(t[t.length-1].node.namespaceURI,ol.format.KML.GEOMETRY_TYPE_TO_NODENAME_[e.getType()])},ol.format.KML.COLOR_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("color"),ol.format.KML.DATA_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("Data"),ol.format.KML.EXTENDEDDATA_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("ExtendedData"),ol.format.KML.INNER_BOUNDARY_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("innerBoundaryIs"),ol.format.KML.POINT_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("Point"),ol.format.KML.LINE_STRING_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("LineString"),ol.format.KML.LINEAR_RING_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("LinearRing"),ol.format.KML.POLYGON_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("Polygon"),ol.format.KML.OUTER_BOUNDARY_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("outerBoundaryIs"),ol,ol.format.KML.prototype.writeFeaturesNode=function(e,t){t=this.adaptOptions(t);var o=ol.xml.createElementNS(ol.format.KML.NAMESPACE_URIS_[4],"kml"),r="http://www.w3.org/2000/xmlns/";ol.xml.setAttributeNS(o,r,"xmlns:gx",ol.format.KML.GX_NAMESPACE_URIS_[0]),ol.xml.setAttributeNS(o,r,"xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),ol.xml.setAttributeNS(o,"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",ol.format.KML.SCHEMA_LOCATION_);var n={node:o},i={};e.length>1?i.Document=e:1==e.length&&(i.Placemark=e[0]);var l=ol.format.KML.KML_SEQUENCE_[o.namespaceURI],a=ol.xml.makeSequence(i,l);return ol.xml.pushSerializeAndPop(n,ol.format.KML.KML_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,a,[t],l,this),o},goog.provide("ol.ext.PBF"),ol.ext.PBF=function(){},(function(){!function(e){"use strict";var t=function(e,t,o,r,n){var i,l,a=8*n-r-1,s=(1<<a)-1,p=s>>1,u=-7,c=o?n-1:0,g=o?-1:1,d=e[t+c];for(c+=g,i=d&(1<<-u)-1,d>>=-u,u+=a;u>0;i=256*i+e[t+c],c+=g,u-=8);for(l=i&(1<<-u)-1,i>>=-u,u+=r;u>0;l=256*l+e[t+c],c+=g,u-=8);if(0===i)i=1-p;else{if(i===s)return l?NaN:1/0*(d?-1:1);l+=Math.pow(2,r),i-=p}return(d?-1:1)*l*Math.pow(2,i-r)},o=function(e,t,o,r,n,i){var l,a,s,p=8*i-n-1,u=(1<<p)-1,c=u>>1,g=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:i-1,h=r?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,l=u):(l=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-l))<1&&(l--,s*=2),(t+=l+c>=1?g/s:g*Math.pow(2,1-c))*s>=2&&(l++,s/=2),l+c>=u?(a=0,l=u):l+c>=1?(a=(t*s-1)*Math.pow(2,n),l+=c):(a=t*Math.pow(2,c-1)*Math.pow(2,n),l=0));n>=8;e[o+d]=255&a,d+=h,a/=256,n-=8);for(l=l<<n|a,p+=n;p>0;e[o+d]=255&l,d+=h,l/=256,p-=8);e[o+d-h]|=128*y},r=n;function n(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}function i(e){return e.type===n.Bytes?e.readVarint()+e.pos:e.pos+1}function l(e,t,o){return o?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function a(e,t,o){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.ceil(Math.log(t)/(7*Math.LN2));o.realloc(r);for(var n=o.pos-1;n>=e;n--)o.buf[n+r]=o.buf[n]}function s(e,t){for(var o=0;o<e.length;o++)t.writeVarint(e[o])}function p(e,t){for(var o=0;o<e.length;o++)t.writeSVarint(e[o])}function u(e,t){for(var o=0;o<e.length;o++)t.writeFloat(e[o])}function c(e,t){for(var o=0;o<e.length;o++)t.writeDouble(e[o])}function g(e,t){for(var o=0;o<e.length;o++)t.writeBoolean(e[o])}function d(e,t){for(var o=0;o<e.length;o++)t.writeFixed32(e[o])}function h(e,t){for(var o=0;o<e.length;o++)t.writeSFixed32(e[o])}function y(e,t){for(var o=0;o<e.length;o++)t.writeFixed64(e[o])}function f(e,t){for(var o=0;o<e.length;o++)t.writeSFixed64(e[o])}function m(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function v(e,t,o){e[o]=t,e[o+1]=t>>>8,e[o+2]=t>>>16,e[o+3]=t>>>24}function _(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}n.Varint=0,n.Fixed64=1,n.Bytes=2,n.Fixed32=5,n.prototype={destroy:function(){this.buf=null},readFields:function(e,t,o){for(o=o||this.length;this.pos<o;){var r=this.readVarint(),n=r>>3,i=this.pos;this.type=7&r,e(n,t,this),this.pos===i&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=m(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=_(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=m(this.buf,this.pos)+4294967296*m(this.buf,this.pos+4);return this.pos+=8,e},readSFixed64:function(){var e=m(this.buf,this.pos)+4294967296*_(this.buf,this.pos+4);return this.pos+=8,e},readFloat:function(){var e=t(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=t(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,o,r=this.buf;return t=127&(o=r[this.pos++]),o<128?t:(t|=(127&(o=r[this.pos++]))<<7,o<128?t:(t|=(127&(o=r[this.pos++]))<<14,o<128?t:(t|=(127&(o=r[this.pos++]))<<21,o<128?t:function(e,t,o){var r,n,i=o.buf;if(r=(112&(n=i[o.pos++]))>>4,n<128)return l(e,r,t);if(r|=(127&(n=i[o.pos++]))<<3,n<128)return l(e,r,t);if(r|=(127&(n=i[o.pos++]))<<10,n<128)return l(e,r,t);if(r|=(127&(n=i[o.pos++]))<<17,n<128)return l(e,r,t);if(r|=(127&(n=i[o.pos++]))<<24,n<128)return l(e,r,t);if(r|=(1&(n=i[o.pos++]))<<31,n<128)return l(e,r,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(o=r[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=function(e,t,o){for(var r="",n=t;n<o;){var i,l,a,s=e[n],p=null,u=s>239?4:s>223?3:s>191?2:1;if(n+u>o)break;1===u?s<128&&(p=s):2===u?128==(192&(i=e[n+1]))&&(p=(31&s)<<6|63&i)<=127&&(p=null):3===u?(l=e[n+2],128==(192&(i=e[n+1]))&&128==(192&l)&&((p=(15&s)<<12|(63&i)<<6|63&l)<=2047||p>=55296&&p<=57343)&&(p=null)):4===u&&(l=e[n+2],a=e[n+3],128==(192&(i=e[n+1]))&&128==(192&l)&&128==(192&a)&&((p=(15&s)<<18|(63&i)<<12|(63&l)<<6|63&a)<=65535||p>=1114112)&&(p=null)),null===p?(p=65533,u=1):p>65535&&(p-=65536,r+=String.fromCharCode(p>>>10&1023|55296),p=56320|1023&p),r+=String.fromCharCode(p),n+=u}return r}(this.buf,this.pos,e);return this.pos=e,t},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){var o=i(this);for(e=e||[];this.pos<o;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===n.Varint)for(;this.buf[this.pos++]>127;);else if(t===n.Bytes)this.pos=this.readVarint()+this.pos;else if(t===n.Fixed32)this.pos+=4;else{if(t!==n.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var o=new Uint8Array(t);o.set(this.buf),this.buf=o,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),v(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),v(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),v(this.buf,-1&e,this.pos),v(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),v(this.buf,-1&e,this.pos),v(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var o,r;if(e>=0?(o=e%4294967296|0,r=e/4294967296|0):(r=~(-e/4294967296),4294967295^(o=~(-e%4294967296))?o=o+1|0:(o=0,r=r+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,o){o.buf[o.pos++]=127&e|128,e>>>=7,o.buf[o.pos++]=127&e|128,e>>>=7,o.buf[o.pos++]=127&e|128,e>>>=7,o.buf[o.pos++]=127&e|128,o.buf[o.pos]=127&(e>>>=7)}(o,0,t),function(e,t){var o=(7&e)<<4;t.buf[t.pos++]|=o|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}(r,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,o){for(var r,n,i=0;i<t.length;i++){if((r=t.charCodeAt(i))>55295&&r<57344){if(!n){r>56319||i+1===t.length?(e[o++]=239,e[o++]=191,e[o++]=189):n=r;continue}if(r<56320){e[o++]=239,e[o++]=191,e[o++]=189,n=r;continue}r=n-55296<<10|r-56320|65536,n=null}else n&&(e[o++]=239,e[o++]=191,e[o++]=189,n=null);r<128?e[o++]=r:(r<2048?e[o++]=r>>6|192:(r<65536?e[o++]=r>>12|224:(e[o++]=r>>18|240,e[o++]=r>>12&63|128),e[o++]=r>>6&63|128),e[o++]=63&r|128)}return o}(this.buf,e,this.pos);var o=this.pos-t;o>=128&&a(t,o,this),this.pos=t-1,this.writeVarint(o),this.pos+=o},writeFloat:function(e){this.realloc(4),o(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),o(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var o=0;o<t;o++)this.buf[this.pos++]=e[o]},writeRawMessage:function(e,t){this.pos++;var o=this.pos;e(t,this);var r=this.pos-o;r>=128&&a(o,r,this),this.pos=o-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,o){this.writeTag(e,n.Bytes),this.writeRawMessage(t,o)},writePackedVarint:function(e,t){this.writeMessage(e,s,t)},writePackedSVarint:function(e,t){this.writeMessage(e,p,t)},writePackedBoolean:function(e,t){this.writeMessage(e,g,t)},writePackedFloat:function(e,t){this.writeMessage(e,u,t)},writePackedDouble:function(e,t){this.writeMessage(e,c,t)},writePackedFixed32:function(e,t){this.writeMessage(e,d,t)},writePackedSFixed32:function(e,t){this.writeMessage(e,h,t)},writePackedFixed64:function(e,t){this.writeMessage(e,y,t)},writePackedSFixed64:function(e,t){this.writeMessage(e,f,t)},writeBytesField:function(e,t){this.writeTag(e,n.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,n.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,n.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,n.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,n.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,n.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,n.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,n.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,n.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,n.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}},e.default=r}(this.PBF=this.PBF||{})}).call(ol.ext),ol.ext.PBF=ol.ext.PBF.default,goog.provide("ol.render.Feature"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.extent"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.flat.center"),goog.require("ol.geom.flat.interiorpoint"),goog.require("ol.geom.flat.interpolate"),goog.require("ol.geom.flat.transform"),goog.require("ol.transform"),ol.render.Feature=function(e,t,o,r,n){this.id_=n,this.type_=e,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=o,this.properties_=r,this.tmpTransform_=ol.transform.create()},ol.render.Feature.prototype.get=function(e){return this.properties_[e]},ol.render.Feature.prototype.getEnds=ol.render.Feature.prototype.getEndss=function(){return this.ends_},ol.render.Feature.prototype.getExtent=function(){return this.extent_||(this.extent_=this.type_===ol.geom.GeometryType.POINT?ol.extent.createOrUpdateFromCoordinate(this.flatCoordinates_):ol.extent.createOrUpdateFromFlatCoordinates(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_},ol.render.Feature.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){var e=ol.extent.getCenter(this.getExtent());this.flatInteriorPoints_=ol.geom.flat.interiorpoint.linearRings(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_},ol.render.Feature.prototype.getFlatInteriorPoints=function(){if(!this.flatInteriorPoints_){var e=ol.geom.flat.center.linearRingss(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=ol.geom.flat.interiorpoint.linearRingss(this.flatCoordinates_,0,this.ends_,2,e)}return this.flatInteriorPoints_},ol.render.Feature.prototype.getFlatMidpoint=function(){return this.flatMidpoints_||(this.flatMidpoints_=ol.geom.flat.interpolate.lineString(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_},ol.render.Feature.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=[];for(var e=this.flatCoordinates_,t=0,o=this.ends_,r=0,n=o.length;r<n;++r){var i=o[r],l=ol.geom.flat.interpolate.lineString(e,t,i,2,.5);ol.array.extend(this.flatMidpoints_,l),t=i}}return this.flatMidpoints_},ol.render.Feature.prototype.getId=function(){return this.id_},ol.render.Feature.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_},ol.render.Feature.prototype.getFlatCoordinates=ol.render.Feature.prototype.getOrientedFlatCoordinates,ol.render.Feature.prototype.getGeometry=function(){return this},ol.render.Feature.prototype.getProperties=function(){return this.properties_},ol.render.Feature.prototype.getSimplifiedGeometry=ol.render.Feature.prototype.getGeometry,ol.render.Feature.prototype.getStride=function(){return 2},ol.render.Feature.prototype.getStyleFunction=ol.nullFunction,ol.render.Feature.prototype.getType=function(){return this.type_},ol.render.Feature.prototype.transform=function(e,t){var o=e.getExtent(),r=e.getWorldExtent(),n=ol.extent.getHeight(r)/ol.extent.getHeight(o),i=this.tmpTransform_;ol.transform.compose(i,r[0],r[3],n,-n,0,0,0),ol.geom.flat.transform.transform2D(this.flatCoordinates_,0,this.flatCoordinates_.length,2,i,this.flatCoordinates_)},goog.provide("ol.format.MVT"),goog.require("ol"),goog.require("ol.asserts"),goog.require("ol.ext.PBF"),goog.require("ol.format.Feature"),goog.require("ol.format.FormatType"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.LineString"),goog.require("ol.geom.MultiLineString"),goog.require("ol.geom.MultiPoint"),goog.require("ol.geom.MultiPolygon"),goog.require("ol.geom.Point"),goog.require("ol.geom.Polygon"),goog.require("ol.geom.flat.orient"),goog.require("ol.proj.Projection"),goog.require("ol.proj.Units"),goog.require("ol.render.Feature"),ol.format.MVT=function(e){ol.format.Feature.call(this);var t=e||{};this.defaultDataProjection=new ol.proj.Projection({code:"EPSG:3857",units:ol.proj.Units.TILE_PIXELS}),this.featureClass_=t.featureClass?t.featureClass:ol.render.Feature,this.geometryName_=t.geometryName,this.layerName_=t.layerName?t.layerName:"layer",this.layers_=t.layers?t.layers:null,this.extent_=null},ol.inherits(ol.format.MVT,ol.format.Feature),ol.format.MVT.pbfReaders_={layers:function(e,t,o){if(3===e){var r={keys:[],values:[],features:[]},n=o.readVarint()+o.pos;o.readFields(ol.format.MVT.pbfReaders_.layer,r,n),r.length=r.features.length,r.length&&(t[r.name]=r)}},layer:function(e,t,o){if(15===e)t.version=o.readVarint();else if(1===e)t.name=o.readString();else if(5===e)t.extent=o.readVarint();else if(2===e)t.features.push(o.pos);else if(3===e)t.keys.push(o.readString());else if(4===e){for(var r=null,n=o.readVarint()+o.pos;o.pos<n;)r=1==(e=o.readVarint()>>3)?o.readString():2===e?o.readFloat():3===e?o.readDouble():4===e?o.readVarint64():5===e?o.readVarint():6===e?o.readSVarint():7===e?o.readBoolean():null;t.values.push(r)}},feature:function(e,t,o){if(1==e)t.id=o.readVarint();else if(2==e)for(var r=o.readVarint()+o.pos;o.pos<r;){var n=t.layer.keys[o.readVarint()],i=t.layer.values[o.readVarint()];t.properties[n]=i}else 3==e?t.type=o.readVarint():4==e&&(t.geometry=o.pos)}},ol.format.MVT.readRawFeature_=function(e,t,o){e.pos=t.features[o];var r=e.readVarint()+e.pos,n={layer:t,type:0,properties:{}};return e.readFields(ol.format.MVT.pbfReaders_.feature,n,r),n},ol.format.MVT.readRawGeometry_=function(e,t,o,r){e.pos=t.geometry;for(var n=e.readVarint()+e.pos,i=1,l=0,a=0,s=0,p=0,u=0;e.pos<n;){if(!l){var c=e.readVarint();i=7&c,l=c>>3}l--,1===i||2===i?(a+=e.readSVarint(),s+=e.readSVarint(),1===i&&p>u&&(r.push(p),u=p),o.push(a,s),p+=2):7===i?p>u&&(o.push(o[u],o[u+1]),p+=2):ol.asserts.assert(!1,59)}p>u&&(r.push(p),u=p)},ol.format.MVT.getGeometryType_=function(e,t){var o;return 1===e?o=1===t?ol.geom.GeometryType.POINT:ol.geom.GeometryType.MULTI_POINT:2===e?o=1===t?ol.geom.GeometryType.LINE_STRING:ol.geom.GeometryType.MULTI_LINE_STRING:3===e&&(o=ol.geom.GeometryType.POLYGON),o},ol.format.MVT.prototype.createFeature_=function(e,t,o){var r,n=t.type;if(0===n)return null;var i=t.id,l=t.properties;l[this.layerName_]=t.layer.name;var a=[],s=[];ol.format.MVT.readRawGeometry_(e,t,a,s);var p=ol.format.MVT.getGeometryType_(n,s.length);if(this.featureClass_===ol.render.Feature)r=new this.featureClass_(p,a,s,l,i);else{var u;if(p==ol.geom.GeometryType.POLYGON){for(var c=[],g=0,d=0,h=0,y=s.length;h<y;++h){var f=s[h];ol.geom.flat.orient.linearRingIsClockwise(a,g,f,2)||(c.push(s.slice(d,h)),d=h),g=f}c.length>1?(s=c,u=new ol.geom.MultiPolygon(null)):u=new ol.geom.Polygon(null)}else u=p===ol.geom.GeometryType.POINT?new ol.geom.Point(null):p===ol.geom.GeometryType.LINE_STRING?new ol.geom.LineString(null):p===ol.geom.GeometryType.POLYGON?new ol.geom.Polygon(null):p===ol.geom.GeometryType.MULTI_POINT?new ol.geom.MultiPoint(null):p===ol.geom.GeometryType.MULTI_LINE_STRING?new ol.geom.MultiLineString(null):null;u.setFlatCoordinates(ol.geom.GeometryLayout.XY,a,s),r=new this.featureClass_,this.geometryName_&&r.setGeometryName(this.geometryName_);var m=ol.format.Feature.transformWithOptions(u,!1,this.adaptOptions(o));r.setGeometry(m),r.setId(i),r.setProperties(l)}return r},ol.format.MVT.prototype.getLastExtent=function(){return this.extent_},ol.format.MVT.prototype.getType=function(){return ol.format.FormatType.ARRAY_BUFFER},ol.format.MVT.prototype.readFeatures=function(e,t){var o,r=this.layers_,n=new ol.ext.PBF(e),i=n.readFields(ol.format.MVT.pbfReaders_.layers,{}),l=[];for(var a in i)if(!r||-1!=r.indexOf(a)){for(var s,p=0,u=(o=i[a]).length;p<u;++p)s=ol.format.MVT.readRawFeature_(n,o,p),l.push(this.createFeature_(n,s));this.extent_=o?[0,0,o.extent,o.extent]:null}return l},ol.format.MVT.prototype.readProjection=function(e){return this.defaultDataProjection},ol.format.MVT.prototype.setLayers=function(e){this.layers_=e},ol.format.MVT.prototype.readFeature=function(){},ol.format.MVT.prototype.readGeometry=function(){},ol.format.MVT.prototype.writeFeature=function(){},ol.format.MVT.prototype.writeGeometry=function(){},ol.format.MVT.prototype.writeFeatures=function(){},goog.provide("ol.format.OSMXML"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.Feature"),goog.require("ol.format.Feature"),goog.require("ol.format.XMLFeature"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.LineString"),goog.require("ol.geom.Point"),goog.require("ol.geom.Polygon"),goog.require("ol.obj"),goog.require("ol.proj"),goog.require("ol.xml"),ol.format.OSMXML=function(){ol.format.XMLFeature.call(this),this.defaultDataProjection=ol.proj.get("EPSG:4326")},ol.inherits(ol.format.OSMXML,ol.format.XMLFeature),ol.format.OSMXML.readNode_=function(e,t){var o=t[0],r=t[t.length-1],n=e.getAttribute("id"),i=[parseFloat(e.getAttribute("lon")),parseFloat(e.getAttribute("lat"))];r.nodes[n]=i;var l=ol.xml.pushParseAndPop({tags:{}},ol.format.OSMXML.NODE_PARSERS_,e,t);if(!ol.obj.isEmpty(l.tags)){var a=new ol.geom.Point(i);ol.format.Feature.transformWithOptions(a,!1,o);var s=new ol.Feature(a);s.setId(n),s.setProperties(l.tags),r.features.push(s)}},ol.format.OSMXML.readWay_=function(e,t){var o=e.getAttribute("id"),r=ol.xml.pushParseAndPop({id:o,ndrefs:[],tags:{}},ol.format.OSMXML.WAY_PARSERS_,e,t);t[t.length-1].ways.push(r)},ol.format.OSMXML.readNd_=function(e,t){t[t.length-1].ndrefs.push(e.getAttribute("ref"))},ol.format.OSMXML.readTag_=function(e,t){t[t.length-1].tags[e.getAttribute("k")]=e.getAttribute("v")},ol.format.OSMXML.NAMESPACE_URIS_=[null],ol.format.OSMXML.WAY_PARSERS_=ol.xml.makeStructureNS(ol.format.OSMXML.NAMESPACE_URIS_,{nd:ol.format.OSMXML.readNd_,tag:ol.format.OSMXML.readTag_}),ol.format.OSMXML.PARSERS_=ol.xml.makeStructureNS(ol.format.OSMXML.NAMESPACE_URIS_,{node:ol.format.OSMXML.readNode_,way:ol.format.OSMXML.readWay_}),ol.format.OSMXML.NODE_PARSERS_=ol.xml.makeStructureNS(ol.format.OSMXML.NAMESPACE_URIS_,{tag:ol.format.OSMXML.readTag_}),ol,ol.format.OSMXML.prototype.readFeaturesFromNode=function(e,t){var o=this.getReadOptions(e,t);if("osm"==e.localName){for(var r=ol.xml.pushParseAndPop({nodes:{},ways:[],features:[]},ol.format.OSMXML.PARSERS_,e,[o]),n=0;n<r.ways.length;n++){for(var i,l=r.ways[n],a=[],s=0,p=l.ndrefs.length;s<p;s++)ol.array.extend(a,r.nodes[l.ndrefs[s]]);l.ndrefs[0]==l.ndrefs[l.ndrefs.length-1]?(i=new ol.geom.Polygon(null)).setFlatCoordinates(ol.geom.GeometryLayout.XY,a,[a.length]):(i=new ol.geom.LineString(null)).setFlatCoordinates(ol.geom.GeometryLayout.XY,a),ol.format.Feature.transformWithOptions(i,!1,o);var u=new ol.Feature(i);u.setId(l.id),u.setProperties(l.tags),r.features.push(u)}if(r.features)return r.features}return[]},ol,ol.format.OSMXML.prototype.writeFeatureNode=function(e,t){},ol.format.OSMXML.prototype.writeFeaturesNode=function(e,t){},ol.format.OSMXML.prototype.writeGeometryNode=function(e,t){},goog.provide("ol.format.XLink"),ol.format.XLink.NAMESPACE_URI="http://www.w3.org/1999/xlink",ol.format.XLink.readHref=function(e){return e.getAttributeNS(ol.format.XLink.NAMESPACE_URI,"href")},goog.provide("ol.format.XML"),goog.require("ol.xml"),ol.format.XML=function(){},ol.format.XML.prototype.read=function(e){if(ol.xml.isDocument(e))return this.readFromDocument(e);if(ol.xml.isNode(e))return this.readFromNode(e);if("string"==typeof e){var t=ol.xml.parse(e);return this.readFromDocument(t)}return null},ol.format.XML.prototype.readFromDocument=function(e){},ol.format.XML.prototype.readFromNode=function(e){},goog.provide("ol.format.OWS"),goog.require("ol"),goog.require("ol.format.XLink"),goog.require("ol.format.XML"),goog.require("ol.format.XSD"),goog.require("ol.xml"),ol.format.OWS=function(){ol.format.XML.call(this)},ol.inherits(ol.format.OWS,ol.format.XML),ol.format.OWS.prototype.readFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readFromNode(t);return null},ol.format.OWS.prototype.readFromNode=function(e){return ol.xml.pushParseAndPop({},ol.format.OWS.PARSERS_,e,[])||null},ol.format.OWS.readAddress_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.OWS.ADDRESS_PARSERS_,e,t)},ol.format.OWS.readAllowedValues_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.OWS.ALLOWED_VALUES_PARSERS_,e,t)},ol.format.OWS.readConstraint_=function(e,t){var o=e.getAttribute("name");if(o)return ol.xml.pushParseAndPop({name:o},ol.format.OWS.CONSTRAINT_PARSERS_,e,t)},ol.format.OWS.readContactInfo_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.OWS.CONTACT_INFO_PARSERS_,e,t)},ol.format.OWS.readDcp_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.OWS.DCP_PARSERS_,e,t)},ol.format.OWS.readGet_=function(e,t){var o=ol.format.XLink.readHref(e);if(o)return ol.xml.pushParseAndPop({href:o},ol.format.OWS.REQUEST_METHOD_PARSERS_,e,t)},ol.format.OWS.readHttp_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.OWS.HTTP_PARSERS_,e,t)},ol.format.OWS.readOperation_=function(e,t){var o=e.getAttribute("name"),r=ol.xml.pushParseAndPop({},ol.format.OWS.OPERATION_PARSERS_,e,t);r&&(t[t.length-1][o]=r)},ol.format.OWS.readOperationsMetadata_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.OWS.OPERATIONS_METADATA_PARSERS_,e,t)},ol.format.OWS.readPhone_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.OWS.PHONE_PARSERS_,e,t)},ol.format.OWS.readServiceIdentification_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.OWS.SERVICE_IDENTIFICATION_PARSERS_,e,t)},ol.format.OWS.readServiceContact_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.OWS.SERVICE_CONTACT_PARSERS_,e,t)},ol.format.OWS.readServiceProvider_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.OWS.SERVICE_PROVIDER_PARSERS_,e,t)},ol.format.OWS.readValue_=function(e,t){return ol.format.XSD.readString(e)},ol.format.OWS.NAMESPACE_URIS_=[null,"http://www.opengis.net/ows/1.1"],ol.format.OWS.PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{ServiceIdentification:ol.xml.makeObjectPropertySetter(ol.format.OWS.readServiceIdentification_),ServiceProvider:ol.xml.makeObjectPropertySetter(ol.format.OWS.readServiceProvider_),OperationsMetadata:ol.xml.makeObjectPropertySetter(ol.format.OWS.readOperationsMetadata_)}),ol.format.OWS.ADDRESS_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{DeliveryPoint:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),City:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),AdministrativeArea:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),PostalCode:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Country:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ElectronicMailAddress:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}),ol.format.OWS.ALLOWED_VALUES_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Value:ol.xml.makeObjectPropertyPusher(ol.format.OWS.readValue_)}),ol.format.OWS.CONSTRAINT_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{AllowedValues:ol.xml.makeObjectPropertySetter(ol.format.OWS.readAllowedValues_)}),ol.format.OWS.CONTACT_INFO_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Phone:ol.xml.makeObjectPropertySetter(ol.format.OWS.readPhone_),Address:ol.xml.makeObjectPropertySetter(ol.format.OWS.readAddress_)}),ol.format.OWS.DCP_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{HTTP:ol.xml.makeObjectPropertySetter(ol.format.OWS.readHttp_)}),ol.format.OWS.HTTP_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Get:ol.xml.makeObjectPropertyPusher(ol.format.OWS.readGet_),Post:void 0}),ol.format.OWS.OPERATION_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{DCP:ol.xml.makeObjectPropertySetter(ol.format.OWS.readDcp_)}),ol.format.OWS.OPERATIONS_METADATA_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Operation:ol.format.OWS.readOperation_}),ol.format.OWS.PHONE_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Voice:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Facsimile:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}),ol.format.OWS.REQUEST_METHOD_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Constraint:ol.xml.makeObjectPropertyPusher(ol.format.OWS.readConstraint_)}),ol.format.OWS.SERVICE_CONTACT_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{IndividualName:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),PositionName:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ContactInfo:ol.xml.makeObjectPropertySetter(ol.format.OWS.readContactInfo_)}),ol.format.OWS.SERVICE_IDENTIFICATION_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Abstract:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),AccessConstraints:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Fees:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ServiceTypeVersion:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ServiceType:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}),ol.format.OWS.SERVICE_PROVIDER_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{ProviderName:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ProviderSite:ol.xml.makeObjectPropertySetter(ol.format.XLink.readHref),ServiceContact:ol.xml.makeObjectPropertySetter(ol.format.OWS.readServiceContact_)}),goog.provide("ol.geom.flat.flip"),ol.geom.flat.flip.flipXY=function(e,t,o,r,n,i){var l,a;void 0!==n?(l=n,a=void 0!==i?i:0):(l=[],a=0);for(var s=t;s<o;){var p=e[s++];l[a++]=e[s++],l[a++]=p;for(var u=2;u<r;++u)l[a++]=e[s++]}return l.length=a,l},goog.provide("ol.format.Polyline"),goog.require("ol"),goog.require("ol.asserts"),goog.require("ol.Feature"),goog.require("ol.format.Feature"),goog.require("ol.format.TextFeature"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.LineString"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.geom.flat.flip"),goog.require("ol.geom.flat.inflate"),goog.require("ol.proj"),ol.format.Polyline=function(e){var t=e||{};ol.format.TextFeature.call(this),this.defaultDataProjection=ol.proj.get("EPSG:4326"),this.factor_=t.factor?t.factor:1e5,this.geometryLayout_=t.geometryLayout?t.geometryLayout:ol.geom.GeometryLayout.XY},ol.inherits(ol.format.Polyline,ol.format.TextFeature),ol.format.Polyline.encodeDeltas=function(e,t,o){var r,n,i,l=o||1e5,a=new Array(t);for(r=0;r<t;++r)a[r]=0;for(n=0,i=e.length;n<i;)for(r=0;r<t;++r,++n){var s=e[n],p=s-a[r];a[r]=s,e[n]=p}return ol.format.Polyline.encodeFloats(e,l)},ol.format.Polyline.decodeDeltas=function(e,t,o){var r,n=o||1e5,i=new Array(t);for(r=0;r<t;++r)i[r]=0;var l,a,s=ol.format.Polyline.decodeFloats(e,n);for(l=0,a=s.length;l<a;)for(r=0;r<t;++r,++l)i[r]+=s[l],s[l]=i[r];return s},ol.format.Polyline.encodeFloats=function(e,t){var o,r,n=t||1e5;for(o=0,r=e.length;o<r;++o)e[o]=Math.round(e[o]*n);return ol.format.Polyline.encodeSignedIntegers(e)},ol.format.Polyline.decodeFloats=function(e,t){var o,r,n=t||1e5,i=ol.format.Polyline.decodeSignedIntegers(e);for(o=0,r=i.length;o<r;++o)i[o]/=n;return i},ol.format.Polyline.encodeSignedIntegers=function(e){var t,o;for(t=0,o=e.length;t<o;++t){var r=e[t];e[t]=r<0?~(r<<1):r<<1}return ol.format.Polyline.encodeUnsignedIntegers(e)},ol.format.Polyline.decodeSignedIntegers=function(e){var t,o,r=ol.format.Polyline.decodeUnsignedIntegers(e);for(t=0,o=r.length;t<o;++t){var n=r[t];r[t]=1&n?~(n>>1):n>>1}return r},ol.format.Polyline.encodeUnsignedIntegers=function(e){var t,o,r="";for(t=0,o=e.length;t<o;++t)r+=ol.format.Polyline.encodeUnsignedInteger(e[t]);return r},ol.format.Polyline.decodeUnsignedIntegers=function(e){var t,o,r=[],n=0,i=0;for(t=0,o=e.length;t<o;++t){var l=e.charCodeAt(t)-63;n|=(31&l)<<i,l<32?(r.push(n),n=0,i=0):i+=5}return r},ol.format.Polyline.encodeUnsignedInteger=function(e){for(var t,o="";e>=32;)t=63+(32|31&e),o+=String.fromCharCode(t),e>>=5;return t=e+63,o+String.fromCharCode(t)},ol,ol.format.Polyline.prototype.readFeatureFromText=function(e,t){var o=this.readGeometryFromText(e,t);return new ol.Feature(o)},ol,ol.format.Polyline.prototype.readFeaturesFromText=function(e,t){return[this.readFeatureFromText(e,t)]},ol,ol.format.Polyline.prototype.readGeometryFromText=function(e,t){var o=ol.geom.SimpleGeometry.getStrideForLayout(this.geometryLayout_),r=ol.format.Polyline.decodeDeltas(e,o,this.factor_);ol.geom.flat.flip.flipXY(r,0,r.length,o,r);var n=ol.geom.flat.inflate.coordinates(r,0,r.length,o);return ol.format.Feature.transformWithOptions(new ol.geom.LineString(n,this.geometryLayout_),!1,this.adaptOptions(t))},ol,ol.format.Polyline.prototype.writeFeatureText=function(e,t){var o=e.getGeometry();return o?this.writeGeometryText(o,t):(ol.asserts.assert(!1,40),"")},ol.format.Polyline.prototype.writeFeaturesText=function(e,t){return this.writeFeatureText(e[0],t)},ol,ol.format.Polyline.prototype.writeGeometryText=function(e,t){var o=(e=ol.format.Feature.transformWithOptions(e,!0,this.adaptOptions(t))).getFlatCoordinates(),r=e.getStride();return ol.geom.flat.flip.flipXY(o,0,o.length,r,o),ol.format.Polyline.encodeDeltas(o,r,this.factor_)},goog.provide("ol.format.TopoJSON"),goog.require("ol"),goog.require("ol.Feature"),goog.require("ol.format.Feature"),goog.require("ol.format.JSONFeature"),goog.require("ol.geom.LineString"),goog.require("ol.geom.MultiLineString"),goog.require("ol.geom.MultiPoint"),goog.require("ol.geom.MultiPolygon"),goog.require("ol.geom.Point"),goog.require("ol.geom.Polygon"),goog.require("ol.proj"),ol.format.TopoJSON=function(e){var t=e||{};ol.format.JSONFeature.call(this),this.layerName_=t.layerName,this.layers_=t.layers?t.layers:null,this.defaultDataProjection=ol.proj.get(t.defaultDataProjection?t.defaultDataProjection:"EPSG:4326")},ol.inherits(ol.format.TopoJSON,ol.format.JSONFeature),ol.format.TopoJSON.concatenateArcs_=function(e,t){var o,r,n,i,l,a,s=[];for(n=0,i=e.length;n<i;++n)o=e[n],n>0&&s.pop(),r=o>=0?t[o]:t[~o].slice().reverse(),s.push.apply(s,r);for(l=0,a=s.length;l<a;++l)s[l]=s[l].slice();return s},ol.format.TopoJSON.readPointGeometry_=function(e,t,o){var r=e.coordinates;return t&&o&&ol.format.TopoJSON.transformVertex_(r,t,o),new ol.geom.Point(r)},ol.format.TopoJSON.readMultiPointGeometry_=function(e,t,o){var r,n,i=e.coordinates;if(t&&o)for(r=0,n=i.length;r<n;++r)ol.format.TopoJSON.transformVertex_(i[r],t,o);return new ol.geom.MultiPoint(i)},ol.format.TopoJSON.readLineStringGeometry_=function(e,t){var o=ol.format.TopoJSON.concatenateArcs_(e.arcs,t);return new ol.geom.LineString(o)},ol.format.TopoJSON.readMultiLineStringGeometry_=function(e,t){var o,r,n=[];for(o=0,r=e.arcs.length;o<r;++o)n[o]=ol.format.TopoJSON.concatenateArcs_(e.arcs[o],t);return new ol.geom.MultiLineString(n)},ol.format.TopoJSON.readPolygonGeometry_=function(e,t){var o,r,n=[];for(o=0,r=e.arcs.length;o<r;++o)n[o]=ol.format.TopoJSON.concatenateArcs_(e.arcs[o],t);return new ol.geom.Polygon(n)},ol.format.TopoJSON.readMultiPolygonGeometry_=function(e,t){var o,r,n,i,l,a,s=[];for(l=0,a=e.arcs.length;l<a;++l){for(r=[],n=0,i=(o=e.arcs[l]).length;n<i;++n)r[n]=ol.format.TopoJSON.concatenateArcs_(o[n],t);s[l]=r}return new ol.geom.MultiPolygon(s)},ol.format.TopoJSON.readFeaturesFromGeometryCollection_=function(e,t,o,r,n,i,l){var a,s,p=e.geometries,u=[];for(a=0,s=p.length;a<s;++a)u[a]=ol.format.TopoJSON.readFeatureFromGeometry_(p[a],t,o,r,n,i,l);return u},ol.format.TopoJSON.readFeatureFromGeometry_=function(e,t,o,r,n,i,l){var a,s=e.type,p=ol.format.TopoJSON.GEOMETRY_READERS_[s];a="Point"===s||"MultiPoint"===s?p(e,o,r):p(e,t);var u=new ol.Feature;u.setGeometry(ol.format.Feature.transformWithOptions(a,!1,l)),void 0!==e.id&&u.setId(e.id);var c=e.properties;return n&&(c||(c={}),c[n]=i),c&&u.setProperties(c),u},ol,ol.format.TopoJSON.prototype.readFeaturesFromObject=function(e,t){if("Topology"==e.type){var o,r=e,n=null,i=null;r.transform&&(n=(o=r.transform).scale,i=o.translate);var l=r.arcs;o&&ol.format.TopoJSON.transformArcs_(l,n,i);var a,s,p=[],u=r.objects,c=this.layerName_;for(a in u)this.layers_&&-1==this.layers_.indexOf(a)||("GeometryCollection"===u[a].type?(s=u[a],p.push.apply(p,ol.format.TopoJSON.readFeaturesFromGeometryCollection_(s,l,n,i,c,a,t))):(s=u[a],p.push(ol.format.TopoJSON.readFeatureFromGeometry_(s,l,n,i,c,a,t))));return p}return[]},ol.format.TopoJSON.transformArcs_=function(e,t,o){var r,n;for(r=0,n=e.length;r<n;++r)ol.format.TopoJSON.transformArc_(e[r],t,o)},ol.format.TopoJSON.transformArc_=function(e,t,o){var r,n,i,l=0,a=0;for(n=0,i=e.length;n<i;++n)a+=(r=e[n])[1],r[0]=l+=r[0],r[1]=a,ol.format.TopoJSON.transformVertex_(r,t,o)},ol.format.TopoJSON.transformVertex_=function(e,t,o){e[0]=e[0]*t[0]+o[0],e[1]=e[1]*t[1]+o[1]},ol,ol.format.TopoJSON.prototype.readProjectionFromObject=function(e){return this.defaultDataProjection},ol.format.TopoJSON.GEOMETRY_READERS_={Point:ol.format.TopoJSON.readPointGeometry_,LineString:ol.format.TopoJSON.readLineStringGeometry_,Polygon:ol.format.TopoJSON.readPolygonGeometry_,MultiPoint:ol.format.TopoJSON.readMultiPointGeometry_,MultiLineString:ol.format.TopoJSON.readMultiLineStringGeometry_,MultiPolygon:ol.format.TopoJSON.readMultiPolygonGeometry_},ol.format.TopoJSON.prototype.writeFeatureObject=function(e,t){},ol.format.TopoJSON.prototype.writeFeaturesObject=function(e,t){},ol.format.TopoJSON.prototype.writeGeometryObject=function(e,t){},ol.format.TopoJSON.prototype.readGeometryFromObject=function(){},ol.format.TopoJSON.prototype.readFeatureFromObject=function(){},goog.provide("ol.format.WFS"),goog.require("ol"),goog.require("ol.asserts"),goog.require("ol.format.GML2"),goog.require("ol.format.GML3"),goog.require("ol.format.GMLBase"),goog.require("ol.format.filter"),goog.require("ol.format.XMLFeature"),goog.require("ol.format.XSD"),goog.require("ol.geom.Geometry"),goog.require("ol.obj"),goog.require("ol.proj"),goog.require("ol.xml"),ol.format.WFS=function(e){var t=e||{};this.featureType_=t.featureType,this.featureNS_=t.featureNS,this.gmlFormat_=t.gmlFormat?t.gmlFormat:new ol.format.GML3,this.schemaLocation_=t.schemaLocation?t.schemaLocation:ol.format.WFS.SCHEMA_LOCATIONS[ol.format.WFS.DEFAULT_VERSION],ol.format.XMLFeature.call(this)},ol.inherits(ol.format.WFS,ol.format.XMLFeature),ol.format.WFS.FEATURE_PREFIX="feature",ol.format.WFS.XMLNS="http://www.w3.org/2000/xmlns/",ol.format.WFS.OGCNS="http://www.opengis.net/ogc",ol.format.WFS.WFSNS="http://www.opengis.net/wfs",ol.format.WFS.FESNS="http://www.opengis.net/fes",ol.format.WFS.SCHEMA_LOCATIONS={"1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"},ol.format.WFS.DEFAULT_VERSION="1.1.0",ol.format.WFS.prototype.getFeatureType=function(){return this.featureType_},ol.format.WFS.prototype.setFeatureType=function(e){this.featureType_=e},ol,ol.format.WFS.prototype.readFeaturesFromNode=function(e,t){var o={featureType:this.featureType_,featureNS:this.featureNS_};ol.obj.assign(o,this.getReadOptions(e,t||{}));var r=[o];this.gmlFormat_.FEATURE_COLLECTION_PARSERS[ol.format.GMLBase.GMLNS].featureMember=ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readFeaturesInternal);var n=ol.xml.pushParseAndPop([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,e,r,this.gmlFormat_);return n||(n=[]),n},ol.format.WFS.prototype.readTransactionResponse=function(e){if(ol.xml.isDocument(e))return this.readTransactionResponseFromDocument(e);if(ol.xml.isNode(e))return this.readTransactionResponseFromNode(e);if("string"==typeof e){var t=ol.xml.parse(e);return this.readTransactionResponseFromDocument(t)}},ol.format.WFS.prototype.readFeatureCollectionMetadata=function(e){if(ol.xml.isDocument(e))return this.readFeatureCollectionMetadataFromDocument(e);if(ol.xml.isNode(e))return this.readFeatureCollectionMetadataFromNode(e);if("string"==typeof e){var t=ol.xml.parse(e);return this.readFeatureCollectionMetadataFromDocument(t)}},ol.format.WFS.prototype.readFeatureCollectionMetadataFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readFeatureCollectionMetadataFromNode(t)},ol.format.WFS.FEATURE_COLLECTION_PARSERS_={"http://www.opengis.net/gml":{boundedBy:ol.xml.makeObjectPropertySetter(ol.format.GMLBase.prototype.readGeometryElement,"bounds")}},ol.format.WFS.prototype.readFeatureCollectionMetadataFromNode=function(e){var t={},o=ol.format.XSD.readNonNegativeIntegerString(e.getAttribute("numberOfFeatures"));return t.numberOfFeatures=o,ol.xml.pushParseAndPop(t,ol.format.WFS.FEATURE_COLLECTION_PARSERS_,e,[],this.gmlFormat_)},ol.format.WFS.TRANSACTION_SUMMARY_PARSERS_={"http://www.opengis.net/wfs":{totalInserted:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),totalUpdated:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),totalDeleted:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger)}},ol.format.WFS.readTransactionSummary_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WFS.TRANSACTION_SUMMARY_PARSERS_,e,t)},ol.format.WFS.OGC_FID_PARSERS_={"http://www.opengis.net/ogc":{FeatureId:ol.xml.makeArrayPusher(function(e,t){return e.getAttribute("fid")})}},ol.format.WFS.fidParser_=function(e,t){ol.xml.parseNode(ol.format.WFS.OGC_FID_PARSERS_,e,t)},ol.format.WFS.INSERT_RESULTS_PARSERS_={"http://www.opengis.net/wfs":{Feature:ol.format.WFS.fidParser_}},ol.format.WFS.readInsertResults_=function(e,t){return ol.xml.pushParseAndPop([],ol.format.WFS.INSERT_RESULTS_PARSERS_,e,t)},ol.format.WFS.TRANSACTION_RESPONSE_PARSERS_={"http://www.opengis.net/wfs":{TransactionSummary:ol.xml.makeObjectPropertySetter(ol.format.WFS.readTransactionSummary_,"transactionSummary"),InsertResults:ol.xml.makeObjectPropertySetter(ol.format.WFS.readInsertResults_,"insertIds")}},ol.format.WFS.prototype.readTransactionResponseFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readTransactionResponseFromNode(t)},ol.format.WFS.prototype.readTransactionResponseFromNode=function(e){return ol.xml.pushParseAndPop({},ol.format.WFS.TRANSACTION_RESPONSE_PARSERS_,e,[])},ol.format.WFS.QUERY_SERIALIZERS_={"http://www.opengis.net/wfs":{PropertyName:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)}},ol.format.WFS.writeFeature_=function(e,t,o){var r=o[o.length-1],n=r.gmlVersion,i=ol.xml.createElementNS(r.featureNS,r.featureType);e.appendChild(i),2===n?ol.format.GML2.prototype.writeFeatureElement(i,t,o):ol.format.GML3.prototype.writeFeatureElement(i,t,o)},ol.format.WFS.writeOgcFidFilter_=function(e,t,o){var r=ol.xml.createElementNS(ol.format.WFS.OGCNS,"Filter"),n=ol.xml.createElementNS(ol.format.WFS.OGCNS,"FeatureId");r.appendChild(n),n.setAttribute("fid",t),e.appendChild(r)},ol.format.WFS.getTypeName_=function(e,t){var o=(e=e||ol.format.WFS.FEATURE_PREFIX)+":";return 0===t.indexOf(o)?t:o+t},ol.format.WFS.writeDelete_=function(e,t,o){var r=o[o.length-1];ol.asserts.assert(void 0!==t.getId(),26);var n=r.featurePrefix,i=r.featureNS,l=ol.format.WFS.getTypeName_(n,r.featureType);e.setAttribute("typeName",l),ol.xml.setAttributeNS(e,ol.format.WFS.XMLNS,"xmlns:"+n,i);var a=t.getId();void 0!==a&&ol.format.WFS.writeOgcFidFilter_(e,a,o)},ol.format.WFS.writeUpdate_=function(e,t,o){var r=o[o.length-1];ol.asserts.assert(void 0!==t.getId(),27);var n=r.featurePrefix,i=r.featureNS,l=ol.format.WFS.getTypeName_(n,r.featureType),a=t.getGeometryName();e.setAttribute("typeName",l),ol.xml.setAttributeNS(e,ol.format.WFS.XMLNS,"xmlns:"+n,i);var s=t.getId();if(void 0!==s){for(var p=t.getKeys(),u=[],c=0,g=p.length;c<g;c++){var d=t.get(p[c]);if(void 0!==d){var h=p[c];d instanceof ol.geom.Geometry&&(h=a),u.push({name:h,value:d})}}ol.xml.pushSerializeAndPop({gmlVersion:r.gmlVersion,node:e,hasZ:r.hasZ,srsName:r.srsName},ol.format.WFS.TRANSACTION_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Property"),u,o),ol.format.WFS.writeOgcFidFilter_(e,s,o)}},ol.format.WFS.writeProperty_=function(e,t,o){var r=ol.xml.createElementNS(ol.format.WFS.WFSNS,"Name"),n=o[o.length-1].gmlVersion;if(e.appendChild(r),ol.format.XSD.writeStringTextNode(r,t.name),void 0!==t.value&&null!==t.value){var i=ol.xml.createElementNS(ol.format.WFS.WFSNS,"Value");e.appendChild(i),t.value instanceof ol.geom.Geometry?2===n?ol.format.GML2.prototype.writeGeometryElement(i,t.value,o):ol.format.GML3.prototype.writeGeometryElement(i,t.value,o):ol.format.XSD.writeStringTextNode(i,t.value)}},ol.format.WFS.writeNative_=function(e,t,o){t.vendorId&&e.setAttribute("vendorId",t.vendorId),void 0!==t.safeToIgnore&&e.setAttribute("safeToIgnore",t.safeToIgnore),void 0!==t.value&&ol.format.XSD.writeStringTextNode(e,t.value)},ol.format.WFS.TRANSACTION_SERIALIZERS_={"http://www.opengis.net/wfs":{Insert:ol.xml.makeChildAppender(ol.format.WFS.writeFeature_),Update:ol.xml.makeChildAppender(ol.format.WFS.writeUpdate_),Delete:ol.xml.makeChildAppender(ol.format.WFS.writeDelete_),Property:ol.xml.makeChildAppender(ol.format.WFS.writeProperty_),Native:ol.xml.makeChildAppender(ol.format.WFS.writeNative_)}},ol.format.WFS.writeQuery_=function(e,t,o){var r,n=o[o.length-1],i=n.featurePrefix,l=n.featureNS,a=n.propertyNames,s=n.srsName;r=i?ol.format.WFS.getTypeName_(i,t):t,e.setAttribute("typeName",r),s&&e.setAttribute("srsName",s),l&&ol.xml.setAttributeNS(e,ol.format.WFS.XMLNS,"xmlns:"+i,l);var p=ol.obj.assign({},n);p.node=e,ol.xml.pushSerializeAndPop(p,ol.format.WFS.QUERY_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("PropertyName"),a,o);var u=n.filter;if(u){var c=ol.xml.createElementNS(ol.format.WFS.OGCNS,"Filter");e.appendChild(c),ol.format.WFS.writeFilterCondition_(c,u,o)}},ol.format.WFS.writeFilterCondition_=function(e,t,o){ol.xml.pushSerializeAndPop({node:e},ol.format.WFS.GETFEATURE_SERIALIZERS_,ol.xml.makeSimpleNodeFactory(t.getTagName()),[t],o)},ol.format.WFS.writeBboxFilter_=function(e,t,o){o[o.length-1].srsName=t.srsName,ol.format.WFS.writeOgcPropertyName_(e,t.geometryName),ol.format.GML3.prototype.writeGeometryElement(e,t.extent,o)},ol.format.WFS.writeContainsFilter_=function(e,t,o){o[o.length-1].srsName=t.srsName,ol.format.WFS.writeOgcPropertyName_(e,t.geometryName),ol.format.GML3.prototype.writeGeometryElement(e,t.geometry,o)},ol.format.WFS.writeIntersectsFilter_=function(e,t,o){o[o.length-1].srsName=t.srsName,ol.format.WFS.writeOgcPropertyName_(e,t.geometryName),ol.format.GML3.prototype.writeGeometryElement(e,t.geometry,o)},ol.format.WFS.writeWithinFilter_=function(e,t,o){o[o.length-1].srsName=t.srsName,ol.format.WFS.writeOgcPropertyName_(e,t.geometryName),ol.format.GML3.prototype.writeGeometryElement(e,t.geometry,o)},ol.format.WFS.writeDuringFilter_=function(e,t,o){var r=ol.xml.createElementNS(ol.format.WFS.FESNS,"ValueReference");ol.format.XSD.writeStringTextNode(r,t.propertyName),e.appendChild(r);var n=ol.xml.createElementNS(ol.format.GMLBase.GMLNS,"TimePeriod");e.appendChild(n);var i=ol.xml.createElementNS(ol.format.GMLBase.GMLNS,"begin");n.appendChild(i),ol.format.WFS.writeTimeInstant_(i,t.begin);var l=ol.xml.createElementNS(ol.format.GMLBase.GMLNS,"end");n.appendChild(l),ol.format.WFS.writeTimeInstant_(l,t.end)},ol.format.WFS.writeLogicalFilter_=function(e,t,o){for(var r={node:e},n=t.conditions,i=0,l=n.length;i<l;++i){var a=n[i];ol.xml.pushSerializeAndPop(r,ol.format.WFS.GETFEATURE_SERIALIZERS_,ol.xml.makeSimpleNodeFactory(a.getTagName()),[a],o)}},ol.format.WFS.writeNotFilter_=function(e,t,o){var r=t.condition;ol.xml.pushSerializeAndPop({node:e},ol.format.WFS.GETFEATURE_SERIALIZERS_,ol.xml.makeSimpleNodeFactory(r.getTagName()),[r],o)},ol.format.WFS.writeComparisonFilter_=function(e,t,o){void 0!==t.matchCase&&e.setAttribute("matchCase",t.matchCase.toString()),ol.format.WFS.writeOgcPropertyName_(e,t.propertyName),ol.format.WFS.writeOgcLiteral_(e,""+t.expression)},ol.format.WFS.writeIsNullFilter_=function(e,t,o){ol.format.WFS.writeOgcPropertyName_(e,t.propertyName)},ol.format.WFS.writeIsBetweenFilter_=function(e,t,o){ol.format.WFS.writeOgcPropertyName_(e,t.propertyName);var r=ol.xml.createElementNS(ol.format.WFS.OGCNS,"LowerBoundary");e.appendChild(r),ol.format.WFS.writeOgcLiteral_(r,""+t.lowerBoundary);var n=ol.xml.createElementNS(ol.format.WFS.OGCNS,"UpperBoundary");e.appendChild(n),ol.format.WFS.writeOgcLiteral_(n,""+t.upperBoundary)},ol.format.WFS.writeIsLikeFilter_=function(e,t,o){e.setAttribute("wildCard",t.wildCard),e.setAttribute("singleChar",t.singleChar),e.setAttribute("escapeChar",t.escapeChar),void 0!==t.matchCase&&e.setAttribute("matchCase",t.matchCase.toString()),ol.format.WFS.writeOgcPropertyName_(e,t.propertyName),ol.format.WFS.writeOgcLiteral_(e,""+t.pattern)},ol.format.WFS.writeOgcExpression_=function(e,t,o){var r=ol.xml.createElementNS(ol.format.WFS.OGCNS,e);ol.format.XSD.writeStringTextNode(r,o),t.appendChild(r)},ol.format.WFS.writeOgcPropertyName_=function(e,t){ol.format.WFS.writeOgcExpression_("PropertyName",e,t)},ol.format.WFS.writeOgcLiteral_=function(e,t){ol.format.WFS.writeOgcExpression_("Literal",e,t)},ol.format.WFS.writeTimeInstant_=function(e,t){var o=ol.xml.createElementNS(ol.format.GMLBase.GMLNS,"TimeInstant");e.appendChild(o);var r=ol.xml.createElementNS(ol.format.GMLBase.GMLNS,"timePosition");o.appendChild(r),ol.format.XSD.writeStringTextNode(r,t)},ol.format.WFS.GETFEATURE_SERIALIZERS_={"http://www.opengis.net/wfs":{Query:ol.xml.makeChildAppender(ol.format.WFS.writeQuery_)},"http://www.opengis.net/ogc":{During:ol.xml.makeChildAppender(ol.format.WFS.writeDuringFilter_),And:ol.xml.makeChildAppender(ol.format.WFS.writeLogicalFilter_),Or:ol.xml.makeChildAppender(ol.format.WFS.writeLogicalFilter_),Not:ol.xml.makeChildAppender(ol.format.WFS.writeNotFilter_),BBOX:ol.xml.makeChildAppender(ol.format.WFS.writeBboxFilter_),Contains:ol.xml.makeChildAppender(ol.format.WFS.writeContainsFilter_),Intersects:ol.xml.makeChildAppender(ol.format.WFS.writeIntersectsFilter_),Within:ol.xml.makeChildAppender(ol.format.WFS.writeWithinFilter_),PropertyIsEqualTo:ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),PropertyIsNotEqualTo:ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),PropertyIsLessThan:ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),PropertyIsLessThanOrEqualTo:ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),PropertyIsGreaterThan:ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),PropertyIsGreaterThanOrEqualTo:ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),PropertyIsNull:ol.xml.makeChildAppender(ol.format.WFS.writeIsNullFilter_),PropertyIsBetween:ol.xml.makeChildAppender(ol.format.WFS.writeIsBetweenFilter_),PropertyIsLike:ol.xml.makeChildAppender(ol.format.WFS.writeIsLikeFilter_)}},ol.format.WFS.writeFilter=function(e){var t=ol.xml.createElementNS(ol.format.WFS.OGCNS,"Filter");return ol.format.WFS.writeFilterCondition_(t,e,[]),t},ol.format.WFS.writeGetFeature_=function(e,t,o){var r=ol.obj.assign({},o[o.length-1]);r.node=e,ol.xml.pushSerializeAndPop(r,ol.format.WFS.GETFEATURE_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Query"),t,o)},ol.format.WFS.prototype.writeGetFeature=function(e){var t,o=ol.xml.createElementNS(ol.format.WFS.WFSNS,"GetFeature");if(o.setAttribute("service","WFS"),o.setAttribute("version","1.1.0"),e&&(e.handle&&o.setAttribute("handle",e.handle),e.outputFormat&&o.setAttribute("outputFormat",e.outputFormat),void 0!==e.maxFeatures&&o.setAttribute("maxFeatures",e.maxFeatures),e.resultType&&o.setAttribute("resultType",e.resultType),void 0!==e.startIndex&&o.setAttribute("startIndex",e.startIndex),void 0!==e.count&&o.setAttribute("count",e.count),t=e.filter,e.bbox)){ol.asserts.assert(e.geometryName,12);var r=ol.format.filter.bbox(e.geometryName,e.bbox,e.srsName);t=t?ol.format.filter.and(t,r):r}ol.xml.setAttributeNS(o,"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation_);var n={node:o,srsName:e.srsName,featureNS:e.featureNS?e.featureNS:this.featureNS_,featurePrefix:e.featurePrefix,geometryName:e.geometryName,filter:t,propertyNames:e.propertyNames?e.propertyNames:[]};return ol.asserts.assert(Array.isArray(e.featureTypes),11),ol.format.WFS.writeGetFeature_(o,e.featureTypes,[n]),o},ol.format.WFS.prototype.writeTransaction=function(e,t,o,r){var n,i,l=[],a=ol.xml.createElementNS(ol.format.WFS.WFSNS,"Transaction"),s=r.version?r.version:ol.format.WFS.DEFAULT_VERSION,p="1.0.0"===s?2:3;a.setAttribute("service","WFS"),a.setAttribute("version",s),r&&(n=r.gmlOptions?r.gmlOptions:{},r.handle&&a.setAttribute("handle",r.handle));var u=ol.format.WFS.SCHEMA_LOCATIONS[s];ol.xml.setAttributeNS(a,"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",u);var c=r.featurePrefix?r.featurePrefix:ol.format.WFS.FEATURE_PREFIX;return e&&(i={node:a,featureNS:r.featureNS,featureType:r.featureType,featurePrefix:c,gmlVersion:p,hasZ:r.hasZ,srsName:r.srsName},ol.obj.assign(i,n),ol.xml.pushSerializeAndPop(i,ol.format.WFS.TRANSACTION_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Insert"),e,l)),t&&(i={node:a,featureNS:r.featureNS,featureType:r.featureType,featurePrefix:c,gmlVersion:p,hasZ:r.hasZ,srsName:r.srsName},ol.obj.assign(i,n),ol.xml.pushSerializeAndPop(i,ol.format.WFS.TRANSACTION_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Update"),t,l)),o&&ol.xml.pushSerializeAndPop({node:a,featureNS:r.featureNS,featureType:r.featureType,featurePrefix:c,gmlVersion:p,srsName:r.srsName},ol.format.WFS.TRANSACTION_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Delete"),o,l),r.nativeElements&&ol.xml.pushSerializeAndPop({node:a,featureNS:r.featureNS,featureType:r.featureType,featurePrefix:c,gmlVersion:p,srsName:r.srsName},ol.format.WFS.TRANSACTION_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Native"),r.nativeElements,l),a},ol,ol.format.WFS.prototype.readProjectionFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readProjectionFromNode(t);return null},ol.format.WFS.prototype.readProjectionFromNode=function(e){if(e.firstElementChild&&e.firstElementChild.firstElementChild)for(var t=(e=e.firstElementChild.firstElementChild).firstElementChild;t;t=t.nextElementSibling)if(0!==t.childNodes.length&&(1!==t.childNodes.length||3!==t.firstChild.nodeType)){var o=[{}];return this.gmlFormat_.readGeometryElement(t,o),ol.proj.get(o.pop().srsName)}return null},goog.provide("ol.format.WKT"),goog.require("ol"),goog.require("ol.Feature"),goog.require("ol.format.Feature"),goog.require("ol.format.TextFeature"),goog.require("ol.geom.GeometryCollection"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.LineString"),goog.require("ol.geom.MultiLineString"),goog.require("ol.geom.MultiPoint"),goog.require("ol.geom.MultiPolygon"),goog.require("ol.geom.Point"),goog.require("ol.geom.Polygon"),goog.require("ol.geom.SimpleGeometry"),ol.format.WKT=function(e){var t=e||{};ol.format.TextFeature.call(this),this.splitCollection_=void 0!==t.splitCollection&&t.splitCollection},ol.inherits(ol.format.WKT,ol.format.TextFeature),ol.format.WKT.EMPTY="EMPTY",ol.format.WKT.Z="Z",ol.format.WKT.M="M",ol.format.WKT.ZM="ZM",ol.format.WKT.encodePointGeometry_=function(e){var t=e.getCoordinates();return 0===t.length?"":t.join(" ")},ol.format.WKT.encodeMultiPointGeometry_=function(e){for(var t=[],o=e.getPoints(),r=0,n=o.length;r<n;++r)t.push("("+ol.format.WKT.encodePointGeometry_(o[r])+")");return t.join(",")},ol.format.WKT.encodeGeometryCollectionGeometry_=function(e){for(var t=[],o=e.getGeometries(),r=0,n=o.length;r<n;++r)t.push(ol.format.WKT.encode_(o[r]));return t.join(",")},ol.format.WKT.encodeLineStringGeometry_=function(e){for(var t=e.getCoordinates(),o=[],r=0,n=t.length;r<n;++r)o.push(t[r].join(" "));return o.join(",")},ol.format.WKT.encodeMultiLineStringGeometry_=function(e){for(var t=[],o=e.getLineStrings(),r=0,n=o.length;r<n;++r)t.push("("+ol.format.WKT.encodeLineStringGeometry_(o[r])+")");return t.join(",")},ol.format.WKT.encodePolygonGeometry_=function(e){for(var t=[],o=e.getLinearRings(),r=0,n=o.length;r<n;++r)t.push("("+ol.format.WKT.encodeLineStringGeometry_(o[r])+")");return t.join(",")},ol.format.WKT.encodeMultiPolygonGeometry_=function(e){for(var t=[],o=e.getPolygons(),r=0,n=o.length;r<n;++r)t.push("("+ol.format.WKT.encodePolygonGeometry_(o[r])+")");return t.join(",")},ol.format.WKT.encodeGeometryLayout_=function(e){var t=e.getLayout(),o="";return t!==ol.geom.GeometryLayout.XYZ&&t!==ol.geom.GeometryLayout.XYZM||(o+=ol.format.WKT.Z),t!==ol.geom.GeometryLayout.XYM&&t!==ol.geom.GeometryLayout.XYZM||(o+=ol.format.WKT.M),o},ol.format.WKT.encode_=function(e){var t=e.getType(),o=(0,ol.format.WKT.GeometryEncoder_[t])(e);if(t=t.toUpperCase(),e instanceof ol.geom.SimpleGeometry){var r=ol.format.WKT.encodeGeometryLayout_(e);r.length>0&&(t+=" "+r)}return 0===o.length?t+" "+ol.format.WKT.EMPTY:t+"("+o+")"},ol.format.WKT.GeometryEncoder_={Point:ol.format.WKT.encodePointGeometry_,LineString:ol.format.WKT.encodeLineStringGeometry_,Polygon:ol.format.WKT.encodePolygonGeometry_,MultiPoint:ol.format.WKT.encodeMultiPointGeometry_,MultiLineString:ol.format.WKT.encodeMultiLineStringGeometry_,MultiPolygon:ol.format.WKT.encodeMultiPolygonGeometry_,GeometryCollection:ol.format.WKT.encodeGeometryCollectionGeometry_},ol.format.WKT.prototype.parse_=function(e){var t=new ol.format.WKT.Lexer(e);return new ol.format.WKT.Parser(t).parse()},ol,ol.format.WKT.prototype.readFeatureFromText=function(e,t){var o=this.readGeometryFromText(e,t);if(o){var r=new ol.Feature;return r.setGeometry(o),r}return null},ol,ol.format.WKT.prototype.readFeaturesFromText=function(e,t){for(var o,r,n=this.readGeometryFromText(e,t),i=[],l=0,a=(r=this.splitCollection_&&n.getType()==ol.geom.GeometryType.GEOMETRY_COLLECTION?n.getGeometriesArray():[n]).length;l<a;++l)(o=new ol.Feature).setGeometry(r[l]),i.push(o);return i},ol,ol.format.WKT.prototype.readGeometryFromText=function(e,t){var o=this.parse_(e);return o?ol.format.Feature.transformWithOptions(o,!1,t):null},ol,ol.format.WKT.prototype.writeFeatureText=function(e,t){var o=e.getGeometry();return o?this.writeGeometryText(o,t):""},ol,ol.format.WKT.prototype.writeFeaturesText=function(e,t){if(1==e.length)return this.writeFeatureText(e[0],t);for(var o=[],r=0,n=e.length;r<n;++r)o.push(e[r].getGeometry());var i=new ol.geom.GeometryCollection(o);return this.writeGeometryText(i,t)},ol,ol.format.WKT.prototype.writeGeometryText=function(e,t){return ol.format.WKT.encode_(ol.format.Feature.transformWithOptions(e,!0,t))},ol.format.WKT.TokenType_={TEXT:1,LEFT_PAREN:2,RIGHT_PAREN:3,NUMBER:4,COMMA:5,EOF:6},ol.format.WKT.Lexer=function(e){this.wkt=e,this.index_=-1},ol.format.WKT.Lexer.prototype.isAlpha_=function(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"},ol.format.WKT.Lexer.prototype.isNumeric_=function(e,t){return e>="0"&&e<="9"||"."==e&&!(void 0!==t&&t)},ol.format.WKT.Lexer.prototype.isWhiteSpace_=function(e){return" "==e||"\t"==e||"\r"==e||"\n"==e},ol.format.WKT.Lexer.prototype.nextChar_=function(){return this.wkt.charAt(++this.index_)},ol.format.WKT.Lexer.prototype.nextToken=function(){var e=this.nextChar_(),t={position:this.index_,value:e};if("("==e)t.type=ol.format.WKT.TokenType_.LEFT_PAREN;else if(","==e)t.type=ol.format.WKT.TokenType_.COMMA;else if(")"==e)t.type=ol.format.WKT.TokenType_.RIGHT_PAREN;else if(this.isNumeric_(e)||"-"==e)t.type=ol.format.WKT.TokenType_.NUMBER,t.value=this.readNumber_();else if(this.isAlpha_(e))t.type=ol.format.WKT.TokenType_.TEXT,t.value=this.readText_();else{if(this.isWhiteSpace_(e))return this.nextToken();if(""!==e)throw new Error("Unexpected character: "+e);t.type=ol.format.WKT.TokenType_.EOF}return t},ol.format.WKT.Lexer.prototype.readNumber_=function(){var e,t=this.index_,o=!1,r=!1;do{"."==e?o=!0:"e"!=e&&"E"!=e||(r=!0),e=this.nextChar_()}while(this.isNumeric_(e,o)||!r&&("e"==e||"E"==e)||r&&("-"==e||"+"==e));return parseFloat(this.wkt.substring(t,this.index_--))},ol.format.WKT.Lexer.prototype.readText_=function(){var e,t=this.index_;do{e=this.nextChar_()}while(this.isAlpha_(e));return this.wkt.substring(t,this.index_--).toUpperCase()},ol.format.WKT.Parser=function(e){this.lexer_=e,this.layout_=ol.geom.GeometryLayout.XY},ol.format.WKT.Parser.prototype.consume_=function(){this.token_=this.lexer_.nextToken()},ol.format.WKT.Parser.prototype.isTokenType=function(e){return this.token_.type==e},ol.format.WKT.Parser.prototype.match=function(e){var t=this.isTokenType(e);return t&&this.consume_(),t},ol.format.WKT.Parser.prototype.parse=function(){return this.consume_(),this.parseGeometry_()},ol.format.WKT.Parser.prototype.parseGeometryLayout_=function(){var e=ol.geom.GeometryLayout.XY,t=this.token_;if(this.isTokenType(ol.format.WKT.TokenType_.TEXT)){var o=t.value;o===ol.format.WKT.Z?e=ol.geom.GeometryLayout.XYZ:o===ol.format.WKT.M?e=ol.geom.GeometryLayout.XYM:o===ol.format.WKT.ZM&&(e=ol.geom.GeometryLayout.XYZM),e!==ol.geom.GeometryLayout.XY&&this.consume_()}return e},ol.format.WKT.Parser.prototype.parseGeometry_=function(){var e=this.token_;if(this.match(ol.format.WKT.TokenType_.TEXT)){var t=e.value;if(this.layout_=this.parseGeometryLayout_(),t==ol.geom.GeometryType.GEOMETRY_COLLECTION.toUpperCase()){var o=this.parseGeometryCollectionText_();return new ol.geom.GeometryCollection(o)}var r=ol.format.WKT.Parser.GeometryParser_[t],n=ol.format.WKT.Parser.GeometryConstructor_[t];if(!r||!n)throw new Error("Invalid geometry type: "+t);return new n(r.call(this),this.layout_)}throw new Error(this.formatErrorMessage_())},ol.format.WKT.Parser.prototype.parseGeometryCollectionText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var e=[];do{e.push(this.parseGeometry_())}while(this.match(ol.format.WKT.TokenType_.COMMA));if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},ol.format.WKT.Parser.prototype.parsePointText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var e=this.parsePoint_();if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN))return e}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())},ol.format.WKT.Parser.prototype.parseLineStringText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var e=this.parsePointList_();if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},ol.format.WKT.Parser.prototype.parsePolygonText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var e=this.parseLineStringTextList_();if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},ol.format.WKT.Parser.prototype.parseMultiPointText_=function(){var e;if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){if(e=this.token_.type==ol.format.WKT.TokenType_.LEFT_PAREN?this.parsePointTextList_():this.parsePointList_(),this.match(ol.format.WKT.TokenType_.RIGHT_PAREN))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},ol.format.WKT.Parser.prototype.parseMultiLineStringText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var e=this.parseLineStringTextList_();if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},ol.format.WKT.Parser.prototype.parseMultiPolygonText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var e=this.parsePolygonTextList_();if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},ol.format.WKT.Parser.prototype.parsePoint_=function(){for(var e=[],t=this.layout_.length,o=0;o<t;++o){var r=this.token_;if(!this.match(ol.format.WKT.TokenType_.NUMBER))break;e.push(r.value)}if(e.length==t)return e;throw new Error(this.formatErrorMessage_())},ol.format.WKT.Parser.prototype.parsePointList_=function(){for(var e=[this.parsePoint_()];this.match(ol.format.WKT.TokenType_.COMMA);)e.push(this.parsePoint_());return e},ol.format.WKT.Parser.prototype.parsePointTextList_=function(){for(var e=[this.parsePointText_()];this.match(ol.format.WKT.TokenType_.COMMA);)e.push(this.parsePointText_());return e},ol.format.WKT.Parser.prototype.parseLineStringTextList_=function(){for(var e=[this.parseLineStringText_()];this.match(ol.format.WKT.TokenType_.COMMA);)e.push(this.parseLineStringText_());return e},ol.format.WKT.Parser.prototype.parsePolygonTextList_=function(){for(var e=[this.parsePolygonText_()];this.match(ol.format.WKT.TokenType_.COMMA);)e.push(this.parsePolygonText_());return e},ol.format.WKT.Parser.prototype.isEmptyGeometry_=function(){var e=this.isTokenType(ol.format.WKT.TokenType_.TEXT)&&this.token_.value==ol.format.WKT.EMPTY;return e&&this.consume_(),e},ol.format.WKT.Parser.prototype.formatErrorMessage_=function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"},ol.format.WKT.Parser.GeometryConstructor_={POINT:ol.geom.Point,LINESTRING:ol.geom.LineString,POLYGON:ol.geom.Polygon,MULTIPOINT:ol.geom.MultiPoint,MULTILINESTRING:ol.geom.MultiLineString,MULTIPOLYGON:ol.geom.MultiPolygon},ol.format.WKT.Parser.GeometryParser_={POINT:ol.format.WKT.Parser.prototype.parsePointText_,LINESTRING:ol.format.WKT.Parser.prototype.parseLineStringText_,POLYGON:ol.format.WKT.Parser.prototype.parsePolygonText_,MULTIPOINT:ol.format.WKT.Parser.prototype.parseMultiPointText_,MULTILINESTRING:ol.format.WKT.Parser.prototype.parseMultiLineStringText_,MULTIPOLYGON:ol.format.WKT.Parser.prototype.parseMultiPolygonText_},goog.provide("ol.format.WMSCapabilities"),goog.require("ol"),goog.require("ol.format.XLink"),goog.require("ol.format.XML"),goog.require("ol.format.XSD"),goog.require("ol.xml"),ol.format.WMSCapabilities=function(){ol.format.XML.call(this),this.version=void 0},ol.inherits(ol.format.WMSCapabilities,ol.format.XML),ol,ol.format.WMSCapabilities.prototype.readFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readFromNode(t);return null},ol.format.WMSCapabilities.prototype.readFromNode=function(e){return this.version=e.getAttribute("version").trim(),ol.xml.pushParseAndPop({version:this.version},ol.format.WMSCapabilities.PARSERS_,e,[])||null},ol.format.WMSCapabilities.readAttribution_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.ATTRIBUTION_PARSERS_,e,t)},ol.format.WMSCapabilities.readBoundingBox_=function(e,t){var o=[ol.format.XSD.readDecimalString(e.getAttribute("minx")),ol.format.XSD.readDecimalString(e.getAttribute("miny")),ol.format.XSD.readDecimalString(e.getAttribute("maxx")),ol.format.XSD.readDecimalString(e.getAttribute("maxy"))],r=[ol.format.XSD.readDecimalString(e.getAttribute("resx")),ol.format.XSD.readDecimalString(e.getAttribute("resy"))];return{crs:e.getAttribute("CRS"),extent:o,res:r}},ol.format.WMSCapabilities.readEXGeographicBoundingBox_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.EX_GEOGRAPHIC_BOUNDING_BOX_PARSERS_,e,t);if(o){var r=o.westBoundLongitude,n=o.southBoundLatitude,i=o.eastBoundLongitude,l=o.northBoundLatitude;if(void 0!==r&&void 0!==n&&void 0!==i&&void 0!==l)return[r,n,i,l]}},ol.format.WMSCapabilities.readCapability_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.CAPABILITY_PARSERS_,e,t)},ol.format.WMSCapabilities.readService_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.SERVICE_PARSERS_,e,t)},ol.format.WMSCapabilities.readContactInformation_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.CONTACT_INFORMATION_PARSERS_,e,t)},ol.format.WMSCapabilities.readContactPersonPrimary_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.CONTACT_PERSON_PARSERS_,e,t)},ol.format.WMSCapabilities.readContactAddress_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.CONTACT_ADDRESS_PARSERS_,e,t)},ol.format.WMSCapabilities.readException_=function(e,t){return ol.xml.pushParseAndPop([],ol.format.WMSCapabilities.EXCEPTION_PARSERS_,e,t)},ol.format.WMSCapabilities.readCapabilityLayer_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.LAYER_PARSERS_,e,t)},ol.format.WMSCapabilities.readLayer_=function(e,t){var o=t[t.length-1],r=ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.LAYER_PARSERS_,e,t);if(r){var n=ol.format.XSD.readBooleanString(e.getAttribute("queryable"));void 0===n&&(n=o.queryable),r.queryable=void 0!==n&&n;var i=ol.format.XSD.readNonNegativeIntegerString(e.getAttribute("cascaded"));void 0===i&&(i=o.cascaded),r.cascaded=i;var l=ol.format.XSD.readBooleanString(e.getAttribute("opaque"));void 0===l&&(l=o.opaque),r.opaque=void 0!==l&&l;var a=ol.format.XSD.readBooleanString(e.getAttribute("noSubsets"));void 0===a&&(a=o.noSubsets),r.noSubsets=void 0!==a&&a;var s=ol.format.XSD.readDecimalString(e.getAttribute("fixedWidth"));s||(s=o.fixedWidth),r.fixedWidth=s;var p=ol.format.XSD.readDecimalString(e.getAttribute("fixedHeight"));return p||(p=o.fixedHeight),r.fixedHeight=p,["Style","CRS","AuthorityURL"].forEach(function(e){e in o&&(r[e]=(r[e]||[]).concat(o[e]))}),["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"].forEach(function(e){e in r||(r[e]=o[e])}),r}},ol.format.WMSCapabilities.readDimension_=function(e,t){return{name:e.getAttribute("name"),units:e.getAttribute("units"),unitSymbol:e.getAttribute("unitSymbol"),default:e.getAttribute("default"),multipleValues:ol.format.XSD.readBooleanString(e.getAttribute("multipleValues")),nearestValue:ol.format.XSD.readBooleanString(e.getAttribute("nearestValue")),current:ol.format.XSD.readBooleanString(e.getAttribute("current")),values:ol.format.XSD.readString(e)}},ol.format.WMSCapabilities.readFormatOnlineresource_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.FORMAT_ONLINERESOURCE_PARSERS_,e,t)},ol.format.WMSCapabilities.readRequest_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.REQUEST_PARSERS_,e,t)},ol.format.WMSCapabilities.readDCPType_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.DCPTYPE_PARSERS_,e,t)},ol.format.WMSCapabilities.readHTTP_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.HTTP_PARSERS_,e,t)},ol.format.WMSCapabilities.readOperationType_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.OPERATIONTYPE_PARSERS_,e,t)},ol.format.WMSCapabilities.readSizedFormatOnlineresource_=function(e,t){var o=ol.format.WMSCapabilities.readFormatOnlineresource_(e,t);if(o){var r=[ol.format.XSD.readNonNegativeIntegerString(e.getAttribute("width")),ol.format.XSD.readNonNegativeIntegerString(e.getAttribute("height"))];return o.size=r,o}},ol.format.WMSCapabilities.readAuthorityURL_=function(e,t){var o=ol.format.WMSCapabilities.readFormatOnlineresource_(e,t);if(o)return o.name=e.getAttribute("name"),o},ol.format.WMSCapabilities.readMetadataURL_=function(e,t){var o=ol.format.WMSCapabilities.readFormatOnlineresource_(e,t);if(o)return o.type=e.getAttribute("type"),o},ol.format.WMSCapabilities.readStyle_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.STYLE_PARSERS_,e,t)},ol.format.WMSCapabilities.readKeywordList_=function(e,t){return ol.xml.pushParseAndPop([],ol.format.WMSCapabilities.KEYWORDLIST_PARSERS_,e,t)},ol.format.WMSCapabilities.NAMESPACE_URIS_=[null,"http://www.opengis.net/wms"],ol.format.WMSCapabilities.PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Service:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readService_),Capability:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readCapability_)}),ol.format.WMSCapabilities.CAPABILITY_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Request:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readRequest_),Exception:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readException_),Layer:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readCapabilityLayer_)}),ol.format.WMSCapabilities.SERVICE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Abstract:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),KeywordList:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readKeywordList_),OnlineResource:ol.xml.makeObjectPropertySetter(ol.format.XLink.readHref),ContactInformation:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readContactInformation_),Fees:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),AccessConstraints:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),LayerLimit:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MaxWidth:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MaxHeight:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger)}),ol.format.WMSCapabilities.CONTACT_INFORMATION_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{ContactPersonPrimary:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readContactPersonPrimary_),ContactPosition:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ContactAddress:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readContactAddress_),ContactVoiceTelephone:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ContactFacsimileTelephone:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ContactElectronicMailAddress:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}),ol.format.WMSCapabilities.CONTACT_PERSON_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{ContactPerson:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ContactOrganization:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}),ol.format.WMSCapabilities.CONTACT_ADDRESS_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{AddressType:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Address:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),City:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),StateOrProvince:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),PostCode:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Country:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}),ol.format.WMSCapabilities.EXCEPTION_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Format:ol.xml.makeArrayPusher(ol.format.XSD.readString)}),ol.format.WMSCapabilities.LAYER_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Abstract:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),KeywordList:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readKeywordList_),CRS:ol.xml.makeObjectPropertyPusher(ol.format.XSD.readString),EX_GeographicBoundingBox:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readEXGeographicBoundingBox_),BoundingBox:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readBoundingBox_),Dimension:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readDimension_),Attribution:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readAttribution_),AuthorityURL:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readAuthorityURL_),Identifier:ol.xml.makeObjectPropertyPusher(ol.format.XSD.readString),MetadataURL:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readMetadataURL_),DataURL:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readFormatOnlineresource_),FeatureListURL:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readFormatOnlineresource_),Style:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readStyle_),MinScaleDenominator:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),MaxScaleDenominator:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),Layer:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readLayer_)}),ol.format.WMSCapabilities.ATTRIBUTION_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),OnlineResource:ol.xml.makeObjectPropertySetter(ol.format.XLink.readHref),LogoURL:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readSizedFormatOnlineresource_)}),ol.format.WMSCapabilities.EX_GEOGRAPHIC_BOUNDING_BOX_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{westBoundLongitude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),eastBoundLongitude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),southBoundLatitude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),northBoundLatitude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal)}),ol.format.WMSCapabilities.REQUEST_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{GetCapabilities:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readOperationType_),GetMap:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readOperationType_),GetFeatureInfo:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readOperationType_)}),ol.format.WMSCapabilities.OPERATIONTYPE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Format:ol.xml.makeObjectPropertyPusher(ol.format.XSD.readString),DCPType:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readDCPType_)}),ol.format.WMSCapabilities.DCPTYPE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{HTTP:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readHTTP_)}),ol.format.WMSCapabilities.HTTP_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Get:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readFormatOnlineresource_),Post:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readFormatOnlineresource_)}),ol.format.WMSCapabilities.STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Abstract:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),LegendURL:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readSizedFormatOnlineresource_),StyleSheetURL:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readFormatOnlineresource_),StyleURL:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readFormatOnlineresource_)}),ol.format.WMSCapabilities.FORMAT_ONLINERESOURCE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Format:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),OnlineResource:ol.xml.makeObjectPropertySetter(ol.format.XLink.readHref)}),ol.format.WMSCapabilities.KEYWORDLIST_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Keyword:ol.xml.makeArrayPusher(ol.format.XSD.readString)}),goog.provide("ol.format.WMSGetFeatureInfo"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.format.GML2"),goog.require("ol.format.XMLFeature"),goog.require("ol.obj"),goog.require("ol.xml"),ol.format.WMSGetFeatureInfo=function(e){var t=e||{};this.featureNS_="http://mapserver.gis.umn.edu/mapserver",this.gmlFormat_=new ol.format.GML2,this.layers_=t.layers?t.layers:null,ol.format.XMLFeature.call(this)},ol.inherits(ol.format.WMSGetFeatureInfo,ol.format.XMLFeature),ol.format.WMSGetFeatureInfo.featureIdentifier_="_feature",ol.format.WMSGetFeatureInfo.layerIdentifier_="_layer",ol.format.WMSGetFeatureInfo.prototype.getLayers=function(){return this.layers_},ol.format.WMSGetFeatureInfo.prototype.setLayers=function(e){this.layers_=e},ol.format.WMSGetFeatureInfo.prototype.readFeatures_=function(e,t){e.setAttribute("namespaceURI",this.featureNS_);var o=e.localName,r=[];if(0===e.childNodes.length)return r;if("msGMLOutput"==o)for(var n=0,i=e.childNodes.length;n<i;n++){var l=e.childNodes[n];if(l.nodeType===Node.ELEMENT_NODE){var a=t[0],s=ol.format.WMSGetFeatureInfo.layerIdentifier_,p=l.localName.replace(s,"");if(!this.layers_||ol.array.includes(this.layers_,p)){var u=p+ol.format.WMSGetFeatureInfo.featureIdentifier_;a.featureType=u,a.featureNS=this.featureNS_;var c={};c[u]=ol.xml.makeArrayPusher(this.gmlFormat_.readFeatureElement,this.gmlFormat_);var g=ol.xml.makeStructureNS([a.featureNS,null],c);l.setAttribute("namespaceURI",this.featureNS_);var d=ol.xml.pushParseAndPop([],g,l,t,this.gmlFormat_);d&&ol.array.extend(r,d)}}}if("FeatureCollection"==o){var h=ol.xml.pushParseAndPop([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,e,[{}],this.gmlFormat_);h&&(r=h)}return r},ol,ol.format.WMSGetFeatureInfo.prototype.readFeaturesFromNode=function(e,t){var o={};return t&&ol.obj.assign(o,this.getReadOptions(e,t)),this.readFeatures_(e,[o])},ol.format.WMSGetFeatureInfo.prototype.writeFeatureNode=function(e,t){},ol.format.WMSGetFeatureInfo.prototype.writeFeaturesNode=function(e,t){},ol.format.WMSGetFeatureInfo.prototype.writeGeometryNode=function(e,t){},goog.provide("ol.format.WMTSCapabilities"),goog.require("ol"),goog.require("ol.extent"),goog.require("ol.format.OWS"),goog.require("ol.format.XLink"),goog.require("ol.format.XML"),goog.require("ol.format.XSD"),goog.require("ol.xml"),ol.format.WMTSCapabilities=function(){ol.format.XML.call(this),this.owsParser_=new ol.format.OWS},ol.inherits(ol.format.WMTSCapabilities,ol.format.XML),ol,ol.format.WMTSCapabilities.prototype.readFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readFromNode(t);return null},ol.format.WMTSCapabilities.prototype.readFromNode=function(e){var t=e.getAttribute("version").trim(),o=this.owsParser_.readFromNode(e);return o?(o.version=t,(o=ol.xml.pushParseAndPop(o,ol.format.WMTSCapabilities.PARSERS_,e,[]))||null):null},ol.format.WMTSCapabilities.readContents_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.CONTENTS_PARSERS_,e,t)},ol.format.WMTSCapabilities.readLayer_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.LAYER_PARSERS_,e,t)},ol.format.WMTSCapabilities.readTileMatrixSet_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.TMS_PARSERS_,e,t)},ol.format.WMTSCapabilities.readStyle_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.STYLE_PARSERS_,e,t);if(o){var r="true"===e.getAttribute("isDefault");return o.isDefault=r,o}},ol.format.WMTSCapabilities.readTileMatrixSetLink_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.TMS_LINKS_PARSERS_,e,t)},ol.format.WMTSCapabilities.readDimensions_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.DIMENSION_PARSERS_,e,t)},ol.format.WMTSCapabilities.readResourceUrl_=function(e,t){var o=e.getAttribute("format"),r=e.getAttribute("template"),n=e.getAttribute("resourceType"),i={};return o&&(i.format=o),r&&(i.template=r),n&&(i.resourceType=n),i},ol.format.WMTSCapabilities.readWgs84BoundingBox_=function(e,t){var o=ol.xml.pushParseAndPop([],ol.format.WMTSCapabilities.WGS84_BBOX_READERS_,e,t);if(2==o.length)return ol.extent.boundingExtent(o)},ol.format.WMTSCapabilities.readLegendUrl_=function(e,t){var o={};return o.format=e.getAttribute("format"),o.href=ol.format.XLink.readHref(e),o},ol.format.WMTSCapabilities.readCoordinates_=function(e,t){var o=ol.format.XSD.readString(e).split(" ");if(o&&2==o.length){var r=+o[0],n=+o[1];if(!isNaN(r)&&!isNaN(n))return[r,n]}},ol.format.WMTSCapabilities.readTileMatrix_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.TM_PARSERS_,e,t)},ol.format.WMTSCapabilities.readTileMatrixLimitsList_=function(e,t){return ol.xml.pushParseAndPop([],ol.format.WMTSCapabilities.TMS_LIMITS_LIST_PARSERS_,e,t)},ol.format.WMTSCapabilities.readTileMatrixLimits_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.TMS_LIMITS_PARSERS_,e,t)},ol.format.WMTSCapabilities.NAMESPACE_URIS_=[null,"http://www.opengis.net/wmts/1.0"],ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_=[null,"http://www.opengis.net/ows/1.1"],ol.format.WMTSCapabilities.PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{Contents:ol.xml.makeObjectPropertySetter(ol.format.WMTSCapabilities.readContents_)}),ol.format.WMTSCapabilities.CONTENTS_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{Layer:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readLayer_),TileMatrixSet:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readTileMatrixSet_)}),ol.format.WMTSCapabilities.LAYER_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{Style:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readStyle_),Format:ol.xml.makeObjectPropertyPusher(ol.format.XSD.readString),TileMatrixSetLink:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readTileMatrixSetLink_),Dimension:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readDimensions_),ResourceURL:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readResourceUrl_)},ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Abstract:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),WGS84BoundingBox:ol.xml.makeObjectPropertySetter(ol.format.WMTSCapabilities.readWgs84BoundingBox_),Identifier:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)})),ol.format.WMTSCapabilities.STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{LegendURL:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readLegendUrl_)},ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Identifier:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)})),ol.format.WMTSCapabilities.TMS_LINKS_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{TileMatrixSet:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),TileMatrixSetLimits:ol.xml.makeObjectPropertySetter(ol.format.WMTSCapabilities.readTileMatrixLimitsList_)}),ol.format.WMTSCapabilities.TMS_LIMITS_LIST_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{TileMatrixLimits:ol.xml.makeArrayPusher(ol.format.WMTSCapabilities.readTileMatrixLimits_)}),ol.format.WMTSCapabilities.TMS_LIMITS_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{TileMatrix:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),MinTileRow:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MaxTileRow:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MinTileCol:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MaxTileCol:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger)}),ol.format.WMTSCapabilities.DIMENSION_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{Default:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Value:ol.xml.makeObjectPropertyPusher(ol.format.XSD.readString)},ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{Identifier:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)})),ol.format.WMTSCapabilities.WGS84_BBOX_READERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{LowerCorner:ol.xml.makeArrayPusher(ol.format.WMTSCapabilities.readCoordinates_),UpperCorner:ol.xml.makeArrayPusher(ol.format.WMTSCapabilities.readCoordinates_)}),ol.format.WMTSCapabilities.TMS_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{WellKnownScaleSet:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),TileMatrix:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readTileMatrix_)},ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{SupportedCRS:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Identifier:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)})),ol.format.WMTSCapabilities.TM_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{TopLeftCorner:ol.xml.makeObjectPropertySetter(ol.format.WMTSCapabilities.readCoordinates_),ScaleDenominator:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),TileWidth:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),TileHeight:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MatrixWidth:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MatrixHeight:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger)},ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{Identifier:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)})),goog.provide("ol.GeolocationProperty"),ol.GeolocationProperty={ACCURACY:"accuracy",ACCURACY_GEOMETRY:"accuracyGeometry",ALTITUDE:"altitude",ALTITUDE_ACCURACY:"altitudeAccuracy",HEADING:"heading",POSITION:"position",PROJECTION:"projection",SPEED:"speed",TRACKING:"tracking",TRACKING_OPTIONS:"trackingOptions"},goog.provide("ol.Geolocation"),goog.require("ol"),goog.require("ol.GeolocationProperty"),goog.require("ol.Object"),goog.require("ol.Sphere"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.geom.Polygon"),goog.require("ol.has"),goog.require("ol.math"),goog.require("ol.proj"),goog.require("ol.proj.EPSG4326"),ol.Geolocation=function(e){ol.Object.call(this);var t=e||{};this.position_=null,this.transform_=ol.proj.identityTransform,this.sphere_=new ol.Sphere(ol.proj.EPSG4326.RADIUS),this.watchId_=void 0,ol.events.listen(this,ol.Object.getChangeEventType(ol.GeolocationProperty.PROJECTION),this.handleProjectionChanged_,this),ol.events.listen(this,ol.Object.getChangeEventType(ol.GeolocationProperty.TRACKING),this.handleTrackingChanged_,this),void 0!==t.projection&&this.setProjection(t.projection),void 0!==t.trackingOptions&&this.setTrackingOptions(t.trackingOptions),this.setTracking(void 0!==t.tracking&&t.tracking)},ol.inherits(ol.Geolocation,ol.Object),ol.Geolocation.prototype.disposeInternal=function(){this.setTracking(!1),ol.Object.prototype.disposeInternal.call(this)},ol.Geolocation.prototype.handleProjectionChanged_=function(){var e=this.getProjection();e&&(this.transform_=ol.proj.getTransformFromProjections(ol.proj.get("EPSG:4326"),e),this.position_&&this.set(ol.GeolocationProperty.POSITION,this.transform_(this.position_)))},ol.Geolocation.prototype.handleTrackingChanged_=function(){if(ol.has.GEOLOCATION){var e=this.getTracking();e&&void 0===this.watchId_?this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions()):e||void 0===this.watchId_||(navigator.geolocation.clearWatch(this.watchId_),this.watchId_=void 0)}},ol.Geolocation.prototype.positionChange_=function(e){var t=e.coords;this.set(ol.GeolocationProperty.ACCURACY,t.accuracy),this.set(ol.GeolocationProperty.ALTITUDE,null===t.altitude?void 0:t.altitude),this.set(ol.GeolocationProperty.ALTITUDE_ACCURACY,null===t.altitudeAccuracy?void 0:t.altitudeAccuracy),this.set(ol.GeolocationProperty.HEADING,null===t.heading?void 0:ol.math.toRadians(t.heading)),this.position_?(this.position_[0]=t.longitude,this.position_[1]=t.latitude):this.position_=[t.longitude,t.latitude];var o=this.transform_(this.position_);this.set(ol.GeolocationProperty.POSITION,o),this.set(ol.GeolocationProperty.SPEED,null===t.speed?void 0:t.speed);var r=ol.geom.Polygon.circular(this.sphere_,this.position_,t.accuracy);r.applyTransform(this.transform_),this.set(ol.GeolocationProperty.ACCURACY_GEOMETRY,r),this.changed()},ol.Geolocation.prototype.positionError_=function(e){e.type=ol.events.EventType.ERROR,this.setTracking(!1),this.dispatchEvent(e)},ol.Geolocation.prototype.getAccuracy=function(){return this.get(ol.GeolocationProperty.ACCURACY)},ol.Geolocation.prototype.getAccuracyGeometry=function(){return this.get(ol.GeolocationProperty.ACCURACY_GEOMETRY)||null},ol.Geolocation.prototype.getAltitude=function(){return this.get(ol.GeolocationProperty.ALTITUDE)},ol.Geolocation.prototype.getAltitudeAccuracy=function(){return this.get(ol.GeolocationProperty.ALTITUDE_ACCURACY)},ol.Geolocation.prototype.getHeading=function(){return this.get(ol.GeolocationProperty.HEADING)},ol.Geolocation.prototype.getPosition=function(){return this.get(ol.GeolocationProperty.POSITION)},ol.Geolocation.prototype.getProjection=function(){return this.get(ol.GeolocationProperty.PROJECTION)},ol.Geolocation.prototype.getSpeed=function(){return this.get(ol.GeolocationProperty.SPEED)},ol.Geolocation.prototype.getTracking=function(){return this.get(ol.GeolocationProperty.TRACKING)},ol.Geolocation.prototype.getTrackingOptions=function(){return this.get(ol.GeolocationProperty.TRACKING_OPTIONS)},ol.Geolocation.prototype.setProjection=function(e){this.set(ol.GeolocationProperty.PROJECTION,ol.proj.get(e))},ol.Geolocation.prototype.setTracking=function(e){this.set(ol.GeolocationProperty.TRACKING,e)},ol.Geolocation.prototype.setTrackingOptions=function(e){this.set(ol.GeolocationProperty.TRACKING_OPTIONS,e)},goog.provide("ol.geom.Circle"),goog.require("ol"),goog.require("ol.extent"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.geom.flat.deflate"),ol.geom.Circle=function(e,t,o){ol.geom.SimpleGeometry.call(this),this.setCenterAndRadius(e,t||0,o)},ol.inherits(ol.geom.Circle,ol.geom.SimpleGeometry),ol.geom.Circle.prototype.clone=function(){var e=new ol.geom.Circle(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),e},ol.geom.Circle.prototype.closestPointXY=function(e,t,o,r){var n=this.flatCoordinates,i=e-n[0],l=t-n[1],a=i*i+l*l;if(a<r){var s;if(0===a)for(s=0;s<this.stride;++s)o[s]=n[s];else{var p=this.getRadius()/Math.sqrt(a);for(o[0]=n[0]+p*i,o[1]=n[1]+p*l,s=2;s<this.stride;++s)o[s]=n[s]}return o.length=this.stride,a}return r},ol.geom.Circle.prototype.containsXY=function(e,t){var o=this.flatCoordinates,r=e-o[0],n=t-o[1];return r*r+n*n<=this.getRadiusSquared_()},ol.geom.Circle.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},ol.geom.Circle.prototype.computeExtent=function(e){var t=this.flatCoordinates,o=t[this.stride]-t[0];return ol.extent.createOrUpdate(t[0]-o,t[1]-o,t[0]+o,t[1]+o,e)},ol.geom.Circle.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},ol.geom.Circle.prototype.getRadiusSquared_=function(){var e=this.flatCoordinates[this.stride]-this.flatCoordinates[0],t=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return e*e+t*t},ol.geom.Circle.prototype.getType=function(){return ol.geom.GeometryType.CIRCLE},ol.geom.Circle.prototype.intersectsExtent=function(e){var t=this.getExtent();if(ol.extent.intersects(e,t)){var o=this.getCenter();return e[0]<=o[0]&&e[2]>=o[0]||e[1]<=o[1]&&e[3]>=o[1]||ol.extent.forEachCorner(e,this.intersectsCoordinate,this)}return!1},ol.geom.Circle.prototype.setCenter=function(e){var t,o=this.stride,r=this.flatCoordinates[o]-this.flatCoordinates[0],n=e.slice();for(n[o]=n[0]+r,t=1;t<o;++t)n[o+t]=e[t];this.setFlatCoordinates(this.layout,n)},ol.geom.Circle.prototype.setCenterAndRadius=function(e,t,o){if(e){this.setLayout(o,e,0),this.flatCoordinates||(this.flatCoordinates=[]);var r,n,i=this.flatCoordinates,l=ol.geom.flat.deflate.coordinate(i,0,e,this.stride);for(i[l++]=i[0]+t,r=1,n=this.stride;r<n;++r)i[l++]=i[r];i.length=l,this.changed()}else this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null)},ol.geom.Circle.prototype.getCoordinates=function(){},ol.geom.Circle.prototype.setCoordinates=function(e,t){},ol.geom.Circle.prototype.setFlatCoordinates=function(e,t){this.setFlatCoordinatesInternal(e,t),this.changed()},ol.geom.Circle.prototype.setRadius=function(e){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+e,this.changed()},ol,goog.provide("ol.geom.flat.geodesic"),goog.require("ol.math"),goog.require("ol.proj"),ol.geom.flat.geodesic.line_=function(e,t,o){for(var r,n,i,l,a,s,p=[],u=e(0),c=e(1),g=t(u),d=t(c),h=[c,u],y=[d,g],f=[1,0],m={},v=1e5;--v>0&&f.length>0;)i=f.pop(),u=h.pop(),g=y.pop(),(s=i.toString())in m||(p.push(g[0],g[1]),m[s]=!0),l=f.pop(),c=h.pop(),d=y.pop(),n=t(r=e(a=(i+l)/2)),ol.math.squaredSegmentDistance(n[0],n[1],g[0],g[1],d[0],d[1])<o?(p.push(d[0],d[1]),m[s=l.toString()]=!0):(f.push(l,a,a,i),y.push(d,n,n,g),h.push(c,r,r,u));return p},ol.geom.flat.geodesic.greatCircleArc=function(e,t,o,r,n,i){var l=ol.proj.get("EPSG:4326"),a=Math.cos(ol.math.toRadians(t)),s=Math.sin(ol.math.toRadians(t)),p=Math.cos(ol.math.toRadians(r)),u=Math.sin(ol.math.toRadians(r)),c=Math.cos(ol.math.toRadians(o-e)),g=Math.sin(ol.math.toRadians(o-e)),d=s*u+a*p*c;return ol.geom.flat.geodesic.line_(function(t){if(1<=d)return[o,r];var n=t*Math.acos(d),i=Math.cos(n),l=Math.sin(n),h=Math.atan2(g*p,a*u-s*p*c),y=Math.asin(s*i+a*l*Math.cos(h)),f=ol.math.toRadians(e)+Math.atan2(Math.sin(h)*l*a,i-s*Math.sin(y));return[ol.math.toDegrees(f),ol.math.toDegrees(y)]},ol.proj.getTransform(l,n),i)},ol.geom.flat.geodesic.meridian=function(e,t,o,r,n){var i=ol.proj.get("EPSG:4326");return ol.geom.flat.geodesic.line_(function(r){return[e,t+(o-t)*r]},ol.proj.getTransform(i,r),n)},ol.geom.flat.geodesic.parallel=function(e,t,o,r,n){var i=ol.proj.get("EPSG:4326");return ol.geom.flat.geodesic.line_(function(r){return[t+(o-t)*r,e]},ol.proj.getTransform(i,r),n)},goog.provide("ol.geom.flat.topology"),goog.require("ol.geom.flat.area"),ol.geom.flat.topology.lineStringIsClosed=function(e,t,o,r){var n=o-r;return e[t]===e[n]&&e[t+1]===e[n+1]&&(o-t)/r>3&&!!ol.geom.flat.area.linearRing(e,t,o,r)},goog.provide("ol.Graticule"),goog.require("ol.coordinate"),goog.require("ol.extent"),goog.require("ol.geom.GeometryLayout"),goog.require("ol.geom.LineString"),goog.require("ol.geom.Point"),goog.require("ol.geom.flat.geodesic"),goog.require("ol.math"),goog.require("ol.proj"),goog.require("ol.render.EventType"),goog.require("ol.style.Fill"),goog.require("ol.style.Stroke"),goog.require("ol.style.Text"),ol.Graticule=function(e){var t=e||{};if(this.map_=null,this.projection_=null,this.maxLat_=1/0,this.maxLon_=1/0,this.minLat_=-1/0,this.minLon_=-1/0,this.maxLatP_=1/0,this.maxLonP_=1/0,this.minLatP_=-1/0,this.minLonP_=-1/0,this.targetSize_=void 0!==t.targetSize?t.targetSize:100,this.maxLines_=void 0!==t.maxLines?t.maxLines:100,this.meridians_=[],this.parallels_=[],this.strokeStyle_=void 0!==t.strokeStyle?t.strokeStyle:ol.Graticule.DEFAULT_STROKE_STYLE_,this.fromLonLatTransform_=void 0,this.toLonLatTransform_=void 0,this.projectionCenterLonLat_=null,this.meridiansLabels_=null,this.parallelsLabels_=null,1==t.showLabels){var o=ol.coordinate.degreesToStringHDMS;this.lonLabelFormatter_=void 0==t.lonLabelFormatter?o.bind(this,"EW"):t.lonLabelFormatter,this.latLabelFormatter_=void 0==t.latLabelFormatter?o.bind(this,"NS"):t.latLabelFormatter,this.lonLabelPosition_=void 0==t.lonLabelPosition?0:t.lonLabelPosition,this.latLabelPosition_=void 0==t.latLabelPosition?1:t.latLabelPosition,this.lonLabelStyle_=void 0!==t.lonLabelStyle?t.lonLabelStyle:new ol.style.Text({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new ol.style.Fill({color:"rgba(0,0,0,1)"}),stroke:new ol.style.Stroke({color:"rgba(255,255,255,1)",width:3})}),this.latLabelStyle_=void 0!==t.latLabelStyle?t.latLabelStyle:new ol.style.Text({font:"12px Calibri,sans-serif",textAlign:"end",fill:new ol.style.Fill({color:"rgba(0,0,0,1)"}),stroke:new ol.style.Stroke({color:"rgba(255,255,255,1)",width:3})}),this.meridiansLabels_=[],this.parallelsLabels_=[]}this.setMap(void 0!==t.map?t.map:null)},ol.Graticule.DEFAULT_STROKE_STYLE_=new ol.style.Stroke({color:"rgba(0,0,0,0.2)"}),ol.Graticule.intervals_=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001],ol.Graticule.prototype.addMeridian_=function(e,t,o,r,n,i){var l=this.getMeridian_(e,t,o,r,i);if(ol.extent.intersects(l.getExtent(),n)){if(this.meridiansLabels_){var a=this.getMeridianPoint_(l,n,i);this.meridiansLabels_[i]={geom:a,text:this.lonLabelFormatter_(e)}}this.meridians_[i++]=l}return i},ol.Graticule.prototype.getMeridianPoint_=function(e,t,o){var r=e.getFlatCoordinates(),n=Math.max(t[1],r[1]),i=Math.min(t[3],r[r.length-1]),l=ol.math.clamp(t[1]+Math.abs(t[1]-t[3])*this.lonLabelPosition_,n,i),a=[r[0],l],s=void 0!==this.meridiansLabels_[o]?this.meridiansLabels_[o].geom:new ol.geom.Point(null);return s.setCoordinates(a),s},ol.Graticule.prototype.addParallel_=function(e,t,o,r,n,i){var l=this.getParallel_(e,t,o,r,i);if(ol.extent.intersects(l.getExtent(),n)){if(this.parallelsLabels_){var a=this.getParallelPoint_(l,n,i);this.parallelsLabels_[i]={geom:a,text:this.latLabelFormatter_(e)}}this.parallels_[i++]=l}return i},ol.Graticule.prototype.getParallelPoint_=function(e,t,o){var r=e.getFlatCoordinates(),n=Math.max(t[0],r[0]),i=Math.min(t[2],r[r.length-2]),l=[ol.math.clamp(t[0]+Math.abs(t[0]-t[2])*this.latLabelPosition_,n,i),r[1]],a=void 0!==this.parallelsLabels_[o]?this.parallelsLabels_[o].geom:new ol.geom.Point(null);return a.setCoordinates(l),a},ol.Graticule.prototype.createGraticule_=function(e,t,o,r){var n=this.getInterval_(o);if(-1==n)return this.meridians_.length=this.parallels_.length=0,this.meridiansLabels_&&(this.meridiansLabels_.length=0),void(this.parallelsLabels_&&(this.parallelsLabels_.length=0));var i,l,a,s,p=this.toLonLatTransform_(t),u=p[0],c=p[1],g=this.maxLines_,d=[Math.max(e[0],this.minLonP_),Math.max(e[1],this.minLatP_),Math.min(e[2],this.maxLonP_),Math.min(e[3],this.maxLatP_)],h=(d=ol.proj.transformExtent(d,this.projection_,"EPSG:4326"))[3],y=d[2],f=d[1],m=d[0];for(u=Math.floor(u/n)*n,s=ol.math.clamp(u,this.minLon_,this.maxLon_),l=this.addMeridian_(s,f,h,r,e,0),i=0;s!=this.minLon_&&i++<g;)s=Math.max(s-n,this.minLon_),l=this.addMeridian_(s,f,h,r,e,l);for(s=ol.math.clamp(u,this.minLon_,this.maxLon_),i=0;s!=this.maxLon_&&i++<g;)s=Math.min(s+n,this.maxLon_),l=this.addMeridian_(s,f,h,r,e,l);for(this.meridians_.length=l,this.meridiansLabels_&&(this.meridiansLabels_.length=l),c=Math.floor(c/n)*n,a=ol.math.clamp(c,this.minLat_,this.maxLat_),l=this.addParallel_(a,m,y,r,e,0),i=0;a!=this.minLat_&&i++<g;)a=Math.max(a-n,this.minLat_),l=this.addParallel_(a,m,y,r,e,l);for(a=ol.math.clamp(c,this.minLat_,this.maxLat_),i=0;a!=this.maxLat_&&i++<g;)a=Math.min(a+n,this.maxLat_),l=this.addParallel_(a,m,y,r,e,l);this.parallels_.length=l,this.parallelsLabels_&&(this.parallelsLabels_.length=l)},ol.Graticule.prototype.getInterval_=function(e){var t,o,r,n=this.projectionCenterLonLat_[0],i=this.projectionCenterLonLat_[1],l=-1,a=Math.pow(this.targetSize_*e,2),s=[],p=[];for(t=0,o=ol.Graticule.intervals_.length;t<o&&(r=ol.Graticule.intervals_[t]/2,s[0]=n-r,s[1]=i-r,p[0]=n+r,p[1]=i+r,this.fromLonLatTransform_(s,s),this.fromLonLatTransform_(p,p),!(Math.pow(p[0]-s[0],2)+Math.pow(p[1]-s[1],2)<=a));++t)l=ol.Graticule.intervals_[t];return l},ol.Graticule.prototype.getMap=function(){return this.map_},ol.Graticule.prototype.getMeridian_=function(e,t,o,r,n){var i=ol.geom.flat.geodesic.meridian(e,t,o,this.projection_,r),l=void 0!==this.meridians_[n]?this.meridians_[n]:new ol.geom.LineString(null);return l.setFlatCoordinates(ol.geom.GeometryLayout.XY,i),l},ol.Graticule.prototype.getMeridians=function(){return this.meridians_},ol.Graticule.prototype.getParallel_=function(e,t,o,r,n){var i=ol.geom.flat.geodesic.parallel(e,t,o,this.projection_,r),l=void 0!==this.parallels_[n]?this.parallels_[n]:new ol.geom.LineString(null);return l.setFlatCoordinates(ol.geom.GeometryLayout.XY,i),l},ol.Graticule.prototype.getParallels=function(){return this.parallels_},ol.Graticule.prototype.handlePostCompose_=function(e){var t,o,r,n=e.vectorContext,i=e.frameState,l=i.extent,a=i.viewState,s=a.center,p=a.projection,u=a.resolution,c=i.pixelRatio,g=u*u/(4*c*c);for((!this.projection_||!ol.proj.equivalent(this.projection_,p))&&this.updateProjectionInfo_(p),this.createGraticule_(l,s,u,g),n.setFillStrokeStyle(null,this.strokeStyle_),t=0,o=this.meridians_.length;t<o;++t)n.drawGeometry(this.meridians_[t]);for(t=0,o=this.parallels_.length;t<o;++t)n.drawGeometry(this.parallels_[t]);if(this.meridiansLabels_)for(t=0,o=this.meridiansLabels_.length;t<o;++t)this.lonLabelStyle_.setText((r=this.meridiansLabels_[t]).text),n.setTextStyle(this.lonLabelStyle_),n.drawGeometry(r.geom);if(this.parallelsLabels_)for(t=0,o=this.parallelsLabels_.length;t<o;++t)this.latLabelStyle_.setText((r=this.parallelsLabels_[t]).text),n.setTextStyle(this.latLabelStyle_),n.drawGeometry(r.geom)},ol.Graticule.prototype.updateProjectionInfo_=function(e){var t=ol.proj.get("EPSG:4326"),o=e.getExtent(),r=e.getWorldExtent(),n=ol.proj.transformExtent(r,t,e),i=r[2],l=r[1],a=r[0],s=n[3],p=n[2],u=n[1],c=n[0];this.maxLat_=r[3],this.maxLon_=i,this.minLat_=l,this.minLon_=a,this.maxLatP_=s,this.maxLonP_=p,this.minLatP_=u,this.minLonP_=c,this.fromLonLatTransform_=ol.proj.getTransform(t,e),this.toLonLatTransform_=ol.proj.getTransform(e,t),this.projectionCenterLonLat_=this.toLonLatTransform_(ol.extent.getCenter(o)),this.projection_=e},ol.Graticule.prototype.setMap=function(e){this.map_&&(this.map_.un(ol.render.EventType.POSTCOMPOSE,this.handlePostCompose_,this),this.map_.render()),e&&(e.on(ol.render.EventType.POSTCOMPOSE,this.handlePostCompose_,this),e.render()),this.map_=e},goog.provide("ol.Image"),goog.require("ol"),goog.require("ol.ImageBase"),goog.require("ol.ImageState"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.extent"),ol.Image=function(e,t,o,r,n,i){ol.ImageBase.call(this,e,t,o,ol.ImageState.IDLE),this.src_=r,this.image_=new Image,null!==n&&(this.image_.crossOrigin=n),this.imageListenerKeys_=null,this.state=ol.ImageState.IDLE,this.imageLoadFunction_=i},ol.inherits(ol.Image,ol.ImageBase),ol.Image.prototype.getImage=function(){return this.image_},ol.Image.prototype.handleImageError_=function(){this.state=ol.ImageState.ERROR,this.unlistenImage_(),this.changed()},ol.Image.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=ol.extent.getHeight(this.extent)/this.image_.height),this.state=ol.ImageState.LOADED,this.unlistenImage_(),this.changed()},ol.Image.prototype.load=function(){this.state!=ol.ImageState.IDLE&&this.state!=ol.ImageState.ERROR||(this.state=ol.ImageState.LOADING,this.changed(),this.imageListenerKeys_=[ol.events.listenOnce(this.image_,ol.events.EventType.ERROR,this.handleImageError_,this),ol.events.listenOnce(this.image_,ol.events.EventType.LOAD,this.handleImageLoad_,this)],this.imageLoadFunction_(this,this.src_))},ol.Image.prototype.setImage=function(e){this.image_=e},ol.Image.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(ol.events.unlistenByKey),this.imageListenerKeys_=null},goog.provide("ol.Tile"),goog.require("ol"),goog.require("ol.TileState"),goog.require("ol.easing"),goog.require("ol.events.EventTarget"),goog.require("ol.events.EventType"),ol.Tile=function(e,t,o){ol.events.EventTarget.call(this);var r=o||{};this.tileCoord=e,this.state=t,this.interimTile=null,this.key="",this.transition_=void 0===r.transition?250:r.transition,this.transitionStarts_={}},ol.inherits(ol.Tile,ol.events.EventTarget),ol.Tile.prototype.changed=function(){this.dispatchEvent(ol.events.EventType.CHANGE)},ol.Tile.prototype.getKey=function(){return this.key+"/"+this.tileCoord},ol.Tile.prototype.getInterimTile=function(){if(!this.interimTile)return this;var e=this.interimTile;do{if(e.getState()==ol.TileState.LOADED)return e;e=e.interimTile}while(e);return this},ol.Tile.prototype.refreshInterimChain=function(){if(this.interimTile){var e=this.interimTile,t=this;do{if(e.getState()==ol.TileState.LOADED){e.interimTile=null;break}e.getState()==ol.TileState.LOADING?t=e:e.getState()==ol.TileState.IDLE?t.interimTile=e.interimTile:t=e,e=t.interimTile}while(e)}},ol.Tile.prototype.getTileCoord=function(){return this.tileCoord},ol.Tile.prototype.getState=function(){return this.state},ol.Tile.prototype.setState=function(e){this.state=e,this.changed()},ol.Tile.prototype.load=function(){},ol.Tile.prototype.getAlpha=function(e,t){if(!this.transition_)return 1;var o=this.transitionStarts_[e];if(o){if(-1===o)return 1}else this.transitionStarts_[e]=o=t;var r=t-o+1e3/60;return r>=this.transition_?1:ol.easing.easeIn(r/this.transition_)},ol.Tile.prototype.inTransition=function(e){return!!this.transition_&&-1!==this.transitionStarts_[e]},ol.Tile.prototype.endTransition=function(e){this.transition_&&(this.transitionStarts_[e]=-1)},goog.provide("ol.ImageTile"),goog.require("ol"),goog.require("ol.Tile"),goog.require("ol.TileState"),goog.require("ol.dom"),goog.require("ol.events"),goog.require("ol.events.EventType"),ol.ImageTile=function(e,t,o,r,n,i){ol.Tile.call(this,e,t,i),this.crossOrigin_=r,this.src_=o,this.image_=new Image,null!==r&&(this.image_.crossOrigin=r),this.imageListenerKeys_=null,this.tileLoadFunction_=n},ol.inherits(ol.ImageTile,ol.Tile),ol.ImageTile.prototype.disposeInternal=function(){this.state==ol.TileState.LOADING&&(this.unlistenImage_(),this.image_=ol.ImageTile.getBlankImage()),this.interimTile&&this.interimTile.dispose(),this.state=ol.TileState.ABORT,this.changed(),ol.Tile.prototype.disposeInternal.call(this)},ol.ImageTile.prototype.getImage=function(){return this.image_},ol.ImageTile.prototype.getKey=function(){return this.src_},ol.ImageTile.prototype.handleImageError_=function(){this.state=ol.TileState.ERROR,this.unlistenImage_(),this.image_=ol.ImageTile.getBlankImage(),this.changed()},ol.ImageTile.prototype.handleImageLoad_=function(){this.state=this.image_.naturalWidth&&this.image_.naturalHeight?ol.TileState.LOADED:ol.TileState.EMPTY,this.unlistenImage_(),this.changed()},ol.ImageTile.prototype.load=function(){this.state==ol.TileState.ERROR&&(this.state=ol.TileState.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==ol.TileState.IDLE&&(this.state=ol.TileState.LOADING,this.changed(),this.imageListenerKeys_=[ol.events.listenOnce(this.image_,ol.events.EventType.ERROR,this.handleImageError_,this),ol.events.listenOnce(this.image_,ol.events.EventType.LOAD,this.handleImageLoad_,this)],this.tileLoadFunction_(this,this.src_))},ol.ImageTile.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(ol.events.unlistenByKey),this.imageListenerKeys_=null},ol.ImageTile.getBlankImage=function(){var e=ol.dom.createCanvasContext2D(1,1);return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),e.canvas},goog.provide("ol.interaction.DragAndDrop"),goog.require("ol"),goog.require("ol.functions"),goog.require("ol.events"),goog.require("ol.events.Event"),goog.require("ol.events.EventType"),goog.require("ol.interaction.Interaction"),goog.require("ol.proj"),ol.interaction.DragAndDrop=function(e){var t=e||{};ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.DragAndDrop.handleEvent}),this.formatConstructors_=t.formatConstructors?t.formatConstructors:[],this.projection_=t.projection?ol.proj.get(t.projection):null,this.dropListenKeys_=null,this.source_=t.source||null,this.target=t.target?t.target:null},ol.inherits(ol.interaction.DragAndDrop,ol.interaction.Interaction),ol.interaction.DragAndDrop.handleDrop_=function(e){var t,o,r,n=e.dataTransfer.files;for(t=0,o=n.length;t<o;++t){r=n.item(t);var i=new FileReader;i.addEventListener(ol.events.EventType.LOAD,this.handleResult_.bind(this,r)),i.readAsText(r)}},ol.interaction.DragAndDrop.handleStop_=function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"},ol.interaction.DragAndDrop.prototype.handleResult_=function(e,t){var o=t.target.result,r=this.getMap(),n=this.projection_;n||(n=r.getView().getProjection());var i,l,a=this.formatConstructors_,s=[];for(i=0,l=a.length;i<l;++i){var p=new(0,a[i]);if((s=this.tryReadFeatures_(p,o,{featureProjection:n}))&&s.length>0)break}this.source_&&(this.source_.clear(),this.source_.addFeatures(s)),this.dispatchEvent(new ol.interaction.DragAndDrop.Event(ol.interaction.DragAndDrop.EventType_.ADD_FEATURES,e,s,n))},ol.interaction.DragAndDrop.handleEvent=ol.functions.TRUE,ol.interaction.DragAndDrop.prototype.registerListeners_=function(){var e=this.getMap();if(e){var t=this.target?this.target:e.getViewport();this.dropListenKeys_=[ol.events.listen(t,ol.events.EventType.DROP,ol.interaction.DragAndDrop.handleDrop_,this),ol.events.listen(t,ol.events.EventType.DRAGENTER,ol.interaction.DragAndDrop.handleStop_,this),ol.events.listen(t,ol.events.EventType.DRAGOVER,ol.interaction.DragAndDrop.handleStop_,this),ol.events.listen(t,ol.events.EventType.DROP,ol.interaction.DragAndDrop.handleStop_,this)]}},ol.interaction.DragAndDrop.prototype.setActive=function(e){ol.interaction.Interaction.prototype.setActive.call(this,e),e?this.registerListeners_():this.unregisterListeners_()},ol.interaction.DragAndDrop.prototype.setMap=function(e){this.unregisterListeners_(),ol.interaction.Interaction.prototype.setMap.call(this,e),this.getActive()&&this.registerListeners_()},ol.interaction.DragAndDrop.prototype.tryReadFeatures_=function(e,t,o){try{return e.readFeatures(t,o)}catch(e){return null}},ol.interaction.DragAndDrop.prototype.unregisterListeners_=function(){this.dropListenKeys_&&(this.dropListenKeys_.forEach(ol.events.unlistenByKey),this.dropListenKeys_=null)},ol.interaction.DragAndDrop.EventType_={ADD_FEATURES:"addfeatures"},ol.interaction.DragAndDrop.Event=function(e,t,o,r){ol.events.Event.call(this,e),this.features=o,this.file=t,this.projection=r},ol.inherits(ol.interaction.DragAndDrop.Event,ol.events.Event),goog.provide("ol.interaction.DragRotateAndZoom"),goog.require("ol"),goog.require("ol.RotationConstraint"),goog.require("ol.ViewHint"),goog.require("ol.events.condition"),goog.require("ol.interaction.Interaction"),goog.require("ol.interaction.Pointer"),ol.interaction.DragRotateAndZoom=function(e){var t=e||{};ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.DragRotateAndZoom.handleDownEvent_,handleDragEvent:ol.interaction.DragRotateAndZoom.handleDragEvent_,handleUpEvent:ol.interaction.DragRotateAndZoom.handleUpEvent_}),this.condition_=t.condition?t.condition:ol.events.condition.shiftKeyOnly,this.lastAngle_=void 0,this.lastMagnitude_=void 0,this.lastScaleDelta_=0,this.duration_=void 0!==t.duration?t.duration:400},ol.inherits(ol.interaction.DragRotateAndZoom,ol.interaction.Pointer),ol.interaction.DragRotateAndZoom.handleDragEvent_=function(e){if(ol.events.condition.mouseOnly(e)){var t=e.map,o=t.getSize(),r=e.pixel,n=r[0]-o[0]/2,i=o[1]/2-r[1],l=Math.atan2(i,n),a=Math.sqrt(n*n+i*i),s=t.getView();if(s.getConstraints().rotation!==ol.RotationConstraint.disable&&void 0!==this.lastAngle_){var p=l-this.lastAngle_;ol.interaction.Interaction.rotateWithoutConstraints(s,s.getRotation()-p)}if(this.lastAngle_=l,void 0!==this.lastMagnitude_){var u=this.lastMagnitude_*(s.getResolution()/a);ol.interaction.Interaction.zoomWithoutConstraints(s,u)}void 0!==this.lastMagnitude_&&(this.lastScaleDelta_=this.lastMagnitude_/a),this.lastMagnitude_=a}},ol.interaction.DragRotateAndZoom.handleUpEvent_=function(e){if(!ol.events.condition.mouseOnly(e))return!0;var t=e.map.getView();t.setHint(ol.ViewHint.INTERACTING,-1);var o=this.lastScaleDelta_-1;return ol.interaction.Interaction.rotate(t,t.getRotation()),ol.interaction.Interaction.zoom(t,t.getResolution(),void 0,this.duration_,o),this.lastScaleDelta_=0,!1},ol.interaction.DragRotateAndZoom.handleDownEvent_=function(e){return!!ol.events.condition.mouseOnly(e)&&!!this.condition_(e)&&(e.map.getView().setHint(ol.ViewHint.INTERACTING,1),this.lastAngle_=void 0,this.lastMagnitude_=void 0,!0)},goog.provide("ol.interaction.DrawEventType"),ol.interaction.DrawEventType={DRAWSTART:"drawstart",DRAWEND:"drawend"},goog.provide("ol.layer.Vector"),goog.require("ol"),goog.require("ol.LayerType"),goog.require("ol.layer.Layer"),goog.require("ol.layer.VectorRenderType"),goog.require("ol.obj"),goog.require("ol.style.Style"),ol.layer.Vector=function(e){var t=e||{},o=ol.obj.assign({},t);delete o.style,delete o.renderBuffer,delete o.updateWhileAnimating,delete o.updateWhileInteracting,ol.layer.Layer.call(this,o),this.declutter_=void 0!==t.declutter&&t.declutter,this.renderBuffer_=void 0!==t.renderBuffer?t.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(t.style),this.updateWhileAnimating_=void 0!==t.updateWhileAnimating&&t.updateWhileAnimating,this.updateWhileInteracting_=void 0!==t.updateWhileInteracting&&t.updateWhileInteracting,this.renderMode_=t.renderMode||ol.layer.VectorRenderType.VECTOR,this.type=ol.LayerType.VECTOR},ol.inherits(ol.layer.Vector,ol.layer.Layer),ol.layer.Vector.prototype.getDeclutter=function(){return this.declutter_},ol.layer.Vector.prototype.setDeclutter=function(e){this.declutter_=e},ol.layer.Vector.prototype.getRenderBuffer=function(){return this.renderBuffer_},ol.layer.Vector.prototype.getRenderOrder=function(){return this.get(ol.layer.Vector.Property_.RENDER_ORDER)},ol,ol.layer.Vector.prototype.getStyle=function(){return this.style_},ol.layer.Vector.prototype.getStyleFunction=function(){return this.styleFunction_},ol.layer.Vector.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},ol.layer.Vector.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},ol.layer.Vector.prototype.setRenderOrder=function(e){this.set(ol.layer.Vector.Property_.RENDER_ORDER,e)},ol.layer.Vector.prototype.setStyle=function(e){this.style_=void 0!==e?e:ol.style.Style.defaultFunction,this.styleFunction_=null===e?void 0:ol.style.Style.createFunction(this.style_),this.changed()},ol.layer.Vector.prototype.getRenderMode=function(){return this.renderMode_},ol.layer.Vector.Property_={RENDER_ORDER:"renderOrder"},goog.provide("ol.loadingstrategy"),ol.loadingstrategy.all=function(e,t){return[[-1/0,-1/0,1/0,1/0]]},ol.loadingstrategy.bbox=function(e,t){return[e]},ol.loadingstrategy.tile=function(e){return function(t,o){var r=e.getZForResolution(o),n=e.getTileRangeForExtentAndZ(t,r),i=[],l=[r,0,0];for(l[1]=n.minX;l[1]<=n.maxX;++l[1])for(l[2]=n.minY;l[2]<=n.maxY;++l[2])i.push(e.getTileCoordExtent(l));return i}},goog.provide("ol.source.Source"),goog.require("ol"),goog.require("ol.Attribution"),goog.require("ol.Object"),goog.require("ol.proj"),goog.require("ol.source.State"),ol.source.Source=function(e){ol.Object.call(this),this.projection_=ol.proj.get(e.projection),this.attributions_=null,this.attributions2_=this.adaptAttributions_(e.attributions),this.logo_=e.logo,this.state_=void 0!==e.state?e.state:ol.source.State.READY,this.wrapX_=void 0!==e.wrapX&&e.wrapX},ol.inherits(ol.source.Source,ol.Object),ol.source.Source.prototype.adaptAttributions_=function(e){if(!e)return null;if(e instanceof ol.Attribution)return this.attributions_=[e],function(t){return[e.getHTML()]};if(Array.isArray(e)){if(e[0]instanceof ol.Attribution){this.attributions_=e;var t=e.map(function(e){return e.getHTML()});return function(e){return t}}return this.attributions_=e.map(function(e){return new ol.Attribution({html:e})}),function(t){return e}}return"function"==typeof e?e:(this.attributions_=[new ol.Attribution({html:e})],function(t){return[e]})},ol.source.Source.prototype.forEachFeatureAtCoordinate=ol.nullFunction,ol.source.Source.prototype.getAttributions=function(){return this.attributions_},ol.source.Source.prototype.getAttributions2=function(){return this.attributions2_},ol.source.Source.prototype.getLogo=function(){return this.logo_},ol.source.Source.prototype.getProjection=function(){return this.projection_},ol.source.Source.prototype.getResolutions=function(){},ol.source.Source.prototype.getState=function(){return this.state_},ol.source.Source.prototype.getWrapX=function(){return this.wrapX_},ol.source.Source.prototype.refresh=function(){this.changed()},ol.source.Source.prototype.setAttributions=function(e){this.attributions2_=this.adaptAttributions_(e),this.changed()},ol.source.Source.prototype.setLogo=function(e){this.logo_=e},ol.source.Source.prototype.setState=function(e){this.state_=e,this.changed()},goog.provide("ol.source.VectorEventType"),ol.source.VectorEventType={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature"},goog.provide("ol.structs.RBush"),goog.require("ol"),goog.require("ol.ext.rbush"),goog.require("ol.extent"),goog.require("ol.obj"),ol.structs.RBush=function(e){this.rbush_=ol.ext.rbush(e),this.items_={}},ol.structs.RBush.prototype.insert=function(e,t){var o={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(o),this.items_[ol.getUid(t)]=o},ol.structs.RBush.prototype.load=function(e,t){for(var o=new Array(t.length),r=0,n=t.length;r<n;r++){var i=e[r],l=t[r],a={minX:i[0],minY:i[1],maxX:i[2],maxY:i[3],value:l};o[r]=a,this.items_[ol.getUid(l)]=a}this.rbush_.load(o)},ol.structs.RBush.prototype.remove=function(e){var t=ol.getUid(e),o=this.items_[t];return delete this.items_[t],null!==this.rbush_.remove(o)},ol.structs.RBush.prototype.update=function(e,t){var o=this.items_[ol.getUid(t)];ol.extent.equals([o.minX,o.minY,o.maxX,o.maxY],e)||(this.remove(t),this.insert(e,t))},ol.structs.RBush.prototype.getAll=function(){return this.rbush_.all().map(function(e){return e.value})},ol.structs.RBush.prototype.getInExtent=function(e){return this.rbush_.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}).map(function(e){return e.value})},ol.structs.RBush.prototype.forEach=function(e,t){return this.forEach_(this.getAll(),e,t)},ol.structs.RBush.prototype.forEachInExtent=function(e,t,o){return this.forEach_(this.getInExtent(e),t,o)},ol.structs.RBush.prototype.forEach_=function(e,t,o){for(var r,n=0,i=e.length;n<i;n++)if(r=t.call(o,e[n]))return r;return r},ol.structs.RBush.prototype.isEmpty=function(){return ol.obj.isEmpty(this.items_)},ol.structs.RBush.prototype.clear=function(){this.rbush_.clear(),this.items_={}},ol.structs.RBush.prototype.getExtent=function(e){var t=this.rbush_.data;return ol.extent.createOrUpdate(t.minX,t.minY,t.maxX,t.maxY,e)},ol.structs.RBush.prototype.concat=function(e){for(var t in this.rbush_.load(e.rbush_.all()),e.items_)this.items_[0|t]=e.items_[0|t]},goog.provide("ol.source.Vector"),goog.require("ol"),goog.require("ol.Collection"),goog.require("ol.CollectionEventType"),goog.require("ol.ObjectEventType"),goog.require("ol.array"),goog.require("ol.asserts"),goog.require("ol.events"),goog.require("ol.events.Event"),goog.require("ol.events.EventType"),goog.require("ol.extent"),goog.require("ol.featureloader"),goog.require("ol.functions"),goog.require("ol.loadingstrategy"),goog.require("ol.obj"),goog.require("ol.source.Source"),goog.require("ol.source.State"),goog.require("ol.source.VectorEventType"),goog.require("ol.structs.RBush"),ol.source.Vector=function(e){var t=e||{};ol.source.Source.call(this,{attributions:t.attributions,logo:t.logo,projection:void 0,state:ol.source.State.READY,wrapX:void 0===t.wrapX||t.wrapX}),this.loader_=ol.nullFunction,this.format_=t.format,this.overlaps_=void 0==t.overlaps||t.overlaps,this.url_=t.url,void 0!==t.loader?this.loader_=t.loader:void 0!==this.url_&&(ol.asserts.assert(this.format_,7),this.loader_=ol.featureloader.xhr(this.url_,this.format_)),this.strategy_=void 0!==t.strategy?t.strategy:ol.loadingstrategy.all;var o,r,n=void 0===t.useSpatialIndex||t.useSpatialIndex;this.featuresRtree_=n?new ol.structs.RBush:null,this.loadedExtentsRtree_=new ol.structs.RBush,this.nullGeometryFeatures_={},this.idIndex_={},this.undefIdIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,t.features instanceof ol.Collection?r=(o=t.features).getArray():Array.isArray(t.features)&&(r=t.features),n||void 0!==o||(o=new ol.Collection(r)),void 0!==r&&this.addFeaturesInternal(r),void 0!==o&&this.bindFeaturesCollection_(o)},ol.inherits(ol.source.Vector,ol.source.Source),ol.source.Vector.prototype.addFeature=function(e){this.addFeatureInternal(e),this.changed()},ol.source.Vector.prototype.addFeatureInternal=function(e){var t=ol.getUid(e).toString();if(this.addToIndex_(t,e)){this.setupChangeEvents_(t,e);var o=e.getGeometry();if(o){var r=o.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new ol.source.Vector.Event(ol.source.VectorEventType.ADDFEATURE,e))}},ol.source.Vector.prototype.setupChangeEvents_=function(e,t){this.featureChangeKeys_[e]=[ol.events.listen(t,ol.events.EventType.CHANGE,this.handleFeatureChange_,this),ol.events.listen(t,ol.ObjectEventType.PROPERTYCHANGE,this.handleFeatureChange_,this)]},ol.source.Vector.prototype.addToIndex_=function(e,t){var o=!0,r=t.getId();return void 0!==r?r.toString()in this.idIndex_?o=!1:this.idIndex_[r.toString()]=t:(ol.asserts.assert(!(e in this.undefIdIndex_),30),this.undefIdIndex_[e]=t),o},ol.source.Vector.prototype.addFeatures=function(e){this.addFeaturesInternal(e),this.changed()},ol.source.Vector.prototype.addFeaturesInternal=function(e){var t,o,r,n,i=[],l=[],a=[];for(o=0,r=e.length;o<r;o++)n=e[o],t=ol.getUid(n).toString(),this.addToIndex_(t,n)&&l.push(n);for(o=0,r=l.length;o<r;o++){n=l[o],t=ol.getUid(n).toString(),this.setupChangeEvents_(t,n);var s=n.getGeometry();if(s){var p=s.getExtent();i.push(p),a.push(n)}else this.nullGeometryFeatures_[t]=n}for(this.featuresRtree_&&this.featuresRtree_.load(i,a),o=0,r=l.length;o<r;o++)this.dispatchEvent(new ol.source.Vector.Event(ol.source.VectorEventType.ADDFEATURE,l[o]))},ol.source.Vector.prototype.bindFeaturesCollection_=function(e){var t=!1;ol.events.listen(this,ol.source.VectorEventType.ADDFEATURE,function(o){t||(t=!0,e.push(o.feature),t=!1)}),ol.events.listen(this,ol.source.VectorEventType.REMOVEFEATURE,function(o){t||(t=!0,e.remove(o.feature),t=!1)}),ol.events.listen(e,ol.CollectionEventType.ADD,function(e){t||(t=!0,this.addFeature(e.element),t=!1)},this),ol.events.listen(e,ol.CollectionEventType.REMOVE,function(e){t||(t=!0,this.removeFeature(e.element),t=!1)},this),this.featuresCollection_=e},ol.source.Vector.prototype.clear=function(e){if(e){for(var t in this.featureChangeKeys_)this.featureChangeKeys_[t].forEach(ol.events.unlistenByKey);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.undefIdIndex_={})}else if(this.featuresRtree_)for(var o in this.featuresRtree_.forEach(this.removeFeatureInternal,this),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[o]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.loadedExtentsRtree_.clear(),this.nullGeometryFeatures_={};var r=new ol.source.Vector.Event(ol.source.VectorEventType.CLEAR);this.dispatchEvent(r),this.changed()},ol.source.Vector.prototype.forEachFeature=function(e,t){return this.featuresRtree_?this.featuresRtree_.forEach(e,t):this.featuresCollection_?this.featuresCollection_.forEach(e,t):void 0},ol.source.Vector.prototype.forEachFeatureAtCoordinateDirect=function(e,t,o){return this.forEachFeatureInExtent([e[0],e[1],e[0],e[1]],function(r){return r.getGeometry().intersectsCoordinate(e)?t.call(o,r):void 0})},ol.source.Vector.prototype.forEachFeatureInExtent=function(e,t,o){return this.featuresRtree_?this.featuresRtree_.forEachInExtent(e,t,o):this.featuresCollection_?this.featuresCollection_.forEach(t,o):void 0},ol.source.Vector.prototype.forEachFeatureIntersectingExtent=function(e,t,o){return this.forEachFeatureInExtent(e,function(r){if(r.getGeometry().intersectsExtent(e)){var n=t.call(o,r);if(n)return n}})},ol.source.Vector.prototype.getFeaturesCollection=function(){return this.featuresCollection_},ol.source.Vector.prototype.getFeatures=function(){var e;return this.featuresCollection_?e=this.featuresCollection_.getArray():this.featuresRtree_&&(e=this.featuresRtree_.getAll(),ol.obj.isEmpty(this.nullGeometryFeatures_)||ol.array.extend(e,ol.obj.getValues(this.nullGeometryFeatures_))),e},ol.source.Vector.prototype.getFeaturesAtCoordinate=function(e){var t=[];return this.forEachFeatureAtCoordinateDirect(e,function(e){t.push(e)}),t},ol.source.Vector.prototype.getFeaturesInExtent=function(e){return this.featuresRtree_.getInExtent(e)},ol.source.Vector.prototype.getClosestFeatureToCoordinate=function(e,t){var o=e[0],r=e[1],n=null,i=[NaN,NaN],l=1/0,a=[-1/0,-1/0,1/0,1/0],s=t||ol.functions.TRUE;return this.featuresRtree_.forEachInExtent(a,function(e){if(s(e)){var t=e.getGeometry(),p=l;if((l=t.closestPointXY(o,r,i,l))<p){n=e;var u=Math.sqrt(l);a[0]=o-u,a[1]=r-u,a[2]=o+u,a[3]=r+u}}}),n},ol.source.Vector.prototype.getExtent=function(e){return this.featuresRtree_.getExtent(e)},ol.source.Vector.prototype.getFeatureById=function(e){var t=this.idIndex_[e.toString()];return void 0!==t?t:null},ol.source.Vector.prototype.getFormat=function(){return this.format_},ol.source.Vector.prototype.getOverlaps=function(){return this.overlaps_},ol.source.Vector.prototype.getResolutions=function(){},ol.source.Vector.prototype.getUrl=function(){return this.url_},ol.source.Vector.prototype.handleFeatureChange_=function(e){var t=e.target,o=ol.getUid(t).toString(),r=t.getGeometry();if(r){var n=r.getExtent();o in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[o],this.featuresRtree_&&this.featuresRtree_.insert(n,t)):this.featuresRtree_&&this.featuresRtree_.update(n,t)}else o in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[o]=t);var i=t.getId();if(void 0!==i){var l=i.toString();o in this.undefIdIndex_?(delete this.undefIdIndex_[o],this.idIndex_[l]=t):this.idIndex_[l]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[l]=t)}else o in this.undefIdIndex_||(this.removeFromIdIndex_(t),this.undefIdIndex_[o]=t);this.changed(),this.dispatchEvent(new ol.source.Vector.Event(ol.source.VectorEventType.CHANGEFEATURE,t))},ol.source.Vector.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&ol.obj.isEmpty(this.nullGeometryFeatures_)},ol.source.Vector.prototype.loadFeatures=function(e,t,o){var r,n,i=this.loadedExtentsRtree_,l=this.strategy_(e,t);for(r=0,n=l.length;r<n;++r){var a=l[r];i.forEachInExtent(a,function(e){return ol.extent.containsExtent(e.extent,a)})||(this.loader_.call(this,a,t,o),i.insert(a,{extent:a.slice()}))}},ol.source.Vector.prototype.removeLoadedExtent=function(e){var t,o=this.loadedExtentsRtree_;o.forEachInExtent(e,function(o){if(ol.extent.equals(o.extent,e))return t=o,!0}),t&&o.remove(t)},ol.source.Vector.prototype.removeFeature=function(e){var t=ol.getUid(e).toString();t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.removeFeatureInternal(e),this.changed()},ol.source.Vector.prototype.removeFeatureInternal=function(e){var t=ol.getUid(e).toString();this.featureChangeKeys_[t].forEach(ol.events.unlistenByKey),delete this.featureChangeKeys_[t];var o=e.getId();void 0!==o?delete this.idIndex_[o.toString()]:delete this.undefIdIndex_[t],this.dispatchEvent(new ol.source.Vector.Event(ol.source.VectorEventType.REMOVEFEATURE,e))},ol.source.Vector.prototype.removeFromIdIndex_=function(e){var t=!1;for(var o in this.idIndex_)if(this.idIndex_[o]===e){delete this.idIndex_[o],t=!0;break}return t},ol.source.Vector.prototype.setLoader=function(e){this.loader_=e},ol.source.Vector.Event=function(e,t){ol.events.Event.call(this,e),this.feature=t},ol.inherits(ol.source.Vector.Event,ol.events.Event),goog.provide("ol.interaction.Draw"),goog.require("ol"),goog.require("ol.Feature"),goog.require("ol.MapBrowserEventType"),goog.require("ol.Object"),goog.require("ol.coordinate"),goog.require("ol.events"),goog.require("ol.events.Event"),goog.require("ol.events.condition"),goog.require("ol.extent"),goog.require("ol.functions"),goog.require("ol.geom.Circle"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.LineString"),goog.require("ol.geom.MultiLineString"),goog.require("ol.geom.MultiPoint"),goog.require("ol.geom.MultiPolygon"),goog.require("ol.geom.Point"),goog.require("ol.geom.Polygon"),goog.require("ol.interaction.DrawEventType"),goog.require("ol.interaction.Pointer"),goog.require("ol.interaction.Property"),goog.require("ol.layer.Vector"),goog.require("ol.source.Vector"),goog.require("ol.style.Style"),ol.interaction.Draw=function(e){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.Draw.handleDownEvent_,handleEvent:ol.interaction.Draw.handleEvent,handleUpEvent:ol.interaction.Draw.handleUpEvent_}),this.shouldHandle_=!1,this.downPx_=null,this.freehand_=!1,this.source_=e.source?e.source:null,this.features_=e.features?e.features:null,this.snapTolerance_=e.snapTolerance?e.snapTolerance:12,this.type_=e.type,this.mode_=ol.interaction.Draw.getMode_(this.type_),this.stopClick_=!!e.stopClick,this.minPoints_=e.minPoints?e.minPoints:this.mode_===ol.interaction.Draw.Mode_.POLYGON?3:2,this.maxPoints_=e.maxPoints?e.maxPoints:1/0,this.finishCondition_=e.finishCondition?e.finishCondition:ol.functions.TRUE;var t=e.geometryFunction;if(!t)if(this.type_===ol.geom.GeometryType.CIRCLE)t=function(e,t){var o=t||new ol.geom.Circle([NaN,NaN]),r=ol.coordinate.squaredDistance(e[0],e[1]);return o.setCenterAndRadius(e[0],Math.sqrt(r)),o};else{var o,r=this.mode_;r===ol.interaction.Draw.Mode_.POINT?o=ol.geom.Point:r===ol.interaction.Draw.Mode_.LINE_STRING?o=ol.geom.LineString:r===ol.interaction.Draw.Mode_.POLYGON&&(o=ol.geom.Polygon),t=function(e,t){var n=t;return n?r===ol.interaction.Draw.Mode_.POLYGON?n.setCoordinates(e[0].length?[e[0].concat([e[0][0]])]:[]):n.setCoordinates(e):n=new o(e),n}}this.geometryFunction_=t,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,this.overlay_=new ol.layer.Vector({source:new ol.source.Vector({useSpatialIndex:!1,wrapX:!!e.wrapX&&e.wrapX}),style:e.style?e.style:ol.interaction.Draw.getDefaultStyleFunction()}),this.geometryName_=e.geometryName,this.condition_=e.condition?e.condition:ol.events.condition.noModifierKeys,this.freehandCondition_=e.freehand?ol.events.condition.always:e.freehandCondition?e.freehandCondition:ol.events.condition.shiftKeyOnly,ol.events.listen(this,ol.Object.getChangeEventType(ol.interaction.Property.ACTIVE),this.updateState_,this)},ol.inherits(ol.interaction.Draw,ol.interaction.Pointer),ol.interaction.Draw.getDefaultStyleFunction=function(){var e=ol.style.Style.createDefaultEditing();return function(t,o){return e[t.getGeometry().getType()]}},ol.interaction.Draw.prototype.setMap=function(e){ol.interaction.Pointer.prototype.setMap.call(this,e),this.updateState_()},ol.interaction.Draw.handleEvent=function(e){this.freehand_=this.mode_!==ol.interaction.Draw.Mode_.POINT&&this.freehandCondition_(e);var t=!0;return this.freehand_&&e.type===ol.MapBrowserEventType.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(e),t=!1):this.freehand_&&e.type===ol.MapBrowserEventType.POINTERDOWN?t=!1:e.type===ol.MapBrowserEventType.POINTERMOVE?t=this.handlePointerMove_(e):e.type===ol.MapBrowserEventType.DBLCLICK&&(t=!1),ol.interaction.Pointer.handleEvent.call(this,e)&&t},ol.interaction.Draw.handleDownEvent_=function(e){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=e.pixel,this.finishCoordinate_||this.startDrawing_(e),!0):!!this.condition_(e)&&(this.downPx_=e.pixel,!0)},ol.interaction.Draw.handleUpEvent_=function(e){var t=!0;this.handlePointerMove_(e);var o=this.mode_===ol.interaction.Draw.Mode_.CIRCLE;return this.shouldHandle_?(this.finishCoordinate_?this.freehand_||o?this.finishDrawing():this.atFinish_(e)?this.finishCondition_(e)&&this.finishDrawing():this.addToDrawing_(e):(this.startDrawing_(e),this.mode_===ol.interaction.Draw.Mode_.POINT&&this.finishDrawing()),t=!1):this.freehand_&&(this.finishCoordinate_=null,this.abortDrawing_()),!t&&this.stopClick_&&e.stopPropagation(),t},ol.interaction.Draw.prototype.handlePointerMove_=function(e){if(this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var t=this.downPx_,o=e.pixel,r=t[0]-o[0],n=t[1]-o[1],i=r*r+n*n;this.shouldHandle_=this.freehand_?i>this.squaredClickTolerance_:i<=this.squaredClickTolerance_}return this.finishCoordinate_?this.modifyDrawing_(e):this.createOrUpdateSketchPoint_(e),!0},ol.interaction.Draw.prototype.atFinish_=function(e){var t=!1;if(this.sketchFeature_){var o=!1,r=[this.finishCoordinate_];if(this.mode_===ol.interaction.Draw.Mode_.LINE_STRING?o=this.sketchCoords_.length>this.minPoints_:this.mode_===ol.interaction.Draw.Mode_.POLYGON&&(o=this.sketchCoords_[0].length>this.minPoints_,r=[this.sketchCoords_[0][0],this.sketchCoords_[0][this.sketchCoords_[0].length-2]]),o)for(var n=e.map,i=0,l=r.length;i<l;i++){var a=r[i],s=n.getPixelFromCoordinate(a),p=e.pixel,u=p[0]-s[0],c=p[1]-s[1],g=this.freehand_?1:this.snapTolerance_;if(t=Math.sqrt(u*u+c*c)<=g){this.finishCoordinate_=a;break}}}return t},ol.interaction.Draw.prototype.createOrUpdateSketchPoint_=function(e){var t=e.coordinate.slice();this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(t):(this.sketchPoint_=new ol.Feature(new ol.geom.Point(t)),this.updateSketchFeatures_())},ol.interaction.Draw.prototype.startDrawing_=function(e){var t=e.coordinate;this.finishCoordinate_=t,this.mode_===ol.interaction.Draw.Mode_.POINT?this.sketchCoords_=t.slice():this.mode_===ol.interaction.Draw.Mode_.POLYGON?(this.sketchCoords_=[[t.slice(),t.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):(this.sketchCoords_=[t.slice(),t.slice()],this.mode_===ol.interaction.Draw.Mode_.CIRCLE&&(this.sketchLineCoords_=this.sketchCoords_)),this.sketchLineCoords_&&(this.sketchLine_=new ol.Feature(new ol.geom.LineString(this.sketchLineCoords_)));var o=this.geometryFunction_(this.sketchCoords_);this.sketchFeature_=new ol.Feature,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(o),this.updateSketchFeatures_(),this.dispatchEvent(new ol.interaction.Draw.Event(ol.interaction.DrawEventType.DRAWSTART,this.sketchFeature_))},ol.interaction.Draw.prototype.modifyDrawing_=function(e){var t,o,r=e.coordinate,n=this.sketchFeature_.getGeometry();if(this.mode_===ol.interaction.Draw.Mode_.POINT?o=this.sketchCoords_:this.mode_===ol.interaction.Draw.Mode_.POLYGON?(o=(t=this.sketchCoords_[0])[t.length-1],this.atFinish_(e)&&(r=this.finishCoordinate_.slice())):o=(t=this.sketchCoords_)[t.length-1],o[0]=r[0],o[1]=r[1],this.geometryFunction_(this.sketchCoords_,n),this.sketchPoint_&&this.sketchPoint_.getGeometry().setCoordinates(r),n instanceof ol.geom.Polygon&&this.mode_!==ol.interaction.Draw.Mode_.POLYGON){this.sketchLine_||(this.sketchLine_=new ol.Feature(new ol.geom.LineString(null)));var i=n.getLinearRing(0);this.sketchLine_.getGeometry().setFlatCoordinates(i.getLayout(),i.getFlatCoordinates())}else this.sketchLineCoords_&&this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_);this.updateSketchFeatures_()},ol.interaction.Draw.prototype.addToDrawing_=function(e){var t,o,r=e.coordinate,n=this.sketchFeature_.getGeometry();this.mode_===ol.interaction.Draw.Mode_.LINE_STRING?(this.finishCoordinate_=r.slice(),(o=this.sketchCoords_).length>=this.maxPoints_&&(this.freehand_?o.pop():t=!0),o.push(r.slice()),this.geometryFunction_(o,n)):this.mode_===ol.interaction.Draw.Mode_.POLYGON&&((o=this.sketchCoords_[0]).length>=this.maxPoints_&&(this.freehand_?o.pop():t=!0),o.push(r.slice()),t&&(this.finishCoordinate_=o[0]),this.geometryFunction_(this.sketchCoords_,n)),this.updateSketchFeatures_(),t&&this.finishDrawing()},ol.interaction.Draw.prototype.removeLastPoint=function(){if(this.sketchFeature_){var e,t=this.sketchFeature_.getGeometry();this.mode_===ol.interaction.Draw.Mode_.LINE_STRING?((e=this.sketchCoords_).splice(-2,1),this.geometryFunction_(e,t),e.length>=2&&(this.finishCoordinate_=e[e.length-2].slice())):this.mode_===ol.interaction.Draw.Mode_.POLYGON&&((e=this.sketchCoords_[0]).splice(-2,1),this.sketchLine_.getGeometry().setCoordinates(e),this.geometryFunction_(this.sketchCoords_,t)),0===e.length&&(this.finishCoordinate_=null),this.updateSketchFeatures_()}},ol.interaction.Draw.prototype.finishDrawing=function(){var e=this.abortDrawing_(),t=this.sketchCoords_,o=e.getGeometry();this.mode_===ol.interaction.Draw.Mode_.LINE_STRING?(t.pop(),this.geometryFunction_(t,o)):this.mode_===ol.interaction.Draw.Mode_.POLYGON&&(t[0].pop(),this.geometryFunction_(t,o),t=o.getCoordinates()),this.type_===ol.geom.GeometryType.MULTI_POINT?e.setGeometry(new ol.geom.MultiPoint([t])):this.type_===ol.geom.GeometryType.MULTI_LINE_STRING?e.setGeometry(new ol.geom.MultiLineString([t])):this.type_===ol.geom.GeometryType.MULTI_POLYGON&&e.setGeometry(new ol.geom.MultiPolygon([t])),this.dispatchEvent(new ol.interaction.Draw.Event(ol.interaction.DrawEventType.DRAWEND,e)),this.features_&&this.features_.push(e),this.source_&&this.source_.addFeature(e)},ol.interaction.Draw.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var e=this.sketchFeature_;return e&&(this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0)),e},ol.interaction.Draw.prototype.extend=function(e){var t=e.getGeometry();this.sketchFeature_=e,this.sketchCoords_=t.getCoordinates();var o=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=o.slice(),this.sketchCoords_.push(o.slice()),this.updateSketchFeatures_(),this.dispatchEvent(new ol.interaction.Draw.Event(ol.interaction.DrawEventType.DRAWSTART,this.sketchFeature_))},ol.interaction.Draw.prototype.shouldStopEvent=ol.functions.FALSE,ol.interaction.Draw.prototype.updateSketchFeatures_=function(){var e=[];this.sketchFeature_&&e.push(this.sketchFeature_),this.sketchLine_&&e.push(this.sketchLine_),this.sketchPoint_&&e.push(this.sketchPoint_);var t=this.overlay_.getSource();t.clear(!0),t.addFeatures(e)},ol.interaction.Draw.prototype.updateState_=function(){var e=this.getMap(),t=this.getActive();e&&t||this.abortDrawing_(),this.overlay_.setMap(t?e:null)},ol.interaction.Draw.createRegularPolygon=function(e,t){return function(o,r){var n=o[0],i=o[1],l=Math.sqrt(ol.coordinate.squaredDistance(n,i)),a=r||ol.geom.Polygon.fromCircle(new ol.geom.Circle(n),e),s=t||Math.atan((i[1]-n[1])/(i[0]-n[0]));return ol.geom.Polygon.makeRegular(a,n,l,s),a}},ol.interaction.Draw.createBox=function(){return function(e,t){var o=ol.extent.boundingExtent(e),r=t||new ol.geom.Polygon(null);return r.setCoordinates([[ol.extent.getBottomLeft(o),ol.extent.getBottomRight(o),ol.extent.getTopRight(o),ol.extent.getTopLeft(o),ol.extent.getBottomLeft(o)]]),r}},ol.interaction.Draw.getMode_=function(e){var t;return e===ol.geom.GeometryType.POINT||e===ol.geom.GeometryType.MULTI_POINT?t=ol.interaction.Draw.Mode_.POINT:e===ol.geom.GeometryType.LINE_STRING||e===ol.geom.GeometryType.MULTI_LINE_STRING?t=ol.interaction.Draw.Mode_.LINE_STRING:e===ol.geom.GeometryType.POLYGON||e===ol.geom.GeometryType.MULTI_POLYGON?t=ol.interaction.Draw.Mode_.POLYGON:e===ol.geom.GeometryType.CIRCLE&&(t=ol.interaction.Draw.Mode_.CIRCLE),t},ol.interaction.Draw.Mode_={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},ol.interaction.Draw.Event=function(e,t){ol.events.Event.call(this,e),this.feature=t},ol.inherits(ol.interaction.Draw.Event,ol.events.Event),goog.provide("ol.interaction.ExtentEventType"),ol.interaction.ExtentEventType={EXTENTCHANGED:"extentchanged"},goog.provide("ol.interaction.Extent"),goog.require("ol"),goog.require("ol.Feature"),goog.require("ol.MapBrowserEventType"),goog.require("ol.MapBrowserPointerEvent"),goog.require("ol.coordinate"),goog.require("ol.events.Event"),goog.require("ol.extent"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.Point"),goog.require("ol.geom.Polygon"),goog.require("ol.interaction.ExtentEventType"),goog.require("ol.interaction.Pointer"),goog.require("ol.layer.Vector"),goog.require("ol.source.Vector"),goog.require("ol.style.Style"),ol.interaction.Extent=function(e){var t=e||{};this.extent_=null,this.pointerHandler_=null,this.pixelTolerance_=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.snappedToVertex_=!1,this.extentFeature_=null,this.vertexFeature_=null,e||(e={}),ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.Extent.handleDownEvent_,handleDragEvent:ol.interaction.Extent.handleDragEvent_,handleEvent:ol.interaction.Extent.handleEvent_,handleUpEvent:ol.interaction.Extent.handleUpEvent_}),this.extentOverlay_=new ol.layer.Vector({source:new ol.source.Vector({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.boxStyle?e.boxStyle:ol.interaction.Extent.getDefaultExtentStyleFunction_(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.vertexOverlay_=new ol.layer.Vector({source:new ol.source.Vector({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.pointerStyle?e.pointerStyle:ol.interaction.Extent.getDefaultPointerStyleFunction_(),updateWhileAnimating:!0,updateWhileInteracting:!0}),e.extent&&this.setExtent(e.extent)},ol.inherits(ol.interaction.Extent,ol.interaction.Pointer),ol.interaction.Extent.handleEvent_=function(e){return!(e instanceof ol.MapBrowserPointerEvent&&(e.type!=ol.MapBrowserEventType.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(e),ol.interaction.Pointer.handleEvent.call(this,e),1))},ol.interaction.Extent.handleDownEvent_=function(e){var t=e.pixel,o=e.map,r=this.getExtent(),n=this.snapToVertex_(t,o),i=function(e){var t=null,o=null;return e[0]==r[0]?t=r[2]:e[0]==r[2]&&(t=r[0]),e[1]==r[1]?o=r[3]:e[1]==r[3]&&(o=r[1]),null!==t&&null!==o?[t,o]:null};if(n&&r){var l=n[0]==r[0]||n[0]==r[2]?n[0]:null,a=n[1]==r[1]||n[1]==r[3]?n[1]:null;null!==l&&null!==a?this.pointerHandler_=ol.interaction.Extent.getPointHandler_(i(n)):null!==l?this.pointerHandler_=ol.interaction.Extent.getEdgeHandler_(i([l,r[1]]),i([l,r[3]])):null!==a&&(this.pointerHandler_=ol.interaction.Extent.getEdgeHandler_(i([r[0],a]),i([r[2],a])))}else n=o.getCoordinateFromPixel(t),this.setExtent([n[0],n[1],n[0],n[1]]),this.pointerHandler_=ol.interaction.Extent.getPointHandler_(n);return!0},ol.interaction.Extent.handleDragEvent_=function(e){if(this.pointerHandler_){var t=e.coordinate;this.setExtent(this.pointerHandler_(t)),this.createOrUpdatePointerFeature_(t)}return!0},ol.interaction.Extent.handleUpEvent_=function(e){this.pointerHandler_=null;var t=this.getExtent();return t&&0!==ol.extent.getArea(t)||this.setExtent(null),!1},ol.interaction.Extent.getDefaultExtentStyleFunction_=function(){var e=ol.style.Style.createDefaultEditing();return function(t,o){return e[ol.geom.GeometryType.POLYGON]}},ol.interaction.Extent.getDefaultPointerStyleFunction_=function(){var e=ol.style.Style.createDefaultEditing();return function(t,o){return e[ol.geom.GeometryType.POINT]}},ol.interaction.Extent.getPointHandler_=function(e){return function(t){return ol.extent.boundingExtent([e,t])}},ol.interaction.Extent.getEdgeHandler_=function(e,t){return e[0]==t[0]?function(o){return ol.extent.boundingExtent([e,[o[0],t[1]]])}:e[1]==t[1]?function(o){return ol.extent.boundingExtent([e,[t[0],o[1]]])}:null},ol.interaction.Extent.getSegments_=function(e){return[[[e[0],e[1]],[e[0],e[3]]],[[e[0],e[3]],[e[2],e[3]]],[[e[2],e[3]],[e[2],e[1]]],[[e[2],e[1]],[e[0],e[1]]]]},ol.interaction.Extent.prototype.snapToVertex_=function(e,t){var o=t.getCoordinateFromPixel(e),r=this.getExtent();if(r){var n=ol.interaction.Extent.getSegments_(r);n.sort(function(e,t){return ol.coordinate.squaredDistanceToSegment(o,e)-ol.coordinate.squaredDistanceToSegment(o,t)});var i=n[0],l=ol.coordinate.closestOnSegment(o,i),a=t.getPixelFromCoordinate(l);if(ol.coordinate.distance(e,a)<=this.pixelTolerance_){var s=t.getPixelFromCoordinate(i[0]),p=t.getPixelFromCoordinate(i[1]),u=ol.coordinate.squaredDistance(a,s),c=ol.coordinate.squaredDistance(a,p),g=Math.sqrt(Math.min(u,c));return this.snappedToVertex_=g<=this.pixelTolerance_,this.snappedToVertex_&&(l=u>c?i[1]:i[0]),l}}return null},ol.interaction.Extent.prototype.handlePointerMove_=function(e){var t=e.pixel,o=e.map,r=this.snapToVertex_(t,o);r||(r=o.getCoordinateFromPixel(t)),this.createOrUpdatePointerFeature_(r)},ol.interaction.Extent.prototype.createOrUpdateExtentFeature_=function(e){var t=this.extentFeature_;return t?t.setGeometry(e?ol.geom.Polygon.fromExtent(e):void 0):(t=e?new ol.Feature(ol.geom.Polygon.fromExtent(e)):new ol.Feature({}),this.extentFeature_=t,this.extentOverlay_.getSource().addFeature(t)),t},ol.interaction.Extent.prototype.createOrUpdatePointerFeature_=function(e){var t=this.vertexFeature_;return t?t.getGeometry().setCoordinates(e):(t=new ol.Feature(new ol.geom.Point(e)),this.vertexFeature_=t,this.vertexOverlay_.getSource().addFeature(t)),t},ol.interaction.Extent.prototype.setMap=function(e){this.extentOverlay_.setMap(e),this.vertexOverlay_.setMap(e),ol.interaction.Pointer.prototype.setMap.call(this,e)},ol.interaction.Extent.prototype.getExtent=function(){return this.extent_},ol.interaction.Extent.prototype.setExtent=function(e){this.extent_=e||null,this.createOrUpdateExtentFeature_(e),this.dispatchEvent(new ol.interaction.Extent.Event(this.extent_))},ol.interaction.Extent.Event=function(e){ol.events.Event.call(this,ol.interaction.ExtentEventType.EXTENTCHANGED),this.extent=e},ol.inherits(ol.interaction.Extent.Event,ol.events.Event),goog.provide("ol.interaction.ModifyEventType"),ol.interaction.ModifyEventType={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"},goog.provide("ol.interaction.Modify"),goog.require("ol"),goog.require("ol.Collection"),goog.require("ol.CollectionEventType"),goog.require("ol.Feature"),goog.require("ol.MapBrowserEventType"),goog.require("ol.MapBrowserPointerEvent"),goog.require("ol.array"),goog.require("ol.coordinate"),goog.require("ol.events"),goog.require("ol.events.Event"),goog.require("ol.events.EventType"),goog.require("ol.events.condition"),goog.require("ol.extent"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.Point"),goog.require("ol.interaction.ModifyEventType"),goog.require("ol.interaction.Pointer"),goog.require("ol.layer.Vector"),goog.require("ol.source.Vector"),goog.require("ol.source.VectorEventType"),goog.require("ol.structs.RBush"),goog.require("ol.style.Style"),ol.interaction.Modify=function(e){var t;if(ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.Modify.handleDownEvent_,handleDragEvent:ol.interaction.Modify.handleDragEvent_,handleEvent:ol.interaction.Modify.handleEvent,handleUpEvent:ol.interaction.Modify.handleUpEvent_}),this.condition_=e.condition?e.condition:ol.events.condition.primaryAction,this.defaultDeleteCondition_=function(e){return ol.events.condition.altKeyOnly(e)&&ol.events.condition.singleClick(e)},this.deleteCondition_=e.deleteCondition?e.deleteCondition:this.defaultDeleteCondition_,this.insertVertexCondition_=e.insertVertexCondition?e.insertVertexCondition:ol.events.condition.always,this.vertexFeature_=null,this.vertexSegments_=null,this.lastPixel_=[0,0],this.ignoreNextSingleClick_=!1,this.modified_=!1,this.rBush_=new ol.structs.RBush,this.pixelTolerance_=void 0!==e.pixelTolerance?e.pixelTolerance:10,this.snappedToVertex_=!1,this.changingFeature_=!1,this.dragSegments_=[],this.overlay_=new ol.layer.Vector({source:new ol.source.Vector({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.style?e.style:ol.interaction.Modify.getDefaultStyleFunction(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,Circle:this.writeCircleGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_},this.source_=null,e.source?(this.source_=e.source,t=new ol.Collection(this.source_.getFeatures()),ol.events.listen(this.source_,ol.source.VectorEventType.ADDFEATURE,this.handleSourceAdd_,this),ol.events.listen(this.source_,ol.source.VectorEventType.REMOVEFEATURE,this.handleSourceRemove_,this)):t=e.features,!t)throw new Error("The modify interaction requires features or a source");this.features_=t,this.features_.forEach(this.addFeature_,this),ol.events.listen(this.features_,ol.CollectionEventType.ADD,this.handleFeatureAdd_,this),ol.events.listen(this.features_,ol.CollectionEventType.REMOVE,this.handleFeatureRemove_,this),this.lastPointerEvent_=null},ol.inherits(ol.interaction.Modify,ol.interaction.Pointer),ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CENTER_INDEX=0,ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX=1,ol.interaction.Modify.prototype.addFeature_=function(e){var t=e.getGeometry();t&&t.getType()in this.SEGMENT_WRITERS_&&this.SEGMENT_WRITERS_[t.getType()].call(this,e,t);var o=this.getMap();o&&o.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,o),ol.events.listen(e,ol.events.EventType.CHANGE,this.handleFeatureChange_,this)},ol.interaction.Modify.prototype.willModifyFeatures_=function(e){this.modified_||(this.modified_=!0,this.dispatchEvent(new ol.interaction.Modify.Event(ol.interaction.ModifyEventType.MODIFYSTART,this.features_,e)))},ol.interaction.Modify.prototype.removeFeature_=function(e){this.removeFeatureSegmentData_(e),this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),ol.events.unlisten(e,ol.events.EventType.CHANGE,this.handleFeatureChange_,this)},ol.interaction.Modify.prototype.removeFeatureSegmentData_=function(e){var t=this.rBush_,o=[];t.forEach(function(t){e===t.feature&&o.push(t)});for(var r=o.length-1;r>=0;--r)t.remove(o[r])},ol.interaction.Modify.prototype.setActive=function(e){this.vertexFeature_&&!e&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),ol.interaction.Pointer.prototype.setActive.call(this,e)},ol.interaction.Modify.prototype.setMap=function(e){this.overlay_.setMap(e),ol.interaction.Pointer.prototype.setMap.call(this,e)},ol.interaction.Modify.prototype.handleSourceAdd_=function(e){e.feature&&this.features_.push(e.feature)},ol.interaction.Modify.prototype.handleSourceRemove_=function(e){e.feature&&this.features_.remove(e.feature)},ol.interaction.Modify.prototype.handleFeatureAdd_=function(e){this.addFeature_(e.element)},ol.interaction.Modify.prototype.handleFeatureChange_=function(e){if(!this.changingFeature_){var t=e.target;this.removeFeature_(t),this.addFeature_(t)}},ol.interaction.Modify.prototype.handleFeatureRemove_=function(e){this.removeFeature_(e.element)},ol.interaction.Modify.prototype.writePointGeometry_=function(e,t){var o=t.getCoordinates(),r={feature:e,geometry:t,segment:[o,o]};this.rBush_.insert(t.getExtent(),r)},ol.interaction.Modify.prototype.writeMultiPointGeometry_=function(e,t){var o,r,n,i,l=t.getCoordinates();for(r=0,n=l.length;r<n;++r)i={feature:e,geometry:t,depth:[r],index:r,segment:[o=l[r],o]},this.rBush_.insert(t.getExtent(),i)},ol.interaction.Modify.prototype.writeLineStringGeometry_=function(e,t){var o,r,n,i,l=t.getCoordinates();for(o=0,r=l.length-1;o<r;++o)i={feature:e,geometry:t,index:o,segment:n=l.slice(o,o+2)},this.rBush_.insert(ol.extent.boundingExtent(n),i)},ol.interaction.Modify.prototype.writeMultiLineStringGeometry_=function(e,t){var o,r,n,i,l,a,s,p=t.getCoordinates();for(i=0,l=p.length;i<l;++i)for(r=0,n=(o=p[i]).length-1;r<n;++r)s={feature:e,geometry:t,depth:[i],index:r,segment:a=o.slice(r,r+2)},this.rBush_.insert(ol.extent.boundingExtent(a),s)},ol.interaction.Modify.prototype.writePolygonGeometry_=function(e,t){var o,r,n,i,l,a,s,p=t.getCoordinates();for(i=0,l=p.length;i<l;++i)for(r=0,n=(o=p[i]).length-1;r<n;++r)s={feature:e,geometry:t,depth:[i],index:r,segment:a=o.slice(r,r+2)},this.rBush_.insert(ol.extent.boundingExtent(a),s)},ol.interaction.Modify.prototype.writeMultiPolygonGeometry_=function(e,t){var o,r,n,i,l,a,s,p,u,c,g=t.getCoordinates();for(a=0,s=g.length;a<s;++a)for(i=0,l=(p=g[a]).length;i<l;++i)for(r=0,n=(o=p[i]).length-1;r<n;++r)c={feature:e,geometry:t,depth:[i,a],index:r,segment:u=o.slice(r,r+2)},this.rBush_.insert(ol.extent.boundingExtent(u),c)},ol.interaction.Modify.prototype.writeCircleGeometry_=function(e,t){var o=t.getCenter(),r={feature:e,geometry:t,index:ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CENTER_INDEX,segment:[o,o]},n={feature:e,geometry:t,index:ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX,segment:[o,o]};r.featureSegments=n.featureSegments=[r,n],this.rBush_.insert(ol.extent.createOrUpdateFromCoordinate(o),r),this.rBush_.insert(t.getExtent(),n)},ol.interaction.Modify.prototype.writeGeometryCollectionGeometry_=function(e,t){var o,r=t.getGeometriesArray();for(o=0;o<r.length;++o)this.SEGMENT_WRITERS_[r[o].getType()].call(this,e,r[o])},ol.interaction.Modify.prototype.createOrUpdateVertexFeature_=function(e){var t=this.vertexFeature_;return t?t.getGeometry().setCoordinates(e):(t=new ol.Feature(new ol.geom.Point(e)),this.vertexFeature_=t,this.overlay_.getSource().addFeature(t)),t},ol.interaction.Modify.compareIndexes_=function(e,t){return e.index-t.index},ol.interaction.Modify.handleDownEvent_=function(e){if(!this.condition_(e))return!1;this.handlePointerAtPixel_(e.pixel,e.map);var t=e.map.getCoordinateFromPixel(e.pixel);this.dragSegments_.length=0,this.modified_=!1;var o=this.vertexFeature_;if(o){var r=[],n=o.getGeometry().getCoordinates(),i=ol.extent.boundingExtent([n]),l=this.rBush_.getInExtent(i),a={};l.sort(ol.interaction.Modify.compareIndexes_);for(var s=0,p=l.length;s<p;++s){var u=l[s],c=u.segment,g=ol.getUid(u.feature),d=u.depth;if(d&&(g+="-"+d.join("-")),a[g]||(a[g]=new Array(2)),u.geometry.getType()===ol.geom.GeometryType.CIRCLE&&u.index===ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX){var h=ol.interaction.Modify.closestOnSegmentData_(t,u);ol.coordinate.equals(h,n)&&!a[g][0]&&(this.dragSegments_.push([u,0]),a[g][0]=u)}else if(ol.coordinate.equals(c[0],n)&&!a[g][0])this.dragSegments_.push([u,0]),a[g][0]=u;else if(ol.coordinate.equals(c[1],n)&&!a[g][1]){if((u.geometry.getType()===ol.geom.GeometryType.LINE_STRING||u.geometry.getType()===ol.geom.GeometryType.MULTI_LINE_STRING)&&a[g][0]&&0===a[g][0].index)continue;this.dragSegments_.push([u,1]),a[g][1]=u}else this.insertVertexCondition_(e)&&ol.getUid(c)in this.vertexSegments_&&!a[g][0]&&!a[g][1]&&r.push([u,n])}r.length&&this.willModifyFeatures_(e);for(var y=r.length-1;y>=0;--y)this.insertVertex_.apply(this,r[y])}return!!this.vertexFeature_},ol.interaction.Modify.handleDragEvent_=function(e){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(e);for(var t=e.coordinate,o=0,r=this.dragSegments_.length;o<r;++o){for(var n,i=this.dragSegments_[o],l=i[0],a=l.depth,s=l.geometry,p=l.segment,u=i[1];t.length<s.getStride();)t.push(p[u][t.length]);switch(s.getType()){case ol.geom.GeometryType.POINT:n=t,p[0]=p[1]=t;break;case ol.geom.GeometryType.MULTI_POINT:(n=s.getCoordinates())[l.index]=t,p[0]=p[1]=t;break;case ol.geom.GeometryType.LINE_STRING:(n=s.getCoordinates())[l.index+u]=t,p[u]=t;break;case ol.geom.GeometryType.MULTI_LINE_STRING:case ol.geom.GeometryType.POLYGON:(n=s.getCoordinates())[a[0]][l.index+u]=t,p[u]=t;break;case ol.geom.GeometryType.MULTI_POLYGON:(n=s.getCoordinates())[a[1]][a[0]][l.index+u]=t,p[u]=t;break;case ol.geom.GeometryType.CIRCLE:p[0]=p[1]=t,l.index===ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CENTER_INDEX?(this.changingFeature_=!0,s.setCenter(t),this.changingFeature_=!1):(this.changingFeature_=!0,s.setRadius(ol.coordinate.distance(s.getCenter(),t)),this.changingFeature_=!1)}n&&this.setGeometryCoordinates_(s,n)}this.createOrUpdateVertexFeature_(t)},ol.interaction.Modify.handleUpEvent_=function(e){for(var t,o,r=this.dragSegments_.length-1;r>=0;--r)if((o=(t=this.dragSegments_[r][0]).geometry).getType()===ol.geom.GeometryType.CIRCLE){var n=o.getCenter(),i=t.featureSegments[0],l=t.featureSegments[1];i.segment[0]=i.segment[1]=n,l.segment[0]=l.segment[1]=n,this.rBush_.update(ol.extent.createOrUpdateFromCoordinate(n),i),this.rBush_.update(o.getExtent(),l)}else this.rBush_.update(ol.extent.boundingExtent(t.segment),t);return this.modified_&&(this.dispatchEvent(new ol.interaction.Modify.Event(ol.interaction.ModifyEventType.MODIFYEND,this.features_,e)),this.modified_=!1),!1},ol.interaction.Modify.handleEvent=function(e){return!(e instanceof ol.MapBrowserPointerEvent)||(this.lastPointerEvent_=e,e.map.getView().getInteracting()||e.type!=ol.MapBrowserEventType.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(e),this.vertexFeature_&&this.deleteCondition_(e)&&(t=!(e.type!=ol.MapBrowserEventType.SINGLECLICK||!this.ignoreNextSingleClick_)||this.removePoint()),e.type==ol.MapBrowserEventType.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),ol.interaction.Pointer.handleEvent.call(this,e)&&!t);var t},ol.interaction.Modify.prototype.handlePointerMove_=function(e){this.lastPixel_=e.pixel,this.handlePointerAtPixel_(e.pixel,e.map)},ol.interaction.Modify.prototype.handlePointerAtPixel_=function(e,t){var o=t.getCoordinateFromPixel(e),r=ol.extent.buffer(ol.extent.createOrUpdateFromCoordinate(o),t.getView().getResolution()*this.pixelTolerance_),n=this.rBush_.getInExtent(r);if(n.length>0){n.sort(function(e,t){return ol.interaction.Modify.pointDistanceToSegmentDataSquared_(o,e)-ol.interaction.Modify.pointDistanceToSegmentDataSquared_(o,t)});var i=n[0],l=i.segment,a=ol.interaction.Modify.closestOnSegmentData_(o,i),s=t.getPixelFromCoordinate(a),p=ol.coordinate.distance(e,s);if(p<=this.pixelTolerance_){var u={};if(i.geometry.getType()===ol.geom.GeometryType.CIRCLE&&i.index===ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(a);else{var c,g=t.getPixelFromCoordinate(l[0]),d=t.getPixelFromCoordinate(l[1]),h=ol.coordinate.squaredDistance(s,g),y=ol.coordinate.squaredDistance(s,d);p=Math.sqrt(Math.min(h,y)),this.snappedToVertex_=p<=this.pixelTolerance_,this.snappedToVertex_&&(a=h>y?l[1]:l[0]),this.createOrUpdateVertexFeature_(a);for(var f=1,m=n.length;f<m&&(c=n[f].segment,ol.coordinate.equals(l[0],c[0])&&ol.coordinate.equals(l[1],c[1])||ol.coordinate.equals(l[0],c[1])&&ol.coordinate.equals(l[1],c[0]));++f)u[ol.getUid(c)]=!0}return u[ol.getUid(l)]=!0,void(this.vertexSegments_=u)}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)},ol.interaction.Modify.pointDistanceToSegmentDataSquared_=function(e,t){var o=t.geometry;if(o.getType()===ol.geom.GeometryType.CIRCLE){var r=o;if(t.index===ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX){var n=ol.coordinate.squaredDistance(r.getCenter(),e),i=Math.sqrt(n)-r.getRadius();return i*i}}return ol.coordinate.squaredDistanceToSegment(e,t.segment)},ol.interaction.Modify.closestOnSegmentData_=function(e,t){var o=t.geometry;return o.getType()===ol.geom.GeometryType.CIRCLE&&t.index===ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX?o.getClosestPoint(e):ol.coordinate.closestOnSegment(e,t.segment)},ol.interaction.Modify.prototype.insertVertex_=function(e,t){for(var o,r=e.segment,n=e.feature,i=e.geometry,l=e.depth,a=e.index;t.length<i.getStride();)t.push(0);switch(i.getType()){case ol.geom.GeometryType.MULTI_LINE_STRING:case ol.geom.GeometryType.POLYGON:(o=i.getCoordinates())[l[0]].splice(a+1,0,t);break;case ol.geom.GeometryType.MULTI_POLYGON:(o=i.getCoordinates())[l[1]][l[0]].splice(a+1,0,t);break;case ol.geom.GeometryType.LINE_STRING:(o=i.getCoordinates()).splice(a+1,0,t);break;default:return}this.setGeometryCoordinates_(i,o);var s=this.rBush_;s.remove(e),this.updateSegmentIndices_(i,a,l,1);var p={segment:[r[0],t],feature:n,geometry:i,depth:l,index:a};s.insert(ol.extent.boundingExtent(p.segment),p),this.dragSegments_.push([p,1]);var u={segment:[t,r[1]],feature:n,geometry:i,depth:l,index:a+1};s.insert(ol.extent.boundingExtent(u.segment),u),this.dragSegments_.push([u,0]),this.ignoreNextSingleClick_=!0},ol.interaction.Modify.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=ol.MapBrowserEventType.POINTERDRAG){var e=this.lastPointerEvent_;return this.willModifyFeatures_(e),this.removeVertex_(),this.dispatchEvent(new ol.interaction.Modify.Event(ol.interaction.ModifyEventType.MODIFYEND,this.features_,e)),this.modified_=!1,!0}return!1},ol.interaction.Modify.prototype.removeVertex_=function(){var e,t,o,r,n,i,l,a,s,p,u,c=this.dragSegments_,g={},d=!1;for(n=c.length-1;n>=0;--n)p=(o=c[n])[0],u=ol.getUid(p.feature),p.depth&&(u+="-"+p.depth.join("-")),u in g||(g[u]={}),0===o[1]?(g[u].right=p,g[u].index=p.index):1==o[1]&&(g[u].left=p,g[u].index=p.index+1);for(u in g){switch(s=g[u].right,a=(i=g[u].index)-1,p=void 0!==(l=g[u].left)?l:s,a<0&&(a=0),e=t=(r=p.geometry).getCoordinates(),d=!1,r.getType()){case ol.geom.GeometryType.MULTI_LINE_STRING:t[p.depth[0]].length>2&&(t[p.depth[0]].splice(i,1),d=!0);break;case ol.geom.GeometryType.LINE_STRING:t.length>2&&(t.splice(i,1),d=!0);break;case ol.geom.GeometryType.MULTI_POLYGON:e=e[p.depth[1]];case ol.geom.GeometryType.POLYGON:(e=e[p.depth[0]]).length>4&&(i==e.length-1&&(i=0),e.splice(i,1),d=!0,0===i&&(e.pop(),e.push(e[0]),a=e.length-1))}if(d){this.setGeometryCoordinates_(r,t);var h=[];if(void 0!==l&&(this.rBush_.remove(l),h.push(l.segment[0])),void 0!==s&&(this.rBush_.remove(s),h.push(s.segment[1])),void 0!==l&&void 0!==s){var y={depth:p.depth,feature:p.feature,geometry:p.geometry,index:a,segment:h};this.rBush_.insert(ol.extent.boundingExtent(y.segment),y)}this.updateSegmentIndices_(r,i,p.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),c.length=0}}return d},ol.interaction.Modify.prototype.setGeometryCoordinates_=function(e,t){this.changingFeature_=!0,e.setCoordinates(t),this.changingFeature_=!1},ol.interaction.Modify.prototype.updateSegmentIndices_=function(e,t,o,r){this.rBush_.forEachInExtent(e.getExtent(),function(n){n.geometry===e&&(void 0===o||void 0===n.depth||ol.array.equals(n.depth,o))&&n.index>t&&(n.index+=r)})},ol.interaction.Modify.getDefaultStyleFunction=function(){var e=ol.style.Style.createDefaultEditing();return function(t,o){return e[ol.geom.GeometryType.POINT]}},ol.interaction.Modify.Event=function(e,t,o){ol.events.Event.call(this,e),this.features=t,this.mapBrowserEvent=o},ol.inherits(ol.interaction.Modify.Event,ol.events.Event),goog.provide("ol.interaction.Select"),goog.require("ol"),goog.require("ol.CollectionEventType"),goog.require("ol.array"),goog.require("ol.events"),goog.require("ol.events.Event"),goog.require("ol.events.condition"),goog.require("ol.functions"),goog.require("ol.geom.GeometryType"),goog.require("ol.interaction.Interaction"),goog.require("ol.layer.Vector"),goog.require("ol.obj"),goog.require("ol.source.Vector"),goog.require("ol.style.Style"),ol.interaction.Select=function(e){ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.Select.handleEvent});var t=e||{};this.condition_=t.condition?t.condition:ol.events.condition.singleClick,this.addCondition_=t.addCondition?t.addCondition:ol.events.condition.never,this.removeCondition_=t.removeCondition?t.removeCondition:ol.events.condition.never,this.toggleCondition_=t.toggleCondition?t.toggleCondition:ol.events.condition.shiftKeyOnly,this.multi_=!!t.multi&&t.multi,this.filter_=t.filter?t.filter:ol.functions.TRUE,this.hitTolerance_=t.hitTolerance?t.hitTolerance:0;var o,r=new ol.layer.Vector({source:new ol.source.Vector({useSpatialIndex:!1,features:t.features,wrapX:t.wrapX}),style:t.style?t.style:ol.interaction.Select.getDefaultStyleFunction(),updateWhileAnimating:!0,updateWhileInteracting:!0});if(this.featureOverlay_=r,t.layers)if("function"==typeof t.layers)o=t.layers;else{var n=t.layers;o=function(e){return ol.array.includes(n,e)}}else o=ol.functions.TRUE;this.layerFilter_=o,this.featureLayerAssociation_={};var i=this.featureOverlay_.getSource().getFeaturesCollection();ol.events.listen(i,ol.CollectionEventType.ADD,this.addFeature_,this),ol.events.listen(i,ol.CollectionEventType.REMOVE,this.removeFeature_,this)},ol.inherits(ol.interaction.Select,ol.interaction.Interaction),ol.interaction.Select.prototype.addFeatureLayerAssociation_=function(e,t){var o=ol.getUid(e);this.featureLayerAssociation_[o]=t},ol.interaction.Select.prototype.getFeatures=function(){return this.featureOverlay_.getSource().getFeaturesCollection()},ol.interaction.Select.prototype.getHitTolerance=function(){return this.hitTolerance_},ol.interaction.Select.prototype.getLayer=function(e){var t=ol.getUid(e);return this.featureLayerAssociation_[t]},ol.interaction.Select.handleEvent=function(e){if(!this.condition_(e))return!0;var t=this.addCondition_(e),o=this.removeCondition_(e),r=this.toggleCondition_(e),n=!t&&!o&&!r,i=e.map,l=this.featureOverlay_.getSource().getFeaturesCollection(),a=[],s=[];if(n){var p;for(ol.obj.clear(this.featureLayerAssociation_),i.forEachFeatureAtPixel(e.pixel,(function(e,t){if(this.filter_(e,t))return s.push(e),this.addFeatureLayerAssociation_(e,t),!this.multi_}).bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_}),p=l.getLength()-1;p>=0;--p){var u=l.item(p),c=s.indexOf(u);c>-1?s.splice(c,1):(l.remove(u),a.push(u))}0!==s.length&&l.extend(s)}else{var g;for(i.forEachFeatureAtPixel(e.pixel,(function(e,n){if(this.filter_(e,n))return!t&&!r||ol.array.includes(l.getArray(),e)?(o||r)&&ol.array.includes(l.getArray(),e)&&(a.push(e),this.removeFeatureLayerAssociation_(e)):(s.push(e),this.addFeatureLayerAssociation_(e,n)),!this.multi_}).bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_}),g=a.length-1;g>=0;--g)l.remove(a[g]);l.extend(s)}return(s.length>0||a.length>0)&&this.dispatchEvent(new ol.interaction.Select.Event(ol.interaction.Select.EventType_.SELECT,s,a,e)),ol.events.condition.pointerMove(e)},ol.interaction.Select.prototype.setHitTolerance=function(e){this.hitTolerance_=e},ol.interaction.Select.prototype.setMap=function(e){var t=this.getMap(),o=this.featureOverlay_.getSource().getFeaturesCollection();t&&o.forEach(t.unskipFeature,t),ol.interaction.Interaction.prototype.setMap.call(this,e),this.featureOverlay_.setMap(e),e&&o.forEach(e.skipFeature,e)},ol.interaction.Select.getDefaultStyleFunction=function(){var e=ol.style.Style.createDefaultEditing();return ol.array.extend(e[ol.geom.GeometryType.POLYGON],e[ol.geom.GeometryType.LINE_STRING]),ol.array.extend(e[ol.geom.GeometryType.GEOMETRY_COLLECTION],e[ol.geom.GeometryType.LINE_STRING]),function(t,o){return t.getGeometry()?e[t.getGeometry().getType()]:null}},ol.interaction.Select.prototype.addFeature_=function(e){var t=this.getMap();t&&t.skipFeature(e.element)},ol.interaction.Select.prototype.removeFeature_=function(e){var t=this.getMap();t&&t.unskipFeature(e.element)},ol.interaction.Select.prototype.removeFeatureLayerAssociation_=function(e){var t=ol.getUid(e);delete this.featureLayerAssociation_[t]},ol.interaction.Select.Event=function(e,t,o,r){ol.events.Event.call(this,e),this.selected=t,this.deselected=o,this.mapBrowserEvent=r},ol.inherits(ol.interaction.Select.Event,ol.events.Event),ol.interaction.Select.EventType_={SELECT:"select"},goog.provide("ol.interaction.Snap"),goog.require("ol"),goog.require("ol.Collection"),goog.require("ol.CollectionEventType"),goog.require("ol.coordinate"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.extent"),goog.require("ol.functions"),goog.require("ol.geom.GeometryType"),goog.require("ol.geom.Polygon"),goog.require("ol.interaction.Pointer"),goog.require("ol.obj"),goog.require("ol.source.Vector"),goog.require("ol.source.VectorEventType"),goog.require("ol.structs.RBush"),ol.interaction.Snap=function(e){ol.interaction.Pointer.call(this,{handleEvent:ol.interaction.Snap.handleEvent_,handleDownEvent:ol.functions.TRUE,handleUpEvent:ol.interaction.Snap.handleUpEvent_});var t=e||{};this.source_=t.source?t.source:null,this.vertex_=void 0===t.vertex||t.vertex,this.edge_=void 0===t.edge||t.edge,this.features_=t.features?t.features:null,this.featuresListenerKeys_=[],this.featureChangeListenerKeys_={},this.indexedFeaturesExtents_={},this.pendingFeatures_={},this.pixelCoordinate_=null,this.pixelTolerance_=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.sortByDistance_=ol.interaction.Snap.sortByDistance.bind(this),this.rBush_=new ol.structs.RBush,this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_,Circle:this.writeCircleGeometry_}},ol.inherits(ol.interaction.Snap,ol.interaction.Pointer),ol.interaction.Snap.prototype.addFeature=function(e,t){var o=void 0===t||t,r=ol.getUid(e),n=e.getGeometry();if(n){var i=this.SEGMENT_WRITERS_[n.getType()];i&&(this.indexedFeaturesExtents_[r]=n.getExtent(ol.extent.createEmpty()),i.call(this,e,n))}o&&(this.featureChangeListenerKeys_[r]=ol.events.listen(e,ol.events.EventType.CHANGE,this.handleFeatureChange_,this))},ol.interaction.Snap.prototype.forEachFeatureAdd_=function(e){this.addFeature(e)},ol.interaction.Snap.prototype.forEachFeatureRemove_=function(e){this.removeFeature(e)},ol.interaction.Snap.prototype.getFeatures_=function(){var e;return this.features_?e=this.features_:this.source_&&(e=this.source_.getFeatures()),e},ol.interaction.Snap.prototype.handleFeatureAdd_=function(e){var t;e instanceof ol.source.Vector.Event?t=e.feature:e instanceof ol.Collection.Event&&(t=e.element),this.addFeature(t)},ol.interaction.Snap.prototype.handleFeatureRemove_=function(e){var t;e instanceof ol.source.Vector.Event?t=e.feature:e instanceof ol.Collection.Event&&(t=e.element),this.removeFeature(t)},ol.interaction.Snap.prototype.handleFeatureChange_=function(e){var t=e.target;if(this.handlingDownUpSequence){var o=ol.getUid(t);o in this.pendingFeatures_||(this.pendingFeatures_[o]=t)}else this.updateFeature_(t)},ol.interaction.Snap.prototype.removeFeature=function(e,t){var o=void 0===t||t,r=ol.getUid(e),n=this.indexedFeaturesExtents_[r];if(n){var i,l=this.rBush_,a=[];for(l.forEachInExtent(n,function(t){e===t.feature&&a.push(t)}),i=a.length-1;i>=0;--i)l.remove(a[i])}o&&(ol.events.unlistenByKey(this.featureChangeListenerKeys_[r]),delete this.featureChangeListenerKeys_[r])},ol.interaction.Snap.prototype.setMap=function(e){var t=this.getMap(),o=this.featuresListenerKeys_,r=this.getFeatures_();t&&(o.forEach(ol.events.unlistenByKey),o.length=0,r.forEach(this.forEachFeatureRemove_,this)),ol.interaction.Pointer.prototype.setMap.call(this,e),e&&(this.features_?o.push(ol.events.listen(this.features_,ol.CollectionEventType.ADD,this.handleFeatureAdd_,this),ol.events.listen(this.features_,ol.CollectionEventType.REMOVE,this.handleFeatureRemove_,this)):this.source_&&o.push(ol.events.listen(this.source_,ol.source.VectorEventType.ADDFEATURE,this.handleFeatureAdd_,this),ol.events.listen(this.source_,ol.source.VectorEventType.REMOVEFEATURE,this.handleFeatureRemove_,this)),r.forEach(this.forEachFeatureAdd_,this))},ol.interaction.Snap.prototype.shouldStopEvent=ol.functions.FALSE,ol.interaction.Snap.prototype.snapTo=function(e,t,o){var r=o.getCoordinateFromPixel([e[0]-this.pixelTolerance_,e[1]+this.pixelTolerance_]),n=o.getCoordinateFromPixel([e[0]+this.pixelTolerance_,e[1]-this.pixelTolerance_]),i=ol.extent.boundingExtent([r,n]),l=this.rBush_.getInExtent(i);this.vertex_&&!this.edge_&&(l=l.filter(function(e){return e.feature.getGeometry().getType()!==ol.geom.GeometryType.CIRCLE}));var a,s,p,u,c=!1,g=null,d=null;if(l.length>0){this.pixelCoordinate_=t,l.sort(this.sortByDistance_);var h=l[0].segment,y=l[0].feature.getGeometry().getType()===ol.geom.GeometryType.CIRCLE;this.vertex_&&!this.edge_?(a=o.getPixelFromCoordinate(h[0]),s=o.getPixelFromCoordinate(h[1]),p=ol.coordinate.squaredDistance(e,a),u=ol.coordinate.squaredDistance(e,s),Math.sqrt(Math.min(p,u))<=this.pixelTolerance_&&(c=!0,d=o.getPixelFromCoordinate(g=p>u?h[1]:h[0]))):this.edge_&&(g=y?ol.coordinate.closestOnCircle(t,l[0].feature.getGeometry()):ol.coordinate.closestOnSegment(t,h),d=o.getPixelFromCoordinate(g),ol.coordinate.distance(e,d)<=this.pixelTolerance_&&(c=!0,this.vertex_&&!y&&(a=o.getPixelFromCoordinate(h[0]),s=o.getPixelFromCoordinate(h[1]),p=ol.coordinate.squaredDistance(d,a),u=ol.coordinate.squaredDistance(d,s),Math.sqrt(Math.min(p,u))<=this.pixelTolerance_&&(d=o.getPixelFromCoordinate(g=p>u?h[1]:h[0]))))),c&&(d=[Math.round(d[0]),Math.round(d[1])])}return{snapped:c,vertex:g,vertexPixel:d}},ol.interaction.Snap.prototype.updateFeature_=function(e){this.removeFeature(e,!1),this.addFeature(e,!1)},ol.interaction.Snap.prototype.writeCircleGeometry_=function(e,t){var o,r,n,i,l=ol.geom.Polygon.fromCircle(t).getCoordinates()[0];for(o=0,r=l.length-1;o<r;++o)i={feature:e,segment:n=l.slice(o,o+2)},this.rBush_.insert(ol.extent.boundingExtent(n),i)},ol.interaction.Snap.prototype.writeGeometryCollectionGeometry_=function(e,t){var o,r=t.getGeometriesArray();for(o=0;o<r.length;++o){var n=this.SEGMENT_WRITERS_[r[o].getType()];n&&n.call(this,e,r[o])}},ol.interaction.Snap.prototype.writeLineStringGeometry_=function(e,t){var o,r,n,i,l=t.getCoordinates();for(o=0,r=l.length-1;o<r;++o)i={feature:e,segment:n=l.slice(o,o+2)},this.rBush_.insert(ol.extent.boundingExtent(n),i)},ol.interaction.Snap.prototype.writeMultiLineStringGeometry_=function(e,t){var o,r,n,i,l,a,s,p=t.getCoordinates();for(i=0,l=p.length;i<l;++i)for(r=0,n=(o=p[i]).length-1;r<n;++r)s={feature:e,segment:a=o.slice(r,r+2)},this.rBush_.insert(ol.extent.boundingExtent(a),s)},ol.interaction.Snap.prototype.writeMultiPointGeometry_=function(e,t){var o,r,n,i,l=t.getCoordinates();for(r=0,n=l.length;r<n;++r)i={feature:e,segment:[o=l[r],o]},this.rBush_.insert(t.getExtent(),i)},ol.interaction.Snap.prototype.writeMultiPolygonGeometry_=function(e,t){var o,r,n,i,l,a,s,p,u,c,g=t.getCoordinates();for(a=0,s=g.length;a<s;++a)for(i=0,l=(p=g[a]).length;i<l;++i)for(r=0,n=(o=p[i]).length-1;r<n;++r)c={feature:e,segment:u=o.slice(r,r+2)},this.rBush_.insert(ol.extent.boundingExtent(u),c)},ol.interaction.Snap.prototype.writePointGeometry_=function(e,t){var o=t.getCoordinates(),r={feature:e,segment:[o,o]};this.rBush_.insert(t.getExtent(),r)},ol.interaction.Snap.prototype.writePolygonGeometry_=function(e,t){var o,r,n,i,l,a,s,p=t.getCoordinates();for(i=0,l=p.length;i<l;++i)for(r=0,n=(o=p[i]).length-1;r<n;++r)s={feature:e,segment:a=o.slice(r,r+2)},this.rBush_.insert(ol.extent.boundingExtent(a),s)},ol.interaction.Snap.handleEvent_=function(e){var t=this.snapTo(e.pixel,e.coordinate,e.map);return t.snapped&&(e.coordinate=t.vertex.slice(0,2),e.pixel=t.vertexPixel),ol.interaction.Pointer.handleEvent.call(this,e)},ol.interaction.Snap.handleUpEvent_=function(e){var t=ol.obj.getValues(this.pendingFeatures_);return t.length&&(t.forEach(this.updateFeature_,this),this.pendingFeatures_={}),!1},ol.interaction.Snap.sortByDistance=function(e,t){return ol.coordinate.squaredDistanceToSegment(this.pixelCoordinate_,e.segment)-ol.coordinate.squaredDistanceToSegment(this.pixelCoordinate_,t.segment)},goog.provide("ol.interaction.TranslateEventType"),ol.interaction.TranslateEventType={TRANSLATESTART:"translatestart",TRANSLATING:"translating",TRANSLATEEND:"translateend"},goog.provide("ol.interaction.Translate"),goog.require("ol"),goog.require("ol.Collection"),goog.require("ol.Object"),goog.require("ol.events"),goog.require("ol.events.Event"),goog.require("ol.functions"),goog.require("ol.array"),goog.require("ol.interaction.Pointer"),goog.require("ol.interaction.Property"),goog.require("ol.interaction.TranslateEventType"),ol.interaction.Translate=function(e){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.Translate.handleDownEvent_,handleDragEvent:ol.interaction.Translate.handleDragEvent_,handleMoveEvent:ol.interaction.Translate.handleMoveEvent_,handleUpEvent:ol.interaction.Translate.handleUpEvent_});var t,o=e||{};if(this.lastCoordinate_=null,this.features_=void 0!==o.features?o.features:null,o.layers)if("function"==typeof o.layers)t=o.layers;else{var r=o.layers;t=function(e){return ol.array.includes(r,e)}}else t=ol.functions.TRUE;this.layerFilter_=t,this.hitTolerance_=o.hitTolerance?o.hitTolerance:0,this.lastFeature_=null,ol.events.listen(this,ol.Object.getChangeEventType(ol.interaction.Property.ACTIVE),this.handleActiveChanged_,this)},ol.inherits(ol.interaction.Translate,ol.interaction.Pointer),ol.interaction.Translate.handleDownEvent_=function(e){if(this.lastFeature_=this.featuresAtPixel_(e.pixel,e.map),!this.lastCoordinate_&&this.lastFeature_){this.lastCoordinate_=e.coordinate,ol.interaction.Translate.handleMoveEvent_.call(this,e);var t=this.features_||new ol.Collection([this.lastFeature_]);return this.dispatchEvent(new ol.interaction.Translate.Event(ol.interaction.TranslateEventType.TRANSLATESTART,t,e.coordinate)),!0}return!1},ol.interaction.Translate.handleUpEvent_=function(e){if(this.lastCoordinate_){this.lastCoordinate_=null,ol.interaction.Translate.handleMoveEvent_.call(this,e);var t=this.features_||new ol.Collection([this.lastFeature_]);return this.dispatchEvent(new ol.interaction.Translate.Event(ol.interaction.TranslateEventType.TRANSLATEEND,t,e.coordinate)),!0}return!1},ol.interaction.Translate.handleDragEvent_=function(e){if(this.lastCoordinate_){var t=e.coordinate,o=t[0]-this.lastCoordinate_[0],r=t[1]-this.lastCoordinate_[1],n=this.features_||new ol.Collection([this.lastFeature_]);n.forEach(function(e){var t=e.getGeometry();t.translate(o,r),e.setGeometry(t)}),this.lastCoordinate_=t,this.dispatchEvent(new ol.interaction.Translate.Event(ol.interaction.TranslateEventType.TRANSLATING,n,t))}},ol.interaction.Translate.handleMoveEvent_=function(e){var t=e.map.getViewport();this.featuresAtPixel_(e.pixel,e.map)?(t.classList.remove(this.lastCoordinate_?"ol-grab":"ol-grabbing"),t.classList.add(this.lastCoordinate_?"ol-grabbing":"ol-grab")):t.classList.remove("ol-grab","ol-grabbing")},ol.interaction.Translate.prototype.featuresAtPixel_=function(e,t){return t.forEachFeatureAtPixel(e,(function(e){if(!this.features_||ol.array.includes(this.features_.getArray(),e))return e}).bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})},ol.interaction.Translate.prototype.getHitTolerance=function(){return this.hitTolerance_},ol.interaction.Translate.prototype.setHitTolerance=function(e){this.hitTolerance_=e},ol.interaction.Translate.prototype.setMap=function(e){var t=this.getMap();ol.interaction.Pointer.prototype.setMap.call(this,e),this.updateState_(t)},ol.interaction.Translate.prototype.handleActiveChanged_=function(){this.updateState_(null)},ol.interaction.Translate.prototype.updateState_=function(e){var t=this.getMap(),o=this.getActive();t&&o||(t=t||e)&&t.getViewport().classList.remove("ol-grab","ol-grabbing")},ol.interaction.Translate.Event=function(e,t,o){ol.events.Event.call(this,e),this.features=t,this.coordinate=o},ol.inherits(ol.interaction.Translate.Event,ol.events.Event),goog.provide("ol.layer.Heatmap"),goog.require("ol.events"),goog.require("ol"),goog.require("ol.Object"),goog.require("ol.dom"),goog.require("ol.layer.Vector"),goog.require("ol.math"),goog.require("ol.obj"),goog.require("ol.render.EventType"),goog.require("ol.style.Icon"),goog.require("ol.style.Style"),ol.layer.Heatmap=function(e){var t=e||{},o=ol.obj.assign({},t);delete o.gradient,delete o.radius,delete o.blur,delete o.shadow,delete o.weight,ol.layer.Vector.call(this,o),this.gradient_=null,this.shadow_=void 0!==t.shadow?t.shadow:250,this.circleImage_=void 0,this.styleCache_=null,ol.events.listen(this,ol.Object.getChangeEventType(ol.layer.Heatmap.Property_.GRADIENT),this.handleGradientChanged_,this),this.setGradient(t.gradient?t.gradient:ol.layer.Heatmap.DEFAULT_GRADIENT),this.setBlur(void 0!==t.blur?t.blur:15),this.setRadius(void 0!==t.radius?t.radius:8),ol.events.listen(this,ol.Object.getChangeEventType(ol.layer.Heatmap.Property_.BLUR),this.handleStyleChanged_,this),ol.events.listen(this,ol.Object.getChangeEventType(ol.layer.Heatmap.Property_.RADIUS),this.handleStyleChanged_,this),this.handleStyleChanged_();var r,n=t.weight?t.weight:"weight";r="string"==typeof n?function(e){return e.get(n)}:n,this.setStyle((function(e,t){var o=r(e),n=void 0!==o?ol.math.clamp(o,0,1):1,i=255*n|0,l=this.styleCache_[i];return l||(l=[new ol.style.Style({image:new ol.style.Icon({opacity:n,src:this.circleImage_})})],this.styleCache_[i]=l),l}).bind(this)),this.setRenderOrder(null),ol.events.listen(this,ol.render.EventType.RENDER,this.handleRender_,this)},ol.inherits(ol.layer.Heatmap,ol.layer.Vector),ol.layer.Heatmap.DEFAULT_GRADIENT=["#00f","#0ff","#0f0","#ff0","#f00"],ol.layer.Heatmap.createGradient_=function(e){for(var t=ol.dom.createCanvasContext2D(1,256),o=t.createLinearGradient(0,0,1,256),r=1/(e.length-1),n=0,i=e.length;n<i;++n)o.addColorStop(n*r,e[n]);return t.fillStyle=o,t.fillRect(0,0,1,256),t.getImageData(0,0,1,256).data},ol.layer.Heatmap.prototype.createCircle_=function(){var e=this.getRadius(),t=this.getBlur(),o=e+t+1,r=2*o,n=ol.dom.createCanvasContext2D(r,r);n.shadowOffsetX=n.shadowOffsetY=this.shadow_,n.shadowBlur=t,n.shadowColor="#000",n.beginPath();var i=o-this.shadow_;return n.arc(i,i,e,0,2*Math.PI,!0),n.fill(),n.canvas.toDataURL()},ol.layer.Heatmap.prototype.getBlur=function(){return this.get(ol.layer.Heatmap.Property_.BLUR)},ol.layer.Heatmap.prototype.getGradient=function(){return this.get(ol.layer.Heatmap.Property_.GRADIENT)},ol.layer.Heatmap.prototype.getRadius=function(){return this.get(ol.layer.Heatmap.Property_.RADIUS)},ol.layer.Heatmap.prototype.handleGradientChanged_=function(){this.gradient_=ol.layer.Heatmap.createGradient_(this.getGradient())},ol.layer.Heatmap.prototype.handleStyleChanged_=function(){this.circleImage_=this.createCircle_(),this.styleCache_=new Array(256),this.changed()},ol.layer.Heatmap.prototype.handleRender_=function(e){var t,o,r,n=e.context,i=n.canvas,l=n.getImageData(0,0,i.width,i.height),a=l.data;for(t=0,o=a.length;t<o;t+=4)(r=4*a[t+3])&&(a[t]=this.gradient_[r],a[t+1]=this.gradient_[r+1],a[t+2]=this.gradient_[r+2]);n.putImageData(l,0,0)},ol.layer.Heatmap.prototype.setBlur=function(e){this.set(ol.layer.Heatmap.Property_.BLUR,e)},ol.layer.Heatmap.prototype.setGradient=function(e){this.set(ol.layer.Heatmap.Property_.GRADIENT,e)},ol.layer.Heatmap.prototype.setRadius=function(e){this.set(ol.layer.Heatmap.Property_.RADIUS,e)},ol.layer.Heatmap.Property_={BLUR:"blur",GRADIENT:"gradient",RADIUS:"radius"},goog.provide("ol.layer.Image"),goog.require("ol"),goog.require("ol.LayerType"),goog.require("ol.layer.Layer"),ol.layer.Image=function(e){ol.layer.Layer.call(this,e||{}),this.type=ol.LayerType.IMAGE},ol.inherits(ol.layer.Image,ol.layer.Layer),ol,goog.provide("ol.layer.TileProperty"),ol.layer.TileProperty={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"},goog.provide("ol.layer.Tile"),goog.require("ol"),goog.require("ol.LayerType"),goog.require("ol.layer.Layer"),goog.require("ol.layer.TileProperty"),goog.require("ol.obj"),ol.layer.Tile=function(e){var t=e||{},o=ol.obj.assign({},t);delete o.preload,delete o.useInterimTilesOnError,ol.layer.Layer.call(this,o),this.setPreload(void 0!==t.preload?t.preload:0),this.setUseInterimTilesOnError(void 0===t.useInterimTilesOnError||t.useInterimTilesOnError),this.type=ol.LayerType.TILE},ol.inherits(ol.layer.Tile,ol.layer.Layer),ol.layer.Tile.prototype.getPreload=function(){return this.get(ol.layer.TileProperty.PRELOAD)},ol,ol.layer.Tile.prototype.setPreload=function(e){this.set(ol.layer.TileProperty.PRELOAD,e)},ol.layer.Tile.prototype.getUseInterimTilesOnError=function(){return this.get(ol.layer.TileProperty.USE_INTERIM_TILES_ON_ERROR)},ol.layer.Tile.prototype.setUseInterimTilesOnError=function(e){this.set(ol.layer.TileProperty.USE_INTERIM_TILES_ON_ERROR,e)},goog.provide("ol.layer.VectorTile"),goog.require("ol"),goog.require("ol.LayerType"),goog.require("ol.asserts"),goog.require("ol.layer.TileProperty"),goog.require("ol.layer.Vector"),goog.require("ol.layer.VectorTileRenderType"),goog.require("ol.obj"),ol.layer.VectorTile=function(e){var t=e||{},o=t.renderMode||ol.layer.VectorTileRenderType.HYBRID;ol.asserts.assert(void 0==o||o==ol.layer.VectorTileRenderType.IMAGE||o==ol.layer.VectorTileRenderType.HYBRID||o==ol.layer.VectorTileRenderType.VECTOR,28),t.declutter&&o==ol.layer.VectorTileRenderType.IMAGE&&(o=ol.layer.VectorTileRenderType.HYBRID),t.renderMode=o;var r=ol.obj.assign({},t);delete r.preload,delete r.useInterimTilesOnError,ol.layer.Vector.call(this,r),this.setPreload(t.preload?t.preload:0),this.setUseInterimTilesOnError(!t.useInterimTilesOnError||t.useInterimTilesOnError),this.type=ol.LayerType.VECTOR_TILE},ol.inherits(ol.layer.VectorTile,ol.layer.Vector),ol.layer.VectorTile.prototype.getPreload=function(){return this.get(ol.layer.TileProperty.PRELOAD)},ol.layer.VectorTile.prototype.getUseInterimTilesOnError=function(){return this.get(ol.layer.TileProperty.USE_INTERIM_TILES_ON_ERROR)},ol.layer.VectorTile.prototype.setPreload=function(e){this.set(ol.layer.TileProperty.PRELOAD,e)},ol.layer.VectorTile.prototype.setUseInterimTilesOnError=function(e){this.set(ol.layer.TileProperty.USE_INTERIM_TILES_ON_ERROR,e)},ol,goog.provide("ol.webgl.Shader"),goog.require("ol.functions"),ol.webgl.Shader=function(e){this.source_=e},ol.webgl.Shader.prototype.getType=function(){},ol.webgl.Shader.prototype.getSource=function(){return this.source_},ol.webgl.Shader.prototype.isAnimated=ol.functions.FALSE,goog.provide("ol.webgl.Fragment"),goog.require("ol"),goog.require("ol.webgl"),goog.require("ol.webgl.Shader"),ol.webgl.Fragment=function(e){ol.webgl.Shader.call(this,e)},ol.inherits(ol.webgl.Fragment,ol.webgl.Shader),ol.webgl.Fragment.prototype.getType=function(){return ol.webgl.FRAGMENT_SHADER},goog.provide("ol.webgl.Vertex"),goog.require("ol"),goog.require("ol.webgl"),goog.require("ol.webgl.Shader"),ol.webgl.Vertex=function(e){ol.webgl.Shader.call(this,e)},ol.inherits(ol.webgl.Vertex,ol.webgl.Shader),ol.webgl.Vertex.prototype.getType=function(){return ol.webgl.VERTEX_SHADER},goog.provide("ol.render.webgl.circlereplay.defaultshader"),goog.require("ol"),goog.require("ol.webgl.Fragment"),goog.require("ol.webgl.Vertex"),ol.render.webgl.circlereplay.defaultshader.fragment=new ol.webgl.Fragment(ol.DEBUG_WEBGL?"precision mediump float;\nvarying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_fillColor;\nuniform vec4 u_strokeColor;\nuniform vec2 u_size;\n\nvoid main(void) {\n  vec2 windowCenter = vec2((v_center.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_center.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  vec2 windowOffset = vec2((v_offset.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_offset.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  float radius = length(windowCenter - windowOffset);\n  float dist = length(windowCenter - gl_FragCoord.xy);\n  if (dist > radius + v_halfWidth) {\n    if (u_strokeColor.a == 0.0) {\n      gl_FragColor = u_fillColor;\n    } else {\n      gl_FragColor = u_strokeColor;\n    }\n    gl_FragColor.a = gl_FragColor.a - (dist - (radius + v_halfWidth));\n  } else if (u_fillColor.a == 0.0) {\n    // Hooray, no fill, just stroke. We can use real antialiasing.\n    gl_FragColor = u_strokeColor;\n    if (dist < radius - v_halfWidth) {\n      gl_FragColor.a = gl_FragColor.a - (radius - v_halfWidth - dist);\n    }\n  } else {\n    gl_FragColor = u_fillColor;\n    float strokeDist = radius - v_halfWidth;\n    float antialias = 2.0 * v_pixelRatio;\n    if (dist > strokeDist) {\n      gl_FragColor = u_strokeColor;\n    } else if (dist >= strokeDist - antialias) {\n      float step = smoothstep(strokeDist - antialias, strokeDist, dist);\n      gl_FragColor = mix(u_fillColor, u_strokeColor, step);\n    }\n  }\n  gl_FragColor.a = gl_FragColor.a * u_opacity;\n  if (gl_FragColor.a <= 0.0) {\n    discard;\n  }\n}\n":"precision mediump float;varying vec2 a;varying vec2 b;varying float c;varying float d;uniform float m;uniform vec4 n;uniform vec4 o;uniform vec2 p;void main(void){vec2 windowCenter=vec2((a.x+1.0)/2.0*p.x*d,(a.y+1.0)/2.0*p.y*d);vec2 windowOffset=vec2((b.x+1.0)/2.0*p.x*d,(b.y+1.0)/2.0*p.y*d);float radius=length(windowCenter-windowOffset);float dist=length(windowCenter-gl_FragCoord.xy);if(dist>radius+c){if(o.a==0.0){gl_FragColor=n;}else{gl_FragColor=o;}gl_FragColor.a=gl_FragColor.a-(dist-(radius+c));}else if(n.a==0.0){gl_FragColor=o;if(dist<radius-c){gl_FragColor.a=gl_FragColor.a-(radius-c-dist);}} else{gl_FragColor=n;float strokeDist=radius-c;float antialias=2.0*d;if(dist>strokeDist){gl_FragColor=o;}else if(dist>=strokeDist-antialias){float step=smoothstep(strokeDist-antialias,strokeDist,dist);gl_FragColor=mix(n,o,step);}} gl_FragColor.a=gl_FragColor.a*m;if(gl_FragColor.a<=0.0){discard;}}"),ol.render.webgl.circlereplay.defaultshader.vertex=new ol.webgl.Vertex(ol.DEBUG_WEBGL?"varying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\nattribute vec2 a_position;\nattribute float a_instruction;\nattribute float a_radius;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  v_center = vec4(u_projectionMatrix * vec4(a_position, 0.0, 1.0)).xy;\n  v_pixelRatio = u_pixelRatio;\n  float lineWidth = u_lineWidth * u_pixelRatio;\n  v_halfWidth = lineWidth / 2.0;\n  if (lineWidth == 0.0) {\n    lineWidth = 2.0 * u_pixelRatio;\n  }\n  vec2 offset;\n  // Radius with anitaliasing (roughly).\n  float radius = a_radius + 3.0 * u_pixelRatio;\n  // Until we get gl_VertexID in WebGL, we store an instruction.\n  if (a_instruction == 0.0) {\n    // Offsetting the edges of the triangle by lineWidth / 2 is necessary, however\n    // we should also leave some space for the antialiasing, thus we offset by lineWidth.\n    offset = vec2(-1.0, 1.0);\n  } else if (a_instruction == 1.0) {\n    offset = vec2(-1.0, -1.0);\n  } else if (a_instruction == 2.0) {\n    offset = vec2(1.0, -1.0);\n  } else {\n    offset = vec2(1.0, 1.0);\n  }\n\n  gl_Position = u_projectionMatrix * vec4(a_position + offset * radius, 0.0, 1.0) +\n      offsetMatrix * vec4(offset * lineWidth, 0.0, 0.0);\n  v_offset = vec4(u_projectionMatrix * vec4(a_position.x + a_radius, a_position.y,\n      0.0, 1.0)).xy;\n\n  if (distance(v_center, v_offset) > 20000.0) {\n    gl_Position = vec4(v_center, 0.0, 1.0);\n  }\n}\n\n\n":"varying vec2 a;varying vec2 b;varying float c;varying float d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;void main(void){mat4 offsetMatrix=i*j;a=vec4(h*vec4(e,0.0,1.0)).xy;d=l;float lineWidth=k*l;c=lineWidth/2.0;if(lineWidth==0.0){lineWidth=2.0*l;}vec2 offset;float radius=g+3.0*l;//Until we get gl_VertexID in WebGL,we store an instruction.if(f==0.0){//Offsetting the edges of the triangle by lineWidth/2 is necessary,however//we should also leave some space for the antialiasing,thus we offset by lineWidth.offset=vec2(-1.0,1.0);}else if(f==1.0){offset=vec2(-1.0,-1.0);}else if(f==2.0){offset=vec2(1.0,-1.0);}else{offset=vec2(1.0,1.0);}gl_Position=h*vec4(e+offset*radius,0.0,1.0)+offsetMatrix*vec4(offset*lineWidth,0.0,0.0);b=vec4(h*vec4(e.x+g,e.y,0.0,1.0)).xy;if(distance(a,b)>20000.0){gl_Position=vec4(a,0.0,1.0);}}"),goog.provide("ol.render.webgl.circlereplay.defaultshader.Locations"),goog.require("ol"),ol.render.webgl.circlereplay.defaultshader.Locations=function(e,t){this.u_projectionMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_offsetRotateMatrix":"j"),this.u_lineWidth=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_lineWidth":"k"),this.u_pixelRatio=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_pixelRatio":"l"),this.u_opacity=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_opacity":"m"),this.u_fillColor=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_fillColor":"n"),this.u_strokeColor=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_strokeColor":"o"),this.u_size=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_size":"p"),this.a_position=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_position":"e"),this.a_instruction=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_instruction":"f"),this.a_radius=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_radius":"g")},goog.provide("ol.vec.Mat4"),ol.vec.Mat4.create=function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},ol.vec.Mat4.fromTransform=function(e,t){return e[0]=t[0],e[1]=t[1],e[4]=t[2],e[5]=t[3],e[12]=t[4],e[13]=t[5],e},goog.provide("ol.render.webgl.Replay"),goog.require("ol"),goog.require("ol.extent"),goog.require("ol.render.VectorContext"),goog.require("ol.transform"),goog.require("ol.vec.Mat4"),goog.require("ol.webgl"),ol.render.webgl.Replay=function(e,t){ol.render.VectorContext.call(this),this.tolerance=e,this.maxExtent=t,this.origin=ol.extent.getCenter(t),this.projectionMatrix_=ol.transform.create(),this.offsetRotateMatrix_=ol.transform.create(),this.offsetScaleMatrix_=ol.transform.create(),this.tmpMat4_=ol.vec.Mat4.create(),this.indices=[],this.indicesBuffer=null,this.startIndices=[],this.startIndicesFeature=[],this.vertices=[],this.verticesBuffer=null,this.lineStringReplay=void 0},ol.inherits(ol.render.webgl.Replay,ol.render.VectorContext),ol.render.webgl.Replay.prototype.getDeleteResourcesFunction=function(e){},ol.render.webgl.Replay.prototype.finish=function(e){},ol.render.webgl.Replay.prototype.setUpProgram=function(e,t,o,r){},ol.render.webgl.Replay.prototype.shutDownProgram=function(e,t){},ol.render.webgl.Replay.prototype.drawReplay=function(e,t,o,r){},ol.render.webgl.Replay.prototype.drawHitDetectionReplayOneByOne=function(e,t,o,r,n){},ol.render.webgl.Replay.prototype.drawHitDetectionReplay=function(e,t,o,r,n,i){return n?this.drawHitDetectionReplayOneByOne(e,t,o,r,i):this.drawHitDetectionReplayAll(e,t,o,r)},ol.render.webgl.Replay.prototype.drawHitDetectionReplayAll=function(e,t,o,r){return e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),this.drawReplay(e,t,o,!0),r(null)||void 0},ol.render.webgl.Replay.prototype.replay=function(e,t,o,r,n,i,l,a,s,p,u){var c,g,d,h,y,f,m,v,_=e.getGL();this.lineStringReplay&&(c=_.isEnabled(_.STENCIL_TEST),g=_.getParameter(_.STENCIL_FUNC),d=_.getParameter(_.STENCIL_VALUE_MASK),h=_.getParameter(_.STENCIL_REF),y=_.getParameter(_.STENCIL_WRITEMASK),f=_.getParameter(_.STENCIL_FAIL),m=_.getParameter(_.STENCIL_PASS_DEPTH_PASS),v=_.getParameter(_.STENCIL_PASS_DEPTH_FAIL),_.enable(_.STENCIL_TEST),_.clear(_.STENCIL_BUFFER_BIT),_.stencilMask(255),_.stencilFunc(_.ALWAYS,1,255),_.stencilOp(_.KEEP,_.KEEP,_.REPLACE),this.lineStringReplay.replay(e,t,o,r,n,i,l,a,s,p,u),_.stencilMask(0),_.stencilFunc(_.NOTEQUAL,1,255)),e.bindBuffer(ol.webgl.ARRAY_BUFFER,this.verticesBuffer),e.bindBuffer(ol.webgl.ELEMENT_ARRAY_BUFFER,this.indicesBuffer);var S=this.setUpProgram(_,e,n,i),x=ol.transform.reset(this.projectionMatrix_);ol.transform.scale(x,2/(o*n[0]),2/(o*n[1])),ol.transform.rotate(x,-r),ol.transform.translate(x,-(t[0]-this.origin[0]),-(t[1]-this.origin[1]));var E=ol.transform.reset(this.offsetScaleMatrix_);ol.transform.scale(E,2/n[0],2/n[1]);var P,b=ol.transform.reset(this.offsetRotateMatrix_);return 0!==r&&ol.transform.rotate(b,-r),_.uniformMatrix4fv(S.u_projectionMatrix,!1,ol.vec.Mat4.fromTransform(this.tmpMat4_,x)),_.uniformMatrix4fv(S.u_offsetScaleMatrix,!1,ol.vec.Mat4.fromTransform(this.tmpMat4_,E)),_.uniformMatrix4fv(S.u_offsetRotateMatrix,!1,ol.vec.Mat4.fromTransform(this.tmpMat4_,b)),_.uniform1f(S.u_opacity,l),void 0===s?this.drawReplay(_,e,a,!1):P=this.drawHitDetectionReplay(_,e,a,s,p,u),this.shutDownProgram(_,S),this.lineStringReplay&&(c||_.disable(_.STENCIL_TEST),_.clear(_.STENCIL_BUFFER_BIT),_.stencilFunc(g,h,d),_.stencilMask(y),_.stencilOp(f,v,m)),P},ol.render.webgl.Replay.prototype.drawElements=function(e,t,o,r){var n=t.hasOESElementIndexUint?ol.webgl.UNSIGNED_INT:ol.webgl.UNSIGNED_SHORT;e.drawElements(ol.webgl.TRIANGLES,r-o,n,o*(t.hasOESElementIndexUint?4:2))},goog.provide("ol.render.webgl"),ol.render.webgl.defaultFont="10px sans-serif",ol.render.webgl.defaultFillStyle=[0,0,0,1],ol.render.webgl.defaultLineCap="round",ol.render.webgl.defaultLineDash=[],ol.render.webgl.defaultLineDashOffset=0,ol.render.webgl.defaultLineJoin="round",ol.render.webgl.defaultMiterLimit=10,ol.render.webgl.defaultStrokeStyle=[0,0,0,1],ol.render.webgl.defaultTextAlign=.5,ol.render.webgl.defaultTextBaseline=.5,ol.render.webgl.defaultLineWidth=1,ol.render.webgl.triangleIsCounterClockwise=function(e,t,o,r,n,i){var l=(o-e)*(i-t)-(n-e)*(r-t);return l<=ol.render.webgl.EPSILON&&l>=-ol.render.webgl.EPSILON?void 0:l>0},ol.render.webgl.EPSILON=Number.EPSILON||2.220446049250313e-16,goog.provide("ol.webgl.Buffer"),goog.require("ol.webgl"),ol.webgl.Buffer=function(e,t){this.arr_=void 0!==e?e:[],this.usage_=void 0!==t?t:ol.webgl.Buffer.Usage_.STATIC_DRAW},ol.webgl.Buffer.prototype.getArray=function(){return this.arr_},ol.webgl.Buffer.prototype.getUsage=function(){return this.usage_},ol.webgl.Buffer.Usage_={STATIC_DRAW:ol.webgl.STATIC_DRAW,STREAM_DRAW:ol.webgl.STREAM_DRAW,DYNAMIC_DRAW:ol.webgl.DYNAMIC_DRAW},goog.provide("ol.render.webgl.CircleReplay"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.color"),goog.require("ol.extent"),goog.require("ol.obj"),goog.require("ol.geom.flat.transform"),goog.require("ol.render.webgl.circlereplay.defaultshader"),goog.require("ol.render.webgl.circlereplay.defaultshader.Locations"),goog.require("ol.render.webgl.Replay"),goog.require("ol.render.webgl"),goog.require("ol.webgl"),goog.require("ol.webgl.Buffer"),ol.render.webgl.CircleReplay=function(e,t){ol.render.webgl.Replay.call(this,e,t),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.radius_=0,this.state_={fillColor:null,strokeColor:null,lineDash:null,lineDashOffset:void 0,lineWidth:void 0,changed:!1}},ol.inherits(ol.render.webgl.CircleReplay,ol.render.webgl.Replay),ol.render.webgl.CircleReplay.prototype.drawCoordinates_=function(e,t,o,r){var n,i,l=this.vertices.length,a=this.indices.length,s=l/4;for(n=t,i=o;n<i;n+=r)this.vertices[l++]=e[n],this.vertices[l++]=e[n+1],this.vertices[l++]=0,this.vertices[l++]=this.radius_,this.vertices[l++]=e[n],this.vertices[l++]=e[n+1],this.vertices[l++]=1,this.vertices[l++]=this.radius_,this.vertices[l++]=e[n],this.vertices[l++]=e[n+1],this.vertices[l++]=2,this.vertices[l++]=this.radius_,this.vertices[l++]=e[n],this.vertices[l++]=e[n+1],this.vertices[l++]=3,this.vertices[l++]=this.radius_,this.indices[a++]=s,this.indices[a++]=s+1,this.indices[a++]=s+2,this.indices[a++]=s+2,this.indices[a++]=s+3,this.indices[a++]=s,s+=4},ol.render.webgl.CircleReplay.prototype.drawCircle=function(e,t){var o=e.getRadius(),r=e.getStride();if(o){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(t),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.radius_=o;var n=e.getFlatCoordinates();n=ol.geom.flat.transform.translate(n,0,2,r,-this.origin[0],-this.origin[1]),this.drawCoordinates_(n,0,2,r)}else if(this.state_.changed&&(this.styles_.pop(),this.styles_.length)){var i=this.styles_[this.styles_.length-1];this.state_.fillColor=i[0],this.state_.strokeColor=i[1],this.state_.lineWidth=i[2],this.state_.changed=!1}},ol.render.webgl.CircleReplay.prototype.finish=function(e){this.verticesBuffer=new ol.webgl.Buffer(this.vertices),this.indicesBuffer=new ol.webgl.Buffer(this.indices),this.startIndices.push(this.indices.length),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},ol.render.webgl.CircleReplay.prototype.getDeleteResourcesFunction=function(e){var t=this.verticesBuffer,o=this.indicesBuffer;return function(){e.deleteBuffer(t),e.deleteBuffer(o)}},ol.render.webgl.CircleReplay.prototype.setUpProgram=function(e,t,o,r){var n,i;n=ol.render.webgl.circlereplay.defaultshader.fragment,i=ol.render.webgl.circlereplay.defaultshader.vertex;var l,a=t.getProgram(n,i);return this.defaultLocations_?l=this.defaultLocations_:(l=new ol.render.webgl.circlereplay.defaultshader.Locations(e,a),this.defaultLocations_=l),t.useProgram(a),e.enableVertexAttribArray(l.a_position),e.vertexAttribPointer(l.a_position,2,ol.webgl.FLOAT,!1,16,0),e.enableVertexAttribArray(l.a_instruction),e.vertexAttribPointer(l.a_instruction,1,ol.webgl.FLOAT,!1,16,8),e.enableVertexAttribArray(l.a_radius),e.vertexAttribPointer(l.a_radius,1,ol.webgl.FLOAT,!1,16,12),e.uniform2fv(l.u_size,o),e.uniform1f(l.u_pixelRatio,r),l},ol.render.webgl.CircleReplay.prototype.shutDownProgram=function(e,t){e.disableVertexAttribArray(t.a_position),e.disableVertexAttribArray(t.a_instruction),e.disableVertexAttribArray(t.a_radius)},ol.render.webgl.CircleReplay.prototype.drawReplay=function(e,t,o,r){var n,i,l,a;if(ol.obj.isEmpty(o))for(l=this.startIndices[this.startIndices.length-1],n=this.styleIndices_.length-1;n>=0;--n)i=this.styleIndices_[n],this.setFillStyle_(e,(a=this.styles_[n])[0]),this.setStrokeStyle_(e,a[1],a[2]),this.drawElements(e,t,i,l),l=i;else this.drawReplaySkipping_(e,t,o)},ol.render.webgl.CircleReplay.prototype.drawHitDetectionReplayOneByOne=function(e,t,o,r,n){var i,l,a,s,p,u,c;for(a=this.startIndices[1+(c=this.startIndices.length-2)],i=this.styleIndices_.length-1;i>=0;--i)for(this.setFillStyle_(e,(s=this.styles_[i])[0]),this.setStrokeStyle_(e,s[1],s[2]),p=this.styleIndices_[i];c>=0&&this.startIndices[c]>=p;){if(l=this.startIndices[c],u=this.startIndicesFeature[c],void 0===o[ol.getUid(u).toString()]&&u.getGeometry()&&(void 0===n||ol.extent.intersects(n,u.getGeometry().getExtent()))){e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),this.drawElements(e,t,l,a);var g=r(u);if(g)return g}c--,a=l}},ol.render.webgl.CircleReplay.prototype.drawReplaySkipping_=function(e,t,o){var r,n,i,l,a,s,p;for(i=n=this.startIndices[1+(s=this.startIndices.length-2)],r=this.styleIndices_.length-1;r>=0;--r){for(this.setFillStyle_(e,(l=this.styles_[r])[0]),this.setStrokeStyle_(e,l[1],l[2]),a=this.styleIndices_[r];s>=0&&this.startIndices[s]>=a;)p=this.startIndices[s],o[ol.getUid(this.startIndicesFeature[s]).toString()]&&(n!==i&&this.drawElements(e,t,n,i),i=p),s--,n=p;n!==i&&this.drawElements(e,t,n,i),n=i=a}},ol.render.webgl.CircleReplay.prototype.setFillStyle_=function(e,t){e.uniform4fv(this.defaultLocations_.u_fillColor,t)},ol.render.webgl.CircleReplay.prototype.setStrokeStyle_=function(e,t,o){e.uniform4fv(this.defaultLocations_.u_strokeColor,t),e.uniform1f(this.defaultLocations_.u_lineWidth,o)},ol.render.webgl.CircleReplay.prototype.setFillStrokeStyle=function(e,t){var o,r;if(t){var n=t.getLineDash();this.state_.lineDash=n||ol.render.webgl.defaultLineDash;var i=t.getLineDashOffset();this.state_.lineDashOffset=i||ol.render.webgl.defaultLineDashOffset,o=(o=t.getColor())instanceof CanvasGradient||o instanceof CanvasPattern?ol.render.webgl.defaultStrokeStyle:ol.color.asArray(o).map(function(e,t){return 3!=t?e/255:e})||ol.render.webgl.defaultStrokeStyle,r=void 0!==(r=t.getWidth())?r:ol.render.webgl.defaultLineWidth}else o=[0,0,0,0],r=0;var l=e?e.getColor():[0,0,0,0];l=l instanceof CanvasGradient||l instanceof CanvasPattern?ol.render.webgl.defaultFillStyle:ol.color.asArray(l).map(function(e,t){return 3!=t?e/255:e})||ol.render.webgl.defaultFillStyle,this.state_.strokeColor&&ol.array.equals(this.state_.strokeColor,o)&&this.state_.fillColor&&ol.array.equals(this.state_.fillColor,l)&&this.state_.lineWidth===r||(this.state_.changed=!0,this.state_.fillColor=l,this.state_.strokeColor=o,this.state_.lineWidth=r,this.styles_.push([l,o,r]))},goog.provide("ol.render.webgl.texturereplay.defaultshader"),goog.require("ol"),goog.require("ol.webgl.Fragment"),goog.require("ol.webgl.Vertex"),ol.render.webgl.texturereplay.defaultshader.fragment=new ol.webgl.Fragment(ol.DEBUG_WEBGL?"precision mediump float;\nvarying vec2 v_texCoord;\nvarying float v_opacity;\n\nuniform float u_opacity;\nuniform sampler2D u_image;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  float alpha = texColor.a * v_opacity * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;varying vec2 a;varying float b;uniform float k;uniform sampler2D l;void main(void){vec4 texColor=texture2D(l,a);gl_FragColor.rgb=texColor.rgb;float alpha=texColor.a*b*k;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"),ol.render.webgl.texturereplay.defaultshader.vertex=new ol.webgl.Vertex(ol.DEBUG_WEBGL?"varying vec2 v_texCoord;\nvarying float v_opacity;\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nattribute vec2 a_offsets;\nattribute float a_opacity;\nattribute float a_rotateWithView;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix;\n  if (a_rotateWithView == 1.0) {\n    offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  }\n  vec4 offsets = offsetMatrix * vec4(a_offsets, 0.0, 0.0);\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n  v_texCoord = a_texCoord;\n  v_opacity = a_opacity;\n}\n\n\n":"varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix=i;if(g==1.0){offsetMatrix=i*j;}vec4 offsets=offsetMatrix*vec4(e,0.0,0.0);gl_Position=h*vec4(c,0.0,1.0)+offsets;a=d;b=f;}"),goog.provide("ol.render.webgl.texturereplay.defaultshader.Locations"),goog.require("ol"),ol.render.webgl.texturereplay.defaultshader.Locations=function(e,t){this.u_projectionMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_offsetRotateMatrix":"j"),this.u_opacity=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_opacity":"k"),this.u_image=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_image":"l"),this.a_position=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_position":"c"),this.a_texCoord=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_texCoord":"d"),this.a_offsets=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_offsets":"e"),this.a_opacity=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_opacity":"f"),this.a_rotateWithView=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_rotateWithView":"g")},goog.provide("ol.webgl.ContextEventType"),ol.webgl.ContextEventType={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"},goog.provide("ol.webgl.Context"),goog.require("ol"),goog.require("ol.Disposable"),goog.require("ol.array"),goog.require("ol.events"),goog.require("ol.obj"),goog.require("ol.webgl"),goog.require("ol.webgl.ContextEventType"),ol.webgl.Context=function(e,t){this.canvas_=e,this.gl_=t,this.bufferCache_={},this.shaderCache_={},this.programCache_={},this.currentProgram_=null,this.hitDetectionFramebuffer_=null,this.hitDetectionTexture_=null,this.hitDetectionRenderbuffer_=null,this.hasOESElementIndexUint=ol.array.includes(ol.WEBGL_EXTENSIONS,"OES_element_index_uint"),this.hasOESElementIndexUint&&t.getExtension("OES_element_index_uint"),ol.events.listen(this.canvas_,ol.webgl.ContextEventType.LOST,this.handleWebGLContextLost,this),ol.events.listen(this.canvas_,ol.webgl.ContextEventType.RESTORED,this.handleWebGLContextRestored,this)},ol.inherits(ol.webgl.Context,ol.Disposable),ol.webgl.Context.prototype.bindBuffer=function(e,t){var o=this.getGL(),r=t.getArray(),n=String(ol.getUid(t));if(n in this.bufferCache_)o.bindBuffer(e,this.bufferCache_[n].buffer);else{var i,l=o.createBuffer();o.bindBuffer(e,l),e==ol.webgl.ARRAY_BUFFER?i=new Float32Array(r):e==ol.webgl.ELEMENT_ARRAY_BUFFER&&(i=this.hasOESElementIndexUint?new Uint32Array(r):new Uint16Array(r)),o.bufferData(e,i,t.getUsage()),this.bufferCache_[n]={buf:t,buffer:l}}},ol.webgl.Context.prototype.deleteBuffer=function(e){var t=this.getGL(),o=String(ol.getUid(e)),r=this.bufferCache_[o];t.isContextLost()||t.deleteBuffer(r.buffer),delete this.bufferCache_[o]},ol.webgl.Context.prototype.disposeInternal=function(){ol.events.unlistenAll(this.canvas_);var e=this.getGL();if(!e.isContextLost()){var t;for(t in this.bufferCache_)e.deleteBuffer(this.bufferCache_[t].buffer);for(t in this.programCache_)e.deleteProgram(this.programCache_[t]);for(t in this.shaderCache_)e.deleteShader(this.shaderCache_[t]);e.deleteFramebuffer(this.hitDetectionFramebuffer_),e.deleteRenderbuffer(this.hitDetectionRenderbuffer_),e.deleteTexture(this.hitDetectionTexture_)}},ol.webgl.Context.prototype.getCanvas=function(){return this.canvas_},ol.webgl.Context.prototype.getGL=function(){return this.gl_},ol.webgl.Context.prototype.getHitDetectionFramebuffer=function(){return this.hitDetectionFramebuffer_||this.initHitDetectionFramebuffer_(),this.hitDetectionFramebuffer_},ol.webgl.Context.prototype.getShader=function(e){var t=String(ol.getUid(e));if(t in this.shaderCache_)return this.shaderCache_[t];var o=this.getGL(),r=o.createShader(e.getType());return o.shaderSource(r,e.getSource()),o.compileShader(r),this.shaderCache_[t]=r,r},ol.webgl.Context.prototype.getProgram=function(e,t){var o=ol.getUid(e)+"/"+ol.getUid(t);if(o in this.programCache_)return this.programCache_[o];var r=this.getGL(),n=r.createProgram();return r.attachShader(n,this.getShader(e)),r.attachShader(n,this.getShader(t)),r.linkProgram(n),this.programCache_[o]=n,n},ol.webgl.Context.prototype.handleWebGLContextLost=function(){ol.obj.clear(this.bufferCache_),ol.obj.clear(this.shaderCache_),ol.obj.clear(this.programCache_),this.currentProgram_=null,this.hitDetectionFramebuffer_=null,this.hitDetectionTexture_=null,this.hitDetectionRenderbuffer_=null},ol.webgl.Context.prototype.handleWebGLContextRestored=function(){},ol.webgl.Context.prototype.initHitDetectionFramebuffer_=function(){var e=this.gl_,t=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,t);var o=ol.webgl.Context.createEmptyTexture(e,1,1),r=e.createRenderbuffer();e.bindRenderbuffer(e.RENDERBUFFER,r),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,1,1),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,o,0),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,r),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),this.hitDetectionFramebuffer_=t,this.hitDetectionTexture_=o,this.hitDetectionRenderbuffer_=r},ol.webgl.Context.prototype.useProgram=function(e){return e!=this.currentProgram_&&(this.getGL().useProgram(e),this.currentProgram_=e,!0)},ol.webgl.Context.createTexture_=function(e,t,o){var r=e.createTexture();return e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),void 0!==t&&e.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_WRAP_S,t),void 0!==o&&e.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_WRAP_T,o),r},ol.webgl.Context.createEmptyTexture=function(e,t,o,r,n){var i=ol.webgl.Context.createTexture_(e,r,n);return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,o,0,e.RGBA,e.UNSIGNED_BYTE,null),i},ol.webgl.Context.createTexture=function(e,t,o,r){var n=ol.webgl.Context.createTexture_(e,o,r);return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),n},goog.provide("ol.render.webgl.TextureReplay"),goog.require("ol"),goog.require("ol.extent"),goog.require("ol.obj"),goog.require("ol.render.webgl.texturereplay.defaultshader"),goog.require("ol.render.webgl.texturereplay.defaultshader.Locations"),goog.require("ol.render.webgl.Replay"),goog.require("ol.webgl"),goog.require("ol.webgl.Context"),ol.render.webgl.TextureReplay=function(e,t){ol.render.webgl.Replay.call(this,e,t),this.anchorX=void 0,this.anchorY=void 0,this.groupIndices=[],this.hitDetectionGroupIndices=[],this.height=void 0,this.imageHeight=void 0,this.imageWidth=void 0,this.defaultLocations=null,this.opacity=void 0,this.originX=void 0,this.originY=void 0,this.rotateWithView=void 0,this.rotation=void 0,this.scale=void 0,this.width=void 0},ol.inherits(ol.render.webgl.TextureReplay,ol.render.webgl.Replay),ol.render.webgl.TextureReplay.prototype.getDeleteResourcesFunction=function(e){var t=this.verticesBuffer,o=this.indicesBuffer,r=this.getTextures(!0),n=e.getGL();return function(){var i,l;if(!n.isContextLost())for(i=0,l=r.length;i<l;++i)n.deleteTexture(r[i]);e.deleteBuffer(t),e.deleteBuffer(o)}},ol.render.webgl.TextureReplay.prototype.drawCoordinates=function(e,t,o,r){var n,i,l,a,s,p,u=this.anchorX,c=this.anchorY,g=this.height,d=this.imageHeight,h=this.imageWidth,y=this.opacity,f=this.originX,m=this.originY,v=this.rotateWithView?1:0,_=-this.rotation,S=this.scale,x=this.width,E=Math.cos(_),P=Math.sin(_),b=this.indices.length,T=this.vertices.length;for(n=t;n<o;n+=r)p=e[n+1]-this.origin[1],i=T/8,l=-S*u,a=-S*(g-c),this.vertices[T++]=s=e[n]-this.origin[0],this.vertices[T++]=p,this.vertices[T++]=l*E-a*P,this.vertices[T++]=l*P+a*E,this.vertices[T++]=f/h,this.vertices[T++]=(m+g)/d,this.vertices[T++]=y,this.vertices[T++]=v,l=S*(x-u),a=-S*(g-c),this.vertices[T++]=s,this.vertices[T++]=p,this.vertices[T++]=l*E-a*P,this.vertices[T++]=l*P+a*E,this.vertices[T++]=(f+x)/h,this.vertices[T++]=(m+g)/d,this.vertices[T++]=y,this.vertices[T++]=v,l=S*(x-u),a=S*c,this.vertices[T++]=s,this.vertices[T++]=p,this.vertices[T++]=l*E-a*P,this.vertices[T++]=l*P+a*E,this.vertices[T++]=(f+x)/h,this.vertices[T++]=m/d,this.vertices[T++]=y,this.vertices[T++]=v,l=-S*u,a=S*c,this.vertices[T++]=s,this.vertices[T++]=p,this.vertices[T++]=l*E-a*P,this.vertices[T++]=l*P+a*E,this.vertices[T++]=f/h,this.vertices[T++]=m/d,this.vertices[T++]=y,this.vertices[T++]=v,this.indices[b++]=i,this.indices[b++]=i+1,this.indices[b++]=i+2,this.indices[b++]=i,this.indices[b++]=i+2,this.indices[b++]=i+3;return T},ol.render.webgl.TextureReplay.prototype.createTextures=function(e,t,o,r){var n,i,l,a,s=t.length;for(a=0;a<s;++a)i=t[a],(l=ol.getUid(i).toString())in o?n=o[l]:(n=ol.webgl.Context.createTexture(r,i,ol.webgl.CLAMP_TO_EDGE,ol.webgl.CLAMP_TO_EDGE),o[l]=n),e[a]=n},ol.render.webgl.TextureReplay.prototype.setUpProgram=function(e,t,o,r){var n,i=ol.render.webgl.texturereplay.defaultshader.fragment,l=ol.render.webgl.texturereplay.defaultshader.vertex,a=t.getProgram(i,l);return this.defaultLocations?n=this.defaultLocations:(n=new ol.render.webgl.texturereplay.defaultshader.Locations(e,a),this.defaultLocations=n),t.useProgram(a),e.enableVertexAttribArray(n.a_position),e.vertexAttribPointer(n.a_position,2,ol.webgl.FLOAT,!1,32,0),e.enableVertexAttribArray(n.a_offsets),e.vertexAttribPointer(n.a_offsets,2,ol.webgl.FLOAT,!1,32,8),e.enableVertexAttribArray(n.a_texCoord),e.vertexAttribPointer(n.a_texCoord,2,ol.webgl.FLOAT,!1,32,16),e.enableVertexAttribArray(n.a_opacity),e.vertexAttribPointer(n.a_opacity,1,ol.webgl.FLOAT,!1,32,24),e.enableVertexAttribArray(n.a_rotateWithView),e.vertexAttribPointer(n.a_rotateWithView,1,ol.webgl.FLOAT,!1,32,28),n},ol.render.webgl.TextureReplay.prototype.shutDownProgram=function(e,t){e.disableVertexAttribArray(t.a_position),e.disableVertexAttribArray(t.a_offsets),e.disableVertexAttribArray(t.a_texCoord),e.disableVertexAttribArray(t.a_opacity),e.disableVertexAttribArray(t.a_rotateWithView)},ol.render.webgl.TextureReplay.prototype.drawReplay=function(e,t,o,r){var n,i,l,a=r?this.getHitDetectionTextures():this.getTextures(),s=r?this.hitDetectionGroupIndices:this.groupIndices;if(ol.obj.isEmpty(o))for(n=0,i=a.length,l=0;n<i;++n){e.bindTexture(ol.webgl.TEXTURE_2D,a[n]);var p=s[n];this.drawElements(e,t,l,p),l=p}else this.drawReplaySkipping(e,t,o,a,s)},ol.render.webgl.TextureReplay.prototype.drawReplaySkipping=function(e,t,o,r,n){var i,l,a=0;for(i=0,l=r.length;i<l;++i){e.bindTexture(ol.webgl.TEXTURE_2D,r[i]);for(var s=i>0?n[i-1]:0,p=n[i],u=s,c=s;a<this.startIndices.length&&this.startIndices[a]<=p;)void 0!==o[ol.getUid(this.startIndicesFeature[a]).toString()]?(u!==c&&this.drawElements(e,t,u,c),c=u=a===this.startIndices.length-1?p:this.startIndices[a+1]):c=a===this.startIndices.length-1?p:this.startIndices[a+1],a++;u!==c&&this.drawElements(e,t,u,c)}},ol.render.webgl.TextureReplay.prototype.drawHitDetectionReplayOneByOne=function(e,t,o,r,n){var i,l,a,s,p,u=this.startIndices.length-1,c=this.getHitDetectionTextures();for(i=c.length-1;i>=0;--i)for(e.bindTexture(ol.webgl.TEXTURE_2D,c[i]),l=i>0?this.hitDetectionGroupIndices[i-1]:0,s=this.hitDetectionGroupIndices[i];u>=0&&this.startIndices[u]>=l;){if(a=this.startIndices[u],p=this.startIndicesFeature[u],void 0===o[ol.getUid(p).toString()]&&p.getGeometry()&&(void 0===n||ol.extent.intersects(n,p.getGeometry().getExtent()))){e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),this.drawElements(e,t,a,s);var g=r(p);if(g)return g}s=a,u--}},ol.render.webgl.TextureReplay.prototype.finish=function(e){this.anchorX=void 0,this.anchorY=void 0,this.height=void 0,this.imageHeight=void 0,this.imageWidth=void 0,this.indices=null,this.opacity=void 0,this.originX=void 0,this.originY=void 0,this.rotateWithView=void 0,this.rotation=void 0,this.scale=void 0,this.vertices=null,this.width=void 0},ol.render.webgl.TextureReplay.prototype.getTextures=function(e){},ol.render.webgl.TextureReplay.prototype.getHitDetectionTextures=function(){},goog.provide("ol.render.webgl.ImageReplay"),goog.require("ol"),goog.require("ol.render.webgl.TextureReplay"),goog.require("ol.webgl.Buffer"),ol.render.webgl.ImageReplay=function(e,t){ol.render.webgl.TextureReplay.call(this,e,t),this.images_=[],this.hitDetectionImages_=[],this.textures_=[],this.hitDetectionTextures_=[]},ol.inherits(ol.render.webgl.ImageReplay,ol.render.webgl.TextureReplay),ol.render.webgl.ImageReplay.prototype.drawMultiPoint=function(e,t){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(t);var o=e.getFlatCoordinates(),r=e.getStride();this.drawCoordinates(o,0,o.length,r)},ol.render.webgl.ImageReplay.prototype.drawPoint=function(e,t){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(t);var o=e.getFlatCoordinates(),r=e.getStride();this.drawCoordinates(o,0,o.length,r)},ol.render.webgl.ImageReplay.prototype.finish=function(e){var t=e.getGL();this.groupIndices.push(this.indices.length),this.hitDetectionGroupIndices.push(this.indices.length),this.verticesBuffer=new ol.webgl.Buffer(this.vertices),this.indicesBuffer=new ol.webgl.Buffer(this.indices);var o={};this.createTextures(this.textures_,this.images_,o,t),this.createTextures(this.hitDetectionTextures_,this.hitDetectionImages_,o,t),this.images_=null,this.hitDetectionImages_=null,ol.render.webgl.TextureReplay.prototype.finish.call(this,e)},ol.render.webgl.ImageReplay.prototype.setImageStyle=function(e){var t,o=e.getAnchor(),r=e.getImage(1),n=e.getImageSize(),i=e.getHitDetectionImage(1),l=e.getOpacity(),a=e.getOrigin(),s=e.getRotateWithView(),p=e.getRotation(),u=e.getSize(),c=e.getScale();0===this.images_.length?this.images_.push(r):(t=this.images_[this.images_.length-1],ol.getUid(t)!=ol.getUid(r)&&(this.groupIndices.push(this.indices.length),this.images_.push(r))),0===this.hitDetectionImages_.length?this.hitDetectionImages_.push(i):(t=this.hitDetectionImages_[this.hitDetectionImages_.length-1],ol.getUid(t)!=ol.getUid(i)&&(this.hitDetectionGroupIndices.push(this.indices.length),this.hitDetectionImages_.push(i))),this.anchorX=o[0],this.anchorY=o[1],this.height=u[1],this.imageHeight=n[1],this.imageWidth=n[0],this.opacity=l,this.originX=a[0],this.originY=a[1],this.rotation=p,this.rotateWithView=s,this.scale=c,this.width=u[0]},ol.render.webgl.ImageReplay.prototype.getTextures=function(e){return e?this.textures_.concat(this.hitDetectionTextures_):this.textures_},ol.render.webgl.ImageReplay.prototype.getHitDetectionTextures=function(){return this.hitDetectionTextures_},goog.provide("ol.render.webgl.linestringreplay.defaultshader"),goog.require("ol"),goog.require("ol.webgl.Fragment"),goog.require("ol.webgl.Vertex"),ol.render.webgl.linestringreplay.defaultshader.fragment=new ol.webgl.Fragment(ol.DEBUG_WEBGL?"precision mediump float;\nvarying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_color;\nuniform vec2 u_size;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  if (v_round > 0.0) {\n    vec2 windowCoords = vec2((v_roundVertex.x + 1.0) / 2.0 * u_size.x * u_pixelRatio,\n        (v_roundVertex.y + 1.0) / 2.0 * u_size.y * u_pixelRatio);\n    if (length(windowCoords - gl_FragCoord.xy) > v_halfWidth * u_pixelRatio) {\n      discard;\n    }\n  }\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;varying float a;varying vec2 aVertex;varying float c;uniform float m;uniform vec4 n;uniform vec2 o;uniform float p;void main(void){if(a>0.0){vec2 windowCoords=vec2((aVertex.x+1.0)/2.0*o.x*p,(aVertex.y+1.0)/2.0*o.y*p);if(length(windowCoords-gl_FragCoord.xy)>c*p){discard;}} gl_FragColor=n;float alpha=n.a*m;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"),ol.render.webgl.linestringreplay.defaultshader.vertex=new ol.webgl.Vertex(ol.DEBUG_WEBGL?"varying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\nattribute vec2 a_lastPos;\nattribute vec2 a_position;\nattribute vec2 a_nextPos;\nattribute float a_direction;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_miterLimit;\n\nbool nearlyEquals(in float value, in float ref) {\n  float epsilon = 0.000000000001;\n  return value >= ref - epsilon && value <= ref + epsilon;\n}\n\nvoid alongNormal(out vec2 offset, in vec2 nextP, in float turnDir, in float direction) {\n  vec2 dirVect = nextP - a_position;\n  vec2 normal = normalize(vec2(-turnDir * dirVect.y, turnDir * dirVect.x));\n  offset = u_lineWidth / 2.0 * normal * direction;\n}\n\nvoid miterUp(out vec2 offset, out float round, in bool isRound, in float direction) {\n  float halfWidth = u_lineWidth / 2.0;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_nextPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n  offset = normal * direction * miterLength;\n  round = 0.0;\n  if (isRound) {\n    round = 1.0;\n  } else if (miterLength > u_miterLimit + u_lineWidth) {\n    offset = halfWidth * tmpNormal * direction;\n  }\n}\n\nbool miterDown(out vec2 offset, in vec4 projPos, in mat4 offsetMatrix, in float direction) {\n  bool degenerate = false;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_lastPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  vec2 longOffset, shortOffset, longVertex;\n  vec4 shortProjVertex;\n  float halfWidth = u_lineWidth / 2.0;\n  if (length(a_nextPos - a_position) > length(a_lastPos - a_position)) {\n    longOffset = tmpNormal * direction * halfWidth;\n    shortOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_nextPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_lastPos, 0.0, 1.0);\n  } else {\n    shortOffset = tmpNormal * direction * halfWidth;\n    longOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_lastPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_nextPos, 0.0, 1.0);\n  }\n  //Intersection algorithm based on theory by Paul Bourke (http://paulbourke.net/geometry/pointlineplane/).\n  vec4 p1 = u_projectionMatrix * vec4(longVertex, 0.0, 1.0) + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p2 = projPos + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p3 = shortProjVertex + offsetMatrix * vec4(-shortOffset, 0.0, 0.0);\n  vec4 p4 = shortProjVertex + offsetMatrix * vec4(shortOffset, 0.0, 0.0);\n  float denom = (p4.y - p3.y) * (p2.x - p1.x) - (p4.x - p3.x) * (p2.y - p1.y);\n  float firstU = ((p4.x - p3.x) * (p1.y - p3.y) - (p4.y - p3.y) * (p1.x - p3.x)) / denom;\n  float secondU = ((p2.x - p1.x) * (p1.y - p3.y) - (p2.y - p1.y) * (p1.x - p3.x)) / denom;\n  float epsilon = 0.000000000001;\n  if (firstU > epsilon && firstU < 1.0 - epsilon && secondU > epsilon && secondU < 1.0 - epsilon) {\n    shortProjVertex.x = p1.x + firstU * (p2.x - p1.x);\n    shortProjVertex.y = p1.y + firstU * (p2.y - p1.y);\n    offset = shortProjVertex.xy;\n    degenerate = true;\n  } else {\n    float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n    offset = normal * direction * miterLength;\n  }\n  return degenerate;\n}\n\nvoid squareCap(out vec2 offset, out float round, in bool isRound, in vec2 nextP,\n    in float turnDir, in float direction) {\n  round = 0.0;\n  vec2 dirVect = a_position - nextP;\n  vec2 firstNormal = normalize(dirVect);\n  vec2 secondNormal = vec2(turnDir * firstNormal.y * direction, -turnDir * firstNormal.x * direction);\n  vec2 hypotenuse = normalize(firstNormal - secondNormal);\n  vec2 normal = vec2(turnDir * hypotenuse.y * direction, -turnDir * hypotenuse.x * direction);\n  float length = sqrt(v_halfWidth * v_halfWidth * 2.0);\n  offset = normal * length;\n  if (isRound) {\n    round = 1.0;\n  }\n}\n\nvoid main(void) {\n  bool degenerate = false;\n  float direction = float(sign(a_direction));\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  vec2 offset;\n  vec4 projPos = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n  bool round = nearlyEquals(mod(a_direction, 2.0), 0.0);\n\n  v_round = 0.0;\n  v_halfWidth = u_lineWidth / 2.0;\n  v_roundVertex = projPos.xy;\n\n  if (nearlyEquals(mod(a_direction, 3.0), 0.0) || nearlyEquals(mod(a_direction, 17.0), 0.0)) {\n    alongNormal(offset, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 5.0), 0.0) || nearlyEquals(mod(a_direction, 13.0), 0.0)) {\n    alongNormal(offset, a_lastPos, -1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 23.0), 0.0)) {\n    miterUp(offset, v_round, round, direction);\n  } else if (nearlyEquals(mod(a_direction, 19.0), 0.0)) {\n    degenerate = miterDown(offset, projPos, offsetMatrix, direction);\n  } else if (nearlyEquals(mod(a_direction, 7.0), 0.0)) {\n    squareCap(offset, v_round, round, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 11.0), 0.0)) {\n    squareCap(offset, v_round, round, a_lastPos, -1.0, direction);\n  }\n  if (!degenerate) {\n    vec4 offsets = offsetMatrix * vec4(offset, 0.0, 0.0);\n    gl_Position = projPos + offsets;\n  } else {\n    gl_Position = vec4(offset, 0.0, 1.0);\n  }\n}\n\n\n":"varying float a;varying vec2 aVertex;varying float c;attribute vec2 d;attribute vec2 e;attribute vec2 f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;bool nearlyEquals(in float value,in float ref){float epsilon=0.000000000001;return value>=ref-epsilon&&value<=ref+epsilon;}void alongNormal(out vec2 offset,in vec2 nextP,in float turnDir,in float direction){vec2 dirVect=nextP-e;vec2 normal=normalize(vec2(-turnDir*dirVect.y,turnDir*dirVect.x));offset=k/2.0*normal*direction;}void miterUp(out vec2 offset,out float round,in bool isRound,in float direction){float halfWidth=k/2.0;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=f-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;round=0.0;if(isRound){round=1.0;}else if(miterLength>l+k){offset=halfWidth*tmpNormal*direction;}} bool miterDown(out vec2 offset,in vec4 projPos,in mat4 offsetMatrix,in float direction){bool degenerate=false;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=d-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));vec2 longOffset,shortOffset,longVertex;vec4 shortProjVertex;float halfWidth=k/2.0;if(length(f-e)>length(d-e)){longOffset=tmpNormal*direction*halfWidth;shortOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=f;shortProjVertex=h*vec4(d,0.0,1.0);}else{shortOffset=tmpNormal*direction*halfWidth;longOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=d;shortProjVertex=h*vec4(f,0.0,1.0);}vec4 p1=h*vec4(longVertex,0.0,1.0)+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p2=projPos+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p3=shortProjVertex+offsetMatrix*vec4(-shortOffset,0.0,0.0);vec4 p4=shortProjVertex+offsetMatrix*vec4(shortOffset,0.0,0.0);float denom=(p4.y-p3.y)*(p2.x-p1.x)-(p4.x-p3.x)*(p2.y-p1.y);float firstU=((p4.x-p3.x)*(p1.y-p3.y)-(p4.y-p3.y)*(p1.x-p3.x))/denom;float secondU=((p2.x-p1.x)*(p1.y-p3.y)-(p2.y-p1.y)*(p1.x-p3.x))/denom;float epsilon=0.000000000001;if(firstU>epsilon&&firstU<1.0-epsilon&&secondU>epsilon&&secondU<1.0-epsilon){shortProjVertex.x=p1.x+firstU*(p2.x-p1.x);shortProjVertex.y=p1.y+firstU*(p2.y-p1.y);offset=shortProjVertex.xy;degenerate=true;}else{float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;}return degenerate;}void squareCap(out vec2 offset,out float round,in bool isRound,in vec2 nextP,in float turnDir,in float direction){round=0.0;vec2 dirVect=e-nextP;vec2 firstNormal=normalize(dirVect);vec2 secondNormal=vec2(turnDir*firstNormal.y*direction,-turnDir*firstNormal.x*direction);vec2 hypotenuse=normalize(firstNormal-secondNormal);vec2 normal=vec2(turnDir*hypotenuse.y*direction,-turnDir*hypotenuse.x*direction);float length=sqrt(c*c*2.0);offset=normal*length;if(isRound){round=1.0;}} void main(void){bool degenerate=false;float direction=float(sign(g));mat4 offsetMatrix=i*j;vec2 offset;vec4 projPos=h*vec4(e,0.0,1.0);bool round=nearlyEquals(mod(g,2.0),0.0);a=0.0;c=k/2.0;aVertex=projPos.xy;if(nearlyEquals(mod(g,3.0),0.0)||nearlyEquals(mod(g,17.0),0.0)){alongNormal(offset,f,1.0,direction);}else if(nearlyEquals(mod(g,5.0),0.0)||nearlyEquals(mod(g,13.0),0.0)){alongNormal(offset,d,-1.0,direction);}else if(nearlyEquals(mod(g,23.0),0.0)){miterUp(offset,a,round,direction);}else if(nearlyEquals(mod(g,19.0),0.0)){degenerate=miterDown(offset,projPos,offsetMatrix,direction);}else if(nearlyEquals(mod(g,7.0),0.0)){squareCap(offset,a,round,f,1.0,direction);}else if(nearlyEquals(mod(g,11.0),0.0)){squareCap(offset,a,round,d,-1.0,direction);}if(!degenerate){vec4 offsets=offsetMatrix*vec4(offset,0.0,0.0);gl_Position=projPos+offsets;}else{gl_Position=vec4(offset,0.0,1.0);}}"),goog.provide("ol.render.webgl.linestringreplay.defaultshader.Locations"),goog.require("ol"),ol.render.webgl.linestringreplay.defaultshader.Locations=function(e,t){this.u_projectionMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_offsetRotateMatrix":"j"),this.u_lineWidth=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_lineWidth":"k"),this.u_miterLimit=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_miterLimit":"l"),this.u_opacity=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_opacity":"m"),this.u_color=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_color":"n"),this.u_size=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_size":"o"),this.u_pixelRatio=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_pixelRatio":"p"),this.a_lastPos=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_lastPos":"d"),this.a_position=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_position":"e"),this.a_nextPos=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_nextPos":"f"),this.a_direction=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_direction":"g")},goog.provide("ol.render.webgl.LineStringReplay"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.color"),goog.require("ol.extent"),goog.require("ol.geom.flat.orient"),goog.require("ol.geom.flat.transform"),goog.require("ol.geom.flat.topology"),goog.require("ol.obj"),goog.require("ol.render.webgl"),goog.require("ol.render.webgl.Replay"),goog.require("ol.render.webgl.linestringreplay.defaultshader"),goog.require("ol.render.webgl.linestringreplay.defaultshader.Locations"),goog.require("ol.webgl"),goog.require("ol.webgl.Buffer"),ol.render.webgl.LineStringReplay=function(e,t){ol.render.webgl.Replay.call(this,e,t),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0,changed:!1}},ol.inherits(ol.render.webgl.LineStringReplay,ol.render.webgl.Replay),ol.render.webgl.LineStringReplay.prototype.drawCoordinates_=function(e,t,o,r){var n,i,l,a,s,p,u,c,g=this.vertices.length,d=this.indices.length,h="bevel"===this.state_.lineJoin?0:"miter"===this.state_.lineJoin?1:2,y="butt"===this.state_.lineCap?0:"square"===this.state_.lineCap?1:2,f=ol.geom.flat.topology.lineStringIsClosed(e,t,o,r),m=d,v=1;for(n=t,i=o;n<i;n+=r){if(s=g/7,p=u,u=c||[e[n],e[n+1]],n===t){if(c=[e[n+r],e[n+r+1]],o-t==2*r&&ol.array.equals(u,c))break;if(!f){y&&(g=this.addVertices_([0,0],u,c,v*ol.render.webgl.LineStringReplay.Instruction_.BEGIN_LINE_CAP*y,g),g=this.addVertices_([0,0],u,c,-v*ol.render.webgl.LineStringReplay.Instruction_.BEGIN_LINE_CAP*y,g),this.indices[d++]=s+2,this.indices[d++]=s,this.indices[d++]=s+1,this.indices[d++]=s+1,this.indices[d++]=s+3,this.indices[d++]=s+2),g=this.addVertices_([0,0],u,c,v*ol.render.webgl.LineStringReplay.Instruction_.BEGIN_LINE*(y||1),g),m=(g=this.addVertices_([0,0],u,c,-v*ol.render.webgl.LineStringReplay.Instruction_.BEGIN_LINE*(y||1),g))/7-1;continue}p=[e[o-2*r],e[o-2*r+1]],l=c}else{if(n===o-r){if(f){c=l;break}g=this.addVertices_(p=p||[0,0],u,[0,0],v*ol.render.webgl.LineStringReplay.Instruction_.END_LINE*(y||1),g),g=this.addVertices_(p,u,[0,0],-v*ol.render.webgl.LineStringReplay.Instruction_.END_LINE*(y||1),g),this.indices[d++]=s,this.indices[d++]=m-1,this.indices[d++]=m,this.indices[d++]=m,this.indices[d++]=s+1,this.indices[d++]=s,y&&(g=this.addVertices_(p,u,[0,0],v*ol.render.webgl.LineStringReplay.Instruction_.END_LINE_CAP*y,g),g=this.addVertices_(p,u,[0,0],-v*ol.render.webgl.LineStringReplay.Instruction_.END_LINE_CAP*y,g),this.indices[d++]=s+2,this.indices[d++]=s,this.indices[d++]=s+1,this.indices[d++]=s+1,this.indices[d++]=s+3,this.indices[d++]=s+2);break}c=[e[n+r],e[n+r+1]]}a=ol.render.webgl.triangleIsCounterClockwise(p[0],p[1],u[0],u[1],c[0],c[1])?-1:1,g=this.addVertices_(p,u,c,a*ol.render.webgl.LineStringReplay.Instruction_.BEVEL_FIRST*(h||1),g),g=this.addVertices_(p,u,c,a*ol.render.webgl.LineStringReplay.Instruction_.BEVEL_SECOND*(h||1),g),g=this.addVertices_(p,u,c,-a*ol.render.webgl.LineStringReplay.Instruction_.MITER_BOTTOM*(h||1),g),n>t&&(this.indices[d++]=s,this.indices[d++]=m-1,this.indices[d++]=m,this.indices[d++]=s+2,this.indices[d++]=s,this.indices[d++]=v*a>0?m:m-1),this.indices[d++]=s,this.indices[d++]=s+2,this.indices[d++]=s+1,m=s+2,v=a,h&&(g=this.addVertices_(p,u,c,a*ol.render.webgl.LineStringReplay.Instruction_.MITER_TOP*h,g),this.indices[d++]=s+1,this.indices[d++]=s+3,this.indices[d++]=s)}f&&(s=s||g/7,a=ol.geom.flat.orient.linearRingIsClockwise([p[0],p[1],u[0],u[1],c[0],c[1]],0,6,2)?1:-1,g=this.addVertices_(p,u,c,a*ol.render.webgl.LineStringReplay.Instruction_.BEVEL_FIRST*(h||1),g),g=this.addVertices_(p,u,c,-a*ol.render.webgl.LineStringReplay.Instruction_.MITER_BOTTOM*(h||1),g),this.indices[d++]=s,this.indices[d++]=m-1,this.indices[d++]=m,this.indices[d++]=s+1,this.indices[d++]=s,this.indices[d++]=v*a>0?m:m-1)},ol.render.webgl.LineStringReplay.prototype.addVertices_=function(e,t,o,r,n){return this.vertices[n++]=e[0],this.vertices[n++]=e[1],this.vertices[n++]=t[0],this.vertices[n++]=t[1],this.vertices[n++]=o[0],this.vertices[n++]=o[1],this.vertices[n++]=r,n},ol.render.webgl.LineStringReplay.prototype.isValid_=function(e,t,o,r){var n=o-t;return!(n<2*r||n===2*r&&ol.array.equals([e[t],e[t+1]],[e[t+r],e[t+r+1]]))},ol.render.webgl.LineStringReplay.prototype.drawLineString=function(e,t){var o=e.getFlatCoordinates(),r=e.getStride();this.isValid_(o,0,o.length,r)&&(o=ol.geom.flat.transform.translate(o,0,o.length,r,-this.origin[0],-this.origin[1]),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.startIndices.push(this.indices.length),this.startIndicesFeature.push(t),this.drawCoordinates_(o,0,o.length,r))},ol.render.webgl.LineStringReplay.prototype.drawMultiLineString=function(e,t){var o=this.indices.length,r=e.getEnds();r.unshift(0);var n,i,l=e.getFlatCoordinates(),a=e.getStride();if(r.length>1)for(n=1,i=r.length;n<i;++n)if(this.isValid_(l,r[n-1],r[n],a)){var s=ol.geom.flat.transform.translate(l,r[n-1],r[n],a,-this.origin[0],-this.origin[1]);this.drawCoordinates_(s,0,s.length,a)}this.indices.length>o&&(this.startIndices.push(o),this.startIndicesFeature.push(t),this.state_.changed&&(this.styleIndices_.push(o),this.state_.changed=!1))},ol.render.webgl.LineStringReplay.prototype.drawPolygonCoordinates=function(e,t,o){var r,n;if(ol.geom.flat.topology.lineStringIsClosed(e,0,e.length,o)||(e.push(e[0]),e.push(e[1])),this.drawCoordinates_(e,0,e.length,o),t.length)for(r=0,n=t.length;r<n;++r)ol.geom.flat.topology.lineStringIsClosed(t[r],0,t[r].length,o)||(t[r].push(t[r][0]),t[r].push(t[r][1])),this.drawCoordinates_(t[r],0,t[r].length,o)},ol.render.webgl.LineStringReplay.prototype.setPolygonStyle=function(e,t){var o=void 0===t?this.indices.length:t;this.startIndices.push(o),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(o),this.state_.changed=!1)},ol.render.webgl.LineStringReplay.prototype.getCurrentIndex=function(){return this.indices.length},ol.render.webgl.LineStringReplay.prototype.finish=function(e){this.verticesBuffer=new ol.webgl.Buffer(this.vertices),this.indicesBuffer=new ol.webgl.Buffer(this.indices),this.startIndices.push(this.indices.length),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},ol.render.webgl.LineStringReplay.prototype.getDeleteResourcesFunction=function(e){var t=this.verticesBuffer,o=this.indicesBuffer;return function(){e.deleteBuffer(t),e.deleteBuffer(o)}},ol.render.webgl.LineStringReplay.prototype.setUpProgram=function(e,t,o,r){var n,i;n=ol.render.webgl.linestringreplay.defaultshader.fragment,i=ol.render.webgl.linestringreplay.defaultshader.vertex;var l,a=t.getProgram(n,i);return this.defaultLocations_?l=this.defaultLocations_:(l=new ol.render.webgl.linestringreplay.defaultshader.Locations(e,a),this.defaultLocations_=l),t.useProgram(a),e.enableVertexAttribArray(l.a_lastPos),e.vertexAttribPointer(l.a_lastPos,2,ol.webgl.FLOAT,!1,28,0),e.enableVertexAttribArray(l.a_position),e.vertexAttribPointer(l.a_position,2,ol.webgl.FLOAT,!1,28,8),e.enableVertexAttribArray(l.a_nextPos),e.vertexAttribPointer(l.a_nextPos,2,ol.webgl.FLOAT,!1,28,16),e.enableVertexAttribArray(l.a_direction),e.vertexAttribPointer(l.a_direction,1,ol.webgl.FLOAT,!1,28,24),e.uniform2fv(l.u_size,o),e.uniform1f(l.u_pixelRatio,r),l},ol.render.webgl.LineStringReplay.prototype.shutDownProgram=function(e,t){e.disableVertexAttribArray(t.a_lastPos),e.disableVertexAttribArray(t.a_position),e.disableVertexAttribArray(t.a_nextPos),e.disableVertexAttribArray(t.a_direction)},ol.render.webgl.LineStringReplay.prototype.drawReplay=function(e,t,o,r){var n,i,l,a,s=e.getParameter(e.DEPTH_FUNC),p=e.getParameter(e.DEPTH_WRITEMASK);if(r||(e.enable(e.DEPTH_TEST),e.depthMask(!0),e.depthFunc(e.NOTEQUAL)),ol.obj.isEmpty(o))for(l=this.startIndices[this.startIndices.length-1],n=this.styleIndices_.length-1;n>=0;--n)i=this.styleIndices_[n],this.setStrokeStyle_(e,(a=this.styles_[n])[0],a[1],a[2]),this.drawElements(e,t,i,l),e.clear(e.DEPTH_BUFFER_BIT),l=i;else this.drawReplaySkipping_(e,t,o);r||(e.disable(e.DEPTH_TEST),e.clear(e.DEPTH_BUFFER_BIT),e.depthMask(p),e.depthFunc(s))},ol.render.webgl.LineStringReplay.prototype.drawReplaySkipping_=function(e,t,o){var r,n,i,l,a,s,p;for(i=n=this.startIndices[1+(s=this.startIndices.length-2)],r=this.styleIndices_.length-1;r>=0;--r){for(this.setStrokeStyle_(e,(l=this.styles_[r])[0],l[1],l[2]),a=this.styleIndices_[r];s>=0&&this.startIndices[s]>=a;)p=this.startIndices[s],o[ol.getUid(this.startIndicesFeature[s]).toString()]&&(n!==i&&(this.drawElements(e,t,n,i),e.clear(e.DEPTH_BUFFER_BIT)),i=p),s--,n=p;n!==i&&(this.drawElements(e,t,n,i),e.clear(e.DEPTH_BUFFER_BIT)),n=i=a}},ol.render.webgl.LineStringReplay.prototype.drawHitDetectionReplayOneByOne=function(e,t,o,r,n){var i,l,a,s,p,u,c;for(a=this.startIndices[1+(c=this.startIndices.length-2)],i=this.styleIndices_.length-1;i>=0;--i)for(this.setStrokeStyle_(e,(s=this.styles_[i])[0],s[1],s[2]),p=this.styleIndices_[i];c>=0&&this.startIndices[c]>=p;){if(l=this.startIndices[c],u=this.startIndicesFeature[c],void 0===o[ol.getUid(u).toString()]&&u.getGeometry()&&(void 0===n||ol.extent.intersects(n,u.getGeometry().getExtent()))){e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),this.drawElements(e,t,l,a);var g=r(u);if(g)return g}c--,a=l}},ol.render.webgl.LineStringReplay.prototype.setStrokeStyle_=function(e,t,o,r){e.uniform4fv(this.defaultLocations_.u_color,t),e.uniform1f(this.defaultLocations_.u_lineWidth,o),e.uniform1f(this.defaultLocations_.u_miterLimit,r)},ol.render.webgl.LineStringReplay.prototype.setFillStrokeStyle=function(e,t){var o=t.getLineCap();this.state_.lineCap=void 0!==o?o:ol.render.webgl.defaultLineCap;var r=t.getLineDash();this.state_.lineDash=r||ol.render.webgl.defaultLineDash;var n=t.getLineDashOffset();this.state_.lineDashOffset=n||ol.render.webgl.defaultLineDashOffset;var i=t.getLineJoin();this.state_.lineJoin=void 0!==i?i:ol.render.webgl.defaultLineJoin;var l=t.getColor();l=l instanceof CanvasGradient||l instanceof CanvasPattern?ol.render.webgl.defaultStrokeStyle:ol.color.asArray(l).map(function(e,t){return 3!=t?e/255:e})||ol.render.webgl.defaultStrokeStyle;var a=t.getWidth();a=void 0!==a?a:ol.render.webgl.defaultLineWidth;var s=t.getMiterLimit();s=void 0!==s?s:ol.render.webgl.defaultMiterLimit,this.state_.strokeColor&&ol.array.equals(this.state_.strokeColor,l)&&this.state_.lineWidth===a&&this.state_.miterLimit===s||(this.state_.changed=!0,this.state_.strokeColor=l,this.state_.lineWidth=a,this.state_.miterLimit=s,this.styles_.push([l,a,s]))},ol.render.webgl.LineStringReplay.Instruction_={ROUND:2,BEGIN_LINE:3,END_LINE:5,BEGIN_LINE_CAP:7,END_LINE_CAP:11,BEVEL_FIRST:13,BEVEL_SECOND:17,MITER_BOTTOM:19,MITER_TOP:23},goog.provide("ol.render.webgl.polygonreplay.defaultshader"),goog.require("ol"),goog.require("ol.webgl.Fragment"),goog.require("ol.webgl.Vertex"),ol.render.webgl.polygonreplay.defaultshader.fragment=new ol.webgl.Fragment(ol.DEBUG_WEBGL?"precision mediump float;\n\n\n\nuniform vec4 u_color;\nuniform float u_opacity;\n\nvoid main(void) {\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;uniform vec4 e;uniform float f;void main(void){gl_FragColor=e;float alpha=e.a*f;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"),ol.render.webgl.polygonreplay.defaultshader.vertex=new ol.webgl.Vertex(ol.DEBUG_WEBGL?"\n\nattribute vec2 a_position;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n}\n\n\n":"attribute vec2 a;uniform mat4 b;uniform mat4 c;uniform mat4 d;void main(void){gl_Position=b*vec4(a,0.0,1.0);}"),goog.provide("ol.render.webgl.polygonreplay.defaultshader.Locations"),goog.require("ol"),ol.render.webgl.polygonreplay.defaultshader.Locations=function(e,t){this.u_projectionMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_projectionMatrix":"b"),this.u_offsetScaleMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_offsetScaleMatrix":"c"),this.u_offsetRotateMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_offsetRotateMatrix":"d"),this.u_color=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_color":"e"),this.u_opacity=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_opacity":"f"),this.a_position=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_position":"a")},goog.provide("ol.structs.LinkedList"),ol.structs.LinkedList=function(e){this.first_=void 0,this.last_=void 0,this.head_=void 0,this.circular_=void 0===e||e,this.length_=0},ol.structs.LinkedList.prototype.insertItem=function(e){var t={prev:void 0,next:void 0,data:e},o=this.head_;if(o){var r=o.next;t.prev=o,t.next=r,o.next=t,r&&(r.prev=t),o===this.last_&&(this.last_=t)}else this.first_=t,this.last_=t,this.circular_&&(t.next=t,t.prev=t);this.head_=t,this.length_++},ol.structs.LinkedList.prototype.removeItem=function(){var e=this.head_;if(e){var t=e.next,o=e.prev;t&&(t.prev=o),o&&(o.next=t),this.head_=t||o,this.first_===this.last_?(this.head_=void 0,this.first_=void 0,this.last_=void 0):this.first_===e?this.first_=this.head_:this.last_===e&&(this.last_=o?this.head_.prev:this.head_),this.length_--}},ol.structs.LinkedList.prototype.firstItem=function(){if(this.head_=this.first_,this.head_)return this.head_.data},ol.structs.LinkedList.prototype.lastItem=function(){if(this.head_=this.last_,this.head_)return this.head_.data},ol.structs.LinkedList.prototype.nextItem=function(){if(this.head_&&this.head_.next)return this.head_=this.head_.next,this.head_.data},ol.structs.LinkedList.prototype.getNextItem=function(){if(this.head_&&this.head_.next)return this.head_.next.data},ol.structs.LinkedList.prototype.prevItem=function(){if(this.head_&&this.head_.prev)return this.head_=this.head_.prev,this.head_.data},ol.structs.LinkedList.prototype.getPrevItem=function(){if(this.head_&&this.head_.prev)return this.head_.prev.data},ol.structs.LinkedList.prototype.getCurrItem=function(){if(this.head_)return this.head_.data},ol.structs.LinkedList.prototype.setFirstItem=function(){this.circular_&&this.head_&&(this.first_=this.head_,this.last_=this.head_.prev)},ol.structs.LinkedList.prototype.concat=function(e){if(e.head_){if(this.head_){var t=this.head_.next;this.head_.next=e.first_,e.first_.prev=this.head_,t.prev=e.last_,e.last_.next=t,this.length_+=e.length_}else this.head_=e.head_,this.first_=e.first_,this.last_=e.last_,this.length_=e.length_;e.head_=void 0,e.first_=void 0,e.last_=void 0,e.length_=0}},ol.structs.LinkedList.prototype.getLength=function(){return this.length_},goog.provide("ol.render.webgl.PolygonReplay"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.color"),goog.require("ol.extent"),goog.require("ol.obj"),goog.require("ol.geom.flat.contains"),goog.require("ol.geom.flat.orient"),goog.require("ol.geom.flat.transform"),goog.require("ol.render.webgl.polygonreplay.defaultshader"),goog.require("ol.render.webgl.polygonreplay.defaultshader.Locations"),goog.require("ol.render.webgl.LineStringReplay"),goog.require("ol.render.webgl.Replay"),goog.require("ol.render.webgl"),goog.require("ol.style.Stroke"),goog.require("ol.structs.LinkedList"),goog.require("ol.structs.RBush"),goog.require("ol.webgl"),goog.require("ol.webgl.Buffer"),ol.render.webgl.PolygonReplay=function(e,t){ol.render.webgl.Replay.call(this,e,t),this.lineStringReplay=new ol.render.webgl.LineStringReplay(e,t),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.state_={fillColor:null,changed:!1}},ol.inherits(ol.render.webgl.PolygonReplay,ol.render.webgl.Replay),ol.render.webgl.PolygonReplay.prototype.drawCoordinates_=function(e,t,o){var r=new ol.structs.LinkedList,n=new ol.structs.RBush;this.processFlatCoordinates_(e,o,r,n,!0);var i=this.getMaxCoords_(r);if(t.length){var l,a,s=[];for(l=0,a=t.length;l<a;++l){var p={list:new ol.structs.LinkedList,maxCoords:void 0,rtree:new ol.structs.RBush};s.push(p),this.processFlatCoordinates_(t[l],o,p.list,p.rtree,!1),this.classifyPoints_(p.list,p.rtree,!0),p.maxCoords=this.getMaxCoords_(p.list)}for(s.sort(function(e,t){return t.maxCoords[0]===e.maxCoords[0]?e.maxCoords[1]-t.maxCoords[1]:t.maxCoords[0]-e.maxCoords[0]}),l=0;l<s.length;++l){var u,c=s[l].list,g=c.firstItem(),d=g;do{if(this.getIntersections_(d,n).length){u=!0;break}d=c.nextItem()}while(g!==d);u||this.bridgeHole_(c,s[l].maxCoords[0],r,i[0],n)&&(n.concat(s[l].rtree),this.classifyPoints_(r,n,!1))}}else this.classifyPoints_(r,n,!1);this.triangulate_(r,n)},ol.render.webgl.PolygonReplay.prototype.processFlatCoordinates_=function(e,t,o,r,n){var i,l,a,s,p,u=ol.geom.flat.orient.linearRingIsClockwise(e,0,e.length,t),c=this.vertices.length/2,g=[],d=[];if(n===u){for(s=a=this.createPoint_(e[0],e[1],c++),i=t,l=e.length;i<l;i+=t)p=this.createPoint_(e[i],e[i+1],c++),d.push(this.insertItem_(s,p,o)),g.push([Math.min(s.x,p.x),Math.min(s.y,p.y),Math.max(s.x,p.x),Math.max(s.y,p.y)]),s=p;d.push(this.insertItem_(p,a,o)),g.push([Math.min(s.x,p.x),Math.min(s.y,p.y),Math.max(s.x,p.x),Math.max(s.y,p.y)])}else{var h=e.length-t;for(s=a=this.createPoint_(e[h],e[h+1],c++),i=h-t,l=0;i>=l;i-=t)p=this.createPoint_(e[i],e[i+1],c++),d.push(this.insertItem_(s,p,o)),g.push([Math.min(s.x,p.x),Math.min(s.y,p.y),Math.max(s.x,p.x),Math.max(s.y,p.y)]),s=p;d.push(this.insertItem_(p,a,o)),g.push([Math.min(s.x,p.x),Math.min(s.y,p.y),Math.max(s.x,p.x),Math.max(s.y,p.y)])}r.load(g,d)},ol.render.webgl.PolygonReplay.prototype.getMaxCoords_=function(e){var t=e.firstItem(),o=t,r=[o.p0.x,o.p0.y];do{(o=e.nextItem()).p0.x>r[0]&&(r=[o.p0.x,o.p0.y])}while(o!==t);return r},ol.render.webgl.PolygonReplay.prototype.classifyPoints_=function(e,t,o){var r=e.firstItem(),n=r,i=e.nextItem(),l=!1;do{var a=o?ol.render.webgl.triangleIsCounterClockwise(i.p1.x,i.p1.y,n.p1.x,n.p1.y,n.p0.x,n.p0.y):ol.render.webgl.triangleIsCounterClockwise(n.p0.x,n.p0.y,n.p1.x,n.p1.y,i.p1.x,i.p1.y);void 0===a?(this.removeItem_(n,i,e,t),l=!0,i===r&&(r=e.getNextItem()),i=n,e.prevItem()):n.p1.reflex!==a&&(n.p1.reflex=a,l=!0),n=i,i=e.nextItem()}while(n!==r);return l},ol.render.webgl.PolygonReplay.prototype.bridgeHole_=function(e,t,o,r,n){for(var i=e.firstItem();i.p1.x!==t;)i=e.nextItem();var l,a,s,p,u=i.p1,c={x:r,y:u.y,i:-1},g=1/0,d=this.getIntersections_({p0:u,p1:c},n,!0);for(l=0,a=d.length;l<a;++l){var h=d[l],y=this.calculateIntersection_(u,c,h.p0,h.p1,!0),f=Math.abs(u.x-y[0]);f<g&&void 0!==ol.render.webgl.triangleIsCounterClockwise(u.x,u.y,h.p0.x,h.p0.y,h.p1.x,h.p1.y)&&(g=f,p={x:y[0],y:y[1],i:-1},i=h)}if(g===1/0)return!1;if(s=i.p1,g>0){var m=this.getPointsInTriangle_(u,p,i.p1,n);if(m.length){var v=1/0;for(l=0,a=m.length;l<a;++l){var _=m[l],S=Math.atan2(u.y-_.y,c.x-_.x);(S<v||S===v&&_.x<s.x)&&(v=S,s=_)}}}for(i=o.firstItem();i.p1.x!==s.x||i.p1.y!==s.y;)i=o.nextItem();var x={x:u.x,y:u.y,i:u.i,reflex:void 0},E={x:i.p1.x,y:i.p1.y,i:i.p1.i,reflex:void 0};return e.getNextItem().p0=x,this.insertItem_(u,i.p1,e,n),this.insertItem_(E,x,e,n),i.p1=E,e.setFirstItem(),o.concat(e),!0},ol.render.webgl.PolygonReplay.prototype.triangulate_=function(e,t){for(var o=!1,r=this.isSimple_(e,t);e.getLength()>3;)if(r){if(!this.clipEars_(e,t,r,o)&&!this.classifyPoints_(e,t,o)&&!this.resolveSelfIntersections_(e,t,!0))break}else if(!this.clipEars_(e,t,r,o)&&!this.classifyPoints_(e,t,o)&&!this.resolveSelfIntersections_(e,t)){if(!(r=this.isSimple_(e,t))){this.splitPolygon_(e,t);break}o=!this.isClockwise_(e),this.classifyPoints_(e,t,o)}if(3===e.getLength()){var n=this.indices.length;this.indices[n++]=e.getPrevItem().p0.i,this.indices[n++]=e.getCurrItem().p0.i,this.indices[n++]=e.getNextItem().p0.i}},ol.render.webgl.PolygonReplay.prototype.clipEars_=function(e,t,o,r){var n,i,l,a=this.indices.length,s=e.firstItem(),p=e.getPrevItem(),u=s,c=e.nextItem(),g=e.getNextItem(),d=!1;do{var h;n=u.p0,l=c.p1,!1===(i=u.p1).reflex&&(h=o?0===this.getPointsInTriangle_(n,i,l,t,!0).length:r?this.diagonalIsInside_(g.p1,l,i,n,p.p0):this.diagonalIsInside_(p.p0,n,i,l,g.p1),(o||0===this.getIntersections_({p0:n,p1:l},t).length)&&h&&(o||!1===n.reflex||!1===l.reflex||ol.geom.flat.orient.linearRingIsClockwise([p.p0.x,p.p0.y,n.x,n.y,i.x,i.y,l.x,l.y,g.p1.x,g.p1.y],0,10,2)===!r)&&(this.indices[a++]=n.i,this.indices[a++]=i.i,this.indices[a++]=l.i,this.removeItem_(u,c,e,t),c===s&&(s=g),d=!0)),p=e.getPrevItem(),u=e.getCurrItem(),c=e.nextItem(),g=e.getNextItem()}while(u!==s&&e.getLength()>3);return d},ol.render.webgl.PolygonReplay.prototype.resolveSelfIntersections_=function(e,t,o){var r=e.firstItem();e.nextItem();var n=r,i=e.nextItem(),l=!1;do{var a=this.calculateIntersection_(n.p0,n.p1,i.p0,i.p1,o);if(a){var s,p=!1,u=this.indices.length,c=this.vertices.length/2,g=e.prevItem();if(e.removeItem(),t.remove(g),p=g===r,o?(a[0]===n.p0.x&&a[1]===n.p0.y?(e.prevItem(),i.p0=s=n.p0,t.remove(n),p=p||n===r):(n.p1=s=i.p1,t.remove(i),p=p||i===r),e.removeItem()):(s=this.createPoint_(a[0],a[1],c),n.p1=s,i.p0=s,t.update([Math.min(n.p0.x,n.p1.x),Math.min(n.p0.y,n.p1.y),Math.max(n.p0.x,n.p1.x),Math.max(n.p0.y,n.p1.y)],n),t.update([Math.min(i.p0.x,i.p1.x),Math.min(i.p0.y,i.p1.y),Math.max(i.p0.x,i.p1.x),Math.max(i.p0.y,i.p1.y)],i)),this.indices[u++]=g.p0.i,this.indices[u++]=g.p1.i,this.indices[u++]=s.i,l=!0,p)break}n=e.getPrevItem(),i=e.nextItem()}while(n!==r);return l},ol.render.webgl.PolygonReplay.prototype.isSimple_=function(e,t){var o=e.firstItem(),r=o;do{if(this.getIntersections_(r,t).length)return!1;r=e.nextItem()}while(r!==o);return!0},ol.render.webgl.PolygonReplay.prototype.isClockwise_=function(e){var t=2*e.getLength(),o=new Array(t),r=e.firstItem(),n=r,i=0;do{o[i++]=n.p0.x,o[i++]=n.p0.y,n=e.nextItem()}while(n!==r);return ol.geom.flat.orient.linearRingIsClockwise(o,0,t,2)},ol.render.webgl.PolygonReplay.prototype.splitPolygon_=function(e,t){var o=e.firstItem(),r=o;do{var n=this.getIntersections_(r,t);if(n.length){var i=n[0],l=this.vertices.length/2,a=this.calculateIntersection_(r.p0,r.p1,i.p0,i.p1),s=this.createPoint_(a[0],a[1],l),p=new ol.structs.LinkedList,u=new ol.structs.RBush;this.insertItem_(s,r.p1,p,u),r.p1=s,t.update([Math.min(r.p0.x,s.x),Math.min(r.p0.y,s.y),Math.max(r.p0.x,s.x),Math.max(r.p0.y,s.y)],r);for(var c=e.nextItem();c!==i;)this.insertItem_(c.p0,c.p1,p,u),t.remove(c),e.removeItem(),c=e.getCurrItem();this.insertItem_(i.p0,s,p,u),i.p0=s,t.update([Math.min(i.p1.x,s.x),Math.min(i.p1.y,s.y),Math.max(i.p1.x,s.x),Math.max(i.p1.y,s.y)],i),this.classifyPoints_(e,t,!1),this.triangulate_(e,t),this.classifyPoints_(p,u,!1),this.triangulate_(p,u);break}r=e.nextItem()}while(r!==o)},ol.render.webgl.PolygonReplay.prototype.createPoint_=function(e,t,o){var r=this.vertices.length;return this.vertices[r++]=e,this.vertices[r++]=t,{x:e,y:t,i:o,reflex:void 0}},ol.render.webgl.PolygonReplay.prototype.insertItem_=function(e,t,o,r){var n={p0:e,p1:t};return o.insertItem(n),r&&r.insert([Math.min(e.x,t.x),Math.min(e.y,t.y),Math.max(e.x,t.x),Math.max(e.y,t.y)],n),n},ol.render.webgl.PolygonReplay.prototype.removeItem_=function(e,t,o,r){o.getCurrItem()===t&&(o.removeItem(),e.p1=t.p1,r.remove(t),r.update([Math.min(e.p0.x,e.p1.x),Math.min(e.p0.y,e.p1.y),Math.max(e.p0.x,e.p1.x),Math.max(e.p0.y,e.p1.y)],e))},ol.render.webgl.PolygonReplay.prototype.getPointsInTriangle_=function(e,t,o,r,n){var i,l,a,s,p=[],u=r.getInExtent([Math.min(e.x,t.x,o.x),Math.min(e.y,t.y,o.y),Math.max(e.x,t.x,o.x),Math.max(e.y,t.y,o.y)]);for(i=0,l=u.length;i<l;++i)for(a in u[i])"object"!=typeof(s=u[i][a])||n&&!s.reflex||s.x===e.x&&s.y===e.y||s.x===t.x&&s.y===t.y||s.x===o.x&&s.y===o.y||-1!==p.indexOf(s)||!ol.geom.flat.contains.linearRingContainsXY([e.x,e.y,t.x,t.y,o.x,o.y],0,6,2,s.x,s.y)||p.push(s);return p},ol.render.webgl.PolygonReplay.prototype.getIntersections_=function(e,t,o){var r,n,i=e.p0,l=e.p1,a=t.getInExtent([Math.min(i.x,l.x),Math.min(i.y,l.y),Math.max(i.x,l.x),Math.max(i.y,l.y)]),s=[];for(r=0,n=a.length;r<n;++r){var p=a[r];e!==p&&(o||p.p0!==l||p.p1!==i)&&this.calculateIntersection_(i,l,p.p0,p.p1,o)&&s.push(p)}return s},ol.render.webgl.PolygonReplay.prototype.calculateIntersection_=function(e,t,o,r,n){var i=(r.y-o.y)*(t.x-e.x)-(r.x-o.x)*(t.y-e.y);if(0!==i){var l=((r.x-o.x)*(e.y-o.y)-(r.y-o.y)*(e.x-o.x))/i,a=((t.x-e.x)*(e.y-o.y)-(t.y-e.y)*(e.x-o.x))/i;if(!n&&l>ol.render.webgl.EPSILON&&l<1-ol.render.webgl.EPSILON&&a>ol.render.webgl.EPSILON&&a<1-ol.render.webgl.EPSILON||n&&l>=0&&l<=1&&a>=0&&a<=1)return[e.x+l*(t.x-e.x),e.y+l*(t.y-e.y)]}},ol.render.webgl.PolygonReplay.prototype.diagonalIsInside_=function(e,t,o,r,n){if(void 0===t.reflex||void 0===r.reflex)return!1;var i=(o.x-r.x)*(t.y-r.y)>(o.y-r.y)*(t.x-r.x),l=(n.x-r.x)*(t.y-r.y)<(n.y-r.y)*(t.x-r.x),a=(e.x-t.x)*(r.y-t.y)>(e.y-t.y)*(r.x-t.x),s=(o.x-t.x)*(r.y-t.y)<(o.y-t.y)*(r.x-t.x);return(r.reflex?l||i:l&&i)&&(t.reflex?s||a:s&&a)},ol.render.webgl.PolygonReplay.prototype.drawMultiPolygon=function(e,t){var o,r,n,i,l=e.getEndss(),a=e.getStride(),s=this.indices.length,p=this.lineStringReplay.getCurrentIndex(),u=e.getFlatCoordinates(),c=0;for(o=0,r=l.length;o<r;++o){var g=l[o];if(g.length>0){var d=ol.geom.flat.transform.translate(u,c,g[0],a,-this.origin[0],-this.origin[1]);if(d.length){var h,y=[];for(n=1,i=g.length;n<i;++n)g[n]!==g[n-1]&&(h=ol.geom.flat.transform.translate(u,g[n-1],g[n],a,-this.origin[0],-this.origin[1]),y.push(h));this.lineStringReplay.drawPolygonCoordinates(d,y,a),this.drawCoordinates_(d,y,a)}}c=g[g.length-1]}this.indices.length>s&&(this.startIndices.push(s),this.startIndicesFeature.push(t),this.state_.changed&&(this.styleIndices_.push(s),this.state_.changed=!1)),this.lineStringReplay.getCurrentIndex()>p&&this.lineStringReplay.setPolygonStyle(t,p)},ol.render.webgl.PolygonReplay.prototype.drawPolygon=function(e,t){var o=e.getEnds(),r=e.getStride();if(o.length>0){var n=e.getFlatCoordinates().map(Number),i=ol.geom.flat.transform.translate(n,0,o[0],r,-this.origin[0],-this.origin[1]);if(i.length){var l,a,s,p=[];for(l=1,a=o.length;l<a;++l)o[l]!==o[l-1]&&(s=ol.geom.flat.transform.translate(n,o[l-1],o[l],r,-this.origin[0],-this.origin[1]),p.push(s));this.startIndices.push(this.indices.length),this.startIndicesFeature.push(t),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.lineStringReplay.setPolygonStyle(t),this.lineStringReplay.drawPolygonCoordinates(i,p,r),this.drawCoordinates_(i,p,r)}}},ol.render.webgl.PolygonReplay.prototype.finish=function(e){this.verticesBuffer=new ol.webgl.Buffer(this.vertices),this.indicesBuffer=new ol.webgl.Buffer(this.indices),this.startIndices.push(this.indices.length),this.lineStringReplay.finish(e),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},ol.render.webgl.PolygonReplay.prototype.getDeleteResourcesFunction=function(e){var t=this.verticesBuffer,o=this.indicesBuffer,r=this.lineStringReplay.getDeleteResourcesFunction(e);return function(){e.deleteBuffer(t),e.deleteBuffer(o),r()}},ol.render.webgl.PolygonReplay.prototype.setUpProgram=function(e,t,o,r){var n,i;n=ol.render.webgl.polygonreplay.defaultshader.fragment,i=ol.render.webgl.polygonreplay.defaultshader.vertex;var l,a=t.getProgram(n,i);return this.defaultLocations_?l=this.defaultLocations_:(l=new ol.render.webgl.polygonreplay.defaultshader.Locations(e,a),this.defaultLocations_=l),t.useProgram(a),e.enableVertexAttribArray(l.a_position),e.vertexAttribPointer(l.a_position,2,ol.webgl.FLOAT,!1,8,0),l},ol.render.webgl.PolygonReplay.prototype.shutDownProgram=function(e,t){e.disableVertexAttribArray(t.a_position)},ol.render.webgl.PolygonReplay.prototype.drawReplay=function(e,t,o,r){var n,i,l,a=e.getParameter(e.DEPTH_FUNC),s=e.getParameter(e.DEPTH_WRITEMASK);if(r||(e.enable(e.DEPTH_TEST),e.depthMask(!0),e.depthFunc(e.NOTEQUAL)),ol.obj.isEmpty(o))for(l=this.startIndices[this.startIndices.length-1],n=this.styleIndices_.length-1;n>=0;--n)i=this.styleIndices_[n],this.setFillStyle_(e,this.styles_[n]),this.drawElements(e,t,i,l),l=i;else this.drawReplaySkipping_(e,t,o);r||(e.disable(e.DEPTH_TEST),e.clear(e.DEPTH_BUFFER_BIT),e.depthMask(s),e.depthFunc(a))},ol.render.webgl.PolygonReplay.prototype.drawHitDetectionReplayOneByOne=function(e,t,o,r,n){var i,l,a,s,p,u;for(a=this.startIndices[1+(u=this.startIndices.length-2)],i=this.styleIndices_.length-1;i>=0;--i)for(this.setFillStyle_(e,this.styles_[i]),s=this.styleIndices_[i];u>=0&&this.startIndices[u]>=s;){if(l=this.startIndices[u],p=this.startIndicesFeature[u],void 0===o[ol.getUid(p).toString()]&&p.getGeometry()&&(void 0===n||ol.extent.intersects(n,p.getGeometry().getExtent()))){e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),this.drawElements(e,t,l,a);var c=r(p);if(c)return c}u--,a=l}},ol.render.webgl.PolygonReplay.prototype.drawReplaySkipping_=function(e,t,o){var r,n,i,l,a,s;for(i=n=this.startIndices[1+(a=this.startIndices.length-2)],r=this.styleIndices_.length-1;r>=0;--r){for(this.setFillStyle_(e,this.styles_[r]),l=this.styleIndices_[r];a>=0&&this.startIndices[a]>=l;)s=this.startIndices[a],o[ol.getUid(this.startIndicesFeature[a]).toString()]&&(n!==i&&(this.drawElements(e,t,n,i),e.clear(e.DEPTH_BUFFER_BIT)),i=s),a--,n=s;n!==i&&(this.drawElements(e,t,n,i),e.clear(e.DEPTH_BUFFER_BIT)),n=i=l}},ol.render.webgl.PolygonReplay.prototype.setFillStyle_=function(e,t){e.uniform4fv(this.defaultLocations_.u_color,t)},ol.render.webgl.PolygonReplay.prototype.setFillStrokeStyle=function(e,t){var o=e?e.getColor():[0,0,0,0];if(o=o instanceof CanvasGradient||o instanceof CanvasPattern?ol.render.webgl.defaultFillStyle:ol.color.asArray(o).map(function(e,t){return 3!=t?e/255:e})||ol.render.webgl.defaultFillStyle,this.state_.fillColor&&ol.array.equals(o,this.state_.fillColor)||(this.state_.fillColor=o,this.state_.changed=!0,this.styles_.push(o)),t)this.lineStringReplay.setFillStrokeStyle(null,t);else{var r=new ol.style.Stroke({color:[0,0,0,0],lineWidth:0});this.lineStringReplay.setFillStrokeStyle(null,r)}},goog.provide("ol.style.Atlas"),goog.require("ol.dom"),ol.style.Atlas=function(e,t){this.space_=t,this.emptyBlocks_=[{x:0,y:0,width:e,height:e}],this.entries_={},this.context_=ol.dom.createCanvasContext2D(e,e),this.canvas_=this.context_.canvas},ol.style.Atlas.prototype.get=function(e){return this.entries_[e]||null},ol.style.Atlas.prototype.add=function(e,t,o,r,n){var i,l,a;for(l=0,a=this.emptyBlocks_.length;l<a;++l)if((i=this.emptyBlocks_[l]).width>=t+this.space_&&i.height>=o+this.space_){var s={offsetX:i.x+this.space_,offsetY:i.y+this.space_,image:this.canvas_};return this.entries_[e]=s,r.call(n,this.context_,i.x+this.space_,i.y+this.space_),this.split_(l,i,t+this.space_,o+this.space_),s}return null},ol.style.Atlas.prototype.split_=function(e,t,o,r){t.width-o>t.height-r?this.updateBlocks_(e,{x:t.x+o,y:t.y,width:t.width-o,height:t.height},{x:t.x,y:t.y+r,width:o,height:t.height-r}):this.updateBlocks_(e,{x:t.x+o,y:t.y,width:t.width-o,height:r},{x:t.x,y:t.y+r,width:t.width,height:t.height-r})},ol.style.Atlas.prototype.updateBlocks_=function(e,t,o){var r=[e,1];t.width>0&&t.height>0&&r.push(t),o.width>0&&o.height>0&&r.push(o),this.emptyBlocks_.splice.apply(this.emptyBlocks_,r)},goog.provide("ol.style.AtlasManager"),goog.require("ol"),goog.require("ol.style.Atlas"),ol.style.AtlasManager=function(e){var t=e||{};this.currentSize_=void 0!==t.initialSize?t.initialSize:ol.INITIAL_ATLAS_SIZE,this.maxSize_=void 0!==t.maxSize?t.maxSize:-1!=ol.MAX_ATLAS_SIZE?ol.MAX_ATLAS_SIZE:void 0!==ol.WEBGL_MAX_TEXTURE_SIZE?ol.WEBGL_MAX_TEXTURE_SIZE:2048,this.space_=void 0!==t.space?t.space:1,this.atlases_=[new ol.style.Atlas(this.currentSize_,this.space_)],this.currentHitSize_=this.currentSize_,this.hitAtlases_=[new ol.style.Atlas(this.currentHitSize_,this.space_)]},ol.style.AtlasManager.prototype.getInfo=function(e){var t=this.getInfo_(this.atlases_,e);if(!t)return null;var o=this.getInfo_(this.hitAtlases_,e);return this.mergeInfos_(t,o)},ol.style.AtlasManager.prototype.getInfo_=function(e,t){var o,r,n;for(r=0,n=e.length;r<n;++r)if(o=e[r].get(t))return o;return null},ol.style.AtlasManager.prototype.mergeInfos_=function(e,t){return{offsetX:e.offsetX,offsetY:e.offsetY,image:e.image,hitImage:t.image}},ol.style.AtlasManager.prototype.add=function(e,t,o,r,n,i){if(t+this.space_>this.maxSize_||o+this.space_>this.maxSize_)return null;var l=this.add_(!1,e,t,o,r,i);if(!l)return null;var a=void 0!==n?n:ol.nullFunction,s=this.add_(!0,e,t,o,a,i);return this.mergeInfos_(l,s)},ol.style.AtlasManager.prototype.add_=function(e,t,o,r,n,i){var l,a,s,p,u=e?this.hitAtlases_:this.atlases_;for(s=0,p=u.length;s<p;++s){if(a=(l=u[s]).add(t,o,r,n,i))return a;var c;a||s!==p-1||(e?(c=Math.min(2*this.currentHitSize_,this.maxSize_),this.currentHitSize_=c):(c=Math.min(2*this.currentSize_,this.maxSize_),this.currentSize_=c),l=new ol.style.Atlas(c,this.space_),u.push(l),++p)}return null},goog.provide("ol.render.webgl.TextReplay"),goog.require("ol"),goog.require("ol.colorlike"),goog.require("ol.dom"),goog.require("ol.geom.GeometryType"),goog.require("ol.has"),goog.require("ol.render.replay"),goog.require("ol.render.webgl"),goog.require("ol.render.webgl.TextureReplay"),goog.require("ol.style.AtlasManager"),goog.require("ol.webgl.Buffer"),ol.render.webgl.TextReplay=function(e,t){ol.render.webgl.TextureReplay.call(this,e,t),this.images_=[],this.textures_=[],this.measureCanvas_=ol.dom.createCanvasContext2D(0,0).canvas,this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.text_="",this.textAlign_=void 0,this.textBaseline_=void 0,this.offsetX_=void 0,this.offsetY_=void 0,this.atlases_={},this.currAtlas_=void 0,this.scale=1,this.opacity=1},ol.inherits(ol.render.webgl.TextReplay,ol.render.webgl.TextureReplay),ol.render.webgl.TextReplay.prototype.drawText=function(e,t){if(this.text_){var o=null,r=2,n=2;switch(e.getType()){case ol.geom.GeometryType.POINT:case ol.geom.GeometryType.MULTI_POINT:r=(o=e.getFlatCoordinates()).length,n=e.getStride();break;case ol.geom.GeometryType.CIRCLE:o=e.getCenter();break;case ol.geom.GeometryType.LINE_STRING:o=e.getFlatMidpoint();break;case ol.geom.GeometryType.MULTI_LINE_STRING:r=(o=e.getFlatMidpoints()).length;break;case ol.geom.GeometryType.POLYGON:o=e.getFlatInteriorPoint();break;case ol.geom.GeometryType.MULTI_POLYGON:r=(o=e.getFlatInteriorPoints()).length}this.startIndices.push(this.indices.length),this.startIndicesFeature.push(t);var i,l,a,s,p,u,c,g,d=this.currAtlas_,h=this.text_.split("\n"),y=this.getTextSize_(h),f=Math.round(y[0]*this.textAlign_-this.offsetX_),m=Math.round(y[1]*this.textBaseline_-this.offsetY_),v=this.state_.lineWidth/2*this.state_.scale;for(i=0,l=h.length;i<l;++i)for(p=0,u=d.height*i,a=0,s=(c=h[i].split("")).length;a<s;++a){if(g=d.atlas.getInfo(c[a])){var _=g.image;this.anchorX=f-p,this.anchorY=m-u,this.originX=0===a?g.offsetX-v:g.offsetX,this.originY=g.offsetY,this.height=d.height,this.width=0===a||a===c.length-1?d.width[c[a]]+v:d.width[c[a]],this.imageHeight=_.height,this.imageWidth=_.width,0===this.images_.length?this.images_.push(_):ol.getUid(this.images_[this.images_.length-1])!=ol.getUid(_)&&(this.groupIndices.push(this.indices.length),this.images_.push(_)),this.drawText_(o,0,r,n)}p+=this.width}}},ol.render.webgl.TextReplay.prototype.getTextSize_=function(e){var t=this,o=this.currAtlas_,r=e.length*o.height;return[e.map(function(e){var r,n,i=0;for(r=0,n=e.length;r<n;++r){var l=e[r];o.width[l]||t.addCharToAtlas_(l),i+=o.width[l]?o.width[l]:0}return i}).reduce(function(e,t){return Math.max(e,t)}),r]},ol.render.webgl.TextReplay.prototype.drawText_=function(e,t,o,r){var n,i;for(n=t,i=o;n<i;n+=r)this.drawCoordinates(e,t,o,r)},ol.render.webgl.TextReplay.prototype.addCharToAtlas_=function(e){if(1===e.length){var t=this.currAtlas_,o=this.state_,r=this.measureCanvas_.getContext("2d");r.font=o.font;var n=Math.ceil(r.measureText(e).width*o.scale);t.atlas.add(e,n,t.height,function(t,r,n){t.font=o.font,t.fillStyle=o.fillColor,t.strokeStyle=o.strokeColor,t.lineWidth=o.lineWidth,t.lineCap=o.lineCap,t.lineJoin=o.lineJoin,t.miterLimit=o.miterLimit,t.textAlign="left",t.textBaseline="top",ol.has.CANVAS_LINE_DASH&&o.lineDash&&(t.setLineDash(o.lineDash),t.lineDashOffset=o.lineDashOffset),1!==o.scale&&t.setTransform(o.scale,0,0,o.scale,0,0),o.strokeColor&&t.strokeText(e,r,n),o.fillColor&&t.fillText(e,r,n)})&&(t.width[e]=n)}},ol.render.webgl.TextReplay.prototype.finish=function(e){var t=e.getGL();this.groupIndices.push(this.indices.length),this.hitDetectionGroupIndices=this.groupIndices,this.verticesBuffer=new ol.webgl.Buffer(this.vertices),this.indicesBuffer=new ol.webgl.Buffer(this.indices),this.createTextures(this.textures_,this.images_,{},t),this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.text_="",this.textAlign_=void 0,this.textBaseline_=void 0,this.offsetX_=void 0,this.offsetY_=void 0,this.images_=null,this.atlases_={},this.currAtlas_=void 0,ol.render.webgl.TextureReplay.prototype.finish.call(this,e)},ol.render.webgl.TextReplay.prototype.setTextStyle=function(e){var t=this.state_,o=e.getFill(),r=e.getStroke();if(e&&e.getText()&&(o||r)){if(o){var n=o.getColor();t.fillColor=ol.colorlike.asColorLike(n||ol.render.webgl.defaultFillStyle)}else t.fillColor=null;if(r){var i=r.getColor();t.strokeColor=ol.colorlike.asColorLike(i||ol.render.webgl.defaultStrokeStyle),t.lineWidth=r.getWidth()||ol.render.webgl.defaultLineWidth,t.lineCap=r.getLineCap()||ol.render.webgl.defaultLineCap,t.lineDashOffset=r.getLineDashOffset()||ol.render.webgl.defaultLineDashOffset,t.lineJoin=r.getLineJoin()||ol.render.webgl.defaultLineJoin,t.miterLimit=r.getMiterLimit()||ol.render.webgl.defaultMiterLimit;var l=r.getLineDash();t.lineDash=l?l.slice():ol.render.webgl.defaultLineDash}else t.strokeColor=null,t.lineWidth=0;t.font=e.getFont()||ol.render.webgl.defaultFont,t.scale=e.getScale()||1,this.text_=e.getText();var a=ol.render.replay.TEXT_ALIGN[e.getTextAlign()],s=ol.render.replay.TEXT_ALIGN[e.getTextBaseline()];this.textAlign_=void 0===a?ol.render.webgl.defaultTextAlign:a,this.textBaseline_=void 0===s?ol.render.webgl.defaultTextBaseline:s,this.offsetX_=e.getOffsetX()||0,this.offsetY_=e.getOffsetY()||0,this.rotateWithView=!!e.getRotateWithView(),this.rotation=e.getRotation()||0,this.currAtlas_=this.getAtlas_(t)}else this.text_=""},ol.render.webgl.TextReplay.prototype.getAtlas_=function(e){var t,o=[];for(t in e)(e[t]||0===e[t])&&(Array.isArray(e[t])?o=o.concat(e[t]):o.push(e[t]));var r=this.calculateHash_(o);if(!this.atlases_[r]){var n=this.measureCanvas_.getContext("2d");n.font=e.font;var i=Math.ceil((1.5*n.measureText("M").width+e.lineWidth/2)*e.scale);this.atlases_[r]={atlas:new ol.style.AtlasManager({space:e.lineWidth+1}),width:{},height:i}}return this.atlases_[r]},ol.render.webgl.TextReplay.prototype.calculateHash_=function(e){var t,o,r="";for(t=0,o=e.length;t<o;++t)r+=e[t];return r},ol.render.webgl.TextReplay.prototype.getTextures=function(e){return this.textures_},ol.render.webgl.TextReplay.prototype.getHitDetectionTextures=function(){return this.textures_},goog.provide("ol.render.webgl.ReplayGroup"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.extent"),goog.require("ol.obj"),goog.require("ol.render.replay"),goog.require("ol.render.ReplayGroup"),goog.require("ol.render.webgl.CircleReplay"),goog.require("ol.render.webgl.ImageReplay"),goog.require("ol.render.webgl.LineStringReplay"),goog.require("ol.render.webgl.PolygonReplay"),goog.require("ol.render.webgl.TextReplay"),ol.render.webgl.ReplayGroup=function(e,t,o){ol.render.ReplayGroup.call(this),this.maxExtent_=t,this.tolerance_=e,this.renderBuffer_=o,this.replaysByZIndex_={}},ol.inherits(ol.render.webgl.ReplayGroup,ol.render.ReplayGroup),ol.render.webgl.ReplayGroup.prototype.addDeclutter=function(e,t){},ol.render.webgl.ReplayGroup.prototype.getDeleteResourcesFunction=function(e){var t,o=[];for(t in this.replaysByZIndex_){var r,n=this.replaysByZIndex_[t];for(r in n)o.push(n[r].getDeleteResourcesFunction(e))}return function(){for(var e,t=o.length,r=0;r<t;r++)e=o[r].apply(this,arguments);return e}},ol.render.webgl.ReplayGroup.prototype.finish=function(e){var t;for(t in this.replaysByZIndex_){var o,r=this.replaysByZIndex_[t];for(o in r)r[o].finish(e)}},ol.render.webgl.ReplayGroup.prototype.getReplay=function(e,t){var o=void 0!==e?e.toString():"0",r=this.replaysByZIndex_[o];void 0===r&&(this.replaysByZIndex_[o]=r={});var n=r[t];return void 0===n&&(n=new(0,ol.render.webgl.ReplayGroup.BATCH_CONSTRUCTORS_[t])(this.tolerance_,this.maxExtent_),r[t]=n),n},ol.render.webgl.ReplayGroup.prototype.isEmpty=function(){return ol.obj.isEmpty(this.replaysByZIndex_)},ol.render.webgl.ReplayGroup.prototype.replay=function(e,t,o,r,n,i,l,a){var s,p,u,c,g,d,h=Object.keys(this.replaysByZIndex_).map(Number);for(h.sort(ol.array.numberSafeCompareFunction),s=0,p=h.length;s<p;++s)for(g=this.replaysByZIndex_[h[s].toString()],u=0,c=ol.render.replay.ORDER.length;u<c;++u)void 0!==(d=g[ol.render.replay.ORDER[u]])&&d.replay(e,t,o,r,n,i,l,a,void 0,!1)},ol.render.webgl.ReplayGroup.prototype.replayHitDetection_=function(e,t,o,r,n,i,l,a,s,p,u){var c,g,d,h,y,f,m=Object.keys(this.replaysByZIndex_).map(Number);for(m.sort(function(e,t){return t-e}),c=0,g=m.length;c<g;++c)for(h=this.replaysByZIndex_[m[c].toString()],d=ol.render.replay.ORDER.length-1;d>=0;--d)if(void 0!==(y=h[ol.render.replay.ORDER[d]])&&(f=y.replay(e,t,o,r,n,i,l,a,s,p,u)))return f},ol.render.webgl.ReplayGroup.prototype.forEachFeatureAtCoordinate=function(e,t,o,r,n,i,l,a,s,p){var u,c=t.getGL();return c.bindFramebuffer(c.FRAMEBUFFER,t.getHitDetectionFramebuffer()),void 0!==this.renderBuffer_&&(u=ol.extent.buffer(ol.extent.createOrUpdateFromCoordinate(e),r*this.renderBuffer_)),this.replayHitDetection_(t,e,r,n,ol.render.webgl.ReplayGroup.HIT_DETECTION_SIZE_,l,a,s,function(e){var t=new Uint8Array(4);if(c.readPixels(0,0,1,1,c.RGBA,c.UNSIGNED_BYTE,t),t[3]>0){var o=p(e);if(o)return o}},!0,u)},ol.render.webgl.ReplayGroup.prototype.hasFeatureAtCoordinate=function(e,t,o,r,n,i,l,a,s){var p=t.getGL();return p.bindFramebuffer(p.FRAMEBUFFER,t.getHitDetectionFramebuffer()),void 0!==this.replayHitDetection_(t,e,r,n,ol.render.webgl.ReplayGroup.HIT_DETECTION_SIZE_,l,a,s,function(e){var t=new Uint8Array(4);return p.readPixels(0,0,1,1,p.RGBA,p.UNSIGNED_BYTE,t),t[3]>0},!1)},ol.render.webgl.ReplayGroup.HIT_DETECTION_SIZE_=[1,1],ol.render.webgl.ReplayGroup.BATCH_CONSTRUCTORS_={Circle:ol.render.webgl.CircleReplay,Image:ol.render.webgl.ImageReplay,LineString:ol.render.webgl.LineStringReplay,Polygon:ol.render.webgl.PolygonReplay,Text:ol.render.webgl.TextReplay},goog.provide("ol.render.webgl.Immediate"),goog.require("ol"),goog.require("ol.extent"),goog.require("ol.geom.GeometryType"),goog.require("ol.render.ReplayType"),goog.require("ol.render.VectorContext"),goog.require("ol.render.webgl.ReplayGroup"),ol.render.webgl.Immediate=function(e,t,o,r,n,i,l){ol.render.VectorContext.call(this),this.context_=e,this.center_=t,this.extent_=i,this.pixelRatio_=l,this.size_=n,this.rotation_=r,this.resolution_=o,this.imageStyle_=null,this.fillStyle_=null,this.strokeStyle_=null,this.textStyle_=null},ol.inherits(ol.render.webgl.Immediate,ol.render.VectorContext),ol.render.webgl.Immediate.prototype.drawText_=function(e,t){var o=this.context_,r=e.getReplay(0,ol.render.ReplayType.TEXT);r.setTextStyle(this.textStyle_),r.drawText(t,null),r.finish(o),r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(o)()},ol.render.webgl.Immediate.prototype.setStyle=function(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())},ol.render.webgl.Immediate.prototype.drawGeometry=function(e){switch(e.getType()){case ol.geom.GeometryType.POINT:this.drawPoint(e,null);break;case ol.geom.GeometryType.LINE_STRING:this.drawLineString(e,null);break;case ol.geom.GeometryType.POLYGON:this.drawPolygon(e,null);break;case ol.geom.GeometryType.MULTI_POINT:this.drawMultiPoint(e,null);break;case ol.geom.GeometryType.MULTI_LINE_STRING:this.drawMultiLineString(e,null);break;case ol.geom.GeometryType.MULTI_POLYGON:this.drawMultiPolygon(e,null);break;case ol.geom.GeometryType.GEOMETRY_COLLECTION:this.drawGeometryCollection(e,null);break;case ol.geom.GeometryType.CIRCLE:this.drawCircle(e,null)}},ol.render.webgl.Immediate.prototype.drawFeature=function(e,t){var o=t.getGeometryFunction()(e);o&&ol.extent.intersects(this.extent_,o.getExtent())&&(this.setStyle(t),this.drawGeometry(o))},ol.render.webgl.Immediate.prototype.drawGeometryCollection=function(e,t){var o,r,n=e.getGeometriesArray();for(o=0,r=n.length;o<r;++o)this.drawGeometry(n[o])},ol.render.webgl.Immediate.prototype.drawPoint=function(e,t){var o=this.context_,r=new ol.render.webgl.ReplayGroup(1,this.extent_),n=r.getReplay(0,ol.render.ReplayType.IMAGE);n.setImageStyle(this.imageStyle_),n.drawPoint(e,t),n.finish(o),n.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),n.getDeleteResourcesFunction(o)(),this.textStyle_&&this.drawText_(r,e)},ol.render.webgl.Immediate.prototype.drawMultiPoint=function(e,t){var o=this.context_,r=new ol.render.webgl.ReplayGroup(1,this.extent_),n=r.getReplay(0,ol.render.ReplayType.IMAGE);n.setImageStyle(this.imageStyle_),n.drawMultiPoint(e,t),n.finish(o),n.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),n.getDeleteResourcesFunction(o)(),this.textStyle_&&this.drawText_(r,e)},ol.render.webgl.Immediate.prototype.drawLineString=function(e,t){var o=this.context_,r=new ol.render.webgl.ReplayGroup(1,this.extent_),n=r.getReplay(0,ol.render.ReplayType.LINE_STRING);n.setFillStrokeStyle(null,this.strokeStyle_),n.drawLineString(e,t),n.finish(o),n.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),n.getDeleteResourcesFunction(o)(),this.textStyle_&&this.drawText_(r,e)},ol.render.webgl.Immediate.prototype.drawMultiLineString=function(e,t){var o=this.context_,r=new ol.render.webgl.ReplayGroup(1,this.extent_),n=r.getReplay(0,ol.render.ReplayType.LINE_STRING);n.setFillStrokeStyle(null,this.strokeStyle_),n.drawMultiLineString(e,t),n.finish(o),n.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),n.getDeleteResourcesFunction(o)(),this.textStyle_&&this.drawText_(r,e)},ol.render.webgl.Immediate.prototype.drawPolygon=function(e,t){var o=this.context_,r=new ol.render.webgl.ReplayGroup(1,this.extent_),n=r.getReplay(0,ol.render.ReplayType.POLYGON);n.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),n.drawPolygon(e,t),n.finish(o),n.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),n.getDeleteResourcesFunction(o)(),this.textStyle_&&this.drawText_(r,e)},ol.render.webgl.Immediate.prototype.drawMultiPolygon=function(e,t){var o=this.context_,r=new ol.render.webgl.ReplayGroup(1,this.extent_),n=r.getReplay(0,ol.render.ReplayType.POLYGON);n.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),n.drawMultiPolygon(e,t),n.finish(o),n.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),n.getDeleteResourcesFunction(o)(),this.textStyle_&&this.drawText_(r,e)},ol.render.webgl.Immediate.prototype.drawCircle=function(e,t){var o=this.context_,r=new ol.render.webgl.ReplayGroup(1,this.extent_),n=r.getReplay(0,ol.render.ReplayType.CIRCLE);n.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),n.drawCircle(e,t),n.finish(o),n.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),n.getDeleteResourcesFunction(o)(),this.textStyle_&&this.drawText_(r,e)},ol.render.webgl.Immediate.prototype.setImageStyle=function(e){this.imageStyle_=e},ol.render.webgl.Immediate.prototype.setFillStrokeStyle=function(e,t){this.fillStyle_=e,this.strokeStyle_=t},ol.render.webgl.Immediate.prototype.setTextStyle=function(e){this.textStyle_=e},goog.provide("ol.renderer.webgl.defaultmapshader"),goog.require("ol"),goog.require("ol.webgl.Fragment"),goog.require("ol.webgl.Vertex"),ol.renderer.webgl.defaultmapshader.fragment=new ol.webgl.Fragment(ol.DEBUG_WEBGL?"precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform float u_opacity;\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_texture, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  gl_FragColor.a = texColor.a * u_opacity;\n}\n":"precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor=texture2D(g,a);gl_FragColor.rgb=texColor.rgb;gl_FragColor.a=texColor.a*f;}"),ol.renderer.webgl.defaultmapshader.vertex=new ol.webgl.Vertex(ol.DEBUG_WEBGL?"varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\n\nuniform mat4 u_texCoordMatrix;\nuniform mat4 u_projectionMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0., 1.);\n  v_texCoord = (u_texCoordMatrix * vec4(a_texCoord, 0., 1.)).st;\n}\n\n\n":"varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position=e*vec4(b,0.,1.);a=(d*vec4(c,0.,1.)).st;}"),goog.provide("ol.renderer.webgl.defaultmapshader.Locations"),goog.require("ol"),ol.renderer.webgl.defaultmapshader.Locations=function(e,t){this.u_texCoordMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_texCoordMatrix":"d"),this.u_projectionMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_projectionMatrix":"e"),this.u_opacity=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_opacity":"f"),this.u_texture=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_texture":"g"),this.a_position=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_position":"b"),this.a_texCoord=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_texCoord":"c")},goog.provide("ol.renderer.webgl.Layer"),goog.require("ol"),goog.require("ol.render.Event"),goog.require("ol.render.EventType"),goog.require("ol.render.webgl.Immediate"),goog.require("ol.renderer.Layer"),goog.require("ol.renderer.webgl.defaultmapshader"),goog.require("ol.renderer.webgl.defaultmapshader.Locations"),goog.require("ol.transform"),goog.require("ol.vec.Mat4"),goog.require("ol.webgl"),goog.require("ol.webgl.Buffer"),goog.require("ol.webgl.Context"),ol.renderer.webgl.Layer=function(e,t){ol.renderer.Layer.call(this,t),this.mapRenderer=e,this.arrayBuffer_=new ol.webgl.Buffer([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]),this.texture=null,this.framebuffer=null,this.framebufferDimension=void 0,this.texCoordMatrix=ol.transform.create(),this.projectionMatrix=ol.transform.create(),this.tmpMat4_=ol.vec.Mat4.create(),this.defaultLocations_=null},ol.inherits(ol.renderer.webgl.Layer,ol.renderer.Layer),ol.renderer.webgl.Layer.prototype.bindFramebuffer=function(e,t){var o=this.mapRenderer.getGL();if(void 0===this.framebufferDimension||this.framebufferDimension!=t){var r=(function(e,t,o){e.isContextLost()||(e.deleteFramebuffer(t),e.deleteTexture(o))}).bind(null,o,this.framebuffer,this.texture);e.postRenderFunctions.push(r);var n=ol.webgl.Context.createEmptyTexture(o,t,t),i=o.createFramebuffer();o.bindFramebuffer(ol.webgl.FRAMEBUFFER,i),o.framebufferTexture2D(ol.webgl.FRAMEBUFFER,ol.webgl.COLOR_ATTACHMENT0,ol.webgl.TEXTURE_2D,n,0),this.texture=n,this.framebuffer=i,this.framebufferDimension=t}else o.bindFramebuffer(ol.webgl.FRAMEBUFFER,this.framebuffer)},ol.renderer.webgl.Layer.prototype.composeFrame=function(e,t,o){this.dispatchComposeEvent_(ol.render.EventType.PRECOMPOSE,o,e),o.bindBuffer(ol.webgl.ARRAY_BUFFER,this.arrayBuffer_);var r,n=o.getGL(),i=ol.renderer.webgl.defaultmapshader.fragment,l=ol.renderer.webgl.defaultmapshader.vertex,a=o.getProgram(i,l);this.defaultLocations_?r=this.defaultLocations_:(r=new ol.renderer.webgl.defaultmapshader.Locations(n,a),this.defaultLocations_=r),o.useProgram(a)&&(n.enableVertexAttribArray(r.a_position),n.vertexAttribPointer(r.a_position,2,ol.webgl.FLOAT,!1,16,0),n.enableVertexAttribArray(r.a_texCoord),n.vertexAttribPointer(r.a_texCoord,2,ol.webgl.FLOAT,!1,16,8),n.uniform1i(r.u_texture,0)),n.uniformMatrix4fv(r.u_texCoordMatrix,!1,ol.vec.Mat4.fromTransform(this.tmpMat4_,this.getTexCoordMatrix())),n.uniformMatrix4fv(r.u_projectionMatrix,!1,ol.vec.Mat4.fromTransform(this.tmpMat4_,this.getProjectionMatrix())),n.uniform1f(r.u_opacity,t.opacity),n.bindTexture(ol.webgl.TEXTURE_2D,this.getTexture()),n.drawArrays(ol.webgl.TRIANGLE_STRIP,0,4),this.dispatchComposeEvent_(ol.render.EventType.POSTCOMPOSE,o,e)},ol.renderer.webgl.Layer.prototype.dispatchComposeEvent_=function(e,t,o){var r=this.getLayer();if(r.hasListener(e)){var n=o.viewState,i=new ol.render.webgl.Immediate(t,n.center,n.resolution,n.rotation,o.size,o.extent,o.pixelRatio),l=new ol.render.Event(e,i,o,null,t);r.dispatchEvent(l)}},ol.renderer.webgl.Layer.prototype.getTexCoordMatrix=function(){return this.texCoordMatrix},ol.renderer.webgl.Layer.prototype.getTexture=function(){return this.texture},ol.renderer.webgl.Layer.prototype.getProjectionMatrix=function(){return this.projectionMatrix},ol.renderer.webgl.Layer.prototype.handleWebGLContextLost=function(){this.texture=null,this.framebuffer=null,this.framebufferDimension=void 0},ol.renderer.webgl.Layer.prototype.prepareFrame=function(e,t,o){},ol.renderer.webgl.Layer.prototype.forEachLayerAtPixel=function(e,t,o,r){},goog.provide("ol.renderer.webgl.ImageLayer"),goog.require("ol"),goog.require("ol.LayerType"),goog.require("ol.ViewHint"),goog.require("ol.dom"),goog.require("ol.extent"),goog.require("ol.functions"),goog.require("ol.renderer.Type"),goog.require("ol.renderer.webgl.Layer"),goog.require("ol.transform"),goog.require("ol.webgl"),goog.require("ol.webgl.Context"),ol.renderer.webgl.ImageLayer=function(e,t){ol.renderer.webgl.Layer.call(this,e,t),this.image_=null,this.hitCanvasContext_=null,this.hitTransformationMatrix_=null},ol.inherits(ol.renderer.webgl.ImageLayer,ol.renderer.webgl.Layer),ol.renderer.webgl.ImageLayer.handles=function(e,t){return e===ol.renderer.Type.WEBGL&&t.getType()===ol.LayerType.IMAGE},ol.renderer.webgl.ImageLayer.create=function(e,t){return new ol.renderer.webgl.ImageLayer(e,t)},ol.renderer.webgl.ImageLayer.prototype.createTexture_=function(e){var t=e.getImage(),o=this.mapRenderer.getGL();return ol.webgl.Context.createTexture(o,t,ol.webgl.CLAMP_TO_EDGE,ol.webgl.CLAMP_TO_EDGE)},ol.renderer.webgl.ImageLayer.prototype.forEachFeatureAtCoordinate=function(e,t,o,r,n){var i=this.getLayer();return i.getSource().forEachFeatureAtCoordinate(e,t.viewState.resolution,t.viewState.rotation,o,t.skippedFeatureUids,function(e){return r.call(n,e,i)})},ol.renderer.webgl.ImageLayer.prototype.prepareFrame=function(e,t,o){var r=this.mapRenderer.getGL(),n=e.pixelRatio,i=e.viewState,l=i.center,a=i.resolution,s=i.rotation,p=this.image_,u=this.texture,c=this.getLayer().getSource(),g=e.viewHints,d=e.extent;if(void 0!==t.extent&&(d=ol.extent.getIntersection(d,t.extent)),!g[ol.ViewHint.ANIMATING]&&!g[ol.ViewHint.INTERACTING]&&!ol.extent.isEmpty(d)){var h=i.projection;if(!ol.ENABLE_RASTER_REPROJECTION){var y=c.getProjection();y&&(h=y)}var f=c.getImage(d,a,n,h);if(f&&this.loadImage(f)&&(p=f,u=this.createTexture_(f),this.texture)){var m=(function(e,t){e.isContextLost()||e.deleteTexture(t)}).bind(null,r,this.texture);e.postRenderFunctions.push(m)}}if(p){var v=this.mapRenderer.getContext().getCanvas();this.updateProjectionMatrix_(v.width,v.height,n,l,a,s,p.getExtent()),this.hitTransformationMatrix_=null;var _=this.texCoordMatrix;ol.transform.reset(_),ol.transform.scale(_,1,-1),ol.transform.translate(_,0,-1),this.image_=p,this.texture=u,this.updateLogos(e,c)}return!!p},ol.renderer.webgl.ImageLayer.prototype.updateProjectionMatrix_=function(e,t,o,r,n,i,l){var a=e*n,s=t*n,p=this.projectionMatrix;ol.transform.reset(p),ol.transform.scale(p,2*o/a,2*o/s),ol.transform.rotate(p,-i),ol.transform.translate(p,l[0]-r[0],l[1]-r[1]),ol.transform.scale(p,(l[2]-l[0])/2,(l[3]-l[1])/2),ol.transform.translate(p,1,1)},ol.renderer.webgl.ImageLayer.prototype.hasFeatureAtCoordinate=function(e,t){return void 0!==this.forEachFeatureAtCoordinate(e,t,0,ol.functions.TRUE,this)},ol.renderer.webgl.ImageLayer.prototype.forEachLayerAtPixel=function(e,t,o,r){if(this.image_&&this.image_.getImage()){if(this.getLayer().getSource().forEachFeatureAtCoordinate!==ol.nullFunction){var n=ol.transform.apply(t.pixelToCoordinateTransform,e.slice());return this.forEachFeatureAtCoordinate(n,t,0,ol.functions.TRUE,this)?o.call(r,this.getLayer(),null):void 0}var i=[this.image_.getImage().width,this.image_.getImage().height];this.hitTransformationMatrix_||(this.hitTransformationMatrix_=this.getHitTransformationMatrix_(t.size,i));var l=ol.transform.apply(this.hitTransformationMatrix_,e.slice());if(!(l[0]<0||l[0]>i[0]||l[1]<0||l[1]>i[1])){this.hitCanvasContext_||(this.hitCanvasContext_=ol.dom.createCanvasContext2D(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.image_.getImage(),l[0],l[1],1,1,0,0,1,1);var a=this.hitCanvasContext_.getImageData(0,0,1,1).data;return a[3]>0?o.call(r,this.getLayer(),a):void 0}}},ol.renderer.webgl.ImageLayer.prototype.getHitTransformationMatrix_=function(e,t){var o=ol.transform.create();ol.transform.translate(o,-1,-1),ol.transform.scale(o,2/e[0],2/e[1]),ol.transform.translate(o,0,e[1]),ol.transform.scale(o,1,-1);var r=ol.transform.invert(this.projectionMatrix.slice()),n=ol.transform.create();return ol.transform.translate(n,0,t[1]),ol.transform.scale(n,1,-1),ol.transform.scale(n,t[0]/2,t[1]/2),ol.transform.translate(n,1,1),ol.transform.multiply(n,r),ol.transform.multiply(n,o),n},goog.provide("ol.renderer.webgl.Map"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.css"),goog.require("ol.dom"),goog.require("ol.events"),goog.require("ol.has"),goog.require("ol.layer.Layer"),goog.require("ol.render.Event"),goog.require("ol.render.EventType"),goog.require("ol.render.webgl.Immediate"),goog.require("ol.renderer.Map"),goog.require("ol.renderer.Type"),goog.require("ol.source.State"),goog.require("ol.structs.LRUCache"),goog.require("ol.structs.PriorityQueue"),goog.require("ol.webgl"),goog.require("ol.webgl.Context"),goog.require("ol.webgl.ContextEventType"),ol.renderer.webgl.Map=function(e,t){ol.renderer.Map.call(this,e,t),this.canvas_=document.createElement("CANVAS"),this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=ol.css.CLASS_UNSELECTABLE,e.insertBefore(this.canvas_,e.childNodes[0]||null),this.clipTileCanvasWidth_=0,this.clipTileCanvasHeight_=0,this.clipTileContext_=ol.dom.createCanvasContext2D(),this.renderedVisible_=!0,this.gl_=ol.webgl.getContext(this.canvas_,{antialias:!0,depth:!0,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!0}),this.context_=new ol.webgl.Context(this.canvas_,this.gl_),ol.events.listen(this.canvas_,ol.webgl.ContextEventType.LOST,this.handleWebGLContextLost,this),ol.events.listen(this.canvas_,ol.webgl.ContextEventType.RESTORED,this.handleWebGLContextRestored,this),this.textureCache_=new ol.structs.LRUCache,this.focus_=null,this.tileTextureQueue_=new ol.structs.PriorityQueue((function(e){var t=e[1],o=e[2],r=t[0]-this.focus_[0],n=t[1]-this.focus_[1];return 65536*Math.log(o)+Math.sqrt(r*r+n*n)/o}).bind(this),function(e){return e[0].getKey()}),this.loadNextTileTexture_=(function(e,t){if(!this.tileTextureQueue_.isEmpty()){this.tileTextureQueue_.reprioritize();var o=this.tileTextureQueue_.dequeue();this.bindTileTexture(o[0],o[3],o[4],ol.webgl.LINEAR,ol.webgl.LINEAR)}return!1}).bind(this),this.textureCacheFrameMarkerCount_=0,this.initializeGL_()},ol.inherits(ol.renderer.webgl.Map,ol.renderer.Map),ol.renderer.webgl.Map.handles=function(e){return ol.has.WEBGL&&e===ol.renderer.Type.WEBGL},ol.renderer.webgl.Map.create=function(e,t){return new ol.renderer.webgl.Map(e,t)},ol.renderer.webgl.Map.prototype.bindTileTexture=function(e,t,o,r,n){var i=this.getGL(),l=e.getKey();if(this.textureCache_.containsKey(l)){var a=this.textureCache_.get(l);i.bindTexture(ol.webgl.TEXTURE_2D,a.texture),a.magFilter!=r&&(i.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_MAG_FILTER,r),a.magFilter=r),a.minFilter!=n&&(i.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_MIN_FILTER,n),a.minFilter=n)}else{var s=i.createTexture();if(i.bindTexture(ol.webgl.TEXTURE_2D,s),o>0){var p=this.clipTileContext_.canvas,u=this.clipTileContext_;this.clipTileCanvasWidth_!==t[0]||this.clipTileCanvasHeight_!==t[1]?(p.width=t[0],p.height=t[1],this.clipTileCanvasWidth_=t[0],this.clipTileCanvasHeight_=t[1]):u.clearRect(0,0,t[0],t[1]),u.drawImage(e.getImage(),o,o,t[0],t[1],0,0,t[0],t[1]),i.texImage2D(ol.webgl.TEXTURE_2D,0,ol.webgl.RGBA,ol.webgl.RGBA,ol.webgl.UNSIGNED_BYTE,p)}else i.texImage2D(ol.webgl.TEXTURE_2D,0,ol.webgl.RGBA,ol.webgl.RGBA,ol.webgl.UNSIGNED_BYTE,e.getImage());i.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_MAG_FILTER,r),i.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_MIN_FILTER,n),i.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_WRAP_S,ol.webgl.CLAMP_TO_EDGE),i.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_WRAP_T,ol.webgl.CLAMP_TO_EDGE),this.textureCache_.set(l,{texture:s,magFilter:r,minFilter:n})}},ol.renderer.webgl.Map.prototype.dispatchComposeEvent_=function(e,t){var o=this.getMap();if(o.hasListener(e)){var r=this.context_,n=t.viewState,i=new ol.render.webgl.Immediate(r,n.center,n.resolution,n.rotation,t.size,t.extent,t.pixelRatio),l=new ol.render.Event(e,i,t,null,r);o.dispatchEvent(l)}},ol.renderer.webgl.Map.prototype.disposeInternal=function(){var e=this.getGL();e.isContextLost()||this.textureCache_.forEach(function(t){t&&e.deleteTexture(t.texture)}),this.context_.dispose(),ol.renderer.Map.prototype.disposeInternal.call(this)},ol.renderer.webgl.Map.prototype.expireCache_=function(e,t){for(var o,r=this.getGL();this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>ol.WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK;){if(o=this.textureCache_.peekLast())r.deleteTexture(o.texture);else{if(+this.textureCache_.peekLastKey()==t.index)break;--this.textureCacheFrameMarkerCount_}this.textureCache_.pop()}},ol.renderer.webgl.Map.prototype.getContext=function(){return this.context_},ol.renderer.webgl.Map.prototype.getGL=function(){return this.gl_},ol.renderer.webgl.Map.prototype.getTileTextureQueue=function(){return this.tileTextureQueue_},ol.renderer.webgl.Map.prototype.getType=function(){return ol.renderer.Type.WEBGL},ol.renderer.webgl.Map.prototype.handleWebGLContextLost=function(e){e.preventDefault(),this.textureCache_.clear(),this.textureCacheFrameMarkerCount_=0;var t=this.getLayerRenderers();for(var o in t)t[o].handleWebGLContextLost()},ol.renderer.webgl.Map.prototype.handleWebGLContextRestored=function(){this.initializeGL_(),this.getMap().render()},ol.renderer.webgl.Map.prototype.initializeGL_=function(){var e=this.gl_;e.activeTexture(ol.webgl.TEXTURE0),e.blendFuncSeparate(ol.webgl.SRC_ALPHA,ol.webgl.ONE_MINUS_SRC_ALPHA,ol.webgl.ONE,ol.webgl.ONE_MINUS_SRC_ALPHA),e.disable(ol.webgl.CULL_FACE),e.disable(ol.webgl.DEPTH_TEST),e.disable(ol.webgl.SCISSOR_TEST),e.disable(ol.webgl.STENCIL_TEST)},ol.renderer.webgl.Map.prototype.isTileTextureLoaded=function(e){return this.textureCache_.containsKey(e.getKey())},ol.renderer.webgl.Map.prototype.renderFrame=function(e){var t=this.getContext(),o=this.getGL();if(o.isContextLost())return!1;if(!e)return this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1),!1;this.focus_=e.focus,this.textureCache_.set((-e.index).toString(),null),++this.textureCacheFrameMarkerCount_,this.dispatchComposeEvent_(ol.render.EventType.PRECOMPOSE,e);var r=[],n=e.layerStatesArray;ol.array.stableSort(n,ol.renderer.Map.sortByZIndex);var i,l,a,s=e.viewState.resolution;for(i=0,l=n.length;i<l;++i)a=n[i],ol.layer.Layer.visibleAtResolution(a,s)&&a.sourceState==ol.source.State.READY&&this.getLayerRenderer(a.layer).prepareFrame(e,a,t)&&r.push(a);var p=e.size[0]*e.pixelRatio,u=e.size[1]*e.pixelRatio;for(this.canvas_.width==p&&this.canvas_.height==u||(this.canvas_.width=p,this.canvas_.height=u),o.bindFramebuffer(ol.webgl.FRAMEBUFFER,null),o.clearColor(0,0,0,0),o.clear(ol.webgl.COLOR_BUFFER_BIT),o.enable(ol.webgl.BLEND),o.viewport(0,0,this.canvas_.width,this.canvas_.height),i=0,l=r.length;i<l;++i)this.getLayerRenderer((a=r[i]).layer).composeFrame(e,a,t);this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.calculateMatrices2D(e),this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>ol.WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK&&e.postRenderFunctions.push(this.expireCache_.bind(this)),this.tileTextureQueue_.isEmpty()||(e.postRenderFunctions.push(this.loadNextTileTexture_),e.animate=!0),this.dispatchComposeEvent_(ol.render.EventType.POSTCOMPOSE,e),this.scheduleRemoveUnusedLayerRenderers(e),this.scheduleExpireIconCache(e)},ol.renderer.webgl.Map.prototype.forEachFeatureAtCoordinate=function(e,t,o,r,n,i,l){var a;if(this.getGL().isContextLost())return!1;var s,p=t.viewState,u=t.layerStatesArray;for(s=u.length-1;s>=0;--s){var c=u[s],g=c.layer;if(ol.layer.Layer.visibleAtResolution(c,p.resolution)&&i.call(l,g)&&(a=this.getLayerRenderer(g).forEachFeatureAtCoordinate(e,t,o,r,n)))return a}},ol.renderer.webgl.Map.prototype.hasFeatureAtCoordinate=function(e,t,o,r,n){var i=!1;if(this.getGL().isContextLost())return!1;var l,a=t.viewState,s=t.layerStatesArray;for(l=s.length-1;l>=0;--l){var p=s[l],u=p.layer;if(ol.layer.Layer.visibleAtResolution(p,a.resolution)&&r.call(n,u)&&(i=this.getLayerRenderer(u).hasFeatureAtCoordinate(e,t)))return!0}return i},ol.renderer.webgl.Map.prototype.forEachLayerAtPixel=function(e,t,o,r,n,i){if(this.getGL().isContextLost())return!1;var l,a,s=t.viewState,p=t.layerStatesArray;for(a=p.length-1;a>=0;--a){var u=p[a],c=u.layer;if(ol.layer.Layer.visibleAtResolution(u,s.resolution)&&n.call(r,c)&&(l=this.getLayerRenderer(c).forEachLayerAtPixel(e,t,o,r)))return l}},goog.provide("ol.renderer.webgl.tilelayershader"),goog.require("ol"),goog.require("ol.webgl.Fragment"),goog.require("ol.webgl.Vertex"),ol.renderer.webgl.tilelayershader.fragment=new ol.webgl.Fragment(ol.DEBUG_WEBGL?"precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  gl_FragColor = texture2D(u_texture, v_texCoord);\n}\n":"precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor=texture2D(e,a);}"),ol.renderer.webgl.tilelayershader.vertex=new ol.webgl.Vertex(ol.DEBUG_WEBGL?"varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nuniform vec4 u_tileOffset;\n\nvoid main(void) {\n  gl_Position = vec4(a_position * u_tileOffset.xy + u_tileOffset.zw, 0., 1.);\n  v_texCoord = a_texCoord;\n}\n\n\n":"varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position=vec4(b*d.xy+d.zw,0.,1.);a=c;}"),goog.provide("ol.renderer.webgl.tilelayershader.Locations"),goog.require("ol"),ol.renderer.webgl.tilelayershader.Locations=function(e,t){this.u_tileOffset=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_tileOffset":"d"),this.u_texture=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_texture":"e"),this.a_position=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_position":"b"),this.a_texCoord=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_texCoord":"c")},goog.provide("ol.renderer.webgl.TileLayer"),goog.require("ol"),goog.require("ol.LayerType"),goog.require("ol.TileRange"),goog.require("ol.TileState"),goog.require("ol.array"),goog.require("ol.extent"),goog.require("ol.math"),goog.require("ol.renderer.Type"),goog.require("ol.renderer.webgl.Layer"),goog.require("ol.renderer.webgl.tilelayershader"),goog.require("ol.renderer.webgl.tilelayershader.Locations"),goog.require("ol.size"),goog.require("ol.transform"),goog.require("ol.webgl"),goog.require("ol.webgl.Buffer"),ol.renderer.webgl.TileLayer=function(e,t){ol.renderer.webgl.Layer.call(this,e,t),this.fragmentShader_=ol.renderer.webgl.tilelayershader.fragment,this.vertexShader_=ol.renderer.webgl.tilelayershader.vertex,this.locations_=null,this.renderArrayBuffer_=new ol.webgl.Buffer([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]),this.renderedTileRange_=null,this.renderedFramebufferExtent_=null,this.renderedRevision_=-1,this.tmpSize_=[0,0]},ol.inherits(ol.renderer.webgl.TileLayer,ol.renderer.webgl.Layer),ol.renderer.webgl.TileLayer.handles=function(e,t){return e===ol.renderer.Type.WEBGL&&t.getType()===ol.LayerType.TILE},ol.renderer.webgl.TileLayer.create=function(e,t){return new ol.renderer.webgl.TileLayer(e,t)},ol.renderer.webgl.TileLayer.prototype.disposeInternal=function(){this.mapRenderer.getContext().deleteBuffer(this.renderArrayBuffer_),ol.renderer.webgl.Layer.prototype.disposeInternal.call(this)},ol.renderer.webgl.TileLayer.prototype.createLoadedTileFinder=function(e,t,o){var r=this.mapRenderer;return function(n,i){return e.forEachLoadedTile(t,n,i,function(e){var t=r.isTileTextureLoaded(e);return t&&(o[n]||(o[n]={}),o[n][e.tileCoord.toString()]=e),t})}},ol.renderer.webgl.TileLayer.prototype.handleWebGLContextLost=function(){ol.renderer.webgl.Layer.prototype.handleWebGLContextLost.call(this),this.locations_=null},ol.renderer.webgl.TileLayer.prototype.prepareFrame=function(e,t,o){var r,n=this.mapRenderer,i=o.getGL(),l=e.viewState,a=l.projection,s=this.getLayer(),p=s.getSource(),u=p.getTileGridForProjection(a),c=u.getZForResolution(l.resolution),g=u.getResolution(c),d=p.getTilePixelSize(c,e.pixelRatio,a),h=d[0]/ol.size.toSize(u.getTileSize(c),this.tmpSize_)[0],y=g/h,f=p.getTilePixelRatio(h)*p.getGutter(a),m=l.center,v=e.extent,_=u.getTileRangeForExtentAndZ(v,c);if(this.renderedTileRange_&&this.renderedTileRange_.equals(_)&&this.renderedRevision_==p.getRevision())r=this.renderedFramebufferExtent_;else{var S=_.getSize(),x=Math.max(S[0]*d[0],S[1]*d[1]),E=ol.math.roundUpToPowerOfTwo(x),P=y*E,b=u.getOrigin(c),T=b[0]+_.minX*d[0]*y,C=b[1]+_.minY*d[1]*y;r=[T,C,T+P,C+P],this.bindFramebuffer(e,E),i.viewport(0,0,E,E),i.clearColor(0,0,0,0),i.clear(ol.webgl.COLOR_BUFFER_BIT),i.disable(ol.webgl.BLEND);var R=o.getProgram(this.fragmentShader_,this.vertexShader_);o.useProgram(R),this.locations_||(this.locations_=new ol.renderer.webgl.tilelayershader.Locations(i,R)),o.bindBuffer(ol.webgl.ARRAY_BUFFER,this.renderArrayBuffer_),i.enableVertexAttribArray(this.locations_.a_position),i.vertexAttribPointer(this.locations_.a_position,2,ol.webgl.FLOAT,!1,16,0),i.enableVertexAttribArray(this.locations_.a_texCoord),i.vertexAttribPointer(this.locations_.a_texCoord,2,ol.webgl.FLOAT,!1,16,8),i.uniform1i(this.locations_.u_texture,0);var w={};w[c]={};var M,L,O,I,A,D,N=this.createLoadedTileFinder(p,a,w),F=s.getUseInterimTilesOnError(),G=!0,k=ol.extent.createEmpty(),j=new ol.TileRange(0,0,0,0);for(I=_.minX;I<=_.maxX;++I)for(A=_.minY;A<=_.maxY;++A)if(L=p.getTile(c,I,A,h,a),void 0===t.extent||(D=u.getTileCoordExtent(L.tileCoord,k),ol.extent.intersects(D,t.extent))){if((O=L.getState())==ol.TileState.LOADED||O==ol.TileState.EMPTY||O==ol.TileState.ERROR&&!F||(L=L.getInterimTile()),(O=L.getState())==ol.TileState.LOADED){if(n.isTileTextureLoaded(L)){w[c][L.tileCoord.toString()]=L;continue}}else if(O==ol.TileState.EMPTY||O==ol.TileState.ERROR&&!F)continue;G=!1,u.forEachTileCoordParentTileRange(L.tileCoord,N,null,j,k)||(M=u.getTileCoordChildTileRange(L.tileCoord,j,k))&&N(c+1,M)}var q=Object.keys(w).map(Number);q.sort(ol.array.numberSafeCompareFunction);var V,U,B,W,Y=new Float32Array(4);for(V=0,U=q.length;V<U;++V)for(B in W=w[q[V]])D=u.getTileCoordExtent((L=W[B]).tileCoord,k),Y[0]=2*(D[2]-D[0])/P,Y[1]=2*(D[3]-D[1])/P,Y[2]=2*(D[0]-r[0])/P-1,Y[3]=2*(D[1]-r[1])/P-1,i.uniform4fv(this.locations_.u_tileOffset,Y),n.bindTileTexture(L,d,f*h,ol.webgl.LINEAR,ol.webgl.LINEAR),i.drawArrays(ol.webgl.TRIANGLE_STRIP,0,4);G?(this.renderedTileRange_=_,this.renderedFramebufferExtent_=r,this.renderedRevision_=p.getRevision()):(this.renderedTileRange_=null,this.renderedFramebufferExtent_=null,this.renderedRevision_=-1,e.animate=!0)}this.updateUsedTiles(e.usedTiles,p,c,_);var K=n.getTileTextureQueue();this.manageTilePyramid(e,p,u,h,a,v,c,s.getPreload(),function(e){e.getState()!=ol.TileState.LOADED||n.isTileTextureLoaded(e)||K.isKeyQueued(e.getKey())||K.enqueue([e,u.getTileCoordCenter(e.tileCoord),u.getResolution(e.tileCoord[0]),d,f*h])},this),this.scheduleExpireCache(e,p),this.updateLogos(e,p);var X=this.texCoordMatrix;return ol.transform.reset(X),ol.transform.translate(X,(Math.round(m[0]/g)*g-r[0])/(r[2]-r[0]),(Math.round(m[1]/g)*g-r[1])/(r[3]-r[1])),0!==l.rotation&&ol.transform.rotate(X,l.rotation),ol.transform.scale(X,e.size[0]*l.resolution/(r[2]-r[0]),e.size[1]*l.resolution/(r[3]-r[1])),ol.transform.translate(X,-.5,-.5),!0},ol.renderer.webgl.TileLayer.prototype.forEachLayerAtPixel=function(e,t,o,r){if(this.framebuffer){var n=ol.transform.apply(this.texCoordMatrix,[e[0]/t.size[0],(t.size[1]-e[1])/t.size[1]].slice()),i=[n[0]*this.framebufferDimension,n[1]*this.framebufferDimension],l=this.mapRenderer.getContext().getGL();l.bindFramebuffer(l.FRAMEBUFFER,this.framebuffer);var a=new Uint8Array(4);return l.readPixels(i[0],i[1],1,1,l.RGBA,l.UNSIGNED_BYTE,a),a[3]>0?o.call(r,this.getLayer(),a):void 0}},goog.provide("ol.renderer.webgl.VectorLayer"),goog.require("ol"),goog.require("ol.LayerType"),goog.require("ol.ViewHint"),goog.require("ol.extent"),goog.require("ol.render.webgl.ReplayGroup"),goog.require("ol.renderer.Type"),goog.require("ol.renderer.vector"),goog.require("ol.renderer.webgl.Layer"),goog.require("ol.transform"),ol.renderer.webgl.VectorLayer=function(e,t){ol.renderer.webgl.Layer.call(this,e,t),this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=ol.extent.createEmpty(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.layerState_=null},ol.inherits(ol.renderer.webgl.VectorLayer,ol.renderer.webgl.Layer),ol.renderer.webgl.VectorLayer.handles=function(e,t){return e===ol.renderer.Type.WEBGL&&t.getType()===ol.LayerType.VECTOR},ol.renderer.webgl.VectorLayer.create=function(e,t){return new ol.renderer.webgl.VectorLayer(e,t)},ol.renderer.webgl.VectorLayer.prototype.composeFrame=function(e,t,o){this.layerState_=t;var r=e.viewState,n=this.replayGroup_,i=e.size,l=e.pixelRatio,a=this.mapRenderer.getGL();n&&!n.isEmpty()&&(a.enable(a.SCISSOR_TEST),a.scissor(0,0,i[0]*l,i[1]*l),n.replay(o,r.center,r.resolution,r.rotation,i,l,t.opacity,t.managed?e.skippedFeatureUids:{}),a.disable(a.SCISSOR_TEST))},ol.renderer.webgl.VectorLayer.prototype.disposeInternal=function(){var e=this.replayGroup_;if(e){var t=this.mapRenderer.getContext();e.getDeleteResourcesFunction(t)(),this.replayGroup_=null}ol.renderer.webgl.Layer.prototype.disposeInternal.call(this)},ol.renderer.webgl.VectorLayer.prototype.forEachFeatureAtCoordinate=function(e,t,o,r,n){if(this.replayGroup_&&this.layerState_){var i=this.mapRenderer.getContext(),l=t.viewState,a=this.getLayer(),s={};return this.replayGroup_.forEachFeatureAtCoordinate(e,i,l.center,l.resolution,l.rotation,t.size,t.pixelRatio,this.layerState_.opacity,{},function(e){var t=ol.getUid(e).toString();if(!(t in s))return s[t]=!0,r.call(n,e,a)})}},ol.renderer.webgl.VectorLayer.prototype.hasFeatureAtCoordinate=function(e,t){if(this.replayGroup_&&this.layerState_){var o=this.mapRenderer.getContext(),r=t.viewState;return this.replayGroup_.hasFeatureAtCoordinate(e,o,r.center,r.resolution,r.rotation,t.size,t.pixelRatio,this.layerState_.opacity,t.skippedFeatureUids)}return!1},ol.renderer.webgl.VectorLayer.prototype.forEachLayerAtPixel=function(e,t,o,r){var n=ol.transform.apply(t.pixelToCoordinateTransform,e.slice());return this.hasFeatureAtCoordinate(n,t)?o.call(r,this.getLayer(),null):void 0},ol.renderer.webgl.VectorLayer.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},ol.renderer.webgl.VectorLayer.prototype.prepareFrame=function(e,t,o){var r=this.getLayer(),n=r.getSource();this.updateLogos(e,n);var i=e.viewHints[ol.ViewHint.ANIMATING],l=e.viewHints[ol.ViewHint.INTERACTING],a=r.getUpdateWhileAnimating(),s=r.getUpdateWhileInteracting();if(!this.dirty_&&!a&&i||!s&&l)return!0;var p=e.extent,u=e.viewState,c=u.projection,g=u.resolution,d=e.pixelRatio,h=r.getRevision(),y=r.getRenderBuffer(),f=r.getRenderOrder();void 0===f&&(f=ol.renderer.vector.defaultOrder);var m=ol.extent.buffer(p,y*g);if(!this.dirty_&&this.renderedResolution_==g&&this.renderedRevision_==h&&this.renderedRenderOrder_==f&&ol.extent.containsExtent(this.renderedExtent_,m))return!0;this.replayGroup_&&e.postRenderFunctions.push(this.replayGroup_.getDeleteResourcesFunction(o)),this.dirty_=!1;var v=new ol.render.webgl.ReplayGroup(ol.renderer.vector.getTolerance(g,d),m,r.getRenderBuffer());n.loadFeatures(m,g,c);var _=function(e){var t,o=e.getStyleFunction();if(o?t=o.call(e,g):(o=r.getStyleFunction())&&(t=o(e,g)),t){var n=this.renderFeature(e,g,d,t,v);this.dirty_=this.dirty_||n}};if(f){var S=[];n.forEachFeatureInExtent(m,function(e){S.push(e)},this),S.sort(f),S.forEach(_,this)}else n.forEachFeatureInExtent(m,_,this);return v.finish(o),this.renderedResolution_=g,this.renderedRevision_=h,this.renderedRenderOrder_=f,this.renderedExtent_=m,this.replayGroup_=v,!0},ol.renderer.webgl.VectorLayer.prototype.renderFeature=function(e,t,o,r,n){if(!r)return!1;var i=!1;if(Array.isArray(r))for(var l=r.length-1;l>=0;--l)i=ol.renderer.vector.renderFeature(n,e,r[l],ol.renderer.vector.getSquaredTolerance(t,o),this.handleStyleImageChange_,this)||i;else i=ol.renderer.vector.renderFeature(n,e,r,ol.renderer.vector.getSquaredTolerance(t,o),this.handleStyleImageChange_,this)||i;return i},goog.provide("ol.Map"),goog.require("ol"),goog.require("ol.PluggableMap"),goog.require("ol.PluginType"),goog.require("ol.control"),goog.require("ol.interaction"),goog.require("ol.obj"),goog.require("ol.plugins"),goog.require("ol.renderer.canvas.ImageLayer"),goog.require("ol.renderer.canvas.Map"),goog.require("ol.renderer.canvas.TileLayer"),goog.require("ol.renderer.canvas.VectorLayer"),goog.require("ol.renderer.canvas.VectorTileLayer"),goog.require("ol.renderer.webgl.ImageLayer"),goog.require("ol.renderer.webgl.Map"),goog.require("ol.renderer.webgl.TileLayer"),goog.require("ol.renderer.webgl.VectorLayer"),ol.ENABLE_CANVAS&&(ol.plugins.register(ol.PluginType.MAP_RENDERER,ol.renderer.canvas.Map),ol.plugins.registerMultiple(ol.PluginType.LAYER_RENDERER,[ol.renderer.canvas.ImageLayer,ol.renderer.canvas.TileLayer,ol.renderer.canvas.VectorLayer,ol.renderer.canvas.VectorTileLayer])),ol.ENABLE_WEBGL&&(ol.plugins.register(ol.PluginType.MAP_RENDERER,ol.renderer.webgl.Map),ol.plugins.registerMultiple(ol.PluginType.LAYER_RENDERER,[ol.renderer.webgl.ImageLayer,ol.renderer.webgl.TileLayer,ol.renderer.webgl.VectorLayer])),ol.Map=function(e){(e=ol.obj.assign({},e)).controls||(e.controls=ol.control.defaults()),e.interactions||(e.interactions=ol.interaction.defaults()),ol.PluggableMap.call(this,e)},ol.inherits(ol.Map,ol.PluggableMap),goog.provide("ol.net"),goog.require("ol"),ol.net.jsonp=function(e,t,o,r){var n=document.createElement("script"),i="olc_"+ol.getUid(t);function l(){delete window[i],n.parentNode.removeChild(n)}n.async=!0,n.src=e+(-1==e.indexOf("?")?"?":"&")+(r||"callback")+"="+i;var a=setTimeout(function(){l(),o&&o()},1e4);window[i]=function(e){clearTimeout(a),l(),t(e)},document.getElementsByTagName("head")[0].appendChild(n)},goog.provide("ol.proj.common"),goog.require("ol.proj"),ol.proj.common.add=ol.proj.addCommon,goog.provide("ol.render"),goog.require("ol.has"),goog.require("ol.transform"),goog.require("ol.render.canvas.Immediate"),ol.render.toContext=function(e,t){var o=e.canvas,r=t||{},n=r.pixelRatio||ol.has.DEVICE_PIXEL_RATIO,i=r.size;i&&(o.width=i[0]*n,o.height=i[1]*n,o.style.width=i[0]+"px",o.style.height=i[1]+"px");var l=[0,0,o.width,o.height],a=ol.transform.scale(ol.transform.create(),n,n);return new ol.render.canvas.Immediate(e,n,l,a,0)},goog.provide("ol.reproj"),goog.require("ol.dom"),goog.require("ol.extent"),goog.require("ol.math"),goog.require("ol.proj"),ol.reproj.calculateSourceResolution=function(e,t,o,r){var n=ol.proj.transform(o,t,e),i=ol.proj.getPointResolution(t,r,o),l=t.getMetersPerUnit();void 0!==l&&(i*=l);var a=e.getMetersPerUnit();void 0!==a&&(i/=a);var s=e.getExtent();if(!s||ol.extent.containsCoordinate(s,n)){var p=ol.proj.getPointResolution(e,i,n)/i;isFinite(p)&&p>0&&(i/=p)}return i},ol.reproj.enlargeClipPoint_=function(e,t,o,r){var n=o-e,i=r-t,l=Math.sqrt(n*n+i*i);return[Math.round(o+n/l),Math.round(r+i/l)]},ol.reproj.render=function(e,t,o,r,n,i,l,a,s,p,u){var c=ol.dom.createCanvasContext2D(Math.round(o*e),Math.round(o*t));if(0===s.length)return c.canvas;c.scale(o,o);var g=ol.extent.createEmpty();s.forEach(function(e,t,o){ol.extent.extend(g,e.extent)});var d=ol.extent.getWidth(g),h=ol.extent.getHeight(g),y=ol.dom.createCanvasContext2D(Math.round(o*d/r),Math.round(o*h/r)),f=o/r;s.forEach(function(e,t,o){var r=e.extent[0]-g[0],n=-(e.extent[3]-g[3]),i=ol.extent.getWidth(e.extent),l=ol.extent.getHeight(e.extent);y.drawImage(e.image,p,p,e.image.width-2*p,e.image.height-2*p,r*f,n*f,i*f,l*f)});var m=ol.extent.getTopLeft(l);return a.getTriangles().forEach(function(e,t,n){var l=e.source,a=e.target,s=l[0][0],p=l[0][1],u=l[1][0],d=l[1][1],h=l[2][0],f=l[2][1],v=(a[0][0]-m[0])/i,_=-(a[0][1]-m[1])/i,S=(a[1][0]-m[0])/i,x=-(a[1][1]-m[1])/i,E=(a[2][0]-m[0])/i,P=-(a[2][1]-m[1])/i,b=s,T=p;s=0,p=0,u-=b,d-=T,h-=b,f-=T;var C=ol.math.solveLinearSystem([[u,d,0,0,S-v],[h,f,0,0,E-v],[0,0,u,d,x-_],[0,0,h,f,P-_]]);if(C){c.save(),c.beginPath();var R=(v+S+E)/3,w=(_+x+P)/3,M=ol.reproj.enlargeClipPoint_(R,w,v,_),L=ol.reproj.enlargeClipPoint_(R,w,S,x),O=ol.reproj.enlargeClipPoint_(R,w,E,P);c.moveTo(L[0],L[1]),c.lineTo(M[0],M[1]),c.lineTo(O[0],O[1]),c.clip(),c.transform(C[0],C[2],C[1],C[3],v,_),c.translate(g[0]-b,g[3]-T),c.scale(r/o,-r/o),c.drawImage(y.canvas,0,0),c.restore()}}),u&&(c.save(),c.strokeStyle="black",c.lineWidth=1,a.getTriangles().forEach(function(e,t,o){var r=e.target,n=(r[0][0]-m[0])/i,l=-(r[0][1]-m[1])/i,a=(r[1][0]-m[0])/i,s=-(r[1][1]-m[1])/i,p=(r[2][0]-m[0])/i,u=-(r[2][1]-m[1])/i;c.beginPath(),c.moveTo(a,s),c.lineTo(n,l),c.lineTo(p,u),c.closePath(),c.stroke()}),c.restore()),c.canvas},goog.provide("ol.reproj.Triangulation"),goog.require("ol"),goog.require("ol.extent"),goog.require("ol.math"),goog.require("ol.proj"),ol.reproj.Triangulation=function(e,t,o,r,n){this.sourceProj_=e,this.targetProj_=t;var i={},l=ol.proj.getTransform(this.targetProj_,this.sourceProj_);this.transformInv_=function(e){var t=e[0]+"/"+e[1];return i[t]||(i[t]=l(e)),i[t]},this.maxSourceExtent_=r,this.errorThresholdSquared_=n*n,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&ol.extent.getWidth(r)==ol.extent.getWidth(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?ol.extent.getWidth(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?ol.extent.getWidth(this.targetProj_.getExtent()):null;var a=ol.extent.getTopLeft(o),s=ol.extent.getTopRight(o),p=ol.extent.getBottomRight(o),u=ol.extent.getBottomLeft(o),c=this.transformInv_(a),g=this.transformInv_(s),d=this.transformInv_(p),h=this.transformInv_(u);if(this.addQuad_(a,s,p,u,c,g,d,h,ol.RASTER_REPROJECTION_MAX_SUBDIVISION),this.wrapsXInSource_){var y=1/0;this.triangles_.forEach(function(e,t,o){y=Math.min(y,e.source[0][0],e.source[1][0],e.source[2][0])}),this.triangles_.forEach(function(e){if(Math.max(e.source[0][0],e.source[1][0],e.source[2][0])-y>this.sourceWorldWidth_/2){var t=[[e.source[0][0],e.source[0][1]],[e.source[1][0],e.source[1][1]],[e.source[2][0],e.source[2][1]]];t[0][0]-y>this.sourceWorldWidth_/2&&(t[0][0]-=this.sourceWorldWidth_),t[1][0]-y>this.sourceWorldWidth_/2&&(t[1][0]-=this.sourceWorldWidth_),t[2][0]-y>this.sourceWorldWidth_/2&&(t[2][0]-=this.sourceWorldWidth_);var o=Math.min(t[0][0],t[1][0],t[2][0]);Math.max(t[0][0],t[1][0],t[2][0])-o<this.sourceWorldWidth_/2&&(e.source=t)}},this)}i={}},ol.reproj.Triangulation.prototype.addTriangle_=function(e,t,o,r,n,i){this.triangles_.push({source:[r,n,i],target:[e,t,o]})},ol.reproj.Triangulation.prototype.addQuad_=function(e,t,o,r,n,i,l,a,s){var p=ol.extent.boundingExtent([n,i,l,a]),u=this.sourceWorldWidth_?ol.extent.getWidth(p)/this.sourceWorldWidth_:null,c=this.sourceWorldWidth_,g=this.sourceProj_.canWrapX()&&u>.5&&u<1,d=!1;if(s>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var h=ol.extent.boundingExtent([e,t,o,r]);d|=ol.extent.getWidth(h)/this.targetWorldWidth_>ol.RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH}!g&&this.sourceProj_.isGlobal()&&u&&(d|=u>ol.RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH)}if(d||!this.maxSourceExtent_||ol.extent.intersects(p,this.maxSourceExtent_)){if(!(d||isFinite(n[0])&&isFinite(n[1])&&isFinite(i[0])&&isFinite(i[1])&&isFinite(l[0])&&isFinite(l[1])&&isFinite(a[0])&&isFinite(a[1]))){if(!(s>0))return;d=!0}if(s>0){if(!d){var y,f=this.transformInv_([(e[0]+o[0])/2,(e[1]+o[1])/2]);y=g?(ol.math.modulo(n[0],c)+ol.math.modulo(l[0],c))/2-ol.math.modulo(f[0],c):(n[0]+l[0])/2-f[0];var m=(n[1]+l[1])/2-f[1];d=y*y+m*m>this.errorThresholdSquared_}if(d){if(Math.abs(e[0]-o[0])<=Math.abs(e[1]-o[1])){var v=[(t[0]+o[0])/2,(t[1]+o[1])/2],_=this.transformInv_(v),S=[(r[0]+e[0])/2,(r[1]+e[1])/2],x=this.transformInv_(S);this.addQuad_(e,t,v,S,n,i,_,x,s-1),this.addQuad_(S,v,o,r,x,_,l,a,s-1)}else{var E=[(e[0]+t[0])/2,(e[1]+t[1])/2],P=this.transformInv_(E),b=[(o[0]+r[0])/2,(o[1]+r[1])/2],T=this.transformInv_(b);this.addQuad_(e,E,b,r,n,P,T,a,s-1),this.addQuad_(E,t,o,b,P,i,l,T,s-1)}return}}if(g){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(e,o,r,n,l,a),this.addTriangle_(e,t,o,n,i,l)}},ol.reproj.Triangulation.prototype.calculateSourceExtent=function(){var e=ol.extent.createEmpty();return this.triangles_.forEach(function(t,o,r){var n=t.source;ol.extent.extendCoordinate(e,n[0]),ol.extent.extendCoordinate(e,n[1]),ol.extent.extendCoordinate(e,n[2])}),e},ol.reproj.Triangulation.prototype.getTriangles=function(){return this.triangles_},goog.provide("ol.reproj.Image"),goog.require("ol"),goog.require("ol.ImageBase"),goog.require("ol.ImageState"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.extent"),goog.require("ol.reproj"),goog.require("ol.reproj.Triangulation"),ol.reproj.Image=function(e,t,o,r,n,i){this.targetProj_=t,this.maxSourceExtent_=e.getExtent();var l=t.getExtent(),a=l?ol.extent.getIntersection(o,l):o,s=ol.extent.getCenter(a),p=ol.reproj.calculateSourceResolution(e,t,s,r),u=ol.DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD;this.triangulation_=new ol.reproj.Triangulation(e,t,a,this.maxSourceExtent_,p*u),this.targetResolution_=r,this.targetExtent_=o;var c=this.triangulation_.calculateSourceExtent();this.sourceImage_=i(c,p,n),this.sourcePixelRatio_=this.sourceImage_?this.sourceImage_.getPixelRatio():1,this.canvas_=null,this.sourceListenerKey_=null;var g=ol.ImageState.LOADED;this.sourceImage_&&(g=ol.ImageState.IDLE),ol.ImageBase.call(this,o,r,this.sourcePixelRatio_,g)},ol.inherits(ol.reproj.Image,ol.ImageBase),ol.reproj.Image.prototype.disposeInternal=function(){this.state==ol.ImageState.LOADING&&this.unlistenSource_(),ol.ImageBase.prototype.disposeInternal.call(this)},ol.reproj.Image.prototype.getImage=function(){return this.canvas_},ol.reproj.Image.prototype.getProjection=function(){return this.targetProj_},ol.reproj.Image.prototype.reproject_=function(){var e=this.sourceImage_.getState();if(e==ol.ImageState.LOADED){var t=ol.extent.getWidth(this.targetExtent_)/this.targetResolution_,o=ol.extent.getHeight(this.targetExtent_)/this.targetResolution_;this.canvas_=ol.reproj.render(t,o,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0)}this.state=e,this.changed()},ol.reproj.Image.prototype.load=function(){if(this.state==ol.ImageState.IDLE){this.state=ol.ImageState.LOADING,this.changed();var e=this.sourceImage_.getState();e==ol.ImageState.LOADED||e==ol.ImageState.ERROR?this.reproject_():(this.sourceListenerKey_=ol.events.listen(this.sourceImage_,ol.events.EventType.CHANGE,function(e){var t=this.sourceImage_.getState();t!=ol.ImageState.LOADED&&t!=ol.ImageState.ERROR||(this.unlistenSource_(),this.reproject_())},this),this.sourceImage_.load())}},ol.reproj.Image.prototype.unlistenSource_=function(){ol.events.unlistenByKey(this.sourceListenerKey_),this.sourceListenerKey_=null},goog.provide("ol.reproj.Tile"),goog.require("ol"),goog.require("ol.Tile"),goog.require("ol.TileState"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.extent"),goog.require("ol.math"),goog.require("ol.reproj"),goog.require("ol.reproj.Triangulation"),ol.reproj.Tile=function(e,t,o,r,n,i,l,a,s,p,u){ol.Tile.call(this,n,ol.TileState.IDLE),this.renderEdges_=void 0!==u&&u,this.pixelRatio_=l,this.gutter_=a,this.canvas_=null,this.sourceTileGrid_=t,this.targetTileGrid_=r,this.wrappedTileCoord_=i||n,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;var c=r.getTileCoordExtent(this.wrappedTileCoord_),g=this.targetTileGrid_.getExtent(),d=this.sourceTileGrid_.getExtent(),h=g?ol.extent.getIntersection(c,g):c;if(0!==ol.extent.getArea(h)){var y=e.getExtent();y&&(d=d?ol.extent.getIntersection(d,y):y);var f=r.getResolution(this.wrappedTileCoord_[0]),m=ol.extent.getCenter(h),v=ol.reproj.calculateSourceResolution(e,o,m,f);if(!isFinite(v)||v<=0)this.state=ol.TileState.EMPTY;else{var _=void 0!==p?p:ol.DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD;if(this.triangulation_=new ol.reproj.Triangulation(e,o,h,d,v*_),0!==this.triangulation_.getTriangles().length){this.sourceZ_=t.getZForResolution(v);var S=this.triangulation_.calculateSourceExtent();if(d&&(e.canWrapX()?(S[1]=ol.math.clamp(S[1],d[1],d[3]),S[3]=ol.math.clamp(S[3],d[1],d[3])):S=ol.extent.getIntersection(S,d)),ol.extent.getArea(S)){for(var x=t.getTileRangeForExtentAndZ(S,this.sourceZ_),E=x.minX;E<=x.maxX;E++)for(var P=x.minY;P<=x.maxY;P++){var b=s(this.sourceZ_,E,P,l);b&&this.sourceTiles_.push(b)}0===this.sourceTiles_.length&&(this.state=ol.TileState.EMPTY)}else this.state=ol.TileState.EMPTY}else this.state=ol.TileState.EMPTY}}else this.state=ol.TileState.EMPTY},ol.inherits(ol.reproj.Tile,ol.Tile),ol.reproj.Tile.prototype.disposeInternal=function(){this.state==ol.TileState.LOADING&&this.unlistenSources_(),ol.Tile.prototype.disposeInternal.call(this)},ol.reproj.Tile.prototype.getImage=function(){return this.canvas_},ol.reproj.Tile.prototype.reproject_=function(){var e=[];if(this.sourceTiles_.forEach(function(t,o,r){t&&t.getState()==ol.TileState.LOADED&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(t.tileCoord),image:t.getImage()})},this),this.sourceTiles_.length=0,0===e.length)this.state=ol.TileState.ERROR;else{var t=this.wrappedTileCoord_[0],o=this.targetTileGrid_.getTileSize(t),r="number"==typeof o?o:o[0],n="number"==typeof o?o:o[1],i=this.targetTileGrid_.getResolution(t),l=this.sourceTileGrid_.getResolution(this.sourceZ_),a=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=ol.reproj.render(r,n,this.pixelRatio_,l,this.sourceTileGrid_.getExtent(),i,a,this.triangulation_,e,this.gutter_,this.renderEdges_),this.state=ol.TileState.LOADED}this.changed()},ol.reproj.Tile.prototype.load=function(){if(this.state==ol.TileState.IDLE){this.state=ol.TileState.LOADING,this.changed();var e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(t,o,r){var n,i=t.getState();i!=ol.TileState.IDLE&&i!=ol.TileState.LOADING||(e++,n=ol.events.listen(t,ol.events.EventType.CHANGE,function(o){var r=t.getState();r!=ol.TileState.LOADED&&r!=ol.TileState.ERROR&&r!=ol.TileState.EMPTY||(ol.events.unlistenByKey(n),0==--e&&(this.unlistenSources_(),this.reproject_()))},this),this.sourcesListenerKeys_.push(n))},this),this.sourceTiles_.forEach(function(e,t,o){e.getState()==ol.TileState.IDLE&&e.load()}),0===e&&setTimeout(this.reproject_.bind(this),0)}},ol.reproj.Tile.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(ol.events.unlistenByKey),this.sourcesListenerKeys_=null},goog.provide("ol.TileUrlFunction"),goog.require("ol.asserts"),goog.require("ol.math"),goog.require("ol.tilecoord"),ol.TileUrlFunction.createFromTemplate=function(e,t){var o=/\{z\}/g,r=/\{x\}/g,n=/\{y\}/g,i=/\{-y\}/g;return function(l,a,s){return l?e.replace(o,l[0].toString()).replace(r,l[1].toString()).replace(n,function(){return(-l[2]-1).toString()}).replace(i,function(){var e=t.getFullTileRange(l[0]);return ol.asserts.assert(e,55),(e.getHeight()+l[2]).toString()}):void 0}},ol.TileUrlFunction.createFromTemplates=function(e,t){for(var o=e.length,r=new Array(o),n=0;n<o;++n)r[n]=ol.TileUrlFunction.createFromTemplate(e[n],t);return ol.TileUrlFunction.createFromTileUrlFunctions(r)},ol.TileUrlFunction.createFromTileUrlFunctions=function(e){return 1===e.length?e[0]:function(t,o,r){if(t){var n=ol.tilecoord.hash(t),i=ol.math.modulo(n,e.length);return e[i](t,o,r)}}},ol.TileUrlFunction.nullTileUrlFunction=function(e,t,o){},ol.TileUrlFunction.expandUrl=function(e){var t=[],o=/\{([a-z])-([a-z])\}/.exec(e);if(o){var r,n=o[1].charCodeAt(0),i=o[2].charCodeAt(0);for(r=n;r<=i;++r)t.push(e.replace(o[0],String.fromCharCode(r)));return t}if(o=o=/\{(\d+)-(\d+)\}/.exec(e)){for(var l=parseInt(o[2],10),a=parseInt(o[1],10);a<=l;a++)t.push(e.replace(o[0],a.toString()));return t}return t.push(e),t},goog.provide("ol.TileCache"),goog.require("ol"),goog.require("ol.structs.LRUCache"),goog.require("ol.tilecoord"),ol.TileCache=function(e){ol.structs.LRUCache.call(this,e)},ol.inherits(ol.TileCache,ol.structs.LRUCache),ol.TileCache.prototype.expireCache=function(e){for(var t,o;this.canExpireCache()&&!((o=(t=this.peekLast()).tileCoord[0].toString())in e&&e[o].contains(t.tileCoord));)this.pop().dispose()},ol.TileCache.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var e=this.peekFirstKey(),t=ol.tilecoord.fromKey(e)[0];this.forEach(function(e){e.tileCoord[0]!==t&&(this.remove(ol.tilecoord.getKey(e.tileCoord)),e.dispose())},this)}},goog.provide("ol.source.Tile"),goog.require("ol"),goog.require("ol.TileCache"),goog.require("ol.TileState"),goog.require("ol.events.Event"),goog.require("ol.proj"),goog.require("ol.size"),goog.require("ol.source.Source"),goog.require("ol.tilecoord"),goog.require("ol.tilegrid"),ol.source.Tile=function(e){ol.source.Source.call(this,{attributions:e.attributions,extent:e.extent,logo:e.logo,projection:e.projection,state:e.state,wrapX:e.wrapX}),this.opaque_=void 0!==e.opaque&&e.opaque,this.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,this.tileGrid=void 0!==e.tileGrid?e.tileGrid:null,this.tileCache=new ol.TileCache(e.cacheSize),this.tmpSize=[0,0],this.key_="",this.tileOptions={transition:e.transition}},ol.inherits(ol.source.Tile,ol.source.Source),ol.source.Tile.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},ol.source.Tile.prototype.expireCache=function(e,t){var o=this.getTileCacheForProjection(e);o&&o.expireCache(t)},ol.source.Tile.prototype.forEachLoadedTile=function(e,t,o,r){var n=this.getTileCacheForProjection(e);if(!n)return!1;for(var i,l,a,s=!0,p=o.minX;p<=o.maxX;++p)for(var u=o.minY;u<=o.maxY;++u)l=ol.tilecoord.getKeyZXY(t,p,u),a=!1,n.containsKey(l)&&(a=(i=n.get(l)).getState()===ol.TileState.LOADED)&&(a=!1!==r(i)),a||(s=!1);return s},ol.source.Tile.prototype.getGutter=function(e){return 0},ol.source.Tile.prototype.getKey=function(){return this.key_},ol.source.Tile.prototype.setKey=function(e){this.key_!==e&&(this.key_=e,this.changed())},ol.source.Tile.prototype.getOpaque=function(e){return this.opaque_},ol.source.Tile.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},ol.source.Tile.prototype.getTile=function(e,t,o,r,n){},ol.source.Tile.prototype.getTileGrid=function(){return this.tileGrid},ol.source.Tile.prototype.getTileGridForProjection=function(e){return this.tileGrid?this.tileGrid:ol.tilegrid.getForProjection(e)},ol.source.Tile.prototype.getTileCacheForProjection=function(e){var t=this.getProjection();return t&&!ol.proj.equivalent(t,e)?null:this.tileCache},ol.source.Tile.prototype.getTilePixelRatio=function(e){return this.tilePixelRatio_},ol.source.Tile.prototype.getTilePixelSize=function(e,t,o){var r=this.getTileGridForProjection(o),n=this.getTilePixelRatio(t),i=ol.size.toSize(r.getTileSize(e),this.tmpSize);return 1==n?i:ol.size.scale(i,n,this.tmpSize)},ol.source.Tile.prototype.getTileCoordForTileUrlFunction=function(e,t){var o=void 0!==t?t:this.getProjection(),r=this.getTileGridForProjection(o);return this.getWrapX()&&o.isGlobal()&&(e=ol.tilegrid.wrapX(r,e,o)),ol.tilecoord.withinExtentAndZ(e,r)?e:null},ol.source.Tile.prototype.refresh=function(){this.tileCache.clear(),this.changed()},ol.source.Tile.prototype.useTile=ol.nullFunction,ol.source.Tile.Event=function(e,t){ol.events.Event.call(this,e),this.tile=t},ol.inherits(ol.source.Tile.Event,ol.events.Event),goog.provide("ol.source.TileEventType"),ol.source.TileEventType={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"},goog.provide("ol.source.UrlTile"),goog.require("ol"),goog.require("ol.TileState"),goog.require("ol.TileUrlFunction"),goog.require("ol.source.Tile"),goog.require("ol.source.TileEventType"),goog.require("ol.tilecoord"),ol.source.UrlTile=function(e){ol.source.Tile.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,extent:e.extent,logo:e.logo,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition}),this.tileLoadFunction=e.tileLoadFunction,this.tileUrlFunction=this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):ol.TileUrlFunction.nullTileUrlFunction,this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),e.tileUrlFunction&&this.setTileUrlFunction(e.tileUrlFunction),this.tileLoadingKeys_={}},ol.inherits(ol.source.UrlTile,ol.source.Tile),ol,ol.source.UrlTile.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},ol.source.UrlTile.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},ol.source.UrlTile.prototype.getUrls=function(){return this.urls},ol.source.UrlTile.prototype.handleTileChange=function(e){var t,o=e.target,r=ol.getUid(o),n=o.getState();n==ol.TileState.LOADING?(this.tileLoadingKeys_[r]=!0,t=ol.source.TileEventType.TILELOADSTART):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],t=n==ol.TileState.ERROR?ol.source.TileEventType.TILELOADERROR:n==ol.TileState.LOADED||n==ol.TileState.ABORT?ol.source.TileEventType.TILELOADEND:void 0),void 0!=t&&this.dispatchEvent(new ol.source.Tile.Event(t,o))},ol.source.UrlTile.prototype.setTileLoadFunction=function(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()},ol.source.UrlTile.prototype.setTileUrlFunction=function(e,t){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),"undefined"!=typeof t?this.setKey(t):this.changed()},ol.source.UrlTile.prototype.setUrl=function(e){var t=this.urls=ol.TileUrlFunction.expandUrl(e);this.setTileUrlFunction(this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):ol.TileUrlFunction.createFromTemplates(t,this.tileGrid),e)},ol.source.UrlTile.prototype.setUrls=function(e){this.urls=e;var t=e.join("\n");this.setTileUrlFunction(this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):ol.TileUrlFunction.createFromTemplates(e,this.tileGrid),t)},ol.source.UrlTile.prototype.useTile=function(e,t,o){var r=ol.tilecoord.getKeyZXY(e,t,o);this.tileCache.containsKey(r)&&this.tileCache.get(r)},goog.provide("ol.source.TileImage"),goog.require("ol"),goog.require("ol.ImageTile"),goog.require("ol.TileCache"),goog.require("ol.TileState"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.proj"),goog.require("ol.reproj.Tile"),goog.require("ol.source.UrlTile"),goog.require("ol.tilecoord"),goog.require("ol.tilegrid"),ol.source.TileImage=function(e){ol.source.UrlTile.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,extent:e.extent,logo:e.logo,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:ol.source.TileImage.defaultTileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition}),this.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,this.tileClass=void 0!==e.tileClass?e.tileClass:ol.ImageTile,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1},ol.inherits(ol.source.TileImage,ol.source.UrlTile),ol.source.TileImage.prototype.canExpireCache=function(){if(!ol.ENABLE_RASTER_REPROJECTION)return ol.source.UrlTile.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1},ol.source.TileImage.prototype.expireCache=function(e,t){if(ol.ENABLE_RASTER_REPROJECTION){var o=this.getTileCacheForProjection(e);for(var r in this.tileCache.expireCache(this.tileCache==o?t:{}),this.tileCacheForProjection){var n=this.tileCacheForProjection[r];n.expireCache(n==o?t:{})}}else ol.source.UrlTile.prototype.expireCache.call(this,e,t)},ol.source.TileImage.prototype.getGutter=function(e){return ol.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&e&&!ol.proj.equivalent(this.getProjection(),e)?0:this.getGutterInternal()},ol.source.TileImage.prototype.getGutterInternal=function(){return 0},ol.source.TileImage.prototype.getOpaque=function(e){return!(ol.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&e&&!ol.proj.equivalent(this.getProjection(),e))&&ol.source.UrlTile.prototype.getOpaque.call(this,e)},ol.source.TileImage.prototype.getTileGridForProjection=function(e){if(!ol.ENABLE_RASTER_REPROJECTION)return ol.source.UrlTile.prototype.getTileGridForProjection.call(this,e);var t=this.getProjection();if(!this.tileGrid||t&&!ol.proj.equivalent(t,e)){var o=ol.getUid(e).toString();return o in this.tileGridForProjection||(this.tileGridForProjection[o]=ol.tilegrid.getForProjection(e)),this.tileGridForProjection[o]}return this.tileGrid},ol.source.TileImage.prototype.getTileCacheForProjection=function(e){if(!ol.ENABLE_RASTER_REPROJECTION)return ol.source.UrlTile.prototype.getTileCacheForProjection.call(this,e);var t=this.getProjection();if(!t||ol.proj.equivalent(t,e))return this.tileCache;var o=ol.getUid(e).toString();return o in this.tileCacheForProjection||(this.tileCacheForProjection[o]=new ol.TileCache(this.tileCache.highWaterMark)),this.tileCacheForProjection[o]},ol.source.TileImage.prototype.createTile_=function(e,t,o,r,n,i){var l=[e,t,o],a=this.getTileCoordForTileUrlFunction(l,n),s=a?this.tileUrlFunction(a,r,n):void 0,p=new this.tileClass(l,void 0!==s?ol.TileState.IDLE:ol.TileState.EMPTY,void 0!==s?s:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return p.key=i,ol.events.listen(p,ol.events.EventType.CHANGE,this.handleTileChange,this),p},ol.source.TileImage.prototype.getTile=function(e,t,o,r,n){var i=this.getProjection();if(ol.ENABLE_RASTER_REPROJECTION&&i&&n&&!ol.proj.equivalent(i,n)){var l,a=this.getTileCacheForProjection(n),s=[e,t,o],p=ol.tilecoord.getKey(s);a.containsKey(p)&&(l=a.get(p));var u=this.getKey();if(l&&l.key==u)return l;var c=this.getTileGridForProjection(i),g=this.getTileGridForProjection(n),d=this.getTileCoordForTileUrlFunction(s,n),h=new ol.reproj.Tile(i,c,n,g,s,d,this.getTilePixelRatio(r),this.getGutterInternal(),(function(e,t,o,r){return this.getTileInternal(e,t,o,r,i)}).bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);return h.key=u,l?(h.interimTile=l,h.refreshInterimChain(),a.replace(p,h)):a.set(p,h),h}return this.getTileInternal(e,t,o,r,i||n)},ol.source.TileImage.prototype.getTileInternal=function(e,t,o,r,n){var i=null,l=ol.tilecoord.getKeyZXY(e,t,o),a=this.getKey();if(this.tileCache.containsKey(l)){if((i=this.tileCache.get(l)).key!=a){var s=i;(i=this.createTile_(e,t,o,r,n,a)).interimTile=s.getState()==ol.TileState.IDLE?s.interimTile:s,i.refreshInterimChain(),this.tileCache.replace(l,i)}}else i=this.createTile_(e,t,o,r,n,a),this.tileCache.set(l,i);return i},ol.source.TileImage.prototype.setRenderReprojectionEdges=function(e){if(ol.ENABLE_RASTER_REPROJECTION&&this.renderReprojectionEdges_!=e){for(var t in this.renderReprojectionEdges_=e,this.tileCacheForProjection)this.tileCacheForProjection[t].clear();this.changed()}},ol.source.TileImage.prototype.setTileGridForProjection=function(e,t){if(ol.ENABLE_RASTER_REPROJECTION){var o=ol.proj.get(e);if(o){var r=ol.getUid(o).toString();r in this.tileGridForProjection||(this.tileGridForProjection[r]=t)}}},ol.source.TileImage.defaultTileLoadFunction=function(e,t){e.getImage().src=t},goog.provide("ol.source.BingMaps"),goog.require("ol"),goog.require("ol.TileUrlFunction"),goog.require("ol.extent"),goog.require("ol.net"),goog.require("ol.proj"),goog.require("ol.source.State"),goog.require("ol.source.TileImage"),goog.require("ol.tilecoord"),goog.require("ol.tilegrid"),ol.source.BingMaps=function(e){this.hidpi_=void 0!==e.hidpi&&e.hidpi,ol.source.TileImage.call(this,{cacheSize:e.cacheSize,crossOrigin:"anonymous",opaque:!0,projection:ol.proj.get("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:ol.source.State.LOADING,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:this.hidpi_?2:1,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition}),this.culture_=void 0!==e.culture?e.culture:"en-us",this.maxZoom_=void 0!==e.maxZoom?e.maxZoom:-1,this.apiKey_=e.key,this.imagerySet_=e.imagerySet,ol.net.jsonp("https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.imagerySet_+"?uriScheme=https&include=ImageryProviders&key="+this.apiKey_+"&c="+this.culture_,this.handleImageryMetadataResponse.bind(this),void 0,"jsonp")},ol.inherits(ol.source.BingMaps,ol.source.TileImage),ol.source.BingMaps.TOS_ATTRIBUTION='<a class="ol-attribution-bing-tos" href="https://www.microsoft.com/maps/product/terms.html">Terms of Use</a>',ol.source.BingMaps.prototype.getApiKey=function(){return this.apiKey_},ol.source.BingMaps.prototype.getImagerySet=function(){return this.imagerySet_},ol.source.BingMaps.prototype.handleImageryMetadataResponse=function(e){if(200==e.statusCode&&"OK"==e.statusDescription&&"ValidCredentials"==e.authenticationResultCode&&1==e.resourceSets.length&&1==e.resourceSets[0].resources.length){var t=e.brandLogoUri;-1==t.indexOf("https")&&(t=t.replace("http","https"));var o=e.resourceSets[0].resources[0],r=-1==this.maxZoom_?o.zoomMax:this.maxZoom_,n=this.getProjection(),i=ol.tilegrid.extentFromProjection(n),l=ol.tilegrid.createXYZ({extent:i,minZoom:o.zoomMin,maxZoom:r,tileSize:(o.imageWidth==o.imageHeight?o.imageWidth:[o.imageWidth,o.imageHeight])/(this.hidpi_?2:1)});this.tileGrid=l;var a=this.culture_,s=this.hidpi_;if(this.tileUrlFunction=ol.TileUrlFunction.createFromTileUrlFunctions(o.imageUrlSubdomains.map(function(e){var t=[0,0,0],r=o.imageUrl.replace("{subdomain}",e).replace("{culture}",a);return function(e,o,n){if(e){ol.tilecoord.createOrUpdate(e[0],e[1],-e[2]-1,t);var i=r;return s&&(i+="&dpi=d1&device=mobile"),i.replace("{quadkey}",ol.tilecoord.quadKey(t))}}})),o.imageryProviders){var p=ol.proj.getTransformFromProjections(ol.proj.get("EPSG:4326"),this.getProjection());this.setAttributions(function(e){var t=[],r=e.viewState.zoom;return o.imageryProviders.map(function(o){for(var n=!1,i=o.coverageAreas,l=0,a=i.length;l<a;++l){var s=i[l];if(r>=s.zoomMin&&r<=s.zoomMax){var u=s.bbox,c=ol.extent.applyTransform([u[1],u[0],u[3],u[2]],p);if(ol.extent.intersects(c,e.extent)){n=!0;break}}}n&&t.push(o.attribution)}),t.push(ol.source.BingMaps.TOS_ATTRIBUTION),t})}this.setLogo(t),this.setState(ol.source.State.READY)}else this.setState(ol.source.State.ERROR)},goog.provide("ol.source.XYZ"),goog.require("ol"),goog.require("ol.source.TileImage"),goog.require("ol.tilegrid"),ol.source.XYZ=function(e){var t=e||{},o=void 0!==t.projection?t.projection:"EPSG:3857",r=void 0!==t.tileGrid?t.tileGrid:ol.tilegrid.createXYZ({extent:ol.tilegrid.extentFromProjection(o),maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});ol.source.TileImage.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,opaque:t.opaque,projection:o,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:r,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition})},ol.inherits(ol.source.XYZ,ol.source.TileImage),goog.provide("ol.source.CartoDB"),goog.require("ol"),goog.require("ol.obj"),goog.require("ol.source.State"),goog.require("ol.source.XYZ"),ol.source.CartoDB=function(e){this.account_=e.account,this.mapId_=e.map||"",this.config_=e.config||{},this.templateCache_={},ol.source.XYZ.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,logo:e.logo,maxZoom:void 0!==e.maxZoom?e.maxZoom:18,minZoom:e.minZoom,projection:e.projection,state:ol.source.State.LOADING,wrapX:e.wrapX}),this.initializeMap_()},ol.inherits(ol.source.CartoDB,ol.source.XYZ),ol.source.CartoDB.prototype.getConfig=function(){return this.config_},ol.source.CartoDB.prototype.updateConfig=function(e){ol.obj.assign(this.config_,e),this.initializeMap_()},ol.source.CartoDB.prototype.setConfig=function(e){this.config_=e||{},this.initializeMap_()},ol.source.CartoDB.prototype.initializeMap_=function(){var e=JSON.stringify(this.config_);if(this.templateCache_[e])this.applyTemplate_(this.templateCache_[e]);else{var t="https://"+this.account_+".carto.com/api/v1/map";this.mapId_&&(t+="/named/"+this.mapId_);var o=new XMLHttpRequest;o.addEventListener("load",this.handleInitResponse_.bind(this,e)),o.addEventListener("error",this.handleInitError_.bind(this)),o.open("POST",t),o.setRequestHeader("Content-type","application/json"),o.send(JSON.stringify(this.config_))}},ol.source.CartoDB.prototype.handleInitResponse_=function(e,t){var o=t.target;if(!o.status||o.status>=200&&o.status<300){var r;try{r=JSON.parse(o.responseText)}catch(e){return void this.setState(ol.source.State.ERROR)}this.applyTemplate_(r),this.templateCache_[e]=r,this.setState(ol.source.State.READY)}else this.setState(ol.source.State.ERROR)},ol.source.CartoDB.prototype.handleInitError_=function(e){this.setState(ol.source.State.ERROR)},ol.source.CartoDB.prototype.applyTemplate_=function(e){this.setUrl("https://"+e.cdn_url.https+"/"+this.account_+"/api/v1/map/"+e.layergroupid+"/{z}/{x}/{y}.png")},goog.provide("ol.source.Cluster"),goog.require("ol"),goog.require("ol.asserts"),goog.require("ol.Feature"),goog.require("ol.coordinate"),goog.require("ol.events.EventType"),goog.require("ol.extent"),goog.require("ol.geom.Point"),goog.require("ol.source.Vector"),ol.source.Cluster=function(e){ol.source.Vector.call(this,{attributions:e.attributions,extent:e.extent,logo:e.logo,projection:e.projection,wrapX:e.wrapX}),this.resolution=void 0,this.distance=void 0!==e.distance?e.distance:20,this.features=[],this.geometryFunction=e.geometryFunction||function(e){var t=e.getGeometry();return ol.asserts.assert(t instanceof ol.geom.Point,10),t},this.source=e.source,this.source.on(ol.events.EventType.CHANGE,ol.source.Cluster.prototype.refresh,this)},ol.inherits(ol.source.Cluster,ol.source.Vector),ol.source.Cluster.prototype.getDistance=function(){return this.distance},ol.source.Cluster.prototype.getSource=function(){return this.source},ol.source.Cluster.prototype.loadFeatures=function(e,t,o){this.source.loadFeatures(e,t,o),t!==this.resolution&&(this.clear(),this.resolution=t,this.cluster(),this.addFeatures(this.features))},ol.source.Cluster.prototype.setDistance=function(e){this.distance=e,this.refresh()},ol.source.Cluster.prototype.refresh=function(){this.clear(),this.cluster(),this.addFeatures(this.features),ol.source.Vector.prototype.refresh.call(this)},ol.source.Cluster.prototype.cluster=function(){if(void 0!==this.resolution){this.features.length=0;for(var e=ol.extent.createEmpty(),t=this.distance*this.resolution,o=this.source.getFeatures(),r={},n=0,i=o.length;n<i;n++){var l=o[n];if(!(ol.getUid(l).toString()in r)){var a=this.geometryFunction(l);if(a){var s=a.getCoordinates();ol.extent.createOrUpdateFromCoordinate(s,e),ol.extent.buffer(e,t,e);var p=this.source.getFeaturesInExtent(e);p=p.filter(function(e){var t=ol.getUid(e).toString();return!(t in r||(r[t]=!0,0))}),this.features.push(this.createCluster(p))}}}}},ol.source.Cluster.prototype.createCluster=function(e){for(var t=[0,0],o=e.length-1;o>=0;--o){var r=this.geometryFunction(e[o]);r?ol.coordinate.add(t,r.getCoordinates()):e.splice(o,1)}ol.coordinate.scale(t,1/e.length);var n=new ol.Feature(new ol.geom.Point(t));return n.set("features",e),n},goog.provide("ol.source.Image"),goog.require("ol"),goog.require("ol.ImageState"),goog.require("ol.array"),goog.require("ol.events.Event"),goog.require("ol.extent"),goog.require("ol.proj"),goog.require("ol.reproj.Image"),goog.require("ol.source.Source"),ol.source.Image=function(e){ol.source.Source.call(this,{attributions:e.attributions,extent:e.extent,logo:e.logo,projection:e.projection,state:e.state}),this.resolutions_=void 0!==e.resolutions?e.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0},ol.inherits(ol.source.Image,ol.source.Source),ol.source.Image.prototype.getResolutions=function(){return this.resolutions_},ol.source.Image.prototype.findNearestResolution=function(e){if(this.resolutions_){var t=ol.array.linearFindNearest(this.resolutions_,e,0);e=this.resolutions_[t]}return e},ol.source.Image.prototype.getImage=function(e,t,o,r){var n=this.getProjection();if(ol.ENABLE_RASTER_REPROJECTION&&n&&r&&!ol.proj.equivalent(n,r)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&ol.proj.equivalent(this.reprojectedImage_.getProjection(),r)&&this.reprojectedImage_.getResolution()==t&&ol.extent.equals(this.reprojectedImage_.getExtent(),e))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new ol.reproj.Image(n,r,e,t,o,(function(e,t,o){return this.getImageInternal(e,t,o,n)}).bind(this)),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}return n&&(r=n),this.getImageInternal(e,t,o,r)},ol.source.Image.prototype.getImageInternal=function(e,t,o,r){},ol.source.Image.prototype.handleImageChange=function(e){var t=e.target;switch(t.getState()){case ol.ImageState.LOADING:this.dispatchEvent(new ol.source.Image.Event(ol.source.Image.EventType_.IMAGELOADSTART,t));break;case ol.ImageState.LOADED:this.dispatchEvent(new ol.source.Image.Event(ol.source.Image.EventType_.IMAGELOADEND,t));break;case ol.ImageState.ERROR:this.dispatchEvent(new ol.source.Image.Event(ol.source.Image.EventType_.IMAGELOADERROR,t))}},ol.source.Image.defaultImageLoadFunction=function(e,t){e.getImage().src=t},ol.source.Image.Event=function(e,t){ol.events.Event.call(this,e),this.image=t},ol.inherits(ol.source.Image.Event,ol.events.Event),ol.source.Image.EventType_={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"},goog.provide("ol.uri"),ol.uri.appendParams=function(e,t){var o=[];Object.keys(t).forEach(function(e){null!==t[e]&&void 0!==t[e]&&o.push(e+"="+encodeURIComponent(t[e]))});var r=o.join("&");return(e=-1===(e=e.replace(/[?&]$/,"")).indexOf("?")?e+"?":e+"&")+r},goog.provide("ol.source.ImageArcGISRest"),goog.require("ol"),goog.require("ol.Image"),goog.require("ol.asserts"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.extent"),goog.require("ol.obj"),goog.require("ol.source.Image"),goog.require("ol.uri"),ol.source.ImageArcGISRest=function(e){var t=e||{};ol.source.Image.call(this,{attributions:t.attributions,logo:t.logo,projection:t.projection,resolutions:t.resolutions}),this.crossOrigin_=void 0!==t.crossOrigin?t.crossOrigin:null,this.hidpi_=void 0===t.hidpi||t.hidpi,this.url_=t.url,this.imageLoadFunction_=void 0!==t.imageLoadFunction?t.imageLoadFunction:ol.source.Image.defaultImageLoadFunction,this.params_=t.params||{},this.image_=null,this.imageSize_=[0,0],this.renderedRevision_=0,this.ratio_=void 0!==t.ratio?t.ratio:1.5},ol.inherits(ol.source.ImageArcGISRest,ol.source.Image),ol.source.ImageArcGISRest.prototype.getParams=function(){return this.params_},ol.source.ImageArcGISRest.prototype.getImageInternal=function(e,t,o,r){if(void 0===this.url_)return null;t=this.findNearestResolution(t),o=this.hidpi_?o:1;var n=this.image_;if(n&&this.renderedRevision_==this.getRevision()&&n.getResolution()==t&&n.getPixelRatio()==o&&ol.extent.containsExtent(n.getExtent(),e))return n;var i={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};ol.obj.assign(i,this.params_);var l=((e=e.slice())[0]+e[2])/2,a=(e[1]+e[3])/2;if(1!=this.ratio_){var s=this.ratio_*ol.extent.getWidth(e)/2,p=this.ratio_*ol.extent.getHeight(e)/2;e[0]=l-s,e[1]=a-p,e[2]=l+s,e[3]=a+p}var u=t/o,c=Math.ceil(ol.extent.getWidth(e)/u),g=Math.ceil(ol.extent.getHeight(e)/u);e[0]=l-u*c/2,e[2]=l+u*c/2,e[1]=a-u*g/2,e[3]=a+u*g/2,this.imageSize_[0]=c,this.imageSize_[1]=g;var d=this.getRequestUrl_(e,this.imageSize_,o,r,i);return this.image_=new ol.Image(e,t,o,d,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),ol.events.listen(this.image_,ol.events.EventType.CHANGE,this.handleImageChange,this),this.image_},ol.source.ImageArcGISRest.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},ol.source.ImageArcGISRest.prototype.getRequestUrl_=function(e,t,o,r,n){var i=r.getCode().split(":").pop();n.SIZE=t[0]+","+t[1],n.BBOX=e.join(","),n.BBOXSR=i,n.IMAGESR=i,n.DPI=Math.round(90*o);var l=this.url_,a=l.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");return a==l&&ol.asserts.assert(!1,50),ol.uri.appendParams(a,n)},ol.source.ImageArcGISRest.prototype.getUrl=function(){return this.url_},ol.source.ImageArcGISRest.prototype.setImageLoadFunction=function(e){this.image_=null,this.imageLoadFunction_=e,this.changed()},ol.source.ImageArcGISRest.prototype.setUrl=function(e){e!=this.url_&&(this.url_=e,this.image_=null,this.changed())},ol.source.ImageArcGISRest.prototype.updateParams=function(e){ol.obj.assign(this.params_,e),this.image_=null,this.changed()},goog.provide("ol.source.ImageCanvas"),goog.require("ol"),goog.require("ol.ImageCanvas"),goog.require("ol.extent"),goog.require("ol.source.Image"),ol.source.ImageCanvas=function(e){ol.source.Image.call(this,{attributions:e.attributions,logo:e.logo,projection:e.projection,resolutions:e.resolutions,state:e.state}),this.canvasFunction_=e.canvasFunction,this.canvas_=null,this.renderedRevision_=0,this.ratio_=void 0!==e.ratio?e.ratio:1.5},ol.inherits(ol.source.ImageCanvas,ol.source.Image),ol.source.ImageCanvas.prototype.getImageInternal=function(e,t,o,r){t=this.findNearestResolution(t);var n=this.canvas_;if(n&&this.renderedRevision_==this.getRevision()&&n.getResolution()==t&&n.getPixelRatio()==o&&ol.extent.containsExtent(n.getExtent(),e))return n;e=e.slice(),ol.extent.scaleFromCenter(e,this.ratio_);var i=ol.extent.getWidth(e)/t,l=ol.extent.getHeight(e)/t,a=this.canvasFunction_(e,t,o,[i*o,l*o],r);return a&&(n=new ol.ImageCanvas(e,t,o,a)),this.canvas_=n,this.renderedRevision_=this.getRevision(),n},goog.provide("ol.source.ImageMapGuide"),goog.require("ol"),goog.require("ol.Image"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.extent"),goog.require("ol.obj"),goog.require("ol.source.Image"),goog.require("ol.uri"),ol.source.ImageMapGuide=function(e){ol.source.Image.call(this,{projection:e.projection,resolutions:e.resolutions}),this.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null,this.displayDpi_=void 0!==e.displayDpi?e.displayDpi:96,this.params_=e.params||{},this.url_=e.url,this.imageLoadFunction_=void 0!==e.imageLoadFunction?e.imageLoadFunction:ol.source.Image.defaultImageLoadFunction,this.hidpi_=void 0===e.hidpi||e.hidpi,this.metersPerUnit_=void 0!==e.metersPerUnit?e.metersPerUnit:1,this.ratio_=void 0!==e.ratio?e.ratio:1,this.useOverlay_=void 0!==e.useOverlay&&e.useOverlay,this.image_=null,this.renderedRevision_=0},ol.inherits(ol.source.ImageMapGuide,ol.source.Image),ol.source.ImageMapGuide.prototype.getParams=function(){return this.params_},ol.source.ImageMapGuide.prototype.getImageInternal=function(e,t,o,r){t=this.findNearestResolution(t),o=this.hidpi_?o:1;var n=this.image_;if(n&&this.renderedRevision_==this.getRevision()&&n.getResolution()==t&&n.getPixelRatio()==o&&ol.extent.containsExtent(n.getExtent(),e))return n;1!=this.ratio_&&(e=e.slice(),ol.extent.scaleFromCenter(e,this.ratio_));var i=ol.extent.getWidth(e)/t,l=ol.extent.getHeight(e)/t;if(void 0!==this.url_){var a=this.getUrl(this.url_,this.params_,e,[i*o,l*o],r);n=new ol.Image(e,t,o,a,this.crossOrigin_,this.imageLoadFunction_),ol.events.listen(n,ol.events.EventType.CHANGE,this.handleImageChange,this)}else n=null;return this.image_=n,this.renderedRevision_=this.getRevision(),n},ol.source.ImageMapGuide.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},ol.source.ImageMapGuide.getScale=function(e,t,o,r){var n=ol.extent.getWidth(e),i=ol.extent.getHeight(e),l=t[0],a=t[1],s=.0254/r;return a*n>l*i?n*o/(l*s):i*o/(a*s)},ol.source.ImageMapGuide.prototype.updateParams=function(e){ol.obj.assign(this.params_,e),this.changed()},ol.source.ImageMapGuide.prototype.getUrl=function(e,t,o,r,n){var i=ol.source.ImageMapGuide.getScale(o,r,this.metersPerUnit_,this.displayDpi_),l=ol.extent.getCenter(o),a={OPERATION:this.useOverlay_?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol.source.ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.displayDpi_,SETDISPLAYWIDTH:Math.round(r[0]),SETDISPLAYHEIGHT:Math.round(r[1]),SETVIEWSCALE:i,SETVIEWCENTERX:l[0],SETVIEWCENTERY:l[1]};return ol.obj.assign(a,t),ol.uri.appendParams(e,a)},ol.source.ImageMapGuide.prototype.setImageLoadFunction=function(e){this.image_=null,this.imageLoadFunction_=e,this.changed()},goog.provide("ol.source.ImageStatic"),goog.require("ol"),goog.require("ol.Image"),goog.require("ol.ImageState"),goog.require("ol.dom"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.extent"),goog.require("ol.proj"),goog.require("ol.source.Image"),ol.source.ImageStatic=function(e){var t=e.imageExtent,o=void 0!==e.crossOrigin?e.crossOrigin:null,r=void 0!==e.imageLoadFunction?e.imageLoadFunction:ol.source.Image.defaultImageLoadFunction;ol.source.Image.call(this,{attributions:e.attributions,logo:e.logo,projection:ol.proj.get(e.projection)}),this.image_=new ol.Image(t,void 0,1,e.url,o,r),this.imageSize_=e.imageSize?e.imageSize:null,ol.events.listen(this.image_,ol.events.EventType.CHANGE,this.handleImageChange,this)},ol.inherits(ol.source.ImageStatic,ol.source.Image),ol.source.ImageStatic.prototype.getImageInternal=function(e,t,o,r){return ol.extent.intersects(e,this.image_.getExtent())?this.image_:null},ol.source.ImageStatic.prototype.handleImageChange=function(e){if(this.image_.getState()==ol.ImageState.LOADED){var t,o,r=this.image_.getExtent(),n=this.image_.getImage();this.imageSize_?(t=this.imageSize_[0],o=this.imageSize_[1]):(t=n.width,o=n.height);var i=ol.extent.getHeight(r)/o,l=Math.ceil(ol.extent.getWidth(r)/i);if(l!=t){var a=ol.dom.createCanvasContext2D(l,o),s=a.canvas;a.drawImage(n,0,0,t,o,0,0,s.width,s.height),this.image_.setImage(s)}}ol.source.Image.prototype.handleImageChange.call(this,e)},goog.provide("ol.source.ImageVector"),goog.require("ol"),goog.require("ol.dom"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.ext.rbush"),goog.require("ol.extent"),goog.require("ol.render.canvas.ReplayGroup"),goog.require("ol.renderer.vector"),goog.require("ol.source.ImageCanvas"),goog.require("ol.style.Style"),goog.require("ol.transform"),ol.source.ImageVector=function(e){this.source_=e.source,this.transform_=ol.transform.create(),this.canvasContext_=ol.dom.createCanvasContext2D(),this.canvasSize_=[0,0],this.declutterTree_=ol.ext.rbush(9),this.renderBuffer_=void 0==e.renderBuffer?100:e.renderBuffer,this.replayGroup_=null,ol.source.ImageCanvas.call(this,{attributions:e.attributions,canvasFunction:this.canvasFunctionInternal_.bind(this),logo:e.logo,projection:e.projection,ratio:e.ratio,resolutions:e.resolutions,state:this.source_.getState()}),this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),ol.events.listen(this.source_,ol.events.EventType.CHANGE,this.handleSourceChange_,this)},ol.inherits(ol.source.ImageVector,ol.source.ImageCanvas),ol.source.ImageVector.prototype.canvasFunctionInternal_=function(e,t,o,r,n){var i=new ol.render.canvas.ReplayGroup(ol.renderer.vector.getTolerance(t,o),e,t,o,this.source_.getOverlaps(),this.declutterTree_,this.renderBuffer_);this.source_.loadFeatures(e,t,n);var l=!1;if(this.source_.forEachFeatureInExtent(e,function(e){l=l||this.renderFeature_(e,t,o,i)},this),i.finish(),l)return null;this.canvasSize_[0]!=r[0]||this.canvasSize_[1]!=r[1]?(this.canvasContext_.canvas.width=r[0],this.canvasContext_.canvas.height=r[1],this.canvasSize_[0]=r[0],this.canvasSize_[1]=r[1]):this.canvasContext_.clearRect(0,0,r[0],r[1]),this.declutterTree_.clear();var a=this.getTransform_(ol.extent.getCenter(e),t,o,r);return i.replay(this.canvasContext_,a,0,{}),this.replayGroup_=i,this.canvasContext_.canvas},ol.source.ImageVector.prototype.forEachFeatureAtCoordinate=function(e,t,o,r,n,i){if(this.replayGroup_){var l={};return this.replayGroup_.forEachFeatureAtCoordinate(e,t,0,r,n,function(e){var t=ol.getUid(e).toString();if(!(t in l))return l[t]=!0,i(e)},null)}},ol.source.ImageVector.prototype.getSource=function(){return this.source_},ol.source.ImageVector.prototype.getStyle=function(){return this.style_},ol.source.ImageVector.prototype.getStyleFunction=function(){return this.styleFunction_},ol.source.ImageVector.prototype.getTransform_=function(e,t,o,r){var n=o/t;return ol.transform.compose(this.transform_,r[0]/2,r[1]/2,n,-n,0,-e[0],-e[1])},ol.source.ImageVector.prototype.handleImageChange_=function(e){this.changed()},ol.source.ImageVector.prototype.handleSourceChange_=function(){this.setState(this.source_.getState())},ol.source.ImageVector.prototype.renderFeature_=function(e,t,o,r){var n,i=e.getStyleFunction();if(i?n=i.call(e,t):this.styleFunction_&&(n=this.styleFunction_(e,t)),!n)return!1;var l,a,s=!1;for(Array.isArray(n)||(n=[n]),l=0,a=n.length;l<a;++l)s=ol.renderer.vector.renderFeature(r,e,n[l],ol.renderer.vector.getSquaredTolerance(t,o),this.handleImageChange_,this)||s;return s},ol.source.ImageVector.prototype.setStyle=function(e){this.style_=void 0!==e?e:ol.style.Style.defaultFunction,this.styleFunction_=e?ol.style.Style.createFunction(this.style_):void 0,this.changed()},goog.provide("ol.source.WMSServerType"),ol.source.WMSServerType={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"},goog.provide("ol.source.ImageWMS"),goog.require("ol"),goog.require("ol.Image"),goog.require("ol.asserts"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.extent"),goog.require("ol.obj"),goog.require("ol.proj"),goog.require("ol.reproj"),goog.require("ol.source.Image"),goog.require("ol.source.WMSServerType"),goog.require("ol.string"),goog.require("ol.uri"),ol.source.ImageWMS=function(e){var t=e||{};ol.source.Image.call(this,{attributions:t.attributions,logo:t.logo,projection:t.projection,resolutions:t.resolutions}),this.crossOrigin_=void 0!==t.crossOrigin?t.crossOrigin:null,this.url_=t.url,this.imageLoadFunction_=void 0!==t.imageLoadFunction?t.imageLoadFunction:ol.source.Image.defaultImageLoadFunction,this.params_=t.params||{},this.v13_=!0,this.updateV13_(),this.serverType_=t.serverType,this.hidpi_=void 0===t.hidpi||t.hidpi,this.image_=null,this.imageSize_=[0,0],this.renderedRevision_=0,this.ratio_=void 0!==t.ratio?t.ratio:1.5},ol.inherits(ol.source.ImageWMS,ol.source.Image),ol.source.ImageWMS.GETFEATUREINFO_IMAGE_SIZE_=[101,101],ol.source.ImageWMS.prototype.getGetFeatureInfoUrl=function(e,t,o,r){if(void 0!==this.url_){var n=ol.proj.get(o),i=this.getProjection();i&&i!==n&&(t=ol.reproj.calculateSourceResolution(i,n,e,t),e=ol.proj.transform(e,n,i));var l=ol.extent.getForViewAndSize(e,t,0,ol.source.ImageWMS.GETFEATUREINFO_IMAGE_SIZE_),a={SERVICE:"WMS",VERSION:ol.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};ol.obj.assign(a,this.params_,r);var s=Math.floor((e[0]-l[0])/t),p=Math.floor((l[3]-e[1])/t);return a[this.v13_?"I":"X"]=s,a[this.v13_?"J":"Y"]=p,this.getRequestUrl_(l,ol.source.ImageWMS.GETFEATUREINFO_IMAGE_SIZE_,1,i||n,a)}},ol.source.ImageWMS.prototype.getParams=function(){return this.params_},ol.source.ImageWMS.prototype.getImageInternal=function(e,t,o,r){if(void 0===this.url_)return null;t=this.findNearestResolution(t),1==o||this.hidpi_&&void 0!==this.serverType_||(o=1);var n=t/o,i=ol.extent.getCenter(e),l=Math.ceil(ol.extent.getWidth(e)/n),a=Math.ceil(ol.extent.getHeight(e)/n),s=ol.extent.getForViewAndSize(i,n,0,[l,a]),p=Math.ceil(this.ratio_*ol.extent.getWidth(e)/n),u=Math.ceil(this.ratio_*ol.extent.getHeight(e)/n),c=ol.extent.getForViewAndSize(i,n,0,[p,u]),g=this.image_;if(g&&this.renderedRevision_==this.getRevision()&&g.getResolution()==t&&g.getPixelRatio()==o&&ol.extent.containsExtent(g.getExtent(),s))return g;var d={SERVICE:"WMS",VERSION:ol.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};ol.obj.assign(d,this.params_),this.imageSize_[0]=Math.round(ol.extent.getWidth(c)/n),this.imageSize_[1]=Math.round(ol.extent.getHeight(c)/n);var h=this.getRequestUrl_(c,this.imageSize_,o,r,d);return this.image_=new ol.Image(c,t,o,h,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),ol.events.listen(this.image_,ol.events.EventType.CHANGE,this.handleImageChange,this),this.image_},ol.source.ImageWMS.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},ol.source.ImageWMS.prototype.getRequestUrl_=function(e,t,o,r,n){if(ol.asserts.assert(void 0!==this.url_,9),n[this.v13_?"CRS":"SRS"]=r.getCode(),"STYLES"in this.params_||(n.STYLES=""),1!=o)switch(this.serverType_){case ol.source.WMSServerType.GEOSERVER:var i=90*o+.5|0;"FORMAT_OPTIONS"in n?n.FORMAT_OPTIONS+=";dpi:"+i:n.FORMAT_OPTIONS="dpi:"+i;break;case ol.source.WMSServerType.MAPSERVER:n.MAP_RESOLUTION=90*o;break;case ol.source.WMSServerType.CARMENTA_SERVER:case ol.source.WMSServerType.QGIS:n.DPI=90*o;break;default:ol.asserts.assert(!1,8)}n.WIDTH=t[0],n.HEIGHT=t[1];var l,a=r.getAxisOrientation();return l=this.v13_&&"ne"==a.substr(0,2)?[e[1],e[0],e[3],e[2]]:e,n.BBOX=l.join(","),ol.uri.appendParams(this.url_,n)},ol.source.ImageWMS.prototype.getUrl=function(){return this.url_},ol.source.ImageWMS.prototype.setImageLoadFunction=function(e){this.image_=null,this.imageLoadFunction_=e,this.changed()},ol.source.ImageWMS.prototype.setUrl=function(e){e!=this.url_&&(this.url_=e,this.image_=null,this.changed())},ol.source.ImageWMS.prototype.updateParams=function(e){ol.obj.assign(this.params_,e),this.updateV13_(),this.image_=null,this.changed()},ol.source.ImageWMS.prototype.updateV13_=function(){var e=this.params_.VERSION||ol.DEFAULT_WMS_VERSION;this.v13_=ol.string.compareVersions(e,"1.3")>=0},goog.provide("ol.source.OSM"),goog.require("ol"),goog.require("ol.source.XYZ"),ol.source.OSM=function(e){var t,o=e||{};t=void 0!==o.attributions?o.attributions:[ol.source.OSM.ATTRIBUTION],ol.source.XYZ.call(this,{attributions:t,cacheSize:o.cacheSize,crossOrigin:void 0!==o.crossOrigin?o.crossOrigin:"anonymous",opaque:void 0===o.opaque||o.opaque,maxZoom:void 0!==o.maxZoom?o.maxZoom:19,reprojectionErrorThreshold:o.reprojectionErrorThreshold,tileLoadFunction:o.tileLoadFunction,url:void 0!==o.url?o.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:o.wrapX})},ol.inherits(ol.source.OSM,ol.source.XYZ),ol.source.OSM.ATTRIBUTION='&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.',goog.provide("ol.ext.pixelworks.Processor"),ol.ext.pixelworks.Processor=function(){},(function(){!function(e){"use strict";var t=!0;try{new ImageData(10,10)}catch(e){t=!1}var o=document.createElement("canvas").getContext("2d");function r(e){var t=!0;try{new ImageData(10,10)}catch(e){t=!1}function o(e,o,r){return t?new ImageData(e,o,r):{data:e,width:o,height:r}}return function(t){var r,n,i=t.buffers,l=t.meta,a=t.width,s=t.height,p=i.length,u=i[0].byteLength;if(t.imageOps){var c=new Array(p);for(n=0;n<p;++n)c[n]=o(new Uint8ClampedArray(i[n]),a,s);r=e(c,l).data}else{r=new Uint8ClampedArray(u);var g=new Array(p),d=new Array(p);for(n=0;n<p;++n)g[n]=new Uint8ClampedArray(i[n]),d[n]=[0,0,0,0];for(var h=0;h<u;h+=4){for(var y=0;y<p;++y){var f=g[y];d[y][0]=f[h],d[y][1]=f[h+1],d[y][2]=f[h+2],d[y][3]=f[h+3]}var m=e(d,l);r[h]=m[0],r[h+1]=m[1],r[h+2]=m[2],r[h+3]=m[3]}}return r.buffer}}function n(e,t){var o=Object.keys(e.lib||{}).map(function(t){return"var "+t+" = "+e.lib[t].toString()+";"}).concat(["var __minion__ = ("+r.toString()+")(",e.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),n=new Blob(o,{type:"text/javascript"}),i=URL.createObjectURL(n),l=new Worker(i);return l.addEventListener("message",t),l}function i(e){var t;this._imageOps=!!e.imageOps;var o=[];if(t=0===e.threads?0:this._imageOps?1:e.threads||1)for(var i=0;i<t;++i)o[i]=n(e,this._onWorkerMessage.bind(this,i));else o[0]=function(e,t){var o=r(e.operation);return{postMessage:function(e){setTimeout(function(){t({data:{buffer:o(e),meta:e.meta}})},0)}}}(e,this._onWorkerMessage.bind(this,0));this._workers=o,this._queue=[],this._maxQueueLength=e.queue||1/0,this._running=0,this._dataLookup={},this._job=null}i.prototype.process=function(e,t,o){this._enqueue({inputs:e,meta:t,callback:o}),this._dispatch()},i.prototype.destroy=function(){for(var e in this)this[e]=null;this._destroyed=!0},i.prototype._enqueue=function(e){for(this._queue.push(e);this._queue.length>this._maxQueueLength;)this._queue.shift().callback(null,null)},i.prototype._dispatch=function(){if(0===this._running&&this._queue.length>0){var e=this._job=this._queue.shift(),t=e.inputs[0].width,o=e.inputs[0].height,r=e.inputs.map(function(e){return e.data.buffer}),n=this._workers.length;if(this._running=n,1===n)this._workers[0].postMessage({buffers:r,meta:e.meta,imageOps:this._imageOps,width:t,height:o},r);else for(var i=4*Math.ceil(e.inputs[0].data.length/4/n),l=0;l<n;++l){for(var a=l*i,s=[],p=0,u=r.length;p<u;++p)s.push(r[l].slice(a,a+i));this._workers[l].postMessage({buffers:s,meta:e.meta,imageOps:this._imageOps,width:t,height:o},s)}}},i.prototype._onWorkerMessage=function(e,t){this._destroyed||(this._dataLookup[e]=t.data,--this._running,0===this._running&&this._resolveJob())},i.prototype._resolveJob=function(){var e,r,n=this._job,i=this._workers.length;if(1===i)e=new Uint8ClampedArray(this._dataLookup[0].buffer),r=this._dataLookup[0].meta;else{var l=n.inputs[0].data.length;e=new Uint8ClampedArray(l),r=new Array(l);for(var a=4*Math.ceil(l/4/i),s=0;s<i;++s){var p=s*a;e.set(new Uint8ClampedArray(this._dataLookup[s].buffer),p),r[s]=this._dataLookup[s].meta}}this._job=null,this._dataLookup={},n.callback(null,function(e,r,n){if(t)return new ImageData(e,r,n);var i=o.createImageData(r,n);return i.data.set(e),i}(e,n.inputs[0].width,n.inputs[0].height),r),this._dispatch()};var l=i;e.default={Processor:l},e.Processor=l}(this.pixelworks=this.pixelworks||{})}).call(ol.ext),goog.provide("ol.source.RasterOperationType"),ol.source.RasterOperationType={PIXEL:"pixel",IMAGE:"image"},goog.provide("ol.source.Raster"),goog.require("ol"),goog.require("ol.ImageCanvas"),goog.require("ol.TileQueue"),goog.require("ol.dom"),goog.require("ol.events"),goog.require("ol.events.Event"),goog.require("ol.events.EventType"),goog.require("ol.ext.pixelworks.Processor"),goog.require("ol.extent"),goog.require("ol.layer.Image"),goog.require("ol.layer.Tile"),goog.require("ol.obj"),goog.require("ol.renderer.canvas.ImageLayer"),goog.require("ol.renderer.canvas.TileLayer"),goog.require("ol.source.Image"),goog.require("ol.source.RasterOperationType"),goog.require("ol.source.State"),goog.require("ol.source.Tile"),goog.require("ol.transform"),ol.source.Raster=function(e){this.worker_=null,this.operationType_=void 0!==e.operationType?e.operationType:ol.source.RasterOperationType.PIXEL,this.threads_=void 0!==e.threads?e.threads:1,this.renderers_=ol.source.Raster.createRenderers_(e.sources);for(var t=0,o=this.renderers_.length;t<o;++t)ol.events.listen(this.renderers_[t],ol.events.EventType.CHANGE,this.changed,this);this.tileQueue_=new ol.TileQueue(function(){return 1},this.changed.bind(this));for(var r=ol.source.Raster.getLayerStatesArray_(this.renderers_),n={},i=0,l=r.length;i<l;++i)n[ol.getUid(r[i].layer)]=r[i];this.renderedImageCanvas_=null,this.frameState_={animate:!1,coordinateToPixelTransform:ol.transform.create(),extent:null,focus:null,index:0,layerStates:n,layerStatesArray:r,logos:{},pixelRatio:1,pixelToCoordinateTransform:ol.transform.create(),postRenderFunctions:[],size:[0,0],skippedFeatureUids:{},tileQueue:this.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{}},ol.source.Image.call(this,{}),void 0!==e.operation&&this.setOperation(e.operation,e.lib)},ol.inherits(ol.source.Raster,ol.source.Image),ol.source.Raster.prototype.setOperation=function(e,t){this.worker_=new ol.ext.pixelworks.Processor({operation:e,imageOps:this.operationType_===ol.source.RasterOperationType.IMAGE,queue:1,lib:t,threads:this.threads_}),this.changed()},ol.source.Raster.prototype.updateFrameState_=function(e,t,o){var r=ol.obj.assign({},this.frameState_);r.viewState=ol.obj.assign({},r.viewState);var n=ol.extent.getCenter(e);r.extent=e.slice(),r.focus=n,r.size[0]=Math.round(ol.extent.getWidth(e)/t),r.size[1]=Math.round(ol.extent.getHeight(e)/t),r.time=Date.now(),r.animate=!1;var i=r.viewState;return i.center=n,i.projection=o,i.resolution=t,r},ol.source.Raster.prototype.allSourcesReady_=function(){for(var e=!0,t=0,o=this.renderers_.length;t<o;++t)if(this.renderers_[t].getLayer().getSource().getState()!==ol.source.State.READY){e=!1;break}return e},ol.source.Raster.prototype.getImage=function(e,t,o,r){if(!this.allSourcesReady_())return null;var n=this.updateFrameState_(e,t,r);if(this.requestedFrameState_=n,this.renderedImageCanvas_){var i=this.renderedImageCanvas_.getResolution(),l=this.renderedImageCanvas_.getExtent();t===i&&ol.extent.equals(e,l)||(this.renderedImageCanvas_=null)}return this.renderedImageCanvas_&&this.getRevision()===this.renderedRevision_||this.processSources_(),n.tileQueue.loadMoreTiles(16,16),n.animate&&requestAnimationFrame(this.changed.bind(this)),this.renderedImageCanvas_},ol.source.Raster.prototype.processSources_=function(){for(var e=this.requestedFrameState_,t=this.renderers_.length,o=new Array(t),r=0;r<t;++r){var n=ol.source.Raster.getImageData_(this.renderers_[r],e,e.layerStatesArray[r]);if(!n)return;o[r]=n}var i={};this.dispatchEvent(new ol.source.Raster.Event(ol.source.Raster.EventType_.BEFOREOPERATIONS,e,i)),this.worker_.process(o,i,this.onWorkerComplete_.bind(this,e))},ol.source.Raster.prototype.onWorkerComplete_=function(e,t,o,r){if(!t&&o){var n=e.extent,i=e.viewState.resolution;if(i===this.requestedFrameState_.viewState.resolution&&ol.extent.equals(n,this.requestedFrameState_.extent)){var l;if(this.renderedImageCanvas_)l=this.renderedImageCanvas_.getImage().getContext("2d");else{var a=Math.round(ol.extent.getWidth(n)/i),s=Math.round(ol.extent.getHeight(n)/i);l=ol.dom.createCanvasContext2D(a,s),this.renderedImageCanvas_=new ol.ImageCanvas(n,i,1,l.canvas)}l.putImageData(o,0,0),this.changed(),this.renderedRevision_=this.getRevision(),this.dispatchEvent(new ol.source.Raster.Event(ol.source.Raster.EventType_.AFTEROPERATIONS,e,r))}}},ol.source.Raster.getImageData_=function(e,t,o){if(!e.prepareFrame(t,o))return null;var r=t.size[0],n=t.size[1];if(ol.source.Raster.context_){var i=ol.source.Raster.context_.canvas;i.width!==r||i.height!==n?ol.source.Raster.context_=ol.dom.createCanvasContext2D(r,n):ol.source.Raster.context_.clearRect(0,0,r,n)}else ol.source.Raster.context_=ol.dom.createCanvasContext2D(r,n);return e.composeFrame(t,o,ol.source.Raster.context_),ol.source.Raster.context_.getImageData(0,0,r,n)},ol.source.Raster.context_=null,ol.source.Raster.getLayerStatesArray_=function(e){return e.map(function(e){return e.getLayer().getLayerState()})},ol.source.Raster.createRenderers_=function(e){for(var t=e.length,o=new Array(t),r=0;r<t;++r)o[r]=ol.source.Raster.createRenderer_(e[r]);return o},ol.source.Raster.createRenderer_=function(e){var t=null;return e instanceof ol.source.Tile?t=ol.source.Raster.createTileRenderer_(e):e instanceof ol.source.Image&&(t=ol.source.Raster.createImageRenderer_(e)),t},ol.source.Raster.createImageRenderer_=function(e){var t=new ol.layer.Image({source:e});return new ol.renderer.canvas.ImageLayer(t)},ol.source.Raster.createTileRenderer_=function(e){var t=new ol.layer.Tile({source:e});return new ol.renderer.canvas.TileLayer(t)},ol.source.Raster.Event=function(e,t,o){ol.events.Event.call(this,e),this.extent=t.extent,this.resolution=t.viewState.resolution/t.pixelRatio,this.data=o},ol.inherits(ol.source.Raster.Event,ol.events.Event),ol.source.Raster.prototype.getImageInternal=function(){return null},ol.source.Raster.EventType_={BEFOREOPERATIONS:"beforeoperations",AFTEROPERATIONS:"afteroperations"},goog.provide("ol.source.Stamen"),goog.require("ol"),goog.require("ol.source.OSM"),goog.require("ol.source.XYZ"),ol.source.Stamen=function(e){var t=e.layer.indexOf("-"),o=-1==t?e.layer:e.layer.slice(0,t),r=ol.source.Stamen.ProviderConfig[o],n=ol.source.Stamen.LayerConfig[e.layer];ol.source.XYZ.call(this,{attributions:ol.source.Stamen.ATTRIBUTIONS,cacheSize:e.cacheSize,crossOrigin:"anonymous",maxZoom:void 0!=e.maxZoom?e.maxZoom:r.maxZoom,minZoom:void 0!=e.minZoom?e.minZoom:r.minZoom,opaque:n.opaque,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,url:void 0!==e.url?e.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+e.layer+"/{z}/{x}/{y}."+n.extension,wrapX:e.wrapX})},ol.inherits(ol.source.Stamen,ol.source.XYZ),ol.source.Stamen.ATTRIBUTIONS=['Map tiles by <a href="https://stamen.com/">Stamen Design</a>, under <a href="https://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.',ol.source.OSM.ATTRIBUTION],ol.source.Stamen.LayerConfig={terrain:{extension:"jpg",opaque:!0},"terrain-background":{extension:"jpg",opaque:!0},"terrain-labels":{extension:"png",opaque:!1},"terrain-lines":{extension:"png",opaque:!1},"toner-background":{extension:"png",opaque:!0},toner:{extension:"png",opaque:!0},"toner-hybrid":{extension:"png",opaque:!1},"toner-labels":{extension:"png",opaque:!1},"toner-lines":{extension:"png",opaque:!1},"toner-lite":{extension:"png",opaque:!0},watercolor:{extension:"jpg",opaque:!0}},ol.source.Stamen.ProviderConfig={terrain:{minZoom:4,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:1,maxZoom:16}},goog.provide("ol.source.TileArcGISRest"),goog.require("ol"),goog.require("ol.extent"),goog.require("ol.math"),goog.require("ol.obj"),goog.require("ol.size"),goog.require("ol.source.TileImage"),goog.require("ol.tilecoord"),goog.require("ol.uri"),ol.source.TileArcGISRest=function(e){var t=e||{};ol.source.TileImage.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition}),this.params_=t.params||{},this.tmpExtent_=ol.extent.createEmpty(),this.setKey(this.getKeyForParams_())},ol.inherits(ol.source.TileArcGISRest,ol.source.TileImage),ol.source.TileArcGISRest.prototype.getKeyForParams_=function(){var e=0,t=[];for(var o in this.params_)t[e++]=o+"-"+this.params_[o];return t.join("/")},ol.source.TileArcGISRest.prototype.getParams=function(){return this.params_},ol.source.TileArcGISRest.prototype.getRequestUrl_=function(e,t,o,r,n,i){var l=this.urls;if(l){var a=n.getCode().split(":").pop();i.SIZE=t[0]+","+t[1],i.BBOX=o.join(","),i.BBOXSR=a,i.IMAGESR=a,i.DPI=Math.round(i.DPI?i.DPI*r:90*r);var s=(1==l.length?l[0]:l[ol.math.modulo(ol.tilecoord.hash(e),l.length)]).replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");return ol.uri.appendParams(s,i)}},ol.source.TileArcGISRest.prototype.getTilePixelRatio=function(e){return e},ol.source.TileArcGISRest.prototype.fixedTileUrlFunction=function(e,t,o){var r=this.getTileGrid();if(r||(r=this.getTileGridForProjection(o)),!(r.getResolutions().length<=e[0])){var n=r.getTileCoordExtent(e,this.tmpExtent_),i=ol.size.toSize(r.getTileSize(e[0]),this.tmpSize);1!=t&&(i=ol.size.scale(i,t,this.tmpSize));var l={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};return ol.obj.assign(l,this.params_),this.getRequestUrl_(e,i,n,t,o,l)}},ol.source.TileArcGISRest.prototype.updateParams=function(e){ol.obj.assign(this.params_,e),this.setKey(this.getKeyForParams_())},goog.provide("ol.source.TileDebug"),goog.require("ol"),goog.require("ol.Tile"),goog.require("ol.TileState"),goog.require("ol.dom"),goog.require("ol.size"),goog.require("ol.source.Tile"),goog.require("ol.tilecoord"),ol.source.TileDebug=function(e){ol.source.Tile.call(this,{opaque:!1,projection:e.projection,tileGrid:e.tileGrid,wrapX:void 0===e.wrapX||e.wrapX})},ol.inherits(ol.source.TileDebug,ol.source.Tile),ol.source.TileDebug.prototype.getTile=function(e,t,o){var r=ol.tilecoord.getKeyZXY(e,t,o);if(this.tileCache.containsKey(r))return this.tileCache.get(r);var n=ol.size.toSize(this.tileGrid.getTileSize(e)),i=[e,t,o],l=this.getTileCoordForTileUrlFunction(i),a=l?this.getTileCoordForTileUrlFunction(l).toString():"",s=new ol.source.TileDebug.Tile_(i,n,a);return this.tileCache.set(r,s),s},ol.source.TileDebug.Tile_=function(e,t,o){ol.Tile.call(this,e,ol.TileState.LOADED),this.tileSize_=t,this.text_=o,this.canvas_=null},ol.inherits(ol.source.TileDebug.Tile_,ol.Tile),ol.source.TileDebug.Tile_.prototype.getImage=function(){if(this.canvas_)return this.canvas_;var e=this.tileSize_,t=ol.dom.createCanvasContext2D(e[0],e[1]);return t.strokeStyle="black",t.strokeRect(.5,.5,e[0]+.5,e[1]+.5),t.fillStyle="black",t.textAlign="center",t.textBaseline="middle",t.font="24px sans-serif",t.fillText(this.text_,e[0]/2,e[1]/2),this.canvas_=t.canvas,t.canvas},ol.source.TileDebug.Tile_.prototype.load=function(){},goog.provide("ol.source.TileJSON"),goog.require("ol"),goog.require("ol.TileUrlFunction"),goog.require("ol.asserts"),goog.require("ol.extent"),goog.require("ol.net"),goog.require("ol.proj"),goog.require("ol.source.State"),goog.require("ol.source.TileImage"),goog.require("ol.tilegrid"),ol.source.TileJSON=function(e){if(this.tileJSON_=null,ol.source.TileImage.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,projection:ol.proj.get("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:ol.source.State.LOADING,tileLoadFunction:e.tileLoadFunction,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition}),e.url)if(e.jsonp)ol.net.jsonp(e.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this));else{var t=new XMLHttpRequest;t.addEventListener("load",this.onXHRLoad_.bind(this)),t.addEventListener("error",this.onXHRError_.bind(this)),t.open("GET",e.url),t.send()}else e.tileJSON?this.handleTileJSONResponse(e.tileJSON):ol.asserts.assert(!1,51)},ol.inherits(ol.source.TileJSON,ol.source.TileImage),ol.source.TileJSON.prototype.onXHRLoad_=function(e){var t=e.target;if(!t.status||t.status>=200&&t.status<300){var o;try{o=JSON.parse(t.responseText)}catch(e){return void this.handleTileJSONError()}this.handleTileJSONResponse(o)}else this.handleTileJSONError()},ol.source.TileJSON.prototype.onXHRError_=function(e){this.handleTileJSONError()},ol.source.TileJSON.prototype.getTileJSON=function(){return this.tileJSON_},ol.source.TileJSON.prototype.handleTileJSONResponse=function(e){var t,o=ol.proj.get("EPSG:4326"),r=this.getProjection();if(void 0!==e.bounds){var n=ol.proj.getTransformFromProjections(o,r);t=ol.extent.applyTransform(e.bounds,n)}var i=e.minzoom||0,l=e.maxzoom||22,a=ol.tilegrid.createXYZ({extent:ol.tilegrid.extentFromProjection(r),maxZoom:l,minZoom:i});if(this.tileGrid=a,this.tileUrlFunction=ol.TileUrlFunction.createFromTemplates(e.tiles,a),void 0!==e.attribution&&!this.getAttributions2()){var s=void 0!==t?t:o.getExtent();this.setAttributions(function(t){return ol.extent.intersects(s,t.extent)?[e.attribution]:null})}this.tileJSON_=e,this.setState(ol.source.State.READY)},ol.source.TileJSON.prototype.handleTileJSONError=function(){this.setState(ol.source.State.ERROR)},goog.provide("ol.source.TileUTFGrid"),goog.require("ol"),goog.require("ol.Tile"),goog.require("ol.TileState"),goog.require("ol.TileUrlFunction"),goog.require("ol.asserts"),goog.require("ol.events"),goog.require("ol.events.EventType"),goog.require("ol.extent"),goog.require("ol.net"),goog.require("ol.proj"),goog.require("ol.source.State"),goog.require("ol.source.Tile"),goog.require("ol.tilecoord"),goog.require("ol.tilegrid"),ol.source.TileUTFGrid=function(e){if(ol.source.Tile.call(this,{projection:ol.proj.get("EPSG:3857"),state:ol.source.State.LOADING}),this.preemptive_=void 0===e.preemptive||e.preemptive,this.tileUrlFunction_=ol.TileUrlFunction.nullTileUrlFunction,this.template_=void 0,this.jsonp_=e.jsonp||!1,e.url)if(this.jsonp_)ol.net.jsonp(e.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this));else{var t=new XMLHttpRequest;t.addEventListener("load",this.onXHRLoad_.bind(this)),t.addEventListener("error",this.onXHRError_.bind(this)),t.open("GET",e.url),t.send()}else e.tileJSON?this.handleTileJSONResponse(e.tileJSON):ol.asserts.assert(!1,51)},ol.inherits(ol.source.TileUTFGrid,ol.source.Tile),ol.source.TileUTFGrid.prototype.onXHRLoad_=function(e){var t=e.target;if(!t.status||t.status>=200&&t.status<300){var o;try{o=JSON.parse(t.responseText)}catch(e){return void this.handleTileJSONError()}this.handleTileJSONResponse(o)}else this.handleTileJSONError()},ol.source.TileUTFGrid.prototype.onXHRError_=function(e){this.handleTileJSONError()},ol.source.TileUTFGrid.prototype.getTemplate=function(){return this.template_},ol.source.TileUTFGrid.prototype.forDataAtCoordinateAndResolution=function(e,t,o,r,n){if(this.tileGrid){var i=this.tileGrid.getTileCoordForCoordAndResolution(e,t);this.getTile(i[0],i[1],i[2],1,this.getProjection()).forDataAtCoordinate(e,o,r,n)}else!0===n?setTimeout(function(){o.call(r,null)},0):o.call(r,null)},ol.source.TileUTFGrid.prototype.handleTileJSONError=function(){this.setState(ol.source.State.ERROR)},ol.source.TileUTFGrid.prototype.handleTileJSONResponse=function(e){var t,o=ol.proj.get("EPSG:4326"),r=this.getProjection();if(void 0!==e.bounds){var n=ol.proj.getTransformFromProjections(o,r);t=ol.extent.applyTransform(e.bounds,n)}var i=e.minzoom||0,l=e.maxzoom||22,a=ol.tilegrid.createXYZ({extent:ol.tilegrid.extentFromProjection(r),maxZoom:l,minZoom:i});this.tileGrid=a,this.template_=e.template;var s=e.grids;if(s){if(this.tileUrlFunction_=ol.TileUrlFunction.createFromTemplates(s,a),void 0!==e.attribution){var p=void 0!==t?t:o.getExtent();this.setAttributions(function(t){return ol.extent.intersects(p,t.extent)?[e.attribution]:null})}this.setState(ol.source.State.READY)}else this.setState(ol.source.State.ERROR)},ol.source.TileUTFGrid.prototype.getTile=function(e,t,o,r,n){var i=ol.tilecoord.getKeyZXY(e,t,o);if(this.tileCache.containsKey(i))return this.tileCache.get(i);var l=[e,t,o],a=this.getTileCoordForTileUrlFunction(l,n),s=this.tileUrlFunction_(a,r,n),p=new ol.source.TileUTFGrid.Tile_(l,void 0!==s?ol.TileState.IDLE:ol.TileState.EMPTY,void 0!==s?s:"",this.tileGrid.getTileCoordExtent(l),this.preemptive_,this.jsonp_);return this.tileCache.set(i,p),p},ol.source.TileUTFGrid.prototype.useTile=function(e,t,o){var r=ol.tilecoord.getKeyZXY(e,t,o);this.tileCache.containsKey(r)&&this.tileCache.get(r)},ol.source.TileUTFGrid.Tile_=function(e,t,o,r,n,i){ol.Tile.call(this,e,t),this.src_=o,this.extent_=r,this.preemptive_=n,this.grid_=null,this.keys_=null,this.data_=null,this.jsonp_=i},ol.inherits(ol.source.TileUTFGrid.Tile_,ol.Tile),ol.source.TileUTFGrid.Tile_.prototype.getImage=function(){return null},ol.source.TileUTFGrid.Tile_.prototype.getData=function(e){if(!this.grid_||!this.keys_)return null;var t=(e[0]-this.extent_[0])/(this.extent_[2]-this.extent_[0]),o=this.grid_[Math.floor((1-(e[1]-this.extent_[1])/(this.extent_[3]-this.extent_[1]))*this.grid_.length)];if("string"!=typeof o)return null;var r=o.charCodeAt(Math.floor(t*o.length));r>=93&&r--,r>=35&&r--;var n=null;if((r-=32)in this.keys_){var i=this.keys_[r];n=this.data_&&i in this.data_?this.data_[i]:i}return n},ol.source.TileUTFGrid.Tile_.prototype.forDataAtCoordinate=function(e,t,o,r){this.state==ol.TileState.IDLE&&!0===r?(ol.events.listenOnce(this,ol.events.EventType.CHANGE,function(r){t.call(o,this.getData(e))},this),this.loadInternal_()):!0===r?setTimeout((function(){t.call(o,this.getData(e))}).bind(this),0):t.call(o,this.getData(e))},ol.source.TileUTFGrid.Tile_.prototype.getKey=function(){return this.src_},ol.source.TileUTFGrid.Tile_.prototype.handleError_=function(){this.state=ol.TileState.ERROR,this.changed()},ol.source.TileUTFGrid.Tile_.prototype.handleLoad_=function(e){this.grid_=e.grid,this.keys_=e.keys,this.data_=e.data,this.state=ol.TileState.EMPTY,this.changed()},ol.source.TileUTFGrid.Tile_.prototype.loadInternal_=function(){if(this.state==ol.TileState.IDLE)if(this.state=ol.TileState.LOADING,this.jsonp_)ol.net.jsonp(this.src_,this.handleLoad_.bind(this),this.handleError_.bind(this));else{var e=new XMLHttpRequest;e.addEventListener("load",this.onXHRLoad_.bind(this)),e.addEventListener("error",this.onXHRError_.bind(this)),e.open("GET",this.src_),e.send()}},ol.source.TileUTFGrid.Tile_.prototype.onXHRLoad_=function(e){var t=e.target;if(!t.status||t.status>=200&&t.status<300){var o;try{o=JSON.parse(t.responseText)}catch(e){return void this.handleError_()}this.handleLoad_(o)}else this.handleError_()},ol.source.TileUTFGrid.Tile_.prototype.onXHRError_=function(e){this.handleError_()},ol.source.TileUTFGrid.Tile_.prototype.load=function(){this.preemptive_&&this.loadInternal_()},goog.provide("ol.source.TileWMS"),goog.require("ol"),goog.require("ol.asserts"),goog.require("ol.extent"),goog.require("ol.obj"),goog.require("ol.math"),goog.require("ol.proj"),goog.require("ol.reproj"),goog.require("ol.size"),goog.require("ol.source.TileImage"),goog.require("ol.source.WMSServerType"),goog.require("ol.tilecoord"),goog.require("ol.string"),goog.require("ol.uri"),ol.source.TileWMS=function(e){var t=e||{},o=t.params||{};ol.source.TileImage.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,opaque:!(!("TRANSPARENT"in o)||o.TRANSPARENT),projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition}),this.gutter_=void 0!==t.gutter?t.gutter:0,this.params_=o,this.v13_=!0,this.serverType_=t.serverType,this.hidpi_=void 0===t.hidpi||t.hidpi,this.tmpExtent_=ol.extent.createEmpty(),this.updateV13_(),this.setKey(this.getKeyForParams_())},ol.inherits(ol.source.TileWMS,ol.source.TileImage),ol.source.TileWMS.prototype.getGetFeatureInfoUrl=function(e,t,o,r){var n=ol.proj.get(o),i=this.getProjection(),l=this.getTileGrid();l||(l=this.getTileGridForProjection(n));var a=l.getTileCoordForCoordAndResolution(e,t);if(!(l.getResolutions().length<=a[0])){var s=l.getResolution(a[0]),p=l.getTileCoordExtent(a,this.tmpExtent_),u=ol.size.toSize(l.getTileSize(a[0]),this.tmpSize),c=this.gutter_;0!==c&&(u=ol.size.buffer(u,c,this.tmpSize),p=ol.extent.buffer(p,s*c,p)),i&&i!==n&&(s=ol.reproj.calculateSourceResolution(i,n,e,s),p=ol.proj.transformExtent(p,n,i),e=ol.proj.transform(e,n,i));var g={SERVICE:"WMS",VERSION:ol.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};ol.obj.assign(g,this.params_,r);var d=Math.floor((e[0]-p[0])/s),h=Math.floor((p[3]-e[1])/s);return g[this.v13_?"I":"X"]=d,g[this.v13_?"J":"Y"]=h,this.getRequestUrl_(a,u,p,1,i||n,g)}},ol.source.TileWMS.prototype.getGutterInternal=function(){return this.gutter_},ol.source.TileWMS.prototype.getParams=function(){return this.params_},ol.source.TileWMS.prototype.getRequestUrl_=function(e,t,o,r,n,i){var l=this.urls;if(l){if(i.WIDTH=t[0],i.HEIGHT=t[1],i[this.v13_?"CRS":"SRS"]=n.getCode(),"STYLES"in this.params_||(i.STYLES=""),1!=r)switch(this.serverType_){case ol.source.WMSServerType.GEOSERVER:var a=90*r+.5|0;"FORMAT_OPTIONS"in i?i.FORMAT_OPTIONS+=";dpi:"+a:i.FORMAT_OPTIONS="dpi:"+a;break;case ol.source.WMSServerType.MAPSERVER:i.MAP_RESOLUTION=90*r;break;case ol.source.WMSServerType.CARMENTA_SERVER:case ol.source.WMSServerType.QGIS:i.DPI=90*r;break;default:ol.asserts.assert(!1,52)}var s,p,u=n.getAxisOrientation(),c=o;return this.v13_&&"ne"==u.substr(0,2)&&(s=o[0],c[0]=o[1],c[1]=s,s=o[2],c[2]=o[3],c[3]=s),i.BBOX=c.join(","),p=1==l.length?l[0]:l[ol.math.modulo(ol.tilecoord.hash(e),l.length)],ol.uri.appendParams(p,i)}},ol.source.TileWMS.prototype.getTilePixelRatio=function(e){return this.hidpi_&&void 0!==this.serverType_?e:1},ol.source.TileWMS.prototype.getKeyForParams_=function(){var e=0,t=[];for(var o in this.params_)t[e++]=o+"-"+this.params_[o];return t.join("/")},ol.source.TileWMS.prototype.fixedTileUrlFunction=function(e,t,o){var r=this.getTileGrid();if(r||(r=this.getTileGridForProjection(o)),!(r.getResolutions().length<=e[0])){1==t||this.hidpi_&&void 0!==this.serverType_||(t=1);var n=r.getResolution(e[0]),i=r.getTileCoordExtent(e,this.tmpExtent_),l=ol.size.toSize(r.getTileSize(e[0]),this.tmpSize),a=this.gutter_;0!==a&&(l=ol.size.buffer(l,a,this.tmpSize),i=ol.extent.buffer(i,n*a,i)),1!=t&&(l=ol.size.scale(l,t,this.tmpSize));var s={SERVICE:"WMS",VERSION:ol.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return ol.obj.assign(s,this.params_),this.getRequestUrl_(e,l,i,t,o,s)}},ol.source.TileWMS.prototype.updateParams=function(e){ol.obj.assign(this.params_,e),this.updateV13_(),this.setKey(this.getKeyForParams_())},ol.source.TileWMS.prototype.updateV13_=function(){var e=this.params_.VERSION||ol.DEFAULT_WMS_VERSION;this.v13_=ol.string.compareVersions(e,"1.3")>=0},goog.provide("ol.VectorImageTile"),goog.require("ol"),goog.require("ol.Tile"),goog.require("ol.TileState"),goog.require("ol.dom"),goog.require("ol.events"),goog.require("ol.extent"),goog.require("ol.events.EventType"),goog.require("ol.featureloader"),ol.VectorImageTile=function(e,t,o,r,n,i,l,a,s,p,u,c,g,d,h){if(ol.Tile.call(this,e,t,h),this.context_={},this.replayState_={},this.sourceTiles_=p,this.tileKeys=[],this.sourceRevision_=o,this.wrappedTileCoord=i,this.loadListenerKeys_=[],this.sourceTileListenerKeys_=[],i){var y=s.getTileCoordExtent(i),f=s.getResolution(e[0]),m=a.getZForResolution(f);a.forEachTileCoord(y,m,(function(e){var t=ol.extent.getIntersection(y,a.getTileCoordExtent(e)),o=a.getExtent();if(o&&(t=ol.extent.getIntersection(t,o)),ol.extent.getWidth(t)/f>=.5&&ol.extent.getHeight(t)/f>=.5){var i=e.toString(),s=p[i];if(!s){var h=l(e,u,c);s=p[i]=new g(e,void 0==h?ol.TileState.EMPTY:ol.TileState.IDLE,void 0==h?"":h,r,n),this.sourceTileListenerKeys_.push(ol.events.listen(s,ol.events.EventType.CHANGE,d))}s.consumers++,this.tileKeys.push(i)}}).bind(this))}},ol.inherits(ol.VectorImageTile,ol.Tile),ol.VectorImageTile.prototype.disposeInternal=function(){for(var e=0,t=this.tileKeys.length;e<t;++e){var o=this.tileKeys[e],r=this.getTile(o);r.consumers--,0==r.consumers&&(delete this.sourceTiles_[o],r.dispose())}this.tileKeys.length=0,this.sourceTiles_=null,this.loadListenerKeys_.forEach(ol.events.unlistenByKey),this.loadListenerKeys_.length=0,this.interimTile&&this.interimTile.dispose(),this.state=ol.TileState.ABORT,this.changed(),this.sourceTileListenerKeys_.forEach(ol.events.unlistenByKey),this.sourceTileListenerKeys_.length=0,ol.Tile.prototype.disposeInternal.call(this)},ol.VectorImageTile.prototype.getContext=function(e){var t=ol.getUid(e).toString();return t in this.context_||(this.context_[t]=ol.dom.createCanvasContext2D()),this.context_[t]},ol.VectorImageTile.prototype.getImage=function(e){return-1==this.getReplayState(e).renderedTileRevision?null:this.getContext(e).canvas},ol.VectorImageTile.prototype.getReplayState=function(e){var t=ol.getUid(e).toString();return t in this.replayState_||(this.replayState_[t]={dirty:!1,renderedRenderOrder:null,renderedRevision:-1,renderedTileRevision:-1}),this.replayState_[t]},ol.VectorImageTile.prototype.getKey=function(){return this.tileKeys.join("/")+"-"+this.sourceRevision_},ol.VectorImageTile.prototype.getTile=function(e){return this.sourceTiles_[e]},ol.VectorImageTile.prototype.load=function(){var e=0,t={};this.state==ol.TileState.IDLE&&this.setState(ol.TileState.LOADING),this.state==ol.TileState.LOADING&&this.tileKeys.forEach((function(o){var r=this.getTile(o);if(r.state==ol.TileState.IDLE&&(r.setLoader(this.loader_),r.load()),r.state==ol.TileState.LOADING){var n=ol.events.listen(r,ol.events.EventType.CHANGE,(function(o){var n=r.getState();if(n==ol.TileState.LOADED||n==ol.TileState.ERROR){var i=ol.getUid(r);n==ol.TileState.ERROR?t[i]=!0:(--e,delete t[i]),e-Object.keys(t).length==0&&this.finishLoading_()}}).bind(this));this.loadListenerKeys_.push(n),++e}}).bind(this)),e-Object.keys(t).length==0&&setTimeout(this.finishLoading_.bind(this),0)},ol.VectorImageTile.prototype.finishLoading_=function(){for(var e=this.tileKeys.length,t=0,o=e-1;o>=0;--o){var r=this.getTile(this.tileKeys[o]).getState();r!=ol.TileState.LOADED&&--e,r==ol.TileState.EMPTY&&++t}e==this.tileKeys.length?(this.loadListenerKeys_.forEach(ol.events.unlistenByKey),this.loadListenerKeys_.length=0,this.setState(ol.TileState.LOADED)):this.setState(t==this.tileKeys.length?ol.TileState.EMPTY:ol.TileState.ERROR)},ol.VectorImageTile.defaultLoadFunction=function(e,t){var o=ol.featureloader.loadFeaturesXhr(t,e.getFormat(),e.onLoad.bind(e),e.onError.bind(e));e.setLoader(o)},goog.provide("ol.VectorTile"),goog.require("ol"),goog.require("ol.Tile"),goog.require("ol.TileState"),ol.VectorTile=function(e,t,o,r,n,i){ol.Tile.call(this,e,t,i),this.consumers=0,this.extent_=null,this.format_=r,this.features_=null,this.replayGroups_={},this.tileLoadFunction_=n,this.url_=o},ol.inherits(ol.VectorTile,ol.Tile),ol.VectorTile.prototype.disposeInternal=function(){this.features_=null,this.replayGroups_={},this.state=ol.TileState.ABORT,this.changed(),ol.Tile.prototype.disposeInternal.call(this)},ol.VectorTile.prototype.getExtent=function(){return this.extent_||ol.VectorTile.DEFAULT_EXTENT},ol.VectorTile.prototype.getFormat=function(){return this.format_},ol.VectorTile.prototype.getFeatures=function(){return this.features_},ol.VectorTile.prototype.getKey=function(){return this.url_},ol.VectorTile.prototype.getProjection=function(){return this.projection_},ol.VectorTile.prototype.getReplayGroup=function(e,t){return this.replayGroups_[ol.getUid(e)+","+t]},ol.VectorTile.prototype.load=function(){this.state==ol.TileState.IDLE&&(this.setState(ol.TileState.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_(null,NaN,null))},ol.VectorTile.prototype.onLoad=function(e,t,o){this.setProjection(t),this.setFeatures(e),this.setExtent(o)},ol.VectorTile.prototype.onError=function(){this.setState(ol.TileState.ERROR)},ol.VectorTile.prototype.setExtent=function(e){this.extent_=e},ol.VectorTile.prototype.setFeatures=function(e){this.features_=e,this.setState(ol.TileState.LOADED)},ol.VectorTile.prototype.setProjection=function(e){this.projection_=e},ol.VectorTile.prototype.setReplayGroup=function(e,t,o){this.replayGroups_[ol.getUid(e)+","+t]=o},ol.VectorTile.prototype.setLoader=function(e){this.loader_=e},ol.VectorTile.DEFAULT_EXTENT=[0,0,4096,4096],goog.provide("ol.source.VectorTile"),goog.require("ol"),goog.require("ol.TileState"),goog.require("ol.VectorImageTile"),goog.require("ol.VectorTile"),goog.require("ol.size"),goog.require("ol.source.UrlTile"),goog.require("ol.tilecoord"),goog.require("ol.tilegrid"),ol.source.VectorTile=function(e){var t=e.projection||"EPSG:3857",o=e.extent||ol.tilegrid.extentFromProjection(t),r=e.tileGrid||ol.tilegrid.createXYZ({extent:o,maxZoom:e.maxZoom||22,minZoom:e.minZoom,tileSize:e.tileSize||512});ol.source.UrlTile.call(this,{attributions:e.attributions,cacheSize:void 0!==e.cacheSize?e.cacheSize:128,extent:o,logo:e.logo,opaque:!1,projection:t,state:e.state,tileGrid:r,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:ol.VectorImageTile.defaultLoadFunction,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition}),this.format_=e.format?e.format:null,this.sourceTiles_={},this.overlaps_=void 0==e.overlaps||e.overlaps,this.tileClass=e.tileClass?e.tileClass:ol.VectorTile,this.tileGrids_={}},ol.inherits(ol.source.VectorTile,ol.source.UrlTile),ol.source.VectorTile.prototype.getOverlaps=function(){return this.overlaps_},ol.source.VectorTile.prototype.clear=function(){this.tileCache.clear(),this.sourceTiles_={}},ol.source.VectorTile.prototype.getTile=function(e,t,o,r,n){var i=ol.tilecoord.getKeyZXY(e,t,o);if(this.tileCache.containsKey(i))return this.tileCache.get(i);var l=[e,t,o],a=this.getTileCoordForTileUrlFunction(l,n),s=new ol.VectorImageTile(l,null!==a?ol.TileState.IDLE:ol.TileState.EMPTY,this.getRevision(),this.format_,this.tileLoadFunction,a,this.tileUrlFunction,this.tileGrid,this.getTileGridForProjection(n),this.sourceTiles_,r,n,this.tileClass,this.handleTileChange.bind(this),this.tileOptions);return this.tileCache.set(i,s),s},ol.source.VectorTile.prototype.getTileGridForProjection=function(e){var t=e.getCode(),o=this.tileGrids_[t];if(!o){var r=this.tileGrid;o=this.tileGrids_[t]=ol.tilegrid.createForProjection(e,void 0,r?r.getTileSize(r.getMinZoom()):void 0)}return o},ol.source.VectorTile.prototype.getTilePixelRatio=function(e){return e},ol.source.VectorTile.prototype.getTilePixelSize=function(e,t,o){var r=ol.size.toSize(this.getTileGridForProjection(o).getTileSize(e));return[Math.round(r[0]*t),Math.round(r[1]*t)]},goog.provide("ol.source.WMTSRequestEncoding"),ol.source.WMTSRequestEncoding={KVP:"KVP",REST:"REST"},goog.provide("ol.tilegrid.WMTS"),goog.require("ol"),goog.require("ol.array"),goog.require("ol.proj"),goog.require("ol.tilegrid.TileGrid"),ol.tilegrid.WMTS=function(e){this.matrixIds_=e.matrixIds,ol.tilegrid.TileGrid.call(this,{extent:e.extent,origin:e.origin,origins:e.origins,resolutions:e.resolutions,tileSize:e.tileSize,tileSizes:e.tileSizes,sizes:e.sizes})},ol.inherits(ol.tilegrid.WMTS,ol.tilegrid.TileGrid),ol.tilegrid.WMTS.prototype.getMatrixId=function(e){return this.matrixIds_[e]},ol.tilegrid.WMTS.prototype.getMatrixIds=function(){return this.matrixIds_},ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet=function(e,t,o){var r=[],n=[],i=[],l=[],a=[],s=void 0!==o?o:[],p=e.SupportedCRS,u=ol.proj.get(p.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||ol.proj.get(p),c=u.getMetersPerUnit(),g="ne"==u.getAxisOrientation().substr(0,2);return e.TileMatrix.sort(function(e,t){return t.ScaleDenominator-e.ScaleDenominator}),e.TileMatrix.forEach(function(e,t,o){if(!(s.length>0)||ol.array.find(s,function(t,o,r){return e.Identifier==t.TileMatrix})){n.push(e.Identifier);var p=28e-5*e.ScaleDenominator/c,u=e.TileWidth,d=e.TileHeight;i.push(g?[e.TopLeftCorner[1],e.TopLeftCorner[0]]:e.TopLeftCorner),r.push(p),l.push(u==d?u:[u,d]),a.push([e.MatrixWidth,-e.MatrixHeight])}}),new ol.tilegrid.WMTS({extent:t,origins:i,resolutions:r,matrixIds:n,tileSizes:l,sizes:a})},goog.provide("ol.source.WMTS"),goog.require("ol"),goog.require("ol.TileUrlFunction"),goog.require("ol.array"),goog.require("ol.extent"),goog.require("ol.obj"),goog.require("ol.proj"),goog.require("ol.source.TileImage"),goog.require("ol.source.WMTSRequestEncoding"),goog.require("ol.tilegrid.WMTS"),goog.require("ol.uri"),ol.source.WMTS=function(e){this.version_=void 0!==e.version?e.version:"1.0.0",this.format_=void 0!==e.format?e.format:"image/jpeg",this.dimensions_=void 0!==e.dimensions?e.dimensions:{},this.layer_=e.layer,this.matrixSet_=e.matrixSet,this.style_=e.style;var t=e.urls;void 0===t&&void 0!==e.url&&(t=ol.TileUrlFunction.expandUrl(e.url)),this.requestEncoding_=void 0!==e.requestEncoding?e.requestEncoding:ol.source.WMTSRequestEncoding.KVP;var o=this.requestEncoding_,r=e.tileGrid,n={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};o==ol.source.WMTSRequestEncoding.KVP&&ol.obj.assign(n,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_});var i=this.dimensions_;this.createFromWMTSTemplate_=function(e){return e=o==ol.source.WMTSRequestEncoding.KVP?ol.uri.appendParams(e,n):e.replace(/\{(\w+?)\}/g,function(e,t){return t.toLowerCase()in n?n[t.toLowerCase()]:e}),function(t,n,l){if(t){var a={TileMatrix:r.getMatrixId(t[0]),TileCol:t[1],TileRow:-t[2]-1};ol.obj.assign(a,i);var s=e;return o==ol.source.WMTSRequestEncoding.KVP?ol.uri.appendParams(s,a):s.replace(/\{(\w+?)\}/g,function(e,t){return a[t]})}}};var l=t&&t.length>0?ol.TileUrlFunction.createFromTileUrlFunctions(t.map(this.createFromWMTSTemplate_)):ol.TileUrlFunction.nullTileUrlFunction;ol.source.TileImage.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,logo:e.logo,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:r,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:l,urls:t,wrapX:void 0!==e.wrapX&&e.wrapX,transition:e.transition}),this.setKey(this.getKeyForDimensions_())},ol.inherits(ol.source.WMTS,ol.source.TileImage),ol.source.WMTS.prototype.setUrls=function(e){this.urls=e;var t=e.join("\n");this.setTileUrlFunction(this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):ol.TileUrlFunction.createFromTileUrlFunctions(e.map(this.createFromWMTSTemplate_.bind(this))),t)},ol.source.WMTS.prototype.getDimensions=function(){return this.dimensions_},ol.source.WMTS.prototype.getFormat=function(){return this.format_},ol.source.WMTS.prototype.getLayer=function(){return this.layer_},ol.source.WMTS.prototype.getMatrixSet=function(){return this.matrixSet_},ol.source.WMTS.prototype.getRequestEncoding=function(){return this.requestEncoding_},ol.source.WMTS.prototype.getStyle=function(){return this.style_},ol.source.WMTS.prototype.getVersion=function(){return this.version_},ol.source.WMTS.prototype.getKeyForDimensions_=function(){var e=0,t=[];for(var o in this.dimensions_)t[e++]=o+"-"+this.dimensions_[o];return t.join("/")},ol.source.WMTS.prototype.updateDimensions=function(e){ol.obj.assign(this.dimensions_,e),this.setKey(this.getKeyForDimensions_())},ol.source.WMTS.optionsFromCapabilities=function(e,t){var o=ol.array.find(e.Contents.Layer,function(e,o,r){return e.Identifier==t.layer});if(null===o)return null;var r,n,i,l=e.Contents.TileMatrixSet;(r=o.TileMatrixSetLink.length>1?"projection"in t?ol.array.findIndex(o.TileMatrixSetLink,function(e,o,r){var n=ol.array.find(l,function(t){return t.Identifier==e.TileMatrixSet}).SupportedCRS,i=ol.proj.get(n.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||ol.proj.get(n),a=ol.proj.get(t.projection);return i&&a?ol.proj.equivalent(i,a):n==t.projection}):ol.array.findIndex(o.TileMatrixSetLink,function(e,o,r){return e.TileMatrixSet==t.matrixSet}):0)<0&&(r=0),n=o.TileMatrixSetLink[r].TileMatrixSet,i=o.TileMatrixSetLink[r].TileMatrixSetLimits;var a=o.Format[0];"format"in t&&(a=t.format),(r=ol.array.findIndex(o.Style,function(e,o,r){return"style"in t?e.Title==t.style:e.isDefault}))<0&&(r=0);var s=o.Style[r].Identifier,p={};"Dimension"in o&&o.Dimension.forEach(function(e,t,o){var r=e.Default;void 0===r&&(r=e.Value[0]),p[e.Identifier]=r});var u,c=ol.array.find(e.Contents.TileMatrixSet,function(e,t,o){return e.Identifier==n}),g=c.SupportedCRS;if(g&&(u=ol.proj.get(g.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||ol.proj.get(g)),"projection"in t){var d=ol.proj.get(t.projection);d&&(u&&!ol.proj.equivalent(d,u)||(u=d))}var h,y,f=o.WGS84BoundingBox;if(void 0!==f){var m=ol.proj.get("EPSG:4326").getExtent();y=f[0]==m[0]&&f[2]==m[2],h=ol.proj.transformExtent(f,"EPSG:4326",u);var v=u.getExtent();v&&(ol.extent.containsExtent(v,h)||(h=void 0))}var _=ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet(c,h,i),S=[],x=t.requestEncoding;if(x=void 0!==x?x:"","OperationsMetadata"in e&&"GetTile"in e.OperationsMetadata)for(var E=e.OperationsMetadata.GetTile.DCP.HTTP.Get,P=0,b=E.length;P<b;++P)if(E[P].Constraint){var T=ol.array.find(E[P].Constraint,function(e){return"GetEncoding"==e.name}).AllowedValues.Value;if(""===x&&(x=T[0]),x!==ol.source.WMTSRequestEncoding.KVP)break;ol.array.includes(T,ol.source.WMTSRequestEncoding.KVP)&&S.push(E[P].href)}else E[P].href&&(x=ol.source.WMTSRequestEncoding.KVP,S.push(E[P].href));return 0===S.length&&(x=ol.source.WMTSRequestEncoding.REST,o.ResourceURL.forEach(function(e){"tile"===e.resourceType&&(a=e.format,S.push(e.template))})),{urls:S,layer:t.layer,matrixSet:n,format:a,projection:u,requestEncoding:x,tileGrid:_,style:s,dimensions:p,wrapX:y,crossOrigin:t.crossOrigin}},goog.provide("ol.source.Zoomify"),goog.require("ol"),goog.require("ol.ImageTile"),goog.require("ol.TileState"),goog.require("ol.TileUrlFunction"),goog.require("ol.asserts"),goog.require("ol.dom"),goog.require("ol.extent"),goog.require("ol.size"),goog.require("ol.source.TileImage"),goog.require("ol.tilegrid.TileGrid"),ol.source.Zoomify=function(e){var t=e||{},o=t.size,r=void 0!==t.tierSizeCalculation?t.tierSizeCalculation:ol.source.Zoomify.TierSizeCalculation_.DEFAULT,n=o[0],i=o[1],l=t.extent||[0,-o[1],o[0],0],a=[],s=t.tileSize||ol.DEFAULT_TILE_SIZE,p=s;switch(r){case ol.source.Zoomify.TierSizeCalculation_.DEFAULT:for(;n>p||i>p;)a.push([Math.ceil(n/p),Math.ceil(i/p)]),p+=p;break;case ol.source.Zoomify.TierSizeCalculation_.TRUNCATED:for(var u=n,c=i;u>p||c>p;)a.push([Math.ceil(u/p),Math.ceil(c/p)]),u>>=1,c>>=1;break;default:ol.asserts.assert(!1,53)}a.push([1,1]),a.reverse();var g,d,h=[1],y=[0];for(g=1,d=a.length;g<d;g++)h.push(1<<g),y.push(a[g-1][0]*a[g-1][1]+y[g-1]);h.reverse();var f=new ol.tilegrid.TileGrid({tileSize:s,extent:l,origin:ol.extent.getTopLeft(l),resolutions:h}),m=t.url;m&&-1==m.indexOf("{TileGroup}")&&-1==m.indexOf("{tileIndex}")&&(m+="{TileGroup}/{z}-{x}-{y}.jpg");var v=ol.TileUrlFunction.expandUrl(m),_=ol.TileUrlFunction.createFromTileUrlFunctions(v.map(function(e){return function(t,o,r){if(t){var n=t[0],i=t[1],l=-t[2]-1,s=i+l*a[n][0],p=f.getTileSize(n),u={z:n,x:i,y:l,tileIndex:s,TileGroup:"TileGroup"+((s+y[n])/p|0)};return e.replace(/\{(\w+?)\}/g,function(e,t){return u[t]})}}})),S=ol.source.Zoomify.Tile_.bind(null,f);ol.source.TileImage.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:S,tileGrid:f,tileUrlFunction:_,transition:t.transition})},ol.inherits(ol.source.Zoomify,ol.source.TileImage),ol.source.Zoomify.Tile_=function(e,t,o,r,n,i,l){ol.ImageTile.call(this,t,o,r,n,i,l),this.zoomifyImage_=null,this.tileSize_=ol.size.toSize(e.getTileSize(t[0]))},ol.inherits(ol.source.Zoomify.Tile_,ol.ImageTile),ol.source.Zoomify.Tile_.prototype.getImage=function(){if(this.zoomifyImage_)return this.zoomifyImage_;var e=ol.ImageTile.prototype.getImage.call(this);if(this.state==ol.TileState.LOADED){var t=this.tileSize_;if(e.width==t[0]&&e.height==t[1])return this.zoomifyImage_=e,e;var o=ol.dom.createCanvasContext2D(t[0],t[1]);return o.drawImage(e,0,0),this.zoomifyImage_=o.canvas,o.canvas}return e},ol.source.Zoomify.TierSizeCalculation_={DEFAULT:"default",TRUNCATED:"truncated"},goog.provide("ol.ext.vectortile.VectorTile"),ol.ext.vectortile.VectorTile=function(){},(function(){!function(e){"use strict";var t=o;function o(e,t){this.x=e,this.y=t}o.prototype={clone:function(){return new o(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,o=e.y-this.y;return t*t+o*o},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[2]*this.x+e[3]*this.y;return this.x=e[0]*this.x+e[1]*this.y,this.y=t,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),o=Math.sin(e),r=o*this.x+t*this.y;return this.x=t*this.x-o*this.y,this.y=r,this},_rotateAround:function(e,t){var o=Math.cos(e),r=Math.sin(e),n=t.y+r*(this.x-t.x)+o*(this.y-t.y);return this.x=t.x+o*(this.x-t.x)-r*(this.y-t.y),this.y=n,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},o.convert=function(e){return e instanceof o?e:Array.isArray(e)?new o(e[0],e[1]):e};var r=n;function n(e,t,o,r,n){this.properties={},this.extent=o,this.type=0,this._pbf=e,this._geometry=-1,this._keys=r,this._values=n,e.readFields(i,this,t)}function i(e,t,o){1==e?t.id=o.readVarint():2==e?function(e,t){for(var o=e.readVarint()+e.pos;e.pos<o;){var r=t._keys[e.readVarint()],n=t._values[e.readVarint()];t.properties[r]=n}}(o,t):3==e?t.type=o.readVarint():4==e&&(t._geometry=o.pos)}function l(e){for(var t,o,r=0,n=0,i=e.length,l=i-1;n<i;l=n++)r+=((o=e[l]).x-(t=e[n]).x)*(t.y+o.y);return r}n.types=["Unknown","Point","LineString","Polygon"],n.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var o,r=e.readVarint()+e.pos,n=1,i=0,l=0,a=0,s=[];e.pos<r;){if(!i){var p=e.readVarint();n=7&p,i=p>>3}if(i--,1===n||2===n)l+=e.readSVarint(),a+=e.readSVarint(),1===n&&(o&&s.push(o),o=[]),o.push(new t(l,a));else{if(7!==n)throw new Error("unknown command "+n);o&&o.push(o[0].clone())}}return o&&s.push(o),s},n.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,o=1,r=0,n=0,i=0,l=1/0,a=-1/0,s=1/0,p=-1/0;e.pos<t;){if(!r){var u=e.readVarint();o=7&u,r=u>>3}if(r--,1===o||2===o)n+=e.readSVarint(),i+=e.readSVarint(),n<l&&(l=n),n>a&&(a=n),i<s&&(s=i),i>p&&(p=i);else if(7!==o)throw new Error("unknown command "+o)}return[l,s,a,p]},n.prototype.toGeoJSON=function(e,t,o){var r,i,a=this.extent*Math.pow(2,o),s=this.extent*e,p=this.extent*t,u=this.loadGeometry(),c=n.types[this.type];function g(e){for(var t=0;t<e.length;t++){var o=e[t];e[t]=[360*(o.x+s)/a-180,360/Math.PI*Math.atan(Math.exp((180-360*(o.y+p)/a)*Math.PI/180))-90]}}switch(this.type){case 1:var d=[];for(r=0;r<u.length;r++)d[r]=u[r][0];g(u=d);break;case 2:for(r=0;r<u.length;r++)g(u[r]);break;case 3:for(u=function(e){var t=e.length;if(t<=1)return[e];for(var o,r,n=[],i=0;i<t;i++){var a=l(e[i]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(o&&n.push(o),o=[e[i]]):o.push(e[i]))}return o&&n.push(o),n}(u),r=0;r<u.length;r++)for(i=0;i<u[r].length;i++)g(u[r][i])}1===u.length?u=u[0]:c="Multi"+c;var h={type:"Feature",geometry:{type:c,coordinates:u},properties:this.properties};return"id"in this&&(h.id=this.id),h};var a=s;function s(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(p,this,t),this.length=this._features.length}function p(e,t,o){15===e?t.version=o.readVarint():1===e?t.name=o.readString():5===e?t.extent=o.readVarint():2===e?t._features.push(o.pos):3===e?t._keys.push(o.readString()):4===e&&t._values.push(function(e){for(var t=null,o=e.readVarint()+e.pos;e.pos<o;){var r=e.readVarint()>>3;t=1===r?e.readString():2===r?e.readFloat():3===r?e.readDouble():4===r?e.readVarint64():5===r?e.readVarint():6===r?e.readSVarint():7===r?e.readBoolean():null}return t}(o))}function u(e,t,o){if(3===e){var r=new a(o,o.readVarint()+o.pos);r.length&&(t[r.name]=r)}}s.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new r(this._pbf,t,this.extent,this._keys,this._values)};var c=function(e,t){this.layers=e.readFields(u,{},t)},g=r,d=a;e.default={VectorTile:c,VectorTileFeature:g,VectorTileLayer:d},e.VectorTile=c,e.VectorTileFeature=g,e.VectorTileLayer=d}(this.vectortile=this.vectortile||{})}).call(ol.ext),goog.addDependency("demos/editor/equationeditor.js",["goog.demos.editor.EquationEditor"],["goog.ui.equation.EquationEditorDialog"]),goog.addDependency("demos/editor/helloworld.js",["goog.demos.editor.HelloWorld"],["goog.dom","goog.dom.TagName","goog.editor.Plugin"]),goog.addDependency("demos/editor/helloworlddialog.js",["goog.demos.editor.HelloWorldDialog","goog.demos.editor.HelloWorldDialog.OkEvent"],["goog.dom.TagName","goog.events.Event","goog.string","goog.ui.editor.AbstractDialog","goog.ui.editor.AbstractDialog.Builder","goog.ui.editor.AbstractDialog.EventType"]),goog.addDependency("demos/editor/helloworlddialogplugin.js",["goog.demos.editor.HelloWorldDialogPlugin","goog.demos.editor.HelloWorldDialogPlugin.Command"],["goog.demos.editor.HelloWorldDialog","goog.dom.TagName","goog.editor.plugins.AbstractDialogPlugin","goog.editor.range","goog.functions","goog.ui.editor.AbstractDialog.EventType"]),goog.require("ol"),goog.require("ol.AssertionError"),goog.require("ol.Attribution"),goog.require("ol.CanvasMap"),goog.require("ol.Collection"),goog.require("ol.DeviceOrientation"),goog.require("ol.Feature"),goog.require("ol.Geolocation"),goog.require("ol.Graticule"),goog.require("ol.Image"),goog.require("ol.ImageTile"),goog.require("ol.Kinetic"),goog.require("ol.Map"),goog.require("ol.MapBrowserEvent"),goog.require("ol.MapEvent"),goog.require("ol.Object"),goog.require("ol.Observable"),goog.require("ol.Overlay"),goog.require("ol.PluggableMap"),goog.require("ol.Sphere"),goog.require("ol.Tile"),goog.require("ol.VectorTile"),goog.require("ol.View"),goog.require("ol.color"),goog.require("ol.colorlike"),goog.require("ol.control"),goog.require("ol.control.Attribution"),goog.require("ol.control.Control"),goog.require("ol.control.FullScreen"),goog.require("ol.control.MousePosition"),goog.require("ol.control.OverviewMap"),goog.require("ol.control.Rotate"),goog.require("ol.control.ScaleLine"),goog.require("ol.control.Zoom"),goog.require("ol.control.ZoomSlider"),goog.require("ol.control.ZoomToExtent"),goog.require("ol.coordinate"),goog.require("ol.easing"),goog.require("ol.events.Event"),goog.require("ol.events.condition"),goog.require("ol.extent"),goog.require("ol.featureloader"),goog.require("ol.format.EsriJSON"),goog.require("ol.format.Feature"),goog.require("ol.format.GML"),goog.require("ol.format.GML2"),goog.require("ol.format.GML3"),goog.require("ol.format.GMLBase"),goog.require("ol.format.GPX"),goog.require("ol.format.GeoJSON"),goog.require("ol.format.IGC"),goog.require("ol.format.KML"),goog.require("ol.format.MVT"),goog.require("ol.format.OSMXML"),goog.require("ol.format.Polyline"),goog.require("ol.format.TopoJSON"),goog.require("ol.format.WFS"),goog.require("ol.format.WKT"),goog.require("ol.format.WMSCapabilities"),goog.require("ol.format.WMSGetFeatureInfo"),goog.require("ol.format.WMTSCapabilities"),goog.require("ol.format.filter"),goog.require("ol.format.filter.And"),goog.require("ol.format.filter.Bbox"),goog.require("ol.format.filter.Comparison"),goog.require("ol.format.filter.ComparisonBinary"),goog.require("ol.format.filter.Contains"),goog.require("ol.format.filter.During"),goog.require("ol.format.filter.EqualTo"),goog.require("ol.format.filter.Filter"),goog.require("ol.format.filter.GreaterThan"),goog.require("ol.format.filter.GreaterThanOrEqualTo"),goog.require("ol.format.filter.Intersects"),goog.require("ol.format.filter.IsBetween"),goog.require("ol.format.filter.IsLike"),goog.require("ol.format.filter.IsNull"),goog.require("ol.format.filter.LessThan"),goog.require("ol.format.filter.LessThanOrEqualTo"),goog.require("ol.format.filter.Not"),goog.require("ol.format.filter.NotEqualTo"),goog.require("ol.format.filter.Or"),goog.require("ol.format.filter.Spatial"),goog.require("ol.format.filter.Within"),goog.require("ol.geom.Circle"),goog.require("ol.geom.Geometry"),goog.require("ol.geom.GeometryCollection"),goog.require("ol.geom.LineString"),goog.require("ol.geom.LinearRing"),goog.require("ol.geom.MultiLineString"),goog.require("ol.geom.MultiPoint"),goog.require("ol.geom.MultiPolygon"),goog.require("ol.geom.Point"),goog.require("ol.geom.Polygon"),goog.require("ol.geom.SimpleGeometry"),goog.require("ol.has"),goog.require("ol.interaction"),goog.require("ol.interaction.DoubleClickZoom"),goog.require("ol.interaction.DragAndDrop"),goog.require("ol.interaction.DragBox"),goog.require("ol.interaction.DragPan"),goog.require("ol.interaction.DragRotate"),goog.require("ol.interaction.DragRotateAndZoom"),goog.require("ol.interaction.DragZoom"),goog.require("ol.interaction.Draw"),goog.require("ol.interaction.Extent"),goog.require("ol.interaction.Interaction"),goog.require("ol.interaction.KeyboardPan"),goog.require("ol.interaction.KeyboardZoom"),goog.require("ol.interaction.Modify"),goog.require("ol.interaction.MouseWheelZoom"),goog.require("ol.interaction.PinchRotate"),goog.require("ol.interaction.PinchZoom"),goog.require("ol.interaction.Pointer"),goog.require("ol.interaction.Select"),goog.require("ol.interaction.Snap"),goog.require("ol.interaction.Translate"),goog.require("ol.layer.Base"),goog.require("ol.layer.Group"),goog.require("ol.layer.Heatmap"),goog.require("ol.layer.Image"),goog.require("ol.layer.Layer"),goog.require("ol.layer.Tile"),goog.require("ol.layer.Vector"),goog.require("ol.layer.VectorTile"),goog.require("ol.loadingstrategy"),goog.require("ol.proj"),goog.require("ol.proj.Projection"),goog.require("ol.proj.Units"),goog.require("ol.proj.common"),goog.require("ol.render"),goog.require("ol.render.Event"),goog.require("ol.render.Feature"),goog.require("ol.render.VectorContext"),goog.require("ol.render.canvas.Immediate"),goog.require("ol.render.webgl.Immediate"),goog.require("ol.renderer.canvas.ImageLayer"),goog.require("ol.renderer.canvas.Map"),goog.require("ol.renderer.canvas.TileLayer"),goog.require("ol.renderer.canvas.VectorLayer"),goog.require("ol.renderer.canvas.VectorTileLayer"),goog.require("ol.renderer.webgl.ImageLayer"),goog.require("ol.renderer.webgl.Map"),goog.require("ol.renderer.webgl.TileLayer"),goog.require("ol.renderer.webgl.VectorLayer"),goog.require("ol.size"),goog.require("ol.source.BingMaps"),goog.require("ol.source.CartoDB"),goog.require("ol.source.Cluster"),goog.require("ol.source.Image"),goog.require("ol.source.ImageArcGISRest"),goog.require("ol.source.ImageCanvas"),goog.require("ol.source.ImageMapGuide"),goog.require("ol.source.ImageStatic"),goog.require("ol.source.ImageVector"),goog.require("ol.source.ImageWMS"),goog.require("ol.source.OSM"),goog.require("ol.source.Raster"),goog.require("ol.source.Source"),goog.require("ol.source.Stamen"),goog.require("ol.source.Tile"),goog.require("ol.source.TileArcGISRest"),goog.require("ol.source.TileDebug"),goog.require("ol.source.TileImage"),goog.require("ol.source.TileJSON"),goog.require("ol.source.TileUTFGrid"),goog.require("ol.source.TileWMS"),goog.require("ol.source.UrlTile"),goog.require("ol.source.Vector"),goog.require("ol.source.VectorTile"),goog.require("ol.source.WMTS"),goog.require("ol.source.XYZ"),goog.require("ol.source.Zoomify"),goog.require("ol.style"),goog.require("ol.style.AtlasManager"),goog.require("ol.style.Circle"),goog.require("ol.style.Fill"),goog.require("ol.style.Icon"),goog.require("ol.style.IconImageCache"),goog.require("ol.style.Image"),goog.require("ol.style.RegularShape"),goog.require("ol.style.Stroke"),goog.require("ol.style.Style"),goog.require("ol.style.Text"),goog.require("ol.tilegrid"),goog.require("ol.tilegrid.TileGrid"),goog.require("ol.tilegrid.WMTS"),goog.require("ol.webgl.Context"),goog.require("ol.xml"),goog.exportProperty(ol.AssertionError.prototype,"code",ol.AssertionError.prototype.code),goog.exportSymbol("ol.Attribution",ol.Attribution,OPENLAYERS),goog.exportProperty(ol.Attribution.prototype,"getHTML",ol.Attribution.prototype.getHTML),goog.exportSymbol("ol.CanvasMap",ol.CanvasMap,OPENLAYERS),goog.exportSymbol("ol.Collection",ol.Collection,OPENLAYERS),goog.exportProperty(ol.Collection.prototype,"clear",ol.Collection.prototype.clear),goog.exportProperty(ol.Collection.prototype,"extend",ol.Collection.prototype.extend),goog.exportProperty(ol.Collection.prototype,"forEach",ol.Collection.prototype.forEach),goog.exportProperty(ol.Collection.prototype,"getArray",ol.Collection.prototype.getArray),goog.exportProperty(ol.Collection.prototype,"item",ol.Collection.prototype.item),goog.exportProperty(ol.Collection.prototype,"getLength",ol.Collection.prototype.getLength),goog.exportProperty(ol.Collection.prototype,"insertAt",ol.Collection.prototype.insertAt),goog.exportProperty(ol.Collection.prototype,"pop",ol.Collection.prototype.pop),goog.exportProperty(ol.Collection.prototype,"push",ol.Collection.prototype.push),goog.exportProperty(ol.Collection.prototype,"remove",ol.Collection.prototype.remove),goog.exportProperty(ol.Collection.prototype,"removeAt",ol.Collection.prototype.removeAt),goog.exportProperty(ol.Collection.prototype,"setAt",ol.Collection.prototype.setAt),goog.exportProperty(ol.Collection.Event.prototype,"element",ol.Collection.Event.prototype.element),goog.exportSymbol("ol.color.asArray",ol.color.asArray,OPENLAYERS),goog.exportSymbol("ol.color.asString",ol.color.asString,OPENLAYERS),goog.exportSymbol("ol.colorlike.asColorLike",ol.colorlike.asColorLike,OPENLAYERS),goog.exportSymbol("ol.control.defaults",ol.control.defaults,OPENLAYERS),goog.exportSymbol("ol.coordinate.add",ol.coordinate.add,OPENLAYERS),goog.exportSymbol("ol.coordinate.createStringXY",ol.coordinate.createStringXY,OPENLAYERS),goog.exportSymbol("ol.coordinate.format",ol.coordinate.format,OPENLAYERS),goog.exportSymbol("ol.coordinate.rotate",ol.coordinate.rotate,OPENLAYERS),goog.exportSymbol("ol.coordinate.toStringHDMS",ol.coordinate.toStringHDMS,OPENLAYERS),goog.exportSymbol("ol.coordinate.toStringXY",ol.coordinate.toStringXY,OPENLAYERS),goog.exportSymbol("ol.DeviceOrientation",ol.DeviceOrientation,OPENLAYERS),goog.exportProperty(ol.DeviceOrientation.prototype,"getAlpha",ol.DeviceOrientation.prototype.getAlpha),goog.exportProperty(ol.DeviceOrientation.prototype,"getBeta",ol.DeviceOrientation.prototype.getBeta),goog.exportProperty(ol.DeviceOrientation.prototype,"getGamma",ol.DeviceOrientation.prototype.getGamma),goog.exportProperty(ol.DeviceOrientation.prototype,"getHeading",ol.DeviceOrientation.prototype.getHeading),goog.exportProperty(ol.DeviceOrientation.prototype,"getTracking",ol.DeviceOrientation.prototype.getTracking),goog.exportProperty(ol.DeviceOrientation.prototype,"setTracking",ol.DeviceOrientation.prototype.setTracking),goog.exportSymbol("ol.easing.easeIn",ol.easing.easeIn,OPENLAYERS),goog.exportSymbol("ol.easing.easeOut",ol.easing.easeOut,OPENLAYERS),goog.exportSymbol("ol.easing.inAndOut",ol.easing.inAndOut,OPENLAYERS),goog.exportSymbol("ol.easing.linear",ol.easing.linear,OPENLAYERS),goog.exportSymbol("ol.easing.upAndDown",ol.easing.upAndDown,OPENLAYERS),goog.exportSymbol("ol.extent.boundingExtent",ol.extent.boundingExtent,OPENLAYERS),goog.exportSymbol("ol.extent.buffer",ol.extent.buffer,OPENLAYERS),goog.exportSymbol("ol.extent.containsCoordinate",ol.extent.containsCoordinate,OPENLAYERS),goog.exportSymbol("ol.extent.containsExtent",ol.extent.containsExtent,OPENLAYERS),goog.exportSymbol("ol.extent.containsXY",ol.extent.containsXY,OPENLAYERS),goog.exportSymbol("ol.extent.createEmpty",ol.extent.createEmpty,OPENLAYERS),goog.exportSymbol("ol.extent.equals",ol.extent.equals,OPENLAYERS),goog.exportSymbol("ol.extent.extend",ol.extent.extend,OPENLAYERS),goog.exportSymbol("ol.extent.getArea",ol.extent.getArea,OPENLAYERS),goog.exportSymbol("ol.extent.getBottomLeft",ol.extent.getBottomLeft,OPENLAYERS),goog.exportSymbol("ol.extent.getBottomRight",ol.extent.getBottomRight,OPENLAYERS),goog.exportSymbol("ol.extent.getCenter",ol.extent.getCenter,OPENLAYERS),goog.exportSymbol("ol.extent.getHeight",ol.extent.getHeight,OPENLAYERS),goog.exportSymbol("ol.extent.getIntersection",ol.extent.getIntersection,OPENLAYERS),goog.exportSymbol("ol.extent.getSize",ol.extent.getSize,OPENLAYERS),goog.exportSymbol("ol.extent.getTopLeft",ol.extent.getTopLeft,OPENLAYERS),goog.exportSymbol("ol.extent.getTopRight",ol.extent.getTopRight,OPENLAYERS),goog.exportSymbol("ol.extent.getWidth",ol.extent.getWidth,OPENLAYERS),goog.exportSymbol("ol.extent.intersects",ol.extent.intersects,OPENLAYERS),goog.exportSymbol("ol.extent.isEmpty",ol.extent.isEmpty,OPENLAYERS),goog.exportSymbol("ol.extent.applyTransform",ol.extent.applyTransform,OPENLAYERS),goog.exportSymbol("ol.Feature",ol.Feature,OPENLAYERS),goog.exportProperty(ol.Feature.prototype,"clone",ol.Feature.prototype.clone),goog.exportProperty(ol.Feature.prototype,"getGeometry",ol.Feature.prototype.getGeometry),goog.exportProperty(ol.Feature.prototype,"getId",ol.Feature.prototype.getId),goog.exportProperty(ol.Feature.prototype,"getGeometryName",ol.Feature.prototype.getGeometryName),goog.exportProperty(ol.Feature.prototype,"getStyle",ol.Feature.prototype.getStyle),goog.exportProperty(ol.Feature.prototype,"getStyleFunction",ol.Feature.prototype.getStyleFunction),goog.exportProperty(ol.Feature.prototype,"setGeometry",ol.Feature.prototype.setGeometry),goog.exportProperty(ol.Feature.prototype,"setStyle",ol.Feature.prototype.setStyle),goog.exportProperty(ol.Feature.prototype,"setId",ol.Feature.prototype.setId),goog.exportProperty(ol.Feature.prototype,"setGeometryName",ol.Feature.prototype.setGeometryName),goog.exportSymbol("ol.featureloader.xhr",ol.featureloader.xhr,OPENLAYERS),goog.exportSymbol("ol.Geolocation",ol.Geolocation,OPENLAYERS),goog.exportProperty(ol.Geolocation.prototype,"getAccuracy",ol.Geolocation.prototype.getAccuracy),goog.exportProperty(ol.Geolocation.prototype,"getAccuracyGeometry",ol.Geolocation.prototype.getAccuracyGeometry),goog.exportProperty(ol.Geolocation.prototype,"getAltitude",ol.Geolocation.prototype.getAltitude),goog.exportProperty(ol.Geolocation.prototype,"getAltitudeAccuracy",ol.Geolocation.prototype.getAltitudeAccuracy),goog.exportProperty(ol.Geolocation.prototype,"getHeading",ol.Geolocation.prototype.getHeading),goog.exportProperty(ol.Geolocation.prototype,"getPosition",ol.Geolocation.prototype.getPosition),goog.exportProperty(ol.Geolocation.prototype,"getProjection",ol.Geolocation.prototype.getProjection),goog.exportProperty(ol.Geolocation.prototype,"getSpeed",ol.Geolocation.prototype.getSpeed),goog.exportProperty(ol.Geolocation.prototype,"getTracking",ol.Geolocation.prototype.getTracking),goog.exportProperty(ol.Geolocation.prototype,"getTrackingOptions",ol.Geolocation.prototype.getTrackingOptions),goog.exportProperty(ol.Geolocation.prototype,"setProjection",ol.Geolocation.prototype.setProjection),goog.exportProperty(ol.Geolocation.prototype,"setTracking",ol.Geolocation.prototype.setTracking),goog.exportProperty(ol.Geolocation.prototype,"setTrackingOptions",ol.Geolocation.prototype.setTrackingOptions),goog.exportSymbol("ol.Graticule",ol.Graticule,OPENLAYERS),goog.exportProperty(ol.Graticule.prototype,"getMap",ol.Graticule.prototype.getMap),goog.exportProperty(ol.Graticule.prototype,"getMeridians",ol.Graticule.prototype.getMeridians),goog.exportProperty(ol.Graticule.prototype,"getParallels",ol.Graticule.prototype.getParallels),goog.exportProperty(ol.Graticule.prototype,"setMap",ol.Graticule.prototype.setMap),goog.exportSymbol("ol.has.DEVICE_PIXEL_RATIO",ol.has.DEVICE_PIXEL_RATIO,OPENLAYERS),goog.exportSymbol("ol.has.CANVAS",ol.has.CANVAS,OPENLAYERS),goog.exportSymbol("ol.has.DEVICE_ORIENTATION",ol.has.DEVICE_ORIENTATION,OPENLAYERS),goog.exportSymbol("ol.has.GEOLOCATION",ol.has.GEOLOCATION,OPENLAYERS),goog.exportSymbol("ol.has.TOUCH",ol.has.TOUCH,OPENLAYERS),goog.exportSymbol("ol.has.WEBGL",ol.has.WEBGL,OPENLAYERS),goog.exportProperty(ol.Image.prototype,"getImage",ol.Image.prototype.getImage),goog.exportProperty(ol.Image.prototype,"load",ol.Image.prototype.load),goog.exportProperty(ol.ImageTile.prototype,"getImage",ol.ImageTile.prototype.getImage),goog.exportSymbol("ol.inherits",ol.inherits,OPENLAYERS),goog.exportSymbol("ol.interaction.defaults",ol.interaction.defaults,OPENLAYERS),goog.exportSymbol("ol.Kinetic",ol.Kinetic,OPENLAYERS),goog.exportSymbol("ol.loadingstrategy.all",ol.loadingstrategy.all,OPENLAYERS),goog.exportSymbol("ol.loadingstrategy.bbox",ol.loadingstrategy.bbox,OPENLAYERS),goog.exportSymbol("ol.loadingstrategy.tile",ol.loadingstrategy.tile,OPENLAYERS),goog.exportSymbol("ol.Map",ol.Map,OPENLAYERS),goog.exportProperty(ol.MapBrowserEvent.prototype,"originalEvent",ol.MapBrowserEvent.prototype.originalEvent),goog.exportProperty(ol.MapBrowserEvent.prototype,"pixel",ol.MapBrowserEvent.prototype.pixel),goog.exportProperty(ol.MapBrowserEvent.prototype,"coordinate",ol.MapBrowserEvent.prototype.coordinate),goog.exportProperty(ol.MapBrowserEvent.prototype,"dragging",ol.MapBrowserEvent.prototype.dragging),goog.exportProperty(ol.MapEvent.prototype,"map",ol.MapEvent.prototype.map),goog.exportProperty(ol.MapEvent.prototype,"frameState",ol.MapEvent.prototype.frameState),goog.exportSymbol("ol.Object",ol.Object,OPENLAYERS),goog.exportProperty(ol.Object.prototype,"get",ol.Object.prototype.get),goog.exportProperty(ol.Object.prototype,"getKeys",ol.Object.prototype.getKeys),goog.exportProperty(ol.Object.prototype,"getProperties",ol.Object.prototype.getProperties),goog.exportProperty(ol.Object.prototype,"set",ol.Object.prototype.set),goog.exportProperty(ol.Object.prototype,"setProperties",ol.Object.prototype.setProperties),goog.exportProperty(ol.Object.prototype,"unset",ol.Object.prototype.unset),goog.exportProperty(ol.Object.Event.prototype,"key",ol.Object.Event.prototype.key),goog.exportProperty(ol.Object.Event.prototype,"oldValue",ol.Object.Event.prototype.oldValue),goog.exportSymbol("ol.Observable",ol.Observable,OPENLAYERS),goog.exportSymbol("ol.Observable.unByKey",ol.Observable.unByKey,OPENLAYERS),goog.exportProperty(ol.Observable.prototype,"changed",ol.Observable.prototype.changed),goog.exportProperty(ol.Observable.prototype,"dispatchEvent",ol.Observable.prototype.dispatchEvent),goog.exportProperty(ol.Observable.prototype,"getRevision",ol.Observable.prototype.getRevision),goog.exportProperty(ol.Observable.prototype,"on",ol.Observable.prototype.on),goog.exportProperty(ol.Observable.prototype,"once",ol.Observable.prototype.once),goog.exportProperty(ol.Observable.prototype,"un",ol.Observable.prototype.un),goog.exportSymbol("ol.Overlay",ol.Overlay,OPENLAYERS),goog.exportProperty(ol.Overlay.prototype,"getElement",ol.Overlay.prototype.getElement),goog.exportProperty(ol.Overlay.prototype,"getId",ol.Overlay.prototype.getId),goog.exportProperty(ol.Overlay.prototype,"getMap",ol.Overlay.prototype.getMap),goog.exportProperty(ol.Overlay.prototype,"getOffset",ol.Overlay.prototype.getOffset),goog.exportProperty(ol.Overlay.prototype,"getPosition",ol.Overlay.prototype.getPosition),goog.exportProperty(ol.Overlay.prototype,"getPositioning",ol.Overlay.prototype.getPositioning),goog.exportProperty(ol.Overlay.prototype,"setElement",ol.Overlay.prototype.setElement),goog.exportProperty(ol.Overlay.prototype,"setMap",ol.Overlay.prototype.setMap),goog.exportProperty(ol.Overlay.prototype,"setOffset",ol.Overlay.prototype.setOffset),goog.exportProperty(ol.Overlay.prototype,"setPosition",ol.Overlay.prototype.setPosition),goog.exportProperty(ol.Overlay.prototype,"setPositioning",ol.Overlay.prototype.setPositioning),goog.exportSymbol("ol.PluggableMap",ol.PluggableMap,OPENLAYERS),goog.exportProperty(ol.PluggableMap.prototype,"addControl",ol.PluggableMap.prototype.addControl),goog.exportProperty(ol.PluggableMap.prototype,"addInteraction",ol.PluggableMap.prototype.addInteraction),goog.exportProperty(ol.PluggableMap.prototype,"addLayer",ol.PluggableMap.prototype.addLayer),goog.exportProperty(ol.PluggableMap.prototype,"addOverlay",ol.PluggableMap.prototype.addOverlay),goog.exportProperty(ol.PluggableMap.prototype,"forEachFeatureAtPixel",ol.PluggableMap.prototype.forEachFeatureAtPixel),goog.exportProperty(ol.PluggableMap.prototype,"getFeaturesAtPixel",ol.PluggableMap.prototype.getFeaturesAtPixel),goog.exportProperty(ol.PluggableMap.prototype,"forEachLayerAtPixel",ol.PluggableMap.prototype.forEachLayerAtPixel),goog.exportProperty(ol.PluggableMap.prototype,"hasFeatureAtPixel",ol.PluggableMap.prototype.hasFeatureAtPixel),goog.exportProperty(ol.PluggableMap.prototype,"getEventCoordinate",ol.PluggableMap.prototype.getEventCoordinate),goog.exportProperty(ol.PluggableMap.prototype,"getEventPixel",ol.PluggableMap.prototype.getEventPixel),goog.exportProperty(ol.PluggableMap.prototype,"getTarget",ol.PluggableMap.prototype.getTarget),goog.exportProperty(ol.PluggableMap.prototype,"getTargetElement",ol.PluggableMap.prototype.getTargetElement),goog.exportProperty(ol.PluggableMap.prototype,"getCoordinateFromPixel",ol.PluggableMap.prototype.getCoordinateFromPixel),goog.exportProperty(ol.PluggableMap.prototype,"getControls",ol.PluggableMap.prototype.getControls),goog.exportProperty(ol.PluggableMap.prototype,"getOverlays",ol.PluggableMap.prototype.getOverlays),goog.exportProperty(ol.PluggableMap.prototype,"getOverlayById",ol.PluggableMap.prototype.getOverlayById),goog.exportProperty(ol.PluggableMap.prototype,"getInteractions",ol.PluggableMap.prototype.getInteractions),goog.exportProperty(ol.PluggableMap.prototype,"getLayerGroup",ol.PluggableMap.prototype.getLayerGroup),goog.exportProperty(ol.PluggableMap.prototype,"getLayers",ol.PluggableMap.prototype.getLayers),goog.exportProperty(ol.PluggableMap.prototype,"getPixelFromCoordinate",ol.PluggableMap.prototype.getPixelFromCoordinate),goog.exportProperty(ol.PluggableMap.prototype,"getSize",ol.PluggableMap.prototype.getSize),goog.exportProperty(ol.PluggableMap.prototype,"getView",ol.PluggableMap.prototype.getView),goog.exportProperty(ol.PluggableMap.prototype,"getViewport",ol.PluggableMap.prototype.getViewport),goog.exportProperty(ol.PluggableMap.prototype,"renderSync",ol.PluggableMap.prototype.renderSync),goog.exportProperty(ol.PluggableMap.prototype,"render",ol.PluggableMap.prototype.render),goog.exportProperty(ol.PluggableMap.prototype,"removeControl",ol.PluggableMap.prototype.removeControl),goog.exportProperty(ol.PluggableMap.prototype,"removeInteraction",ol.PluggableMap.prototype.removeInteraction),goog.exportProperty(ol.PluggableMap.prototype,"removeLayer",ol.PluggableMap.prototype.removeLayer),goog.exportProperty(ol.PluggableMap.prototype,"removeOverlay",ol.PluggableMap.prototype.removeOverlay),goog.exportProperty(ol.PluggableMap.prototype,"setLayerGroup",ol.PluggableMap.prototype.setLayerGroup),goog.exportProperty(ol.PluggableMap.prototype,"setSize",ol.PluggableMap.prototype.setSize),goog.exportProperty(ol.PluggableMap.prototype,"setTarget",ol.PluggableMap.prototype.setTarget),goog.exportProperty(ol.PluggableMap.prototype,"setView",ol.PluggableMap.prototype.setView),goog.exportProperty(ol.PluggableMap.prototype,"updateSize",ol.PluggableMap.prototype.updateSize),goog.exportSymbol("ol.proj.METERS_PER_UNIT",ol.proj.METERS_PER_UNIT,OPENLAYERS),goog.exportSymbol("ol.proj.setProj4",ol.proj.setProj4,OPENLAYERS),goog.exportSymbol("ol.proj.getPointResolution",ol.proj.getPointResolution,OPENLAYERS),goog.exportSymbol("ol.proj.addEquivalentProjections",ol.proj.addEquivalentProjections,OPENLAYERS),goog.exportSymbol("ol.proj.addProjection",ol.proj.addProjection,OPENLAYERS),goog.exportSymbol("ol.proj.addCoordinateTransforms",ol.proj.addCoordinateTransforms,OPENLAYERS),goog.exportSymbol("ol.proj.fromLonLat",ol.proj.fromLonLat,OPENLAYERS),goog.exportSymbol("ol.proj.toLonLat",ol.proj.toLonLat,OPENLAYERS),goog.exportSymbol("ol.proj.get",ol.proj.get,OPENLAYERS),goog.exportSymbol("ol.proj.equivalent",ol.proj.equivalent,OPENLAYERS),goog.exportSymbol("ol.proj.getTransform",ol.proj.getTransform,OPENLAYERS),goog.exportSymbol("ol.proj.transform",ol.proj.transform,OPENLAYERS),goog.exportSymbol("ol.proj.transformExtent",ol.proj.transformExtent,OPENLAYERS),goog.exportSymbol("ol.render.toContext",ol.render.toContext,OPENLAYERS),goog.exportSymbol("ol.size.toSize",ol.size.toSize,OPENLAYERS),goog.exportSymbol("ol.Sphere",ol.Sphere,OPENLAYERS),goog.exportProperty(ol.Sphere.prototype,"geodesicArea",ol.Sphere.prototype.geodesicArea),goog.exportProperty(ol.Sphere.prototype,"haversineDistance",ol.Sphere.prototype.haversineDistance),goog.exportSymbol("ol.Sphere.getLength",ol.Sphere.getLength,OPENLAYERS),goog.exportSymbol("ol.Sphere.getArea",ol.Sphere.getArea,OPENLAYERS),goog.exportSymbol("ol.style.iconImageCache",ol.style.iconImageCache,OPENLAYERS),goog.exportProperty(ol.Tile.prototype,"getTileCoord",ol.Tile.prototype.getTileCoord),goog.exportProperty(ol.Tile.prototype,"load",ol.Tile.prototype.load),goog.exportSymbol("ol.tilegrid.createXYZ",ol.tilegrid.createXYZ,OPENLAYERS),goog.exportProperty(ol.VectorTile.prototype,"getExtent",ol.VectorTile.prototype.getExtent),goog.exportProperty(ol.VectorTile.prototype,"getFormat",ol.VectorTile.prototype.getFormat),goog.exportProperty(ol.VectorTile.prototype,"getFeatures",ol.VectorTile.prototype.getFeatures),goog.exportProperty(ol.VectorTile.prototype,"getProjection",ol.VectorTile.prototype.getProjection),goog.exportProperty(ol.VectorTile.prototype,"setExtent",ol.VectorTile.prototype.setExtent),goog.exportProperty(ol.VectorTile.prototype,"setFeatures",ol.VectorTile.prototype.setFeatures),goog.exportProperty(ol.VectorTile.prototype,"setProjection",ol.VectorTile.prototype.setProjection),goog.exportProperty(ol.VectorTile.prototype,"setLoader",ol.VectorTile.prototype.setLoader),goog.exportSymbol("ol.View",ol.View,OPENLAYERS),goog.exportProperty(ol.View.prototype,"animate",ol.View.prototype.animate),goog.exportProperty(ol.View.prototype,"getAnimating",ol.View.prototype.getAnimating),goog.exportProperty(ol.View.prototype,"getInteracting",ol.View.prototype.getInteracting),goog.exportProperty(ol.View.prototype,"cancelAnimations",ol.View.prototype.cancelAnimations),goog.exportProperty(ol.View.prototype,"constrainCenter",ol.View.prototype.constrainCenter),goog.exportProperty(ol.View.prototype,"constrainResolution",ol.View.prototype.constrainResolution),goog.exportProperty(ol.View.prototype,"constrainRotation",ol.View.prototype.constrainRotation),goog.exportProperty(ol.View.prototype,"getCenter",ol.View.prototype.getCenter),goog.exportProperty(ol.View.prototype,"calculateExtent",ol.View.prototype.calculateExtent),goog.exportProperty(ol.View.prototype,"getMaxResolution",ol.View.prototype.getMaxResolution),goog.exportProperty(ol.View.prototype,"getMinResolution",ol.View.prototype.getMinResolution),goog.exportProperty(ol.View.prototype,"getMaxZoom",ol.View.prototype.getMaxZoom),goog.exportProperty(ol.View.prototype,"setMaxZoom",ol.View.prototype.setMaxZoom),goog.exportProperty(ol.View.prototype,"getMinZoom",ol.View.prototype.getMinZoom),goog.exportProperty(ol.View.prototype,"setMinZoom",ol.View.prototype.setMinZoom),goog.exportProperty(ol.View.prototype,"getProjection",ol.View.prototype.getProjection),goog.exportProperty(ol.View.prototype,"getResolution",ol.View.prototype.getResolution),goog.exportProperty(ol.View.prototype,"getResolutions",ol.View.prototype.getResolutions),goog.exportProperty(ol.View.prototype,"getResolutionForExtent",ol.View.prototype.getResolutionForExtent),goog.exportProperty(ol.View.prototype,"getRotation",ol.View.prototype.getRotation),goog.exportProperty(ol.View.prototype,"getZoom",ol.View.prototype.getZoom),goog.exportProperty(ol.View.prototype,"getZoomForResolution",ol.View.prototype.getZoomForResolution),goog.exportProperty(ol.View.prototype,"getResolutionForZoom",ol.View.prototype.getResolutionForZoom),goog.exportProperty(ol.View.prototype,"fit",ol.View.prototype.fit),goog.exportProperty(ol.View.prototype,"centerOn",ol.View.prototype.centerOn),goog.exportProperty(ol.View.prototype,"rotate",ol.View.prototype.rotate),goog.exportProperty(ol.View.prototype,"setCenter",ol.View.prototype.setCenter),goog.exportProperty(ol.View.prototype,"setResolution",ol.View.prototype.setResolution),goog.exportProperty(ol.View.prototype,"setRotation",ol.View.prototype.setRotation),goog.exportProperty(ol.View.prototype,"setZoom",ol.View.prototype.setZoom),goog.exportSymbol("ol.xml.getAllTextContent",ol.xml.getAllTextContent,OPENLAYERS),goog.exportSymbol("ol.xml.parse",ol.xml.parse,OPENLAYERS),goog.exportProperty(ol.webgl.Context.prototype,"getGL",ol.webgl.Context.prototype.getGL),goog.exportProperty(ol.webgl.Context.prototype,"useProgram",ol.webgl.Context.prototype.useProgram),goog.exportSymbol("ol.tilegrid.TileGrid",ol.tilegrid.TileGrid,OPENLAYERS),goog.exportProperty(ol.tilegrid.TileGrid.prototype,"forEachTileCoord",ol.tilegrid.TileGrid.prototype.forEachTileCoord),goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getMaxZoom",ol.tilegrid.TileGrid.prototype.getMaxZoom),goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getMinZoom",ol.tilegrid.TileGrid.prototype.getMinZoom),goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getOrigin",ol.tilegrid.TileGrid.prototype.getOrigin),goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getResolution",ol.tilegrid.TileGrid.prototype.getResolution),goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getResolutions",ol.tilegrid.TileGrid.prototype.getResolutions),goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getTileCoordExtent",ol.tilegrid.TileGrid.prototype.getTileCoordExtent),goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getTileCoordForCoordAndResolution",ol.tilegrid.TileGrid.prototype.getTileCoordForCoordAndResolution),goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getTileCoordForCoordAndZ",ol.tilegrid.TileGrid.prototype.getTileCoordForCoordAndZ),goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getTileSize",ol.tilegrid.TileGrid.prototype.getTileSize),goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getZForResolution",ol.tilegrid.TileGrid.prototype.getZForResolution),goog.exportSymbol("ol.tilegrid.WMTS",ol.tilegrid.WMTS,OPENLAYERS),goog.exportProperty(ol.tilegrid.WMTS.prototype,"getMatrixIds",ol.tilegrid.WMTS.prototype.getMatrixIds),goog.exportSymbol("ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet",ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet,OPENLAYERS),goog.exportSymbol("ol.style.AtlasManager",ol.style.AtlasManager,OPENLAYERS),goog.exportSymbol("ol.style.Circle",ol.style.Circle,OPENLAYERS),goog.exportProperty(ol.style.Circle.prototype,"setRadius",ol.style.Circle.prototype.setRadius),goog.exportSymbol("ol.style.Fill",ol.style.Fill,OPENLAYERS),goog.exportProperty(ol.style.Fill.prototype,"clone",ol.style.Fill.prototype.clone),goog.exportProperty(ol.style.Fill.prototype,"getColor",ol.style.Fill.prototype.getColor),goog.exportProperty(ol.style.Fill.prototype,"setColor",ol.style.Fill.prototype.setColor),goog.exportSymbol("ol.style.Icon",ol.style.Icon,OPENLAYERS),goog.exportProperty(ol.style.Icon.prototype,"clone",ol.style.Icon.prototype.clone),goog.exportProperty(ol.style.Icon.prototype,"getAnchor",ol.style.Icon.prototype.getAnchor),goog.exportProperty(ol.style.Icon.prototype,"getColor",ol.style.Icon.prototype.getColor),goog.exportProperty(ol.style.Icon.prototype,"getImage",ol.style.Icon.prototype.getImage),goog.exportProperty(ol.style.Icon.prototype,"getOrigin",ol.style.Icon.prototype.getOrigin),goog.exportProperty(ol.style.Icon.prototype,"getSrc",ol.style.Icon.prototype.getSrc),goog.exportProperty(ol.style.Icon.prototype,"getSize",ol.style.Icon.prototype.getSize),goog.exportProperty(ol.style.Icon.prototype,"load",ol.style.Icon.prototype.load),goog.exportProperty(ol.style.IconImageCache.prototype,"setSize",ol.style.IconImageCache.prototype.setSize),goog.exportSymbol("ol.style.Image",ol.style.Image,OPENLAYERS),goog.exportProperty(ol.style.Image.prototype,"getOpacity",ol.style.Image.prototype.getOpacity),goog.exportProperty(ol.style.Image.prototype,"getRotateWithView",ol.style.Image.prototype.getRotateWithView),goog.exportProperty(ol.style.Image.prototype,"getRotation",ol.style.Image.prototype.getRotation),goog.exportProperty(ol.style.Image.prototype,"getScale",ol.style.Image.prototype.getScale),goog.exportProperty(ol.style.Image.prototype,"getSnapToPixel",ol.style.Image.prototype.getSnapToPixel),goog.exportProperty(ol.style.Image.prototype,"setOpacity",ol.style.Image.prototype.setOpacity),goog.exportProperty(ol.style.Image.prototype,"setRotation",ol.style.Image.prototype.setRotation),goog.exportProperty(ol.style.Image.prototype,"setScale",ol.style.Image.prototype.setScale),goog.exportSymbol("ol.style.RegularShape",ol.style.RegularShape,OPENLAYERS),goog.exportProperty(ol.style.RegularShape.prototype,"clone",ol.style.RegularShape.prototype.clone),goog.exportProperty(ol.style.RegularShape.prototype,"getAnchor",ol.style.RegularShape.prototype.getAnchor),goog.exportProperty(ol.style.RegularShape.prototype,"getAngle",ol.style.RegularShape.prototype.getAngle),goog.exportProperty(ol.style.RegularShape.prototype,"getFill",ol.style.RegularShape.prototype.getFill),goog.exportProperty(ol.style.RegularShape.prototype,"getImage",ol.style.RegularShape.prototype.getImage),goog.exportProperty(ol.style.RegularShape.prototype,"getOrigin",ol.style.RegularShape.prototype.getOrigin),goog.exportProperty(ol.style.RegularShape.prototype,"getPoints",ol.style.RegularShape.prototype.getPoints),goog.exportProperty(ol.style.RegularShape.prototype,"getRadius",ol.style.RegularShape.prototype.getRadius),goog.exportProperty(ol.style.RegularShape.prototype,"getRadius2",ol.style.RegularShape.prototype.getRadius2),goog.exportProperty(ol.style.RegularShape.prototype,"getSize",ol.style.RegularShape.prototype.getSize),goog.exportProperty(ol.style.RegularShape.prototype,"getStroke",ol.style.RegularShape.prototype.getStroke),goog.exportSymbol("ol.style.Stroke",ol.style.Stroke,OPENLAYERS),goog.exportProperty(ol.style.Stroke.prototype,"clone",ol.style.Stroke.prototype.clone),goog.exportProperty(ol.style.Stroke.prototype,"getColor",ol.style.Stroke.prototype.getColor),goog.exportProperty(ol.style.Stroke.prototype,"getLineCap",ol.style.Stroke.prototype.getLineCap),goog.exportProperty(ol.style.Stroke.prototype,"getLineDash",ol.style.Stroke.prototype.getLineDash),goog.exportProperty(ol.style.Stroke.prototype,"getLineDashOffset",ol.style.Stroke.prototype.getLineDashOffset),goog.exportProperty(ol.style.Stroke.prototype,"getLineJoin",ol.style.Stroke.prototype.getLineJoin),goog.exportProperty(ol.style.Stroke.prototype,"getMiterLimit",ol.style.Stroke.prototype.getMiterLimit),goog.exportProperty(ol.style.Stroke.prototype,"getWidth",ol.style.Stroke.prototype.getWidth),goog.exportProperty(ol.style.Stroke.prototype,"setColor",ol.style.Stroke.prototype.setColor),goog.exportProperty(ol.style.Stroke.prototype,"setLineCap",ol.style.Stroke.prototype.setLineCap),goog.exportProperty(ol.style.Stroke.prototype,"setLineDash",ol.style.Stroke.prototype.setLineDash),goog.exportProperty(ol.style.Stroke.prototype,"setLineDashOffset",ol.style.Stroke.prototype.setLineDashOffset),goog.exportProperty(ol.style.Stroke.prototype,"setLineJoin",ol.style.Stroke.prototype.setLineJoin),goog.exportProperty(ol.style.Stroke.prototype,"setMiterLimit",ol.style.Stroke.prototype.setMiterLimit),goog.exportProperty(ol.style.Stroke.prototype,"setWidth",ol.style.Stroke.prototype.setWidth),goog.exportSymbol("ol.style.Style",ol.style.Style,OPENLAYERS),goog.exportProperty(ol.style.Style.prototype,"clone",ol.style.Style.prototype.clone),goog.exportProperty(ol.style.Style.prototype,"getRenderer",ol.style.Style.prototype.getRenderer),goog.exportProperty(ol.style.Style.prototype,"setRenderer",ol.style.Style.prototype.setRenderer),goog.exportProperty(ol.style.Style.prototype,"getGeometry",ol.style.Style.prototype.getGeometry),goog.exportProperty(ol.style.Style.prototype,"getGeometryFunction",ol.style.Style.prototype.getGeometryFunction),goog.exportProperty(ol.style.Style.prototype,"getFill",ol.style.Style.prototype.getFill),goog.exportProperty(ol.style.Style.prototype,"setFill",ol.style.Style.prototype.setFill),goog.exportProperty(ol.style.Style.prototype,"getImage",ol.style.Style.prototype.getImage),goog.exportProperty(ol.style.Style.prototype,"setImage",ol.style.Style.prototype.setImage),goog.exportProperty(ol.style.Style.prototype,"getStroke",ol.style.Style.prototype.getStroke),goog.exportProperty(ol.style.Style.prototype,"setStroke",ol.style.Style.prototype.setStroke),goog.exportProperty(ol.style.Style.prototype,"getText",ol.style.Style.prototype.getText),goog.exportProperty(ol.style.Style.prototype,"setText",ol.style.Style.prototype.setText),goog.exportProperty(ol.style.Style.prototype,"getZIndex",ol.style.Style.prototype.getZIndex),goog.exportProperty(ol.style.Style.prototype,"setGeometry",ol.style.Style.prototype.setGeometry),goog.exportProperty(ol.style.Style.prototype,"setZIndex",ol.style.Style.prototype.setZIndex),goog.exportSymbol("ol.style.Text",ol.style.Text,OPENLAYERS),goog.exportProperty(ol.style.Text.prototype,"clone",ol.style.Text.prototype.clone),goog.exportProperty(ol.style.Text.prototype,"getOverflow",ol.style.Text.prototype.getOverflow),goog.exportProperty(ol.style.Text.prototype,"getFont",ol.style.Text.prototype.getFont),goog.exportProperty(ol.style.Text.prototype,"getMaxAngle",ol.style.Text.prototype.getMaxAngle),goog.exportProperty(ol.style.Text.prototype,"getPlacement",ol.style.Text.prototype.getPlacement),goog.exportProperty(ol.style.Text.prototype,"getOffsetX",ol.style.Text.prototype.getOffsetX),goog.exportProperty(ol.style.Text.prototype,"getOffsetY",ol.style.Text.prototype.getOffsetY),goog.exportProperty(ol.style.Text.prototype,"getFill",ol.style.Text.prototype.getFill),goog.exportProperty(ol.style.Text.prototype,"getRotateWithView",ol.style.Text.prototype.getRotateWithView),goog.exportProperty(ol.style.Text.prototype,"getRotation",ol.style.Text.prototype.getRotation),goog.exportProperty(ol.style.Text.prototype,"getScale",ol.style.Text.prototype.getScale),goog.exportProperty(ol.style.Text.prototype,"getStroke",ol.style.Text.prototype.getStroke),goog.exportProperty(ol.style.Text.prototype,"getText",ol.style.Text.prototype.getText),goog.exportProperty(ol.style.Text.prototype,"getTextAlign",ol.style.Text.prototype.getTextAlign),goog.exportProperty(ol.style.Text.prototype,"getTextBaseline",ol.style.Text.prototype.getTextBaseline),goog.exportProperty(ol.style.Text.prototype,"getBackgroundFill",ol.style.Text.prototype.getBackgroundFill),goog.exportProperty(ol.style.Text.prototype,"getBackgroundStroke",ol.style.Text.prototype.getBackgroundStroke),goog.exportProperty(ol.style.Text.prototype,"getPadding",ol.style.Text.prototype.getPadding),goog.exportProperty(ol.style.Text.prototype,"setOverflow",ol.style.Text.prototype.setOverflow),goog.exportProperty(ol.style.Text.prototype,"setFont",ol.style.Text.prototype.setFont),goog.exportProperty(ol.style.Text.prototype,"setMaxAngle",ol.style.Text.prototype.setMaxAngle),goog.exportProperty(ol.style.Text.prototype,"setOffsetX",ol.style.Text.prototype.setOffsetX),goog.exportProperty(ol.style.Text.prototype,"setOffsetY",ol.style.Text.prototype.setOffsetY),goog.exportProperty(ol.style.Text.prototype,"setPlacement",ol.style.Text.prototype.setPlacement),goog.exportProperty(ol.style.Text.prototype,"setFill",ol.style.Text.prototype.setFill),goog.exportProperty(ol.style.Text.prototype,"setRotation",ol.style.Text.prototype.setRotation),goog.exportProperty(ol.style.Text.prototype,"setScale",ol.style.Text.prototype.setScale),goog.exportProperty(ol.style.Text.prototype,"setStroke",ol.style.Text.prototype.setStroke),goog.exportProperty(ol.style.Text.prototype,"setText",ol.style.Text.prototype.setText),goog.exportProperty(ol.style.Text.prototype,"setTextAlign",ol.style.Text.prototype.setTextAlign),goog.exportProperty(ol.style.Text.prototype,"setTextBaseline",ol.style.Text.prototype.setTextBaseline),goog.exportProperty(ol.style.Text.prototype,"setBackgroundFill",ol.style.Text.prototype.setBackgroundFill),goog.exportProperty(ol.style.Text.prototype,"setBackgroundStroke",ol.style.Text.prototype.setBackgroundStroke),goog.exportProperty(ol.style.Text.prototype,"setPadding",ol.style.Text.prototype.setPadding),goog.exportSymbol("ol.source.BingMaps",ol.source.BingMaps,OPENLAYERS),goog.exportSymbol("ol.source.BingMaps.TOS_ATTRIBUTION",ol.source.BingMaps.TOS_ATTRIBUTION,OPENLAYERS),goog.exportProperty(ol.source.BingMaps.prototype,"getApiKey",ol.source.BingMaps.prototype.getApiKey),goog.exportProperty(ol.source.BingMaps.prototype,"getImagerySet",ol.source.BingMaps.prototype.getImagerySet),goog.exportSymbol("ol.source.CartoDB",ol.source.CartoDB,OPENLAYERS),goog.exportProperty(ol.source.CartoDB.prototype,"getConfig",ol.source.CartoDB.prototype.getConfig),goog.exportProperty(ol.source.CartoDB.prototype,"updateConfig",ol.source.CartoDB.prototype.updateConfig),goog.exportProperty(ol.source.CartoDB.prototype,"setConfig",ol.source.CartoDB.prototype.setConfig),goog.exportSymbol("ol.source.Cluster",ol.source.Cluster,OPENLAYERS),goog.exportProperty(ol.source.Cluster.prototype,"getDistance",ol.source.Cluster.prototype.getDistance),goog.exportProperty(ol.source.Cluster.prototype,"getSource",ol.source.Cluster.prototype.getSource),goog.exportProperty(ol.source.Cluster.prototype,"setDistance",ol.source.Cluster.prototype.setDistance),goog.exportSymbol("ol.source.Image",ol.source.Image,OPENLAYERS),goog.exportProperty(ol.source.Image.Event.prototype,"image",ol.source.Image.Event.prototype.image),goog.exportSymbol("ol.source.ImageArcGISRest",ol.source.ImageArcGISRest,OPENLAYERS),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getParams",ol.source.ImageArcGISRest.prototype.getParams),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getImageLoadFunction",ol.source.ImageArcGISRest.prototype.getImageLoadFunction),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getUrl",ol.source.ImageArcGISRest.prototype.getUrl),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"setImageLoadFunction",ol.source.ImageArcGISRest.prototype.setImageLoadFunction),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"setUrl",ol.source.ImageArcGISRest.prototype.setUrl),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"updateParams",ol.source.ImageArcGISRest.prototype.updateParams),goog.exportSymbol("ol.source.ImageCanvas",ol.source.ImageCanvas,OPENLAYERS),goog.exportSymbol("ol.source.ImageMapGuide",ol.source.ImageMapGuide,OPENLAYERS),goog.exportProperty(ol.source.ImageMapGuide.prototype,"getParams",ol.source.ImageMapGuide.prototype.getParams),goog.exportProperty(ol.source.ImageMapGuide.prototype,"getImageLoadFunction",ol.source.ImageMapGuide.prototype.getImageLoadFunction),goog.exportProperty(ol.source.ImageMapGuide.prototype,"updateParams",ol.source.ImageMapGuide.prototype.updateParams),goog.exportProperty(ol.source.ImageMapGuide.prototype,"setImageLoadFunction",ol.source.ImageMapGuide.prototype.setImageLoadFunction),goog.exportSymbol("ol.source.ImageStatic",ol.source.ImageStatic,OPENLAYERS),goog.exportSymbol("ol.source.ImageVector",ol.source.ImageVector,OPENLAYERS),goog.exportProperty(ol.source.ImageVector.prototype,"getSource",ol.source.ImageVector.prototype.getSource),goog.exportProperty(ol.source.ImageVector.prototype,"getStyle",ol.source.ImageVector.prototype.getStyle),goog.exportProperty(ol.source.ImageVector.prototype,"getStyleFunction",ol.source.ImageVector.prototype.getStyleFunction),goog.exportProperty(ol.source.ImageVector.prototype,"setStyle",ol.source.ImageVector.prototype.setStyle),goog.exportSymbol("ol.source.ImageWMS",ol.source.ImageWMS,OPENLAYERS),goog.exportProperty(ol.source.ImageWMS.prototype,"getGetFeatureInfoUrl",ol.source.ImageWMS.prototype.getGetFeatureInfoUrl),goog.exportProperty(ol.source.ImageWMS.prototype,"getParams",ol.source.ImageWMS.prototype.getParams),goog.exportProperty(ol.source.ImageWMS.prototype,"getImageLoadFunction",ol.source.ImageWMS.prototype.getImageLoadFunction),goog.exportProperty(ol.source.ImageWMS.prototype,"getUrl",ol.source.ImageWMS.prototype.getUrl),goog.exportProperty(ol.source.ImageWMS.prototype,"setImageLoadFunction",ol.source.ImageWMS.prototype.setImageLoadFunction),goog.exportProperty(ol.source.ImageWMS.prototype,"setUrl",ol.source.ImageWMS.prototype.setUrl),goog.exportProperty(ol.source.ImageWMS.prototype,"updateParams",ol.source.ImageWMS.prototype.updateParams),goog.exportSymbol("ol.source.OSM",ol.source.OSM,OPENLAYERS),goog.exportSymbol("ol.source.OSM.ATTRIBUTION",ol.source.OSM.ATTRIBUTION,OPENLAYERS),goog.exportSymbol("ol.source.Raster",ol.source.Raster,OPENLAYERS),goog.exportProperty(ol.source.Raster.prototype,"setOperation",ol.source.Raster.prototype.setOperation),goog.exportProperty(ol.source.Raster.Event.prototype,"extent",ol.source.Raster.Event.prototype.extent),goog.exportProperty(ol.source.Raster.Event.prototype,"resolution",ol.source.Raster.Event.prototype.resolution),goog.exportProperty(ol.source.Raster.Event.prototype,"data",ol.source.Raster.Event.prototype.data),goog.exportSymbol("ol.source.Source",ol.source.Source,OPENLAYERS),goog.exportProperty(ol.source.Source.prototype,"getAttributions",ol.source.Source.prototype.getAttributions),goog.exportProperty(ol.source.Source.prototype,"getLogo",ol.source.Source.prototype.getLogo),goog.exportProperty(ol.source.Source.prototype,"getProjection",ol.source.Source.prototype.getProjection),goog.exportProperty(ol.source.Source.prototype,"getState",ol.source.Source.prototype.getState),goog.exportProperty(ol.source.Source.prototype,"refresh",ol.source.Source.prototype.refresh),goog.exportProperty(ol.source.Source.prototype,"setAttributions",ol.source.Source.prototype.setAttributions),goog.exportSymbol("ol.source.Stamen",ol.source.Stamen,OPENLAYERS),goog.exportSymbol("ol.source.Tile",ol.source.Tile,OPENLAYERS),goog.exportProperty(ol.source.Tile.prototype,"getTileGrid",ol.source.Tile.prototype.getTileGrid),goog.exportProperty(ol.source.Tile.Event.prototype,"tile",ol.source.Tile.Event.prototype.tile),goog.exportSymbol("ol.source.TileArcGISRest",ol.source.TileArcGISRest,OPENLAYERS),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getParams",ol.source.TileArcGISRest.prototype.getParams),goog.exportProperty(ol.source.TileArcGISRest.prototype,"updateParams",ol.source.TileArcGISRest.prototype.updateParams),goog.exportSymbol("ol.source.TileDebug",ol.source.TileDebug,OPENLAYERS),goog.exportSymbol("ol.source.TileImage",ol.source.TileImage,OPENLAYERS),goog.exportProperty(ol.source.TileImage.prototype,"setRenderReprojectionEdges",ol.source.TileImage.prototype.setRenderReprojectionEdges),goog.exportProperty(ol.source.TileImage.prototype,"setTileGridForProjection",ol.source.TileImage.prototype.setTileGridForProjection),goog.exportSymbol("ol.source.TileJSON",ol.source.TileJSON,OPENLAYERS),goog.exportProperty(ol.source.TileJSON.prototype,"getTileJSON",ol.source.TileJSON.prototype.getTileJSON),goog.exportSymbol("ol.source.TileUTFGrid",ol.source.TileUTFGrid,OPENLAYERS),goog.exportProperty(ol.source.TileUTFGrid.prototype,"getTemplate",ol.source.TileUTFGrid.prototype.getTemplate),goog.exportProperty(ol.source.TileUTFGrid.prototype,"forDataAtCoordinateAndResolution",ol.source.TileUTFGrid.prototype.forDataAtCoordinateAndResolution),goog.exportSymbol("ol.source.TileWMS",ol.source.TileWMS,OPENLAYERS),goog.exportProperty(ol.source.TileWMS.prototype,"getGetFeatureInfoUrl",ol.source.TileWMS.prototype.getGetFeatureInfoUrl),goog.exportProperty(ol.source.TileWMS.prototype,"getParams",ol.source.TileWMS.prototype.getParams),goog.exportProperty(ol.source.TileWMS.prototype,"updateParams",ol.source.TileWMS.prototype.updateParams),goog.exportProperty(ol.source.UrlTile.prototype,"getTileLoadFunction",ol.source.UrlTile.prototype.getTileLoadFunction),goog.exportProperty(ol.source.UrlTile.prototype,"getTileUrlFunction",ol.source.UrlTile.prototype.getTileUrlFunction),goog.exportProperty(ol.source.UrlTile.prototype,"getUrls",ol.source.UrlTile.prototype.getUrls),goog.exportProperty(ol.source.UrlTile.prototype,"setTileLoadFunction",ol.source.UrlTile.prototype.setTileLoadFunction),goog.exportProperty(ol.source.UrlTile.prototype,"setTileUrlFunction",ol.source.UrlTile.prototype.setTileUrlFunction),goog.exportProperty(ol.source.UrlTile.prototype,"setUrl",ol.source.UrlTile.prototype.setUrl),goog.exportProperty(ol.source.UrlTile.prototype,"setUrls",ol.source.UrlTile.prototype.setUrls),goog.exportSymbol("ol.source.Vector",ol.source.Vector,OPENLAYERS),goog.exportProperty(ol.source.Vector.prototype,"addFeature",ol.source.Vector.prototype.addFeature),goog.exportProperty(ol.source.Vector.prototype,"addFeatures",ol.source.Vector.prototype.addFeatures),goog.exportProperty(ol.source.Vector.prototype,"clear",ol.source.Vector.prototype.clear),goog.exportProperty(ol.source.Vector.prototype,"forEachFeature",ol.source.Vector.prototype.forEachFeature),goog.exportProperty(ol.source.Vector.prototype,"forEachFeatureInExtent",ol.source.Vector.prototype.forEachFeatureInExtent),goog.exportProperty(ol.source.Vector.prototype,"forEachFeatureIntersectingExtent",ol.source.Vector.prototype.forEachFeatureIntersectingExtent),goog.exportProperty(ol.source.Vector.prototype,"getFeaturesCollection",ol.source.Vector.prototype.getFeaturesCollection),goog.exportProperty(ol.source.Vector.prototype,"getFeatures",ol.source.Vector.prototype.getFeatures),goog.exportProperty(ol.source.Vector.prototype,"getFeaturesAtCoordinate",ol.source.Vector.prototype.getFeaturesAtCoordinate),goog.exportProperty(ol.source.Vector.prototype,"getFeaturesInExtent",ol.source.Vector.prototype.getFeaturesInExtent),goog.exportProperty(ol.source.Vector.prototype,"getClosestFeatureToCoordinate",ol.source.Vector.prototype.getClosestFeatureToCoordinate),goog.exportProperty(ol.source.Vector.prototype,"getExtent",ol.source.Vector.prototype.getExtent),goog.exportProperty(ol.source.Vector.prototype,"getFeatureById",ol.source.Vector.prototype.getFeatureById),goog.exportProperty(ol.source.Vector.prototype,"getFormat",ol.source.Vector.prototype.getFormat),goog.exportProperty(ol.source.Vector.prototype,"getUrl",ol.source.Vector.prototype.getUrl),goog.exportProperty(ol.source.Vector.prototype,"removeLoadedExtent",ol.source.Vector.prototype.removeLoadedExtent),goog.exportProperty(ol.source.Vector.prototype,"removeFeature",ol.source.Vector.prototype.removeFeature),goog.exportProperty(ol.source.Vector.prototype,"setLoader",ol.source.Vector.prototype.setLoader),goog.exportProperty(ol.source.Vector.Event.prototype,"feature",ol.source.Vector.Event.prototype.feature),goog.exportSymbol("ol.source.VectorTile",ol.source.VectorTile,OPENLAYERS),goog.exportProperty(ol.source.VectorTile.prototype,"clear",ol.source.VectorTile.prototype.clear),goog.exportSymbol("ol.source.WMTS",ol.source.WMTS,OPENLAYERS),goog.exportProperty(ol.source.WMTS.prototype,"getDimensions",ol.source.WMTS.prototype.getDimensions),goog.exportProperty(ol.source.WMTS.prototype,"getFormat",ol.source.WMTS.prototype.getFormat),goog.exportProperty(ol.source.WMTS.prototype,"getLayer",ol.source.WMTS.prototype.getLayer),goog.exportProperty(ol.source.WMTS.prototype,"getMatrixSet",ol.source.WMTS.prototype.getMatrixSet),goog.exportProperty(ol.source.WMTS.prototype,"getRequestEncoding",ol.source.WMTS.prototype.getRequestEncoding),goog.exportProperty(ol.source.WMTS.prototype,"getStyle",ol.source.WMTS.prototype.getStyle),goog.exportProperty(ol.source.WMTS.prototype,"getVersion",ol.source.WMTS.prototype.getVersion),goog.exportProperty(ol.source.WMTS.prototype,"updateDimensions",ol.source.WMTS.prototype.updateDimensions),goog.exportSymbol("ol.source.WMTS.optionsFromCapabilities",ol.source.WMTS.optionsFromCapabilities,OPENLAYERS),goog.exportSymbol("ol.source.XYZ",ol.source.XYZ,OPENLAYERS),goog.exportSymbol("ol.source.Zoomify",ol.source.Zoomify,OPENLAYERS),goog.exportSymbol("ol.renderer.webgl.ImageLayer",ol.renderer.webgl.ImageLayer,OPENLAYERS),goog.exportSymbol("ol.renderer.webgl.Map",ol.renderer.webgl.Map,OPENLAYERS),goog.exportSymbol("ol.renderer.webgl.TileLayer",ol.renderer.webgl.TileLayer,OPENLAYERS),goog.exportSymbol("ol.renderer.webgl.VectorLayer",ol.renderer.webgl.VectorLayer,OPENLAYERS),goog.exportSymbol("ol.renderer.canvas.ImageLayer",ol.renderer.canvas.ImageLayer,OPENLAYERS),goog.exportSymbol("ol.renderer.canvas.Map",ol.renderer.canvas.Map,OPENLAYERS),goog.exportSymbol("ol.renderer.canvas.TileLayer",ol.renderer.canvas.TileLayer,OPENLAYERS),goog.exportSymbol("ol.renderer.canvas.VectorLayer",ol.renderer.canvas.VectorLayer,OPENLAYERS),goog.exportSymbol("ol.renderer.canvas.VectorTileLayer",ol.renderer.canvas.VectorTileLayer,OPENLAYERS),goog.exportProperty(ol.render.Event.prototype,"vectorContext",ol.render.Event.prototype.vectorContext),goog.exportProperty(ol.render.Event.prototype,"frameState",ol.render.Event.prototype.frameState),goog.exportProperty(ol.render.Event.prototype,"context",ol.render.Event.prototype.context),goog.exportProperty(ol.render.Event.prototype,"glContext",ol.render.Event.prototype.glContext),goog.exportProperty(ol.render.Feature.prototype,"get",ol.render.Feature.prototype.get),goog.exportProperty(ol.render.Feature.prototype,"getExtent",ol.render.Feature.prototype.getExtent),goog.exportProperty(ol.render.Feature.prototype,"getId",ol.render.Feature.prototype.getId),goog.exportProperty(ol.render.Feature.prototype,"getGeometry",ol.render.Feature.prototype.getGeometry),goog.exportProperty(ol.render.Feature.prototype,"getProperties",ol.render.Feature.prototype.getProperties),goog.exportProperty(ol.render.Feature.prototype,"getType",ol.render.Feature.prototype.getType),goog.exportSymbol("ol.render.VectorContext",ol.render.VectorContext,OPENLAYERS),goog.exportProperty(ol.render.webgl.Immediate.prototype,"setStyle",ol.render.webgl.Immediate.prototype.setStyle),goog.exportProperty(ol.render.webgl.Immediate.prototype,"drawGeometry",ol.render.webgl.Immediate.prototype.drawGeometry),goog.exportProperty(ol.render.webgl.Immediate.prototype,"drawFeature",ol.render.webgl.Immediate.prototype.drawFeature),goog.exportProperty(ol.render.canvas.Immediate.prototype,"drawCircle",ol.render.canvas.Immediate.prototype.drawCircle),goog.exportProperty(ol.render.canvas.Immediate.prototype,"setStyle",ol.render.canvas.Immediate.prototype.setStyle),goog.exportProperty(ol.render.canvas.Immediate.prototype,"drawGeometry",ol.render.canvas.Immediate.prototype.drawGeometry),goog.exportProperty(ol.render.canvas.Immediate.prototype,"drawFeature",ol.render.canvas.Immediate.prototype.drawFeature),goog.exportSymbol("ol.proj.common.add",ol.proj.common.add,OPENLAYERS),goog.exportSymbol("ol.proj.Projection",ol.proj.Projection,OPENLAYERS),goog.exportProperty(ol.proj.Projection.prototype,"getCode",ol.proj.Projection.prototype.getCode),goog.exportProperty(ol.proj.Projection.prototype,"getExtent",ol.proj.Projection.prototype.getExtent),goog.exportProperty(ol.proj.Projection.prototype,"getUnits",ol.proj.Projection.prototype.getUnits),goog.exportProperty(ol.proj.Projection.prototype,"getMetersPerUnit",ol.proj.Projection.prototype.getMetersPerUnit),goog.exportProperty(ol.proj.Projection.prototype,"getWorldExtent",ol.proj.Projection.prototype.getWorldExtent),goog.exportProperty(ol.proj.Projection.prototype,"getAxisOrientation",ol.proj.Projection.prototype.getAxisOrientation),goog.exportProperty(ol.proj.Projection.prototype,"isGlobal",ol.proj.Projection.prototype.isGlobal),goog.exportProperty(ol.proj.Projection.prototype,"setGlobal",ol.proj.Projection.prototype.setGlobal),goog.exportProperty(ol.proj.Projection.prototype,"setExtent",ol.proj.Projection.prototype.setExtent),goog.exportProperty(ol.proj.Projection.prototype,"setWorldExtent",ol.proj.Projection.prototype.setWorldExtent),goog.exportProperty(ol.proj.Projection.prototype,"setGetPointResolution",ol.proj.Projection.prototype.setGetPointResolution),goog.exportSymbol("ol.proj.Units.METERS_PER_UNIT",ol.proj.Units.METERS_PER_UNIT,OPENLAYERS),goog.exportSymbol("ol.layer.Base",ol.layer.Base,OPENLAYERS),goog.exportProperty(ol.layer.Base.prototype,"getExtent",ol.layer.Base.prototype.getExtent),goog.exportProperty(ol.layer.Base.prototype,"getMaxResolution",ol.layer.Base.prototype.getMaxResolution),goog.exportProperty(ol.layer.Base.prototype,"getMinResolution",ol.layer.Base.prototype.getMinResolution),goog.exportProperty(ol.layer.Base.prototype,"getOpacity",ol.layer.Base.prototype.getOpacity),goog.exportProperty(ol.layer.Base.prototype,"getVisible",ol.layer.Base.prototype.getVisible),goog.exportProperty(ol.layer.Base.prototype,"getZIndex",ol.layer.Base.prototype.getZIndex),goog.exportProperty(ol.layer.Base.prototype,"setExtent",ol.layer.Base.prototype.setExtent),goog.exportProperty(ol.layer.Base.prototype,"setMaxResolution",ol.layer.Base.prototype.setMaxResolution),goog.exportProperty(ol.layer.Base.prototype,"setMinResolution",ol.layer.Base.prototype.setMinResolution),goog.exportProperty(ol.layer.Base.prototype,"setOpacity",ol.layer.Base.prototype.setOpacity),goog.exportProperty(ol.layer.Base.prototype,"setVisible",ol.layer.Base.prototype.setVisible),goog.exportProperty(ol.layer.Base.prototype,"setZIndex",ol.layer.Base.prototype.setZIndex),goog.exportSymbol("ol.layer.Group",ol.layer.Group,OPENLAYERS),goog.exportProperty(ol.layer.Group.prototype,"getLayers",ol.layer.Group.prototype.getLayers),goog.exportProperty(ol.layer.Group.prototype,"setLayers",ol.layer.Group.prototype.setLayers),goog.exportSymbol("ol.layer.Heatmap",ol.layer.Heatmap,OPENLAYERS),goog.exportProperty(ol.layer.Heatmap.prototype,"getBlur",ol.layer.Heatmap.prototype.getBlur),goog.exportProperty(ol.layer.Heatmap.prototype,"getGradient",ol.layer.Heatmap.prototype.getGradient),goog.exportProperty(ol.layer.Heatmap.prototype,"getRadius",ol.layer.Heatmap.prototype.getRadius),goog.exportProperty(ol.layer.Heatmap.prototype,"setBlur",ol.layer.Heatmap.prototype.setBlur),goog.exportProperty(ol.layer.Heatmap.prototype,"setGradient",ol.layer.Heatmap.prototype.setGradient),goog.exportProperty(ol.layer.Heatmap.prototype,"setRadius",ol.layer.Heatmap.prototype.setRadius),goog.exportSymbol("ol.layer.Image",ol.layer.Image,OPENLAYERS),goog.exportProperty(ol.layer.Image.prototype,"getSource",ol.layer.Image.prototype.getSource),goog.exportSymbol("ol.layer.Layer",ol.layer.Layer,OPENLAYERS),goog.exportProperty(ol.layer.Layer.prototype,"getSource",ol.layer.Layer.prototype.getSource),goog.exportProperty(ol.layer.Layer.prototype,"setMap",ol.layer.Layer.prototype.setMap),goog.exportProperty(ol.layer.Layer.prototype,"setSource",ol.layer.Layer.prototype.setSource),goog.exportSymbol("ol.layer.Tile",ol.layer.Tile,OPENLAYERS),goog.exportProperty(ol.layer.Tile.prototype,"getPreload",ol.layer.Tile.prototype.getPreload),goog.exportProperty(ol.layer.Tile.prototype,"getSource",ol.layer.Tile.prototype.getSource),goog.exportProperty(ol.layer.Tile.prototype,"setPreload",ol.layer.Tile.prototype.setPreload),goog.exportProperty(ol.layer.Tile.prototype,"getUseInterimTilesOnError",ol.layer.Tile.prototype.getUseInterimTilesOnError),goog.exportProperty(ol.layer.Tile.prototype,"setUseInterimTilesOnError",ol.layer.Tile.prototype.setUseInterimTilesOnError),goog.exportSymbol("ol.layer.Vector",ol.layer.Vector,OPENLAYERS),goog.exportProperty(ol.layer.Vector.prototype,"getSource",ol.layer.Vector.prototype.getSource),goog.exportProperty(ol.layer.Vector.prototype,"getStyle",ol.layer.Vector.prototype.getStyle),goog.exportProperty(ol.layer.Vector.prototype,"getStyleFunction",ol.layer.Vector.prototype.getStyleFunction),goog.exportProperty(ol.layer.Vector.prototype,"setStyle",ol.layer.Vector.prototype.setStyle),goog.exportSymbol("ol.layer.VectorTile",ol.layer.VectorTile,OPENLAYERS),goog.exportProperty(ol.layer.VectorTile.prototype,"getPreload",ol.layer.VectorTile.prototype.getPreload),goog.exportProperty(ol.layer.VectorTile.prototype,"getUseInterimTilesOnError",ol.layer.VectorTile.prototype.getUseInterimTilesOnError),goog.exportProperty(ol.layer.VectorTile.prototype,"setPreload",ol.layer.VectorTile.prototype.setPreload),goog.exportProperty(ol.layer.VectorTile.prototype,"setUseInterimTilesOnError",ol.layer.VectorTile.prototype.setUseInterimTilesOnError),goog.exportProperty(ol.layer.VectorTile.prototype,"getSource",ol.layer.VectorTile.prototype.getSource),goog.exportSymbol("ol.interaction.DoubleClickZoom",ol.interaction.DoubleClickZoom,OPENLAYERS),goog.exportSymbol("ol.interaction.DoubleClickZoom.handleEvent",ol.interaction.DoubleClickZoom.handleEvent,OPENLAYERS),goog.exportSymbol("ol.interaction.DragAndDrop",ol.interaction.DragAndDrop,OPENLAYERS),goog.exportSymbol("ol.interaction.DragAndDrop.handleEvent",ol.interaction.DragAndDrop.handleEvent,OPENLAYERS),goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,"features",ol.interaction.DragAndDrop.Event.prototype.features),goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,"file",ol.interaction.DragAndDrop.Event.prototype.file),goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,"projection",ol.interaction.DragAndDrop.Event.prototype.projection),goog.exportSymbol("ol.interaction.DragBox",ol.interaction.DragBox,OPENLAYERS),goog.exportProperty(ol.interaction.DragBox.prototype,"getGeometry",ol.interaction.DragBox.prototype.getGeometry),goog.exportProperty(ol.interaction.DragBox.Event.prototype,"coordinate",ol.interaction.DragBox.Event.prototype.coordinate),goog.exportProperty(ol.interaction.DragBox.Event.prototype,"mapBrowserEvent",ol.interaction.DragBox.Event.prototype.mapBrowserEvent),goog.exportSymbol("ol.interaction.DragPan",ol.interaction.DragPan,OPENLAYERS),goog.exportSymbol("ol.interaction.DragRotate",ol.interaction.DragRotate,OPENLAYERS),goog.exportSymbol("ol.interaction.DragRotateAndZoom",ol.interaction.DragRotateAndZoom,OPENLAYERS),goog.exportSymbol("ol.interaction.DragZoom",ol.interaction.DragZoom,OPENLAYERS),goog.exportSymbol("ol.interaction.Draw",ol.interaction.Draw,OPENLAYERS),goog.exportSymbol("ol.interaction.Draw.handleEvent",ol.interaction.Draw.handleEvent,OPENLAYERS),goog.exportProperty(ol.interaction.Draw.prototype,"removeLastPoint",ol.interaction.Draw.prototype.removeLastPoint),goog.exportProperty(ol.interaction.Draw.prototype,"finishDrawing",ol.interaction.Draw.prototype.finishDrawing),goog.exportProperty(ol.interaction.Draw.prototype,"extend",ol.interaction.Draw.prototype.extend),goog.exportSymbol("ol.interaction.Draw.createRegularPolygon",ol.interaction.Draw.createRegularPolygon,OPENLAYERS),goog.exportSymbol("ol.interaction.Draw.createBox",ol.interaction.Draw.createBox,OPENLAYERS),goog.exportProperty(ol.interaction.Draw.Event.prototype,"feature",ol.interaction.Draw.Event.prototype.feature),goog.exportSymbol("ol.interaction.Extent",ol.interaction.Extent,OPENLAYERS),goog.exportProperty(ol.interaction.Extent.prototype,"getExtent",ol.interaction.Extent.prototype.getExtent),goog.exportProperty(ol.interaction.Extent.prototype,"setExtent",ol.interaction.Extent.prototype.setExtent),goog.exportProperty(ol.interaction.Extent.Event.prototype,"extent",ol.interaction.Extent.Event.prototype.extent),goog.exportSymbol("ol.interaction.Interaction",ol.interaction.Interaction,OPENLAYERS),goog.exportProperty(ol.interaction.Interaction.prototype,"getActive",ol.interaction.Interaction.prototype.getActive),goog.exportProperty(ol.interaction.Interaction.prototype,"getMap",ol.interaction.Interaction.prototype.getMap),goog.exportProperty(ol.interaction.Interaction.prototype,"setActive",ol.interaction.Interaction.prototype.setActive),goog.exportSymbol("ol.interaction.KeyboardPan",ol.interaction.KeyboardPan,OPENLAYERS),goog.exportSymbol("ol.interaction.KeyboardPan.handleEvent",ol.interaction.KeyboardPan.handleEvent,OPENLAYERS),goog.exportSymbol("ol.interaction.KeyboardZoom",ol.interaction.KeyboardZoom,OPENLAYERS),goog.exportSymbol("ol.interaction.KeyboardZoom.handleEvent",ol.interaction.KeyboardZoom.handleEvent,OPENLAYERS),goog.exportSymbol("ol.interaction.Modify",ol.interaction.Modify,OPENLAYERS),goog.exportSymbol("ol.interaction.Modify.handleEvent",ol.interaction.Modify.handleEvent,OPENLAYERS),goog.exportProperty(ol.interaction.Modify.prototype,"removePoint",ol.interaction.Modify.prototype.removePoint),goog.exportProperty(ol.interaction.Modify.Event.prototype,"features",ol.interaction.Modify.Event.prototype.features),goog.exportProperty(ol.interaction.Modify.Event.prototype,"mapBrowserEvent",ol.interaction.Modify.Event.prototype.mapBrowserEvent),goog.exportSymbol("ol.interaction.MouseWheelZoom",ol.interaction.MouseWheelZoom,OPENLAYERS),goog.exportSymbol("ol.interaction.MouseWheelZoom.handleEvent",ol.interaction.MouseWheelZoom.handleEvent,OPENLAYERS),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"setMouseAnchor",ol.interaction.MouseWheelZoom.prototype.setMouseAnchor),goog.exportSymbol("ol.interaction.PinchRotate",ol.interaction.PinchRotate,OPENLAYERS),goog.exportSymbol("ol.interaction.PinchZoom",ol.interaction.PinchZoom,OPENLAYERS),goog.exportSymbol("ol.interaction.Pointer",ol.interaction.Pointer,OPENLAYERS),goog.exportSymbol("ol.interaction.Pointer.handleEvent",ol.interaction.Pointer.handleEvent,OPENLAYERS),goog.exportSymbol("ol.interaction.Select",ol.interaction.Select,OPENLAYERS),goog.exportProperty(ol.interaction.Select.prototype,"getFeatures",ol.interaction.Select.prototype.getFeatures),goog.exportProperty(ol.interaction.Select.prototype,"getHitTolerance",ol.interaction.Select.prototype.getHitTolerance),goog.exportProperty(ol.interaction.Select.prototype,"getLayer",ol.interaction.Select.prototype.getLayer),goog.exportSymbol("ol.interaction.Select.handleEvent",ol.interaction.Select.handleEvent,OPENLAYERS),goog.exportProperty(ol.interaction.Select.prototype,"setHitTolerance",ol.interaction.Select.prototype.setHitTolerance),goog.exportProperty(ol.interaction.Select.prototype,"setMap",ol.interaction.Select.prototype.setMap),goog.exportProperty(ol.interaction.Select.Event.prototype,"selected",ol.interaction.Select.Event.prototype.selected),goog.exportProperty(ol.interaction.Select.Event.prototype,"deselected",ol.interaction.Select.Event.prototype.deselected),goog.exportProperty(ol.interaction.Select.Event.prototype,"mapBrowserEvent",ol.interaction.Select.Event.prototype.mapBrowserEvent),goog.exportSymbol("ol.interaction.Snap",ol.interaction.Snap,OPENLAYERS),goog.exportProperty(ol.interaction.Snap.prototype,"addFeature",ol.interaction.Snap.prototype.addFeature),goog.exportProperty(ol.interaction.Snap.prototype,"removeFeature",ol.interaction.Snap.prototype.removeFeature),goog.exportSymbol("ol.interaction.Translate",ol.interaction.Translate,OPENLAYERS),goog.exportProperty(ol.interaction.Translate.prototype,"getHitTolerance",ol.interaction.Translate.prototype.getHitTolerance),goog.exportProperty(ol.interaction.Translate.prototype,"setHitTolerance",ol.interaction.Translate.prototype.setHitTolerance),goog.exportProperty(ol.interaction.Translate.Event.prototype,"features",ol.interaction.Translate.Event.prototype.features),goog.exportProperty(ol.interaction.Translate.Event.prototype,"coordinate",ol.interaction.Translate.Event.prototype.coordinate),goog.exportSymbol("ol.geom.Circle",ol.geom.Circle,OPENLAYERS),goog.exportProperty(ol.geom.Circle.prototype,"clone",ol.geom.Circle.prototype.clone),goog.exportProperty(ol.geom.Circle.prototype,"getCenter",ol.geom.Circle.prototype.getCenter),goog.exportProperty(ol.geom.Circle.prototype,"getRadius",ol.geom.Circle.prototype.getRadius),goog.exportProperty(ol.geom.Circle.prototype,"getType",ol.geom.Circle.prototype.getType),goog.exportProperty(ol.geom.Circle.prototype,"intersectsExtent",ol.geom.Circle.prototype.intersectsExtent),goog.exportProperty(ol.geom.Circle.prototype,"setCenter",ol.geom.Circle.prototype.setCenter),goog.exportProperty(ol.geom.Circle.prototype,"setCenterAndRadius",ol.geom.Circle.prototype.setCenterAndRadius),goog.exportProperty(ol.geom.Circle.prototype,"setRadius",ol.geom.Circle.prototype.setRadius),goog.exportProperty(ol.geom.Circle.prototype,"transform",ol.geom.Circle.prototype.transform),goog.exportSymbol("ol.geom.Geometry",ol.geom.Geometry,OPENLAYERS),goog.exportProperty(ol.geom.Geometry.prototype,"getClosestPoint",ol.geom.Geometry.prototype.getClosestPoint),goog.exportProperty(ol.geom.Geometry.prototype,"intersectsCoordinate",ol.geom.Geometry.prototype.intersectsCoordinate),goog.exportProperty(ol.geom.Geometry.prototype,"getExtent",ol.geom.Geometry.prototype.getExtent),goog.exportProperty(ol.geom.Geometry.prototype,"rotate",ol.geom.Geometry.prototype.rotate),goog.exportProperty(ol.geom.Geometry.prototype,"scale",ol.geom.Geometry.prototype.scale),goog.exportProperty(ol.geom.Geometry.prototype,"simplify",ol.geom.Geometry.prototype.simplify),goog.exportProperty(ol.geom.Geometry.prototype,"transform",ol.geom.Geometry.prototype.transform),goog.exportSymbol("ol.geom.GeometryCollection",ol.geom.GeometryCollection,OPENLAYERS),goog.exportProperty(ol.geom.GeometryCollection.prototype,"clone",ol.geom.GeometryCollection.prototype.clone),goog.exportProperty(ol.geom.GeometryCollection.prototype,"getGeometries",ol.geom.GeometryCollection.prototype.getGeometries),goog.exportProperty(ol.geom.GeometryCollection.prototype,"getType",ol.geom.GeometryCollection.prototype.getType),goog.exportProperty(ol.geom.GeometryCollection.prototype,"intersectsExtent",ol.geom.GeometryCollection.prototype.intersectsExtent),goog.exportProperty(ol.geom.GeometryCollection.prototype,"setGeometries",ol.geom.GeometryCollection.prototype.setGeometries),goog.exportProperty(ol.geom.GeometryCollection.prototype,"applyTransform",ol.geom.GeometryCollection.prototype.applyTransform),goog.exportProperty(ol.geom.GeometryCollection.prototype,"translate",ol.geom.GeometryCollection.prototype.translate),goog.exportSymbol("ol.geom.LinearRing",ol.geom.LinearRing,OPENLAYERS),goog.exportProperty(ol.geom.LinearRing.prototype,"clone",ol.geom.LinearRing.prototype.clone),goog.exportProperty(ol.geom.LinearRing.prototype,"getArea",ol.geom.LinearRing.prototype.getArea),goog.exportProperty(ol.geom.LinearRing.prototype,"getCoordinates",ol.geom.LinearRing.prototype.getCoordinates),goog.exportProperty(ol.geom.LinearRing.prototype,"getType",ol.geom.LinearRing.prototype.getType),goog.exportProperty(ol.geom.LinearRing.prototype,"setCoordinates",ol.geom.LinearRing.prototype.setCoordinates),goog.exportSymbol("ol.geom.LineString",ol.geom.LineString,OPENLAYERS),goog.exportProperty(ol.geom.LineString.prototype,"appendCoordinate",ol.geom.LineString.prototype.appendCoordinate),goog.exportProperty(ol.geom.LineString.prototype,"clone",ol.geom.LineString.prototype.clone),goog.exportProperty(ol.geom.LineString.prototype,"forEachSegment",ol.geom.LineString.prototype.forEachSegment),goog.exportProperty(ol.geom.LineString.prototype,"getCoordinateAtM",ol.geom.LineString.prototype.getCoordinateAtM),goog.exportProperty(ol.geom.LineString.prototype,"getCoordinates",ol.geom.LineString.prototype.getCoordinates),goog.exportProperty(ol.geom.LineString.prototype,"getCoordinateAt",ol.geom.LineString.prototype.getCoordinateAt),goog.exportProperty(ol.geom.LineString.prototype,"getLength",ol.geom.LineString.prototype.getLength),goog.exportProperty(ol.geom.LineString.prototype,"getType",ol.geom.LineString.prototype.getType),goog.exportProperty(ol.geom.LineString.prototype,"intersectsExtent",ol.geom.LineString.prototype.intersectsExtent),goog.exportProperty(ol.geom.LineString.prototype,"setCoordinates",ol.geom.LineString.prototype.setCoordinates),goog.exportSymbol("ol.geom.MultiLineString",ol.geom.MultiLineString,OPENLAYERS),goog.exportProperty(ol.geom.MultiLineString.prototype,"appendLineString",ol.geom.MultiLineString.prototype.appendLineString),goog.exportProperty(ol.geom.MultiLineString.prototype,"clone",ol.geom.MultiLineString.prototype.clone),goog.exportProperty(ol.geom.MultiLineString.prototype,"getCoordinateAtM",ol.geom.MultiLineString.prototype.getCoordinateAtM),goog.exportProperty(ol.geom.MultiLineString.prototype,"getCoordinates",ol.geom.MultiLineString.prototype.getCoordinates),goog.exportProperty(ol.geom.MultiLineString.prototype,"getLineString",ol.geom.MultiLineString.prototype.getLineString),goog.exportProperty(ol.geom.MultiLineString.prototype,"getLineStrings",ol.geom.MultiLineString.prototype.getLineStrings),goog.exportProperty(ol.geom.MultiLineString.prototype,"getType",ol.geom.MultiLineString.prototype.getType),goog.exportProperty(ol.geom.MultiLineString.prototype,"intersectsExtent",ol.geom.MultiLineString.prototype.intersectsExtent),goog.exportProperty(ol.geom.MultiLineString.prototype,"setCoordinates",ol.geom.MultiLineString.prototype.setCoordinates),goog.exportSymbol("ol.geom.MultiPoint",ol.geom.MultiPoint,OPENLAYERS),goog.exportProperty(ol.geom.MultiPoint.prototype,"appendPoint",ol.geom.MultiPoint.prototype.appendPoint),goog.exportProperty(ol.geom.MultiPoint.prototype,"clone",ol.geom.MultiPoint.prototype.clone),goog.exportProperty(ol.geom.MultiPoint.prototype,"getCoordinates",ol.geom.MultiPoint.prototype.getCoordinates),goog.exportProperty(ol.geom.MultiPoint.prototype,"getPoint",ol.geom.MultiPoint.prototype.getPoint),goog.exportProperty(ol.geom.MultiPoint.prototype,"getPoints",ol.geom.MultiPoint.prototype.getPoints),goog.exportProperty(ol.geom.MultiPoint.prototype,"getType",ol.geom.MultiPoint.prototype.getType),goog.exportProperty(ol.geom.MultiPoint.prototype,"intersectsExtent",ol.geom.MultiPoint.prototype.intersectsExtent),goog.exportProperty(ol.geom.MultiPoint.prototype,"setCoordinates",ol.geom.MultiPoint.prototype.setCoordinates),goog.exportSymbol("ol.geom.MultiPolygon",ol.geom.MultiPolygon,OPENLAYERS),goog.exportProperty(ol.geom.MultiPolygon.prototype,"appendPolygon",ol.geom.MultiPolygon.prototype.appendPolygon),goog.exportProperty(ol.geom.MultiPolygon.prototype,"clone",ol.geom.MultiPolygon.prototype.clone),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getArea",ol.geom.MultiPolygon.prototype.getArea),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getCoordinates",ol.geom.MultiPolygon.prototype.getCoordinates),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getInteriorPoints",ol.geom.MultiPolygon.prototype.getInteriorPoints),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getPolygon",ol.geom.MultiPolygon.prototype.getPolygon),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getPolygons",ol.geom.MultiPolygon.prototype.getPolygons),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getType",ol.geom.MultiPolygon.prototype.getType),goog.exportProperty(ol.geom.MultiPolygon.prototype,"intersectsExtent",ol.geom.MultiPolygon.prototype.intersectsExtent),goog.exportProperty(ol.geom.MultiPolygon.prototype,"setCoordinates",ol.geom.MultiPolygon.prototype.setCoordinates),goog.exportSymbol("ol.geom.Point",ol.geom.Point,OPENLAYERS),goog.exportProperty(ol.geom.Point.prototype,"clone",ol.geom.Point.prototype.clone),goog.exportProperty(ol.geom.Point.prototype,"getCoordinates",ol.geom.Point.prototype.getCoordinates),goog.exportProperty(ol.geom.Point.prototype,"getType",ol.geom.Point.prototype.getType),goog.exportProperty(ol.geom.Point.prototype,"intersectsExtent",ol.geom.Point.prototype.intersectsExtent),goog.exportProperty(ol.geom.Point.prototype,"setCoordinates",ol.geom.Point.prototype.setCoordinates),goog.exportSymbol("ol.geom.Polygon",ol.geom.Polygon,OPENLAYERS),goog.exportProperty(ol.geom.Polygon.prototype,"appendLinearRing",ol.geom.Polygon.prototype.appendLinearRing),goog.exportProperty(ol.geom.Polygon.prototype,"clone",ol.geom.Polygon.prototype.clone),goog.exportProperty(ol.geom.Polygon.prototype,"getArea",ol.geom.Polygon.prototype.getArea),goog.exportProperty(ol.geom.Polygon.prototype,"getCoordinates",ol.geom.Polygon.prototype.getCoordinates),goog.exportProperty(ol.geom.Polygon.prototype,"getInteriorPoint",ol.geom.Polygon.prototype.getInteriorPoint),goog.exportProperty(ol.geom.Polygon.prototype,"getLinearRingCount",ol.geom.Polygon.prototype.getLinearRingCount),goog.exportProperty(ol.geom.Polygon.prototype,"getLinearRing",ol.geom.Polygon.prototype.getLinearRing),goog.exportProperty(ol.geom.Polygon.prototype,"getLinearRings",ol.geom.Polygon.prototype.getLinearRings),goog.exportProperty(ol.geom.Polygon.prototype,"getType",ol.geom.Polygon.prototype.getType),goog.exportProperty(ol.geom.Polygon.prototype,"intersectsExtent",ol.geom.Polygon.prototype.intersectsExtent),goog.exportProperty(ol.geom.Polygon.prototype,"setCoordinates",ol.geom.Polygon.prototype.setCoordinates),goog.exportSymbol("ol.geom.Polygon.circular",ol.geom.Polygon.circular,OPENLAYERS),goog.exportSymbol("ol.geom.Polygon.fromExtent",ol.geom.Polygon.fromExtent,OPENLAYERS),goog.exportSymbol("ol.geom.Polygon.fromCircle",ol.geom.Polygon.fromCircle,OPENLAYERS),goog.exportSymbol("ol.geom.SimpleGeometry",ol.geom.SimpleGeometry,OPENLAYERS),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getFirstCoordinate",ol.geom.SimpleGeometry.prototype.getFirstCoordinate),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getLastCoordinate",ol.geom.SimpleGeometry.prototype.getLastCoordinate),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getLayout",ol.geom.SimpleGeometry.prototype.getLayout),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"applyTransform",ol.geom.SimpleGeometry.prototype.applyTransform),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"translate",ol.geom.SimpleGeometry.prototype.translate),goog.exportSymbol("ol.format.EsriJSON",ol.format.EsriJSON,OPENLAYERS),goog.exportProperty(ol.format.EsriJSON.prototype,"readFeature",ol.format.EsriJSON.prototype.readFeature),goog.exportProperty(ol.format.EsriJSON.prototype,"readFeatures",ol.format.EsriJSON.prototype.readFeatures),goog.exportProperty(ol.format.EsriJSON.prototype,"readGeometry",ol.format.EsriJSON.prototype.readGeometry),goog.exportProperty(ol.format.EsriJSON.prototype,"readProjection",ol.format.EsriJSON.prototype.readProjection),goog.exportProperty(ol.format.EsriJSON.prototype,"writeGeometry",ol.format.EsriJSON.prototype.writeGeometry),goog.exportProperty(ol.format.EsriJSON.prototype,"writeGeometryObject",ol.format.EsriJSON.prototype.writeGeometryObject),goog.exportProperty(ol.format.EsriJSON.prototype,"writeFeature",ol.format.EsriJSON.prototype.writeFeature),goog.exportProperty(ol.format.EsriJSON.prototype,"writeFeatureObject",ol.format.EsriJSON.prototype.writeFeatureObject),goog.exportProperty(ol.format.EsriJSON.prototype,"writeFeatures",ol.format.EsriJSON.prototype.writeFeatures),goog.exportProperty(ol.format.EsriJSON.prototype,"writeFeaturesObject",ol.format.EsriJSON.prototype.writeFeaturesObject),goog.exportSymbol("ol.format.Feature",ol.format.Feature,OPENLAYERS),goog.exportSymbol("ol.format.filter.and",ol.format.filter.and,OPENLAYERS),goog.exportSymbol("ol.format.filter.or",ol.format.filter.or,OPENLAYERS),goog.exportSymbol("ol.format.filter.not",ol.format.filter.not,OPENLAYERS),goog.exportSymbol("ol.format.filter.bbox",ol.format.filter.bbox,OPENLAYERS),goog.exportSymbol("ol.format.filter.contains",ol.format.filter.contains,OPENLAYERS),goog.exportSymbol("ol.format.filter.intersects",ol.format.filter.intersects,OPENLAYERS),goog.exportSymbol("ol.format.filter.within",ol.format.filter.within,OPENLAYERS),goog.exportSymbol("ol.format.filter.equalTo",ol.format.filter.equalTo,OPENLAYERS),goog.exportSymbol("ol.format.filter.notEqualTo",ol.format.filter.notEqualTo,OPENLAYERS),goog.exportSymbol("ol.format.filter.lessThan",ol.format.filter.lessThan,OPENLAYERS),goog.exportSymbol("ol.format.filter.lessThanOrEqualTo",ol.format.filter.lessThanOrEqualTo,OPENLAYERS),goog.exportSymbol("ol.format.filter.greaterThan",ol.format.filter.greaterThan,OPENLAYERS),goog.exportSymbol("ol.format.filter.greaterThanOrEqualTo",ol.format.filter.greaterThanOrEqualTo,OPENLAYERS),goog.exportSymbol("ol.format.filter.isNull",ol.format.filter.isNull,OPENLAYERS),goog.exportSymbol("ol.format.filter.between",ol.format.filter.between,OPENLAYERS),goog.exportSymbol("ol.format.filter.like",ol.format.filter.like,OPENLAYERS),goog.exportSymbol("ol.format.filter.during",ol.format.filter.during,OPENLAYERS),goog.exportSymbol("ol.format.GeoJSON",ol.format.GeoJSON,OPENLAYERS),goog.exportProperty(ol.format.GeoJSON.prototype,"readFeature",ol.format.GeoJSON.prototype.readFeature),goog.exportProperty(ol.format.GeoJSON.prototype,"readFeatures",ol.format.GeoJSON.prototype.readFeatures),goog.exportProperty(ol.format.GeoJSON.prototype,"readGeometry",ol.format.GeoJSON.prototype.readGeometry),goog.exportProperty(ol.format.GeoJSON.prototype,"readProjection",ol.format.GeoJSON.prototype.readProjection),goog.exportProperty(ol.format.GeoJSON.prototype,"writeFeature",ol.format.GeoJSON.prototype.writeFeature),goog.exportProperty(ol.format.GeoJSON.prototype,"writeFeatureObject",ol.format.GeoJSON.prototype.writeFeatureObject),goog.exportProperty(ol.format.GeoJSON.prototype,"writeFeatures",ol.format.GeoJSON.prototype.writeFeatures),goog.exportProperty(ol.format.GeoJSON.prototype,"writeFeaturesObject",ol.format.GeoJSON.prototype.writeFeaturesObject),goog.exportProperty(ol.format.GeoJSON.prototype,"writeGeometry",ol.format.GeoJSON.prototype.writeGeometry),goog.exportProperty(ol.format.GeoJSON.prototype,"writeGeometryObject",ol.format.GeoJSON.prototype.writeGeometryObject),goog.exportSymbol("ol.format.GML",ol.format.GML,OPENLAYERS),goog.exportProperty(ol.format.GML.prototype,"writeFeatures",ol.format.GML.prototype.writeFeatures),goog.exportProperty(ol.format.GML.prototype,"writeFeaturesNode",ol.format.GML.prototype.writeFeaturesNode),goog.exportSymbol("ol.format.GML2",ol.format.GML2,OPENLAYERS),goog.exportSymbol("ol.format.GML3",ol.format.GML3,OPENLAYERS),goog.exportProperty(ol.format.GML3.prototype,"writeGeometryNode",ol.format.GML3.prototype.writeGeometryNode),goog.exportProperty(ol.format.GML3.prototype,"writeFeatures",ol.format.GML3.prototype.writeFeatures),goog.exportProperty(ol.format.GML3.prototype,"writeFeaturesNode",ol.format.GML3.prototype.writeFeaturesNode),goog.exportProperty(ol.format.GMLBase.prototype,"readFeatures",ol.format.GMLBase.prototype.readFeatures),goog.exportSymbol("ol.format.GPX",ol.format.GPX,OPENLAYERS),goog.exportProperty(ol.format.GPX.prototype,"readFeature",ol.format.GPX.prototype.readFeature),goog.exportProperty(ol.format.GPX.prototype,"readFeatures",ol.format.GPX.prototype.readFeatures),goog.exportProperty(ol.format.GPX.prototype,"readProjection",ol.format.GPX.prototype.readProjection),goog.exportProperty(ol.format.GPX.prototype,"writeFeatures",ol.format.GPX.prototype.writeFeatures),goog.exportProperty(ol.format.GPX.prototype,"writeFeaturesNode",ol.format.GPX.prototype.writeFeaturesNode),goog.exportSymbol("ol.format.IGC",ol.format.IGC,OPENLAYERS),goog.exportProperty(ol.format.IGC.prototype,"readFeature",ol.format.IGC.prototype.readFeature),goog.exportProperty(ol.format.IGC.prototype,"readFeatures",ol.format.IGC.prototype.readFeatures),goog.exportProperty(ol.format.IGC.prototype,"readProjection",ol.format.IGC.prototype.readProjection),goog.exportSymbol("ol.format.KML",ol.format.KML,OPENLAYERS),goog.exportProperty(ol.format.KML.prototype,"readFeature",ol.format.KML.prototype.readFeature),goog.exportProperty(ol.format.KML.prototype,"readFeatures",ol.format.KML.prototype.readFeatures),goog.exportProperty(ol.format.KML.prototype,"readName",ol.format.KML.prototype.readName),goog.exportProperty(ol.format.KML.prototype,"readNetworkLinks",ol.format.KML.prototype.readNetworkLinks),goog.exportProperty(ol.format.KML.prototype,"readRegion",ol.format.KML.prototype.readRegion),goog.exportProperty(ol.format.KML.prototype,"readRegionFromNode",ol.format.KML.prototype.readRegionFromNode),goog.exportProperty(ol.format.KML.prototype,"readProjection",ol.format.KML.prototype.readProjection),goog.exportProperty(ol.format.KML.prototype,"writeFeatures",ol.format.KML.prototype.writeFeatures),goog.exportProperty(ol.format.KML.prototype,"writeFeaturesNode",ol.format.KML.prototype.writeFeaturesNode),goog.exportSymbol("ol.format.MVT",ol.format.MVT,OPENLAYERS),goog.exportProperty(ol.format.MVT.prototype,"getLastExtent",ol.format.MVT.prototype.getLastExtent),goog.exportProperty(ol.format.MVT.prototype,"readFeatures",ol.format.MVT.prototype.readFeatures),goog.exportProperty(ol.format.MVT.prototype,"readProjection",ol.format.MVT.prototype.readProjection),goog.exportProperty(ol.format.MVT.prototype,"setLayers",ol.format.MVT.prototype.setLayers),goog.exportSymbol("ol.format.OSMXML",ol.format.OSMXML,OPENLAYERS),goog.exportProperty(ol.format.OSMXML.prototype,"readFeatures",ol.format.OSMXML.prototype.readFeatures),goog.exportProperty(ol.format.OSMXML.prototype,"readProjection",ol.format.OSMXML.prototype.readProjection),goog.exportSymbol("ol.format.Polyline",ol.format.Polyline,OPENLAYERS),goog.exportSymbol("ol.format.Polyline.encodeDeltas",ol.format.Polyline.encodeDeltas,OPENLAYERS),goog.exportSymbol("ol.format.Polyline.decodeDeltas",ol.format.Polyline.decodeDeltas,OPENLAYERS),goog.exportSymbol("ol.format.Polyline.encodeFloats",ol.format.Polyline.encodeFloats,OPENLAYERS),goog.exportSymbol("ol.format.Polyline.decodeFloats",ol.format.Polyline.decodeFloats,OPENLAYERS),goog.exportProperty(ol.format.Polyline.prototype,"readFeature",ol.format.Polyline.prototype.readFeature),goog.exportProperty(ol.format.Polyline.prototype,"readFeatures",ol.format.Polyline.prototype.readFeatures),goog.exportProperty(ol.format.Polyline.prototype,"readGeometry",ol.format.Polyline.prototype.readGeometry),goog.exportProperty(ol.format.Polyline.prototype,"readProjection",ol.format.Polyline.prototype.readProjection),goog.exportProperty(ol.format.Polyline.prototype,"writeGeometry",ol.format.Polyline.prototype.writeGeometry),goog.exportSymbol("ol.format.TopoJSON",ol.format.TopoJSON,OPENLAYERS),goog.exportProperty(ol.format.TopoJSON.prototype,"readFeatures",ol.format.TopoJSON.prototype.readFeatures),goog.exportProperty(ol.format.TopoJSON.prototype,"readProjection",ol.format.TopoJSON.prototype.readProjection),goog.exportSymbol("ol.format.WFS",ol.format.WFS,OPENLAYERS),goog.exportProperty(ol.format.WFS.prototype,"readFeatures",ol.format.WFS.prototype.readFeatures),goog.exportProperty(ol.format.WFS.prototype,"readTransactionResponse",ol.format.WFS.prototype.readTransactionResponse),goog.exportProperty(ol.format.WFS.prototype,"readFeatureCollectionMetadata",ol.format.WFS.prototype.readFeatureCollectionMetadata),goog.exportSymbol("ol.format.WFS.writeFilter",ol.format.WFS.writeFilter,OPENLAYERS),goog.exportProperty(ol.format.WFS.prototype,"writeGetFeature",ol.format.WFS.prototype.writeGetFeature),goog.exportProperty(ol.format.WFS.prototype,"writeTransaction",ol.format.WFS.prototype.writeTransaction),goog.exportProperty(ol.format.WFS.prototype,"readProjection",ol.format.WFS.prototype.readProjection),goog.exportSymbol("ol.format.WKT",ol.format.WKT,OPENLAYERS),goog.exportProperty(ol.format.WKT.prototype,"readFeature",ol.format.WKT.prototype.readFeature),goog.exportProperty(ol.format.WKT.prototype,"readFeatures",ol.format.WKT.prototype.readFeatures),goog.exportProperty(ol.format.WKT.prototype,"readGeometry",ol.format.WKT.prototype.readGeometry),goog.exportProperty(ol.format.WKT.prototype,"writeFeature",ol.format.WKT.prototype.writeFeature),goog.exportProperty(ol.format.WKT.prototype,"writeFeatures",ol.format.WKT.prototype.writeFeatures),goog.exportProperty(ol.format.WKT.prototype,"writeGeometry",ol.format.WKT.prototype.writeGeometry),goog.exportSymbol("ol.format.WMSCapabilities",ol.format.WMSCapabilities,OPENLAYERS),goog.exportProperty(ol.format.WMSCapabilities.prototype,"read",ol.format.WMSCapabilities.prototype.read),goog.exportSymbol("ol.format.WMSGetFeatureInfo",ol.format.WMSGetFeatureInfo,OPENLAYERS),goog.exportProperty(ol.format.WMSGetFeatureInfo.prototype,"readFeatures",ol.format.WMSGetFeatureInfo.prototype.readFeatures),goog.exportSymbol("ol.format.WMTSCapabilities",ol.format.WMTSCapabilities,OPENLAYERS),goog.exportProperty(ol.format.WMTSCapabilities.prototype,"read",ol.format.WMTSCapabilities.prototype.read),goog.exportSymbol("ol.format.filter.And",ol.format.filter.And,OPENLAYERS),goog.exportSymbol("ol.format.filter.Bbox",ol.format.filter.Bbox,OPENLAYERS),goog.exportSymbol("ol.format.filter.Comparison",ol.format.filter.Comparison,OPENLAYERS),goog.exportSymbol("ol.format.filter.ComparisonBinary",ol.format.filter.ComparisonBinary,OPENLAYERS),goog.exportSymbol("ol.format.filter.Contains",ol.format.filter.Contains,OPENLAYERS),goog.exportSymbol("ol.format.filter.During",ol.format.filter.During,OPENLAYERS),goog.exportSymbol("ol.format.filter.EqualTo",ol.format.filter.EqualTo,OPENLAYERS),goog.exportSymbol("ol.format.filter.Filter",ol.format.filter.Filter,OPENLAYERS),goog.exportSymbol("ol.format.filter.GreaterThan",ol.format.filter.GreaterThan,OPENLAYERS),goog.exportSymbol("ol.format.filter.GreaterThanOrEqualTo",ol.format.filter.GreaterThanOrEqualTo,OPENLAYERS),goog.exportSymbol("ol.format.filter.Intersects",ol.format.filter.Intersects,OPENLAYERS),goog.exportSymbol("ol.format.filter.IsBetween",ol.format.filter.IsBetween,OPENLAYERS),goog.exportSymbol("ol.format.filter.IsLike",ol.format.filter.IsLike,OPENLAYERS),goog.exportSymbol("ol.format.filter.IsNull",ol.format.filter.IsNull,OPENLAYERS),goog.exportSymbol("ol.format.filter.LessThan",ol.format.filter.LessThan,OPENLAYERS),goog.exportSymbol("ol.format.filter.LessThanOrEqualTo",ol.format.filter.LessThanOrEqualTo,OPENLAYERS),goog.exportSymbol("ol.format.filter.Not",ol.format.filter.Not,OPENLAYERS),goog.exportSymbol("ol.format.filter.NotEqualTo",ol.format.filter.NotEqualTo,OPENLAYERS),goog.exportSymbol("ol.format.filter.Or",ol.format.filter.Or,OPENLAYERS),goog.exportSymbol("ol.format.filter.Spatial",ol.format.filter.Spatial,OPENLAYERS),goog.exportSymbol("ol.format.filter.Within",ol.format.filter.Within,OPENLAYERS),goog.exportSymbol("ol.events.condition.altKeyOnly",ol.events.condition.altKeyOnly,OPENLAYERS),goog.exportSymbol("ol.events.condition.altShiftKeysOnly",ol.events.condition.altShiftKeysOnly,OPENLAYERS),goog.exportSymbol("ol.events.condition.always",ol.events.condition.always,OPENLAYERS),goog.exportSymbol("ol.events.condition.click",ol.events.condition.click,OPENLAYERS),goog.exportSymbol("ol.events.condition.never",ol.events.condition.never,OPENLAYERS),goog.exportSymbol("ol.events.condition.pointerMove",ol.events.condition.pointerMove,OPENLAYERS),goog.exportSymbol("ol.events.condition.singleClick",ol.events.condition.singleClick,OPENLAYERS),goog.exportSymbol("ol.events.condition.doubleClick",ol.events.condition.doubleClick,OPENLAYERS),goog.exportSymbol("ol.events.condition.noModifierKeys",ol.events.condition.noModifierKeys,OPENLAYERS),goog.exportSymbol("ol.events.condition.platformModifierKeyOnly",ol.events.condition.platformModifierKeyOnly,OPENLAYERS),goog.exportSymbol("ol.events.condition.shiftKeyOnly",ol.events.condition.shiftKeyOnly,OPENLAYERS),goog.exportSymbol("ol.events.condition.targetNotEditable",ol.events.condition.targetNotEditable,OPENLAYERS),goog.exportSymbol("ol.events.condition.mouseOnly",ol.events.condition.mouseOnly,OPENLAYERS),goog.exportSymbol("ol.events.condition.primaryAction",ol.events.condition.primaryAction,OPENLAYERS),goog.exportProperty(ol.events.Event.prototype,"type",ol.events.Event.prototype.type),goog.exportProperty(ol.events.Event.prototype,"target",ol.events.Event.prototype.target),goog.exportProperty(ol.events.Event.prototype,"preventDefault",ol.events.Event.prototype.preventDefault),goog.exportProperty(ol.events.Event.prototype,"stopPropagation",ol.events.Event.prototype.stopPropagation),goog.exportSymbol("ol.control.Attribution",ol.control.Attribution,OPENLAYERS),goog.exportSymbol("ol.control.Attribution.render",ol.control.Attribution.render,OPENLAYERS),goog.exportProperty(ol.control.Attribution.prototype,"getCollapsible",ol.control.Attribution.prototype.getCollapsible),goog.exportProperty(ol.control.Attribution.prototype,"setCollapsible",ol.control.Attribution.prototype.setCollapsible),goog.exportProperty(ol.control.Attribution.prototype,"setCollapsed",ol.control.Attribution.prototype.setCollapsed),goog.exportProperty(ol.control.Attribution.prototype,"getCollapsed",ol.control.Attribution.prototype.getCollapsed),goog.exportSymbol("ol.control.Control",ol.control.Control,OPENLAYERS),goog.exportProperty(ol.control.Control.prototype,"getMap",ol.control.Control.prototype.getMap),goog.exportProperty(ol.control.Control.prototype,"setMap",ol.control.Control.prototype.setMap),goog.exportProperty(ol.control.Control.prototype,"setTarget",ol.control.Control.prototype.setTarget),goog.exportSymbol("ol.control.FullScreen",ol.control.FullScreen,OPENLAYERS),goog.exportSymbol("ol.control.MousePosition",ol.control.MousePosition,OPENLAYERS),goog.exportSymbol("ol.control.MousePosition.render",ol.control.MousePosition.render,OPENLAYERS),goog.exportProperty(ol.control.MousePosition.prototype,"getCoordinateFormat",ol.control.MousePosition.prototype.getCoordinateFormat),goog.exportProperty(ol.control.MousePosition.prototype,"getProjection",ol.control.MousePosition.prototype.getProjection),goog.exportProperty(ol.control.MousePosition.prototype,"setCoordinateFormat",ol.control.MousePosition.prototype.setCoordinateFormat),goog.exportProperty(ol.control.MousePosition.prototype,"setProjection",ol.control.MousePosition.prototype.setProjection),goog.exportSymbol("ol.control.OverviewMap",ol.control.OverviewMap,OPENLAYERS),goog.exportSymbol("ol.control.OverviewMap.render",ol.control.OverviewMap.render,OPENLAYERS),goog.exportProperty(ol.control.OverviewMap.prototype,"getCollapsible",ol.control.OverviewMap.prototype.getCollapsible),goog.exportProperty(ol.control.OverviewMap.prototype,"setCollapsible",ol.control.OverviewMap.prototype.setCollapsible),goog.exportProperty(ol.control.OverviewMap.prototype,"setCollapsed",ol.control.OverviewMap.prototype.setCollapsed),goog.exportProperty(ol.control.OverviewMap.prototype,"getCollapsed",ol.control.OverviewMap.prototype.getCollapsed),goog.exportProperty(ol.control.OverviewMap.prototype,"getOverviewMap",ol.control.OverviewMap.prototype.getOverviewMap),goog.exportSymbol("ol.control.Rotate",ol.control.Rotate,OPENLAYERS),goog.exportSymbol("ol.control.Rotate.render",ol.control.Rotate.render,OPENLAYERS),goog.exportSymbol("ol.control.ScaleLine",ol.control.ScaleLine,OPENLAYERS),goog.exportProperty(ol.control.ScaleLine.prototype,"getUnits",ol.control.ScaleLine.prototype.getUnits),goog.exportSymbol("ol.control.ScaleLine.render",ol.control.ScaleLine.render,OPENLAYERS),goog.exportProperty(ol.control.ScaleLine.prototype,"setUnits",ol.control.ScaleLine.prototype.setUnits),goog.exportSymbol("ol.control.Zoom",ol.control.Zoom,OPENLAYERS),goog.exportSymbol("ol.control.ZoomSlider",ol.control.ZoomSlider,OPENLAYERS),goog.exportSymbol("ol.control.ZoomSlider.render",ol.control.ZoomSlider.render,OPENLAYERS),goog.exportSymbol("ol.control.ZoomToExtent",ol.control.ZoomToExtent,OPENLAYERS),goog.exportProperty(ol.Object.prototype,"changed",ol.Object.prototype.changed),goog.exportProperty(ol.Object.prototype,"dispatchEvent",ol.Object.prototype.dispatchEvent),goog.exportProperty(ol.Object.prototype,"getRevision",ol.Object.prototype.getRevision),goog.exportProperty(ol.Object.prototype,"on",ol.Object.prototype.on),goog.exportProperty(ol.Object.prototype,"once",ol.Object.prototype.once),goog.exportProperty(ol.Object.prototype,"un",ol.Object.prototype.un),goog.exportProperty(ol.PluggableMap.prototype,"get",ol.PluggableMap.prototype.get),goog.exportProperty(ol.PluggableMap.prototype,"getKeys",ol.PluggableMap.prototype.getKeys),goog.exportProperty(ol.PluggableMap.prototype,"getProperties",ol.PluggableMap.prototype.getProperties),goog.exportProperty(ol.PluggableMap.prototype,"set",ol.PluggableMap.prototype.set),goog.exportProperty(ol.PluggableMap.prototype,"setProperties",ol.PluggableMap.prototype.setProperties),goog.exportProperty(ol.PluggableMap.prototype,"unset",ol.PluggableMap.prototype.unset),goog.exportProperty(ol.PluggableMap.prototype,"changed",ol.PluggableMap.prototype.changed),goog.exportProperty(ol.PluggableMap.prototype,"dispatchEvent",ol.PluggableMap.prototype.dispatchEvent),goog.exportProperty(ol.PluggableMap.prototype,"getRevision",ol.PluggableMap.prototype.getRevision),goog.exportProperty(ol.PluggableMap.prototype,"on",ol.PluggableMap.prototype.on),goog.exportProperty(ol.PluggableMap.prototype,"once",ol.PluggableMap.prototype.once),goog.exportProperty(ol.PluggableMap.prototype,"un",ol.PluggableMap.prototype.un),goog.exportProperty(ol.CanvasMap.prototype,"addControl",ol.CanvasMap.prototype.addControl),goog.exportProperty(ol.CanvasMap.prototype,"addInteraction",ol.CanvasMap.prototype.addInteraction),goog.exportProperty(ol.CanvasMap.prototype,"addLayer",ol.CanvasMap.prototype.addLayer),goog.exportProperty(ol.CanvasMap.prototype,"addOverlay",ol.CanvasMap.prototype.addOverlay),goog.exportProperty(ol.CanvasMap.prototype,"forEachFeatureAtPixel",ol.CanvasMap.prototype.forEachFeatureAtPixel),goog.exportProperty(ol.CanvasMap.prototype,"getFeaturesAtPixel",ol.CanvasMap.prototype.getFeaturesAtPixel),goog.exportProperty(ol.CanvasMap.prototype,"forEachLayerAtPixel",ol.CanvasMap.prototype.forEachLayerAtPixel),goog.exportProperty(ol.CanvasMap.prototype,"hasFeatureAtPixel",ol.CanvasMap.prototype.hasFeatureAtPixel),goog.exportProperty(ol.CanvasMap.prototype,"getEventCoordinate",ol.CanvasMap.prototype.getEventCoordinate),goog.exportProperty(ol.CanvasMap.prototype,"getEventPixel",ol.CanvasMap.prototype.getEventPixel),goog.exportProperty(ol.CanvasMap.prototype,"getTarget",ol.CanvasMap.prototype.getTarget),goog.exportProperty(ol.CanvasMap.prototype,"getTargetElement",ol.CanvasMap.prototype.getTargetElement),goog.exportProperty(ol.CanvasMap.prototype,"getCoordinateFromPixel",ol.CanvasMap.prototype.getCoordinateFromPixel),goog.exportProperty(ol.CanvasMap.prototype,"getControls",ol.CanvasMap.prototype.getControls),goog.exportProperty(ol.CanvasMap.prototype,"getOverlays",ol.CanvasMap.prototype.getOverlays),goog.exportProperty(ol.CanvasMap.prototype,"getOverlayById",ol.CanvasMap.prototype.getOverlayById),goog.exportProperty(ol.CanvasMap.prototype,"getInteractions",ol.CanvasMap.prototype.getInteractions),goog.exportProperty(ol.CanvasMap.prototype,"getLayerGroup",ol.CanvasMap.prototype.getLayerGroup),goog.exportProperty(ol.CanvasMap.prototype,"getLayers",ol.CanvasMap.prototype.getLayers),goog.exportProperty(ol.CanvasMap.prototype,"getPixelFromCoordinate",ol.CanvasMap.prototype.getPixelFromCoordinate),goog.exportProperty(ol.CanvasMap.prototype,"getSize",ol.CanvasMap.prototype.getSize),goog.exportProperty(ol.CanvasMap.prototype,"getView",ol.CanvasMap.prototype.getView),goog.exportProperty(ol.CanvasMap.prototype,"getViewport",ol.CanvasMap.prototype.getViewport),goog.exportProperty(ol.CanvasMap.prototype,"renderSync",ol.CanvasMap.prototype.renderSync),goog.exportProperty(ol.CanvasMap.prototype,"render",ol.CanvasMap.prototype.render),goog.exportProperty(ol.CanvasMap.prototype,"removeControl",ol.CanvasMap.prototype.removeControl),goog.exportProperty(ol.CanvasMap.prototype,"removeInteraction",ol.CanvasMap.prototype.removeInteraction),goog.exportProperty(ol.CanvasMap.prototype,"removeLayer",ol.CanvasMap.prototype.removeLayer),goog.exportProperty(ol.CanvasMap.prototype,"removeOverlay",ol.CanvasMap.prototype.removeOverlay),goog.exportProperty(ol.CanvasMap.prototype,"setLayerGroup",ol.CanvasMap.prototype.setLayerGroup),goog.exportProperty(ol.CanvasMap.prototype,"setSize",ol.CanvasMap.prototype.setSize),goog.exportProperty(ol.CanvasMap.prototype,"setTarget",ol.CanvasMap.prototype.setTarget),goog.exportProperty(ol.CanvasMap.prototype,"setView",ol.CanvasMap.prototype.setView),goog.exportProperty(ol.CanvasMap.prototype,"updateSize",ol.CanvasMap.prototype.updateSize),goog.exportProperty(ol.CanvasMap.prototype,"get",ol.CanvasMap.prototype.get),goog.exportProperty(ol.CanvasMap.prototype,"getKeys",ol.CanvasMap.prototype.getKeys),goog.exportProperty(ol.CanvasMap.prototype,"getProperties",ol.CanvasMap.prototype.getProperties),goog.exportProperty(ol.CanvasMap.prototype,"set",ol.CanvasMap.prototype.set),goog.exportProperty(ol.CanvasMap.prototype,"setProperties",ol.CanvasMap.prototype.setProperties),goog.exportProperty(ol.CanvasMap.prototype,"unset",ol.CanvasMap.prototype.unset),goog.exportProperty(ol.CanvasMap.prototype,"changed",ol.CanvasMap.prototype.changed),goog.exportProperty(ol.CanvasMap.prototype,"dispatchEvent",ol.CanvasMap.prototype.dispatchEvent),goog.exportProperty(ol.CanvasMap.prototype,"getRevision",ol.CanvasMap.prototype.getRevision),goog.exportProperty(ol.CanvasMap.prototype,"on",ol.CanvasMap.prototype.on),goog.exportProperty(ol.CanvasMap.prototype,"once",ol.CanvasMap.prototype.once),goog.exportProperty(ol.CanvasMap.prototype,"un",ol.CanvasMap.prototype.un),goog.exportProperty(ol.Collection.prototype,"get",ol.Collection.prototype.get),goog.exportProperty(ol.Collection.prototype,"getKeys",ol.Collection.prototype.getKeys),goog.exportProperty(ol.Collection.prototype,"getProperties",ol.Collection.prototype.getProperties),goog.exportProperty(ol.Collection.prototype,"set",ol.Collection.prototype.set),goog.exportProperty(ol.Collection.prototype,"setProperties",ol.Collection.prototype.setProperties),goog.exportProperty(ol.Collection.prototype,"unset",ol.Collection.prototype.unset),goog.exportProperty(ol.Collection.prototype,"changed",ol.Collection.prototype.changed),goog.exportProperty(ol.Collection.prototype,"dispatchEvent",ol.Collection.prototype.dispatchEvent),goog.exportProperty(ol.Collection.prototype,"getRevision",ol.Collection.prototype.getRevision),goog.exportProperty(ol.Collection.prototype,"on",ol.Collection.prototype.on),goog.exportProperty(ol.Collection.prototype,"once",ol.Collection.prototype.once),goog.exportProperty(ol.Collection.prototype,"un",ol.Collection.prototype.un),goog.exportProperty(ol.Collection.Event.prototype,"type",ol.Collection.Event.prototype.type),goog.exportProperty(ol.Collection.Event.prototype,"target",ol.Collection.Event.prototype.target),goog.exportProperty(ol.Collection.Event.prototype,"preventDefault",ol.Collection.Event.prototype.preventDefault),goog.exportProperty(ol.Collection.Event.prototype,"stopPropagation",ol.Collection.Event.prototype.stopPropagation),goog.exportProperty(ol.DeviceOrientation.prototype,"get",ol.DeviceOrientation.prototype.get),goog.exportProperty(ol.DeviceOrientation.prototype,"getKeys",ol.DeviceOrientation.prototype.getKeys),goog.exportProperty(ol.DeviceOrientation.prototype,"getProperties",ol.DeviceOrientation.prototype.getProperties),goog.exportProperty(ol.DeviceOrientation.prototype,"set",ol.DeviceOrientation.prototype.set),goog.exportProperty(ol.DeviceOrientation.prototype,"setProperties",ol.DeviceOrientation.prototype.setProperties),goog.exportProperty(ol.DeviceOrientation.prototype,"unset",ol.DeviceOrientation.prototype.unset),goog.exportProperty(ol.DeviceOrientation.prototype,"changed",ol.DeviceOrientation.prototype.changed),goog.exportProperty(ol.DeviceOrientation.prototype,"dispatchEvent",ol.DeviceOrientation.prototype.dispatchEvent),goog.exportProperty(ol.DeviceOrientation.prototype,"getRevision",ol.DeviceOrientation.prototype.getRevision),goog.exportProperty(ol.DeviceOrientation.prototype,"on",ol.DeviceOrientation.prototype.on),goog.exportProperty(ol.DeviceOrientation.prototype,"once",ol.DeviceOrientation.prototype.once),goog.exportProperty(ol.DeviceOrientation.prototype,"un",ol.DeviceOrientation.prototype.un),goog.exportProperty(ol.Feature.prototype,"get",ol.Feature.prototype.get),goog.exportProperty(ol.Feature.prototype,"getKeys",ol.Feature.prototype.getKeys),goog.exportProperty(ol.Feature.prototype,"getProperties",ol.Feature.prototype.getProperties),goog.exportProperty(ol.Feature.prototype,"set",ol.Feature.prototype.set),goog.exportProperty(ol.Feature.prototype,"setProperties",ol.Feature.prototype.setProperties),goog.exportProperty(ol.Feature.prototype,"unset",ol.Feature.prototype.unset),goog.exportProperty(ol.Feature.prototype,"changed",ol.Feature.prototype.changed),goog.exportProperty(ol.Feature.prototype,"dispatchEvent",ol.Feature.prototype.dispatchEvent),goog.exportProperty(ol.Feature.prototype,"getRevision",ol.Feature.prototype.getRevision),goog.exportProperty(ol.Feature.prototype,"on",ol.Feature.prototype.on),goog.exportProperty(ol.Feature.prototype,"once",ol.Feature.prototype.once),goog.exportProperty(ol.Feature.prototype,"un",ol.Feature.prototype.un),goog.exportProperty(ol.Geolocation.prototype,"get",ol.Geolocation.prototype.get),goog.exportProperty(ol.Geolocation.prototype,"getKeys",ol.Geolocation.prototype.getKeys),goog.exportProperty(ol.Geolocation.prototype,"getProperties",ol.Geolocation.prototype.getProperties),goog.exportProperty(ol.Geolocation.prototype,"set",ol.Geolocation.prototype.set),goog.exportProperty(ol.Geolocation.prototype,"setProperties",ol.Geolocation.prototype.setProperties),goog.exportProperty(ol.Geolocation.prototype,"unset",ol.Geolocation.prototype.unset),goog.exportProperty(ol.Geolocation.prototype,"changed",ol.Geolocation.prototype.changed),goog.exportProperty(ol.Geolocation.prototype,"dispatchEvent",ol.Geolocation.prototype.dispatchEvent),goog.exportProperty(ol.Geolocation.prototype,"getRevision",ol.Geolocation.prototype.getRevision),goog.exportProperty(ol.Geolocation.prototype,"on",ol.Geolocation.prototype.on),goog.exportProperty(ol.Geolocation.prototype,"once",ol.Geolocation.prototype.once),goog.exportProperty(ol.Geolocation.prototype,"un",ol.Geolocation.prototype.un),goog.exportProperty(ol.ImageTile.prototype,"getTileCoord",ol.ImageTile.prototype.getTileCoord),goog.exportProperty(ol.ImageTile.prototype,"load",ol.ImageTile.prototype.load),goog.exportProperty(ol.Map.prototype,"addControl",ol.Map.prototype.addControl),goog.exportProperty(ol.Map.prototype,"addInteraction",ol.Map.prototype.addInteraction),goog.exportProperty(ol.Map.prototype,"addLayer",ol.Map.prototype.addLayer),goog.exportProperty(ol.Map.prototype,"addOverlay",ol.Map.prototype.addOverlay),goog.exportProperty(ol.Map.prototype,"forEachFeatureAtPixel",ol.Map.prototype.forEachFeatureAtPixel),goog.exportProperty(ol.Map.prototype,"getFeaturesAtPixel",ol.Map.prototype.getFeaturesAtPixel),goog.exportProperty(ol.Map.prototype,"forEachLayerAtPixel",ol.Map.prototype.forEachLayerAtPixel),goog.exportProperty(ol.Map.prototype,"hasFeatureAtPixel",ol.Map.prototype.hasFeatureAtPixel),goog.exportProperty(ol.Map.prototype,"getEventCoordinate",ol.Map.prototype.getEventCoordinate),goog.exportProperty(ol.Map.prototype,"getEventPixel",ol.Map.prototype.getEventPixel),goog.exportProperty(ol.Map.prototype,"getTarget",ol.Map.prototype.getTarget),goog.exportProperty(ol.Map.prototype,"getTargetElement",ol.Map.prototype.getTargetElement),goog.exportProperty(ol.Map.prototype,"getCoordinateFromPixel",ol.Map.prototype.getCoordinateFromPixel),goog.exportProperty(ol.Map.prototype,"getControls",ol.Map.prototype.getControls),goog.exportProperty(ol.Map.prototype,"getOverlays",ol.Map.prototype.getOverlays),goog.exportProperty(ol.Map.prototype,"getOverlayById",ol.Map.prototype.getOverlayById),goog.exportProperty(ol.Map.prototype,"getInteractions",ol.Map.prototype.getInteractions),goog.exportProperty(ol.Map.prototype,"getLayerGroup",ol.Map.prototype.getLayerGroup),goog.exportProperty(ol.Map.prototype,"getLayers",ol.Map.prototype.getLayers),goog.exportProperty(ol.Map.prototype,"getPixelFromCoordinate",ol.Map.prototype.getPixelFromCoordinate),goog.exportProperty(ol.Map.prototype,"getSize",ol.Map.prototype.getSize),goog.exportProperty(ol.Map.prototype,"getView",ol.Map.prototype.getView),goog.exportProperty(ol.Map.prototype,"getViewport",ol.Map.prototype.getViewport),goog.exportProperty(ol.Map.prototype,"renderSync",ol.Map.prototype.renderSync),goog.exportProperty(ol.Map.prototype,"render",ol.Map.prototype.render),goog.exportProperty(ol.Map.prototype,"removeControl",ol.Map.prototype.removeControl),goog.exportProperty(ol.Map.prototype,"removeInteraction",ol.Map.prototype.removeInteraction),goog.exportProperty(ol.Map.prototype,"removeLayer",ol.Map.prototype.removeLayer),goog.exportProperty(ol.Map.prototype,"removeOverlay",ol.Map.prototype.removeOverlay),goog.exportProperty(ol.Map.prototype,"setLayerGroup",ol.Map.prototype.setLayerGroup),goog.exportProperty(ol.Map.prototype,"setSize",ol.Map.prototype.setSize),goog.exportProperty(ol.Map.prototype,"setTarget",ol.Map.prototype.setTarget),goog.exportProperty(ol.Map.prototype,"setView",ol.Map.prototype.setView),goog.exportProperty(ol.Map.prototype,"updateSize",ol.Map.prototype.updateSize),goog.exportProperty(ol.Map.prototype,"get",ol.Map.prototype.get),goog.exportProperty(ol.Map.prototype,"getKeys",ol.Map.prototype.getKeys),goog.exportProperty(ol.Map.prototype,"getProperties",ol.Map.prototype.getProperties),goog.exportProperty(ol.Map.prototype,"set",ol.Map.prototype.set),goog.exportProperty(ol.Map.prototype,"setProperties",ol.Map.prototype.setProperties),goog.exportProperty(ol.Map.prototype,"unset",ol.Map.prototype.unset),goog.exportProperty(ol.Map.prototype,"changed",ol.Map.prototype.changed),goog.exportProperty(ol.Map.prototype,"dispatchEvent",ol.Map.prototype.dispatchEvent),goog.exportProperty(ol.Map.prototype,"getRevision",ol.Map.prototype.getRevision),goog.exportProperty(ol.Map.prototype,"on",ol.Map.prototype.on),goog.exportProperty(ol.Map.prototype,"once",ol.Map.prototype.once),goog.exportProperty(ol.Map.prototype,"un",ol.Map.prototype.un),goog.exportProperty(ol.MapEvent.prototype,"type",ol.MapEvent.prototype.type),goog.exportProperty(ol.MapEvent.prototype,"target",ol.MapEvent.prototype.target),goog.exportProperty(ol.MapEvent.prototype,"preventDefault",ol.MapEvent.prototype.preventDefault),goog.exportProperty(ol.MapEvent.prototype,"stopPropagation",ol.MapEvent.prototype.stopPropagation),goog.exportProperty(ol.MapBrowserEvent.prototype,"map",ol.MapBrowserEvent.prototype.map),goog.exportProperty(ol.MapBrowserEvent.prototype,"frameState",ol.MapBrowserEvent.prototype.frameState),goog.exportProperty(ol.MapBrowserEvent.prototype,"type",ol.MapBrowserEvent.prototype.type),goog.exportProperty(ol.MapBrowserEvent.prototype,"target",ol.MapBrowserEvent.prototype.target),goog.exportProperty(ol.MapBrowserEvent.prototype,"preventDefault",ol.MapBrowserEvent.prototype.preventDefault),goog.exportProperty(ol.MapBrowserEvent.prototype,"stopPropagation",ol.MapBrowserEvent.prototype.stopPropagation),goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"originalEvent",ol.MapBrowserPointerEvent.prototype.originalEvent),goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"pixel",ol.MapBrowserPointerEvent.prototype.pixel),goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"coordinate",ol.MapBrowserPointerEvent.prototype.coordinate),goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"dragging",ol.MapBrowserPointerEvent.prototype.dragging),goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"preventDefault",ol.MapBrowserPointerEvent.prototype.preventDefault),goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"stopPropagation",ol.MapBrowserPointerEvent.prototype.stopPropagation),goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"map",ol.MapBrowserPointerEvent.prototype.map),goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"frameState",ol.MapBrowserPointerEvent.prototype.frameState),goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"type",ol.MapBrowserPointerEvent.prototype.type),goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"target",ol.MapBrowserPointerEvent.prototype.target),goog.exportProperty(ol.Object.Event.prototype,"type",ol.Object.Event.prototype.type),goog.exportProperty(ol.Object.Event.prototype,"target",ol.Object.Event.prototype.target),goog.exportProperty(ol.Object.Event.prototype,"preventDefault",ol.Object.Event.prototype.preventDefault),goog.exportProperty(ol.Object.Event.prototype,"stopPropagation",ol.Object.Event.prototype.stopPropagation),goog.exportProperty(ol.Overlay.prototype,"get",ol.Overlay.prototype.get),goog.exportProperty(ol.Overlay.prototype,"getKeys",ol.Overlay.prototype.getKeys),goog.exportProperty(ol.Overlay.prototype,"getProperties",ol.Overlay.prototype.getProperties),goog.exportProperty(ol.Overlay.prototype,"set",ol.Overlay.prototype.set),goog.exportProperty(ol.Overlay.prototype,"setProperties",ol.Overlay.prototype.setProperties),goog.exportProperty(ol.Overlay.prototype,"unset",ol.Overlay.prototype.unset),goog.exportProperty(ol.Overlay.prototype,"changed",ol.Overlay.prototype.changed),goog.exportProperty(ol.Overlay.prototype,"dispatchEvent",ol.Overlay.prototype.dispatchEvent),goog.exportProperty(ol.Overlay.prototype,"getRevision",ol.Overlay.prototype.getRevision),goog.exportProperty(ol.Overlay.prototype,"on",ol.Overlay.prototype.on),goog.exportProperty(ol.Overlay.prototype,"once",ol.Overlay.prototype.once),goog.exportProperty(ol.Overlay.prototype,"un",ol.Overlay.prototype.un),goog.exportProperty(ol.VectorImageTile.prototype,"getTileCoord",ol.VectorImageTile.prototype.getTileCoord),goog.exportProperty(ol.VectorImageTile.prototype,"load",ol.VectorImageTile.prototype.load),goog.exportProperty(ol.VectorTile.prototype,"getTileCoord",ol.VectorTile.prototype.getTileCoord),goog.exportProperty(ol.VectorTile.prototype,"load",ol.VectorTile.prototype.load),goog.exportProperty(ol.View.prototype,"get",ol.View.prototype.get),goog.exportProperty(ol.View.prototype,"getKeys",ol.View.prototype.getKeys),goog.exportProperty(ol.View.prototype,"getProperties",ol.View.prototype.getProperties),goog.exportProperty(ol.View.prototype,"set",ol.View.prototype.set),goog.exportProperty(ol.View.prototype,"setProperties",ol.View.prototype.setProperties),goog.exportProperty(ol.View.prototype,"unset",ol.View.prototype.unset),goog.exportProperty(ol.View.prototype,"changed",ol.View.prototype.changed),goog.exportProperty(ol.View.prototype,"dispatchEvent",ol.View.prototype.dispatchEvent),goog.exportProperty(ol.View.prototype,"getRevision",ol.View.prototype.getRevision),goog.exportProperty(ol.View.prototype,"on",ol.View.prototype.on),goog.exportProperty(ol.View.prototype,"once",ol.View.prototype.once),goog.exportProperty(ol.View.prototype,"un",ol.View.prototype.un),goog.exportProperty(ol.tilegrid.WMTS.prototype,"forEachTileCoord",ol.tilegrid.WMTS.prototype.forEachTileCoord),goog.exportProperty(ol.tilegrid.WMTS.prototype,"getMaxZoom",ol.tilegrid.WMTS.prototype.getMaxZoom),goog.exportProperty(ol.tilegrid.WMTS.prototype,"getMinZoom",ol.tilegrid.WMTS.prototype.getMinZoom),goog.exportProperty(ol.tilegrid.WMTS.prototype,"getOrigin",ol.tilegrid.WMTS.prototype.getOrigin),goog.exportProperty(ol.tilegrid.WMTS.prototype,"getResolution",ol.tilegrid.WMTS.prototype.getResolution),goog.exportProperty(ol.tilegrid.WMTS.prototype,"getResolutions",ol.tilegrid.WMTS.prototype.getResolutions),goog.exportProperty(ol.tilegrid.WMTS.prototype,"getTileCoordExtent",ol.tilegrid.WMTS.prototype.getTileCoordExtent),goog.exportProperty(ol.tilegrid.WMTS.prototype,"getTileCoordForCoordAndResolution",ol.tilegrid.WMTS.prototype.getTileCoordForCoordAndResolution),goog.exportProperty(ol.tilegrid.WMTS.prototype,"getTileCoordForCoordAndZ",ol.tilegrid.WMTS.prototype.getTileCoordForCoordAndZ),goog.exportProperty(ol.tilegrid.WMTS.prototype,"getTileSize",ol.tilegrid.WMTS.prototype.getTileSize),goog.exportProperty(ol.tilegrid.WMTS.prototype,"getZForResolution",ol.tilegrid.WMTS.prototype.getZForResolution),goog.exportProperty(ol.style.RegularShape.prototype,"getOpacity",ol.style.RegularShape.prototype.getOpacity),goog.exportProperty(ol.style.RegularShape.prototype,"getRotateWithView",ol.style.RegularShape.prototype.getRotateWithView),goog.exportProperty(ol.style.RegularShape.prototype,"getRotation",ol.style.RegularShape.prototype.getRotation),goog.exportProperty(ol.style.RegularShape.prototype,"getScale",ol.style.RegularShape.prototype.getScale),goog.exportProperty(ol.style.RegularShape.prototype,"getSnapToPixel",ol.style.RegularShape.prototype.getSnapToPixel),goog.exportProperty(ol.style.RegularShape.prototype,"setOpacity",ol.style.RegularShape.prototype.setOpacity),goog.exportProperty(ol.style.RegularShape.prototype,"setRotation",ol.style.RegularShape.prototype.setRotation),goog.exportProperty(ol.style.RegularShape.prototype,"setScale",ol.style.RegularShape.prototype.setScale),goog.exportProperty(ol.style.Circle.prototype,"clone",ol.style.Circle.prototype.clone),goog.exportProperty(ol.style.Circle.prototype,"getAngle",ol.style.Circle.prototype.getAngle),goog.exportProperty(ol.style.Circle.prototype,"getFill",ol.style.Circle.prototype.getFill),goog.exportProperty(ol.style.Circle.prototype,"getPoints",ol.style.Circle.prototype.getPoints),goog.exportProperty(ol.style.Circle.prototype,"getRadius",ol.style.Circle.prototype.getRadius),goog.exportProperty(ol.style.Circle.prototype,"getRadius2",ol.style.Circle.prototype.getRadius2),goog.exportProperty(ol.style.Circle.prototype,"getStroke",ol.style.Circle.prototype.getStroke),goog.exportProperty(ol.style.Circle.prototype,"getOpacity",ol.style.Circle.prototype.getOpacity),goog.exportProperty(ol.style.Circle.prototype,"getRotateWithView",ol.style.Circle.prototype.getRotateWithView),goog.exportProperty(ol.style.Circle.prototype,"getRotation",ol.style.Circle.prototype.getRotation),goog.exportProperty(ol.style.Circle.prototype,"getScale",ol.style.Circle.prototype.getScale),goog.exportProperty(ol.style.Circle.prototype,"getSnapToPixel",ol.style.Circle.prototype.getSnapToPixel),goog.exportProperty(ol.style.Circle.prototype,"setOpacity",ol.style.Circle.prototype.setOpacity),goog.exportProperty(ol.style.Circle.prototype,"setRotation",ol.style.Circle.prototype.setRotation),goog.exportProperty(ol.style.Circle.prototype,"setScale",ol.style.Circle.prototype.setScale),goog.exportProperty(ol.style.Icon.prototype,"getOpacity",ol.style.Icon.prototype.getOpacity),goog.exportProperty(ol.style.Icon.prototype,"getRotateWithView",ol.style.Icon.prototype.getRotateWithView),goog.exportProperty(ol.style.Icon.prototype,"getRotation",ol.style.Icon.prototype.getRotation),goog.exportProperty(ol.style.Icon.prototype,"getScale",ol.style.Icon.prototype.getScale),goog.exportProperty(ol.style.Icon.prototype,"getSnapToPixel",ol.style.Icon.prototype.getSnapToPixel),goog.exportProperty(ol.style.Icon.prototype,"setOpacity",ol.style.Icon.prototype.setOpacity),goog.exportProperty(ol.style.Icon.prototype,"setRotation",ol.style.Icon.prototype.setRotation),goog.exportProperty(ol.style.Icon.prototype,"setScale",ol.style.Icon.prototype.setScale),goog.exportProperty(ol.source.Source.prototype,"get",ol.source.Source.prototype.get),goog.exportProperty(ol.source.Source.prototype,"getKeys",ol.source.Source.prototype.getKeys),goog.exportProperty(ol.source.Source.prototype,"getProperties",ol.source.Source.prototype.getProperties),goog.exportProperty(ol.source.Source.prototype,"set",ol.source.Source.prototype.set),goog.exportProperty(ol.source.Source.prototype,"setProperties",ol.source.Source.prototype.setProperties),goog.exportProperty(ol.source.Source.prototype,"unset",ol.source.Source.prototype.unset),goog.exportProperty(ol.source.Source.prototype,"changed",ol.source.Source.prototype.changed),goog.exportProperty(ol.source.Source.prototype,"dispatchEvent",ol.source.Source.prototype.dispatchEvent),goog.exportProperty(ol.source.Source.prototype,"getRevision",ol.source.Source.prototype.getRevision),goog.exportProperty(ol.source.Source.prototype,"on",ol.source.Source.prototype.on),goog.exportProperty(ol.source.Source.prototype,"once",ol.source.Source.prototype.once),goog.exportProperty(ol.source.Source.prototype,"un",ol.source.Source.prototype.un),goog.exportProperty(ol.source.Tile.prototype,"getAttributions",ol.source.Tile.prototype.getAttributions),goog.exportProperty(ol.source.Tile.prototype,"getLogo",ol.source.Tile.prototype.getLogo),goog.exportProperty(ol.source.Tile.prototype,"getProjection",ol.source.Tile.prototype.getProjection),goog.exportProperty(ol.source.Tile.prototype,"getState",ol.source.Tile.prototype.getState),goog.exportProperty(ol.source.Tile.prototype,"refresh",ol.source.Tile.prototype.refresh),goog.exportProperty(ol.source.Tile.prototype,"setAttributions",ol.source.Tile.prototype.setAttributions),goog.exportProperty(ol.source.Tile.prototype,"get",ol.source.Tile.prototype.get),goog.exportProperty(ol.source.Tile.prototype,"getKeys",ol.source.Tile.prototype.getKeys),goog.exportProperty(ol.source.Tile.prototype,"getProperties",ol.source.Tile.prototype.getProperties),goog.exportProperty(ol.source.Tile.prototype,"set",ol.source.Tile.prototype.set),goog.exportProperty(ol.source.Tile.prototype,"setProperties",ol.source.Tile.prototype.setProperties),goog.exportProperty(ol.source.Tile.prototype,"unset",ol.source.Tile.prototype.unset),goog.exportProperty(ol.source.Tile.prototype,"changed",ol.source.Tile.prototype.changed),goog.exportProperty(ol.source.Tile.prototype,"dispatchEvent",ol.source.Tile.prototype.dispatchEvent),goog.exportProperty(ol.source.Tile.prototype,"getRevision",ol.source.Tile.prototype.getRevision),goog.exportProperty(ol.source.Tile.prototype,"on",ol.source.Tile.prototype.on),goog.exportProperty(ol.source.Tile.prototype,"once",ol.source.Tile.prototype.once),goog.exportProperty(ol.source.Tile.prototype,"un",ol.source.Tile.prototype.un),goog.exportProperty(ol.source.UrlTile.prototype,"getTileGrid",ol.source.UrlTile.prototype.getTileGrid),goog.exportProperty(ol.source.UrlTile.prototype,"refresh",ol.source.UrlTile.prototype.refresh),goog.exportProperty(ol.source.UrlTile.prototype,"getAttributions",ol.source.UrlTile.prototype.getAttributions),goog.exportProperty(ol.source.UrlTile.prototype,"getLogo",ol.source.UrlTile.prototype.getLogo),goog.exportProperty(ol.source.UrlTile.prototype,"getProjection",ol.source.UrlTile.prototype.getProjection),goog.exportProperty(ol.source.UrlTile.prototype,"getState",ol.source.UrlTile.prototype.getState),goog.exportProperty(ol.source.UrlTile.prototype,"setAttributions",ol.source.UrlTile.prototype.setAttributions),goog.exportProperty(ol.source.UrlTile.prototype,"get",ol.source.UrlTile.prototype.get),goog.exportProperty(ol.source.UrlTile.prototype,"getKeys",ol.source.UrlTile.prototype.getKeys),goog.exportProperty(ol.source.UrlTile.prototype,"getProperties",ol.source.UrlTile.prototype.getProperties),goog.exportProperty(ol.source.UrlTile.prototype,"set",ol.source.UrlTile.prototype.set),goog.exportProperty(ol.source.UrlTile.prototype,"setProperties",ol.source.UrlTile.prototype.setProperties),goog.exportProperty(ol.source.UrlTile.prototype,"unset",ol.source.UrlTile.prototype.unset),goog.exportProperty(ol.source.UrlTile.prototype,"changed",ol.source.UrlTile.prototype.changed),goog.exportProperty(ol.source.UrlTile.prototype,"dispatchEvent",ol.source.UrlTile.prototype.dispatchEvent),goog.exportProperty(ol.source.UrlTile.prototype,"getRevision",ol.source.UrlTile.prototype.getRevision),goog.exportProperty(ol.source.UrlTile.prototype,"on",ol.source.UrlTile.prototype.on),goog.exportProperty(ol.source.UrlTile.prototype,"once",ol.source.UrlTile.prototype.once),goog.exportProperty(ol.source.UrlTile.prototype,"un",ol.source.UrlTile.prototype.un),goog.exportProperty(ol.source.TileImage.prototype,"getTileLoadFunction",ol.source.TileImage.prototype.getTileLoadFunction),goog.exportProperty(ol.source.TileImage.prototype,"getTileUrlFunction",ol.source.TileImage.prototype.getTileUrlFunction),goog.exportProperty(ol.source.TileImage.prototype,"getUrls",ol.source.TileImage.prototype.getUrls),goog.exportProperty(ol.source.TileImage.prototype,"setTileLoadFunction",ol.source.TileImage.prototype.setTileLoadFunction),goog.exportProperty(ol.source.TileImage.prototype,"setTileUrlFunction",ol.source.TileImage.prototype.setTileUrlFunction),goog.exportProperty(ol.source.TileImage.prototype,"setUrl",ol.source.TileImage.prototype.setUrl),goog.exportProperty(ol.source.TileImage.prototype,"setUrls",ol.source.TileImage.prototype.setUrls),goog.exportProperty(ol.source.TileImage.prototype,"getTileGrid",ol.source.TileImage.prototype.getTileGrid),goog.exportProperty(ol.source.TileImage.prototype,"refresh",ol.source.TileImage.prototype.refresh),goog.exportProperty(ol.source.TileImage.prototype,"getAttributions",ol.source.TileImage.prototype.getAttributions),goog.exportProperty(ol.source.TileImage.prototype,"getLogo",ol.source.TileImage.prototype.getLogo),goog.exportProperty(ol.source.TileImage.prototype,"getProjection",ol.source.TileImage.prototype.getProjection),goog.exportProperty(ol.source.TileImage.prototype,"getState",ol.source.TileImage.prototype.getState),goog.exportProperty(ol.source.TileImage.prototype,"setAttributions",ol.source.TileImage.prototype.setAttributions),goog.exportProperty(ol.source.TileImage.prototype,"get",ol.source.TileImage.prototype.get),goog.exportProperty(ol.source.TileImage.prototype,"getKeys",ol.source.TileImage.prototype.getKeys),goog.exportProperty(ol.source.TileImage.prototype,"getProperties",ol.source.TileImage.prototype.getProperties),goog.exportProperty(ol.source.TileImage.prototype,"set",ol.source.TileImage.prototype.set),goog.exportProperty(ol.source.TileImage.prototype,"setProperties",ol.source.TileImage.prototype.setProperties),goog.exportProperty(ol.source.TileImage.prototype,"unset",ol.source.TileImage.prototype.unset),goog.exportProperty(ol.source.TileImage.prototype,"changed",ol.source.TileImage.prototype.changed),goog.exportProperty(ol.source.TileImage.prototype,"dispatchEvent",ol.source.TileImage.prototype.dispatchEvent),goog.exportProperty(ol.source.TileImage.prototype,"getRevision",ol.source.TileImage.prototype.getRevision),goog.exportProperty(ol.source.TileImage.prototype,"on",ol.source.TileImage.prototype.on),goog.exportProperty(ol.source.TileImage.prototype,"once",ol.source.TileImage.prototype.once),goog.exportProperty(ol.source.TileImage.prototype,"un",ol.source.TileImage.prototype.un),goog.exportProperty(ol.source.BingMaps.prototype,"setRenderReprojectionEdges",ol.source.BingMaps.prototype.setRenderReprojectionEdges),goog.exportProperty(ol.source.BingMaps.prototype,"setTileGridForProjection",ol.source.BingMaps.prototype.setTileGridForProjection),goog.exportProperty(ol.source.BingMaps.prototype,"getTileLoadFunction",ol.source.BingMaps.prototype.getTileLoadFunction),goog.exportProperty(ol.source.BingMaps.prototype,"getTileUrlFunction",ol.source.BingMaps.prototype.getTileUrlFunction),goog.exportProperty(ol.source.BingMaps.prototype,"getUrls",ol.source.BingMaps.prototype.getUrls),goog.exportProperty(ol.source.BingMaps.prototype,"setTileLoadFunction",ol.source.BingMaps.prototype.setTileLoadFunction),goog.exportProperty(ol.source.BingMaps.prototype,"setTileUrlFunction",ol.source.BingMaps.prototype.setTileUrlFunction),goog.exportProperty(ol.source.BingMaps.prototype,"setUrl",ol.source.BingMaps.prototype.setUrl),goog.exportProperty(ol.source.BingMaps.prototype,"setUrls",ol.source.BingMaps.prototype.setUrls),goog.exportProperty(ol.source.BingMaps.prototype,"getTileGrid",ol.source.BingMaps.prototype.getTileGrid),goog.exportProperty(ol.source.BingMaps.prototype,"refresh",ol.source.BingMaps.prototype.refresh),goog.exportProperty(ol.source.BingMaps.prototype,"getAttributions",ol.source.BingMaps.prototype.getAttributions),goog.exportProperty(ol.source.BingMaps.prototype,"getLogo",ol.source.BingMaps.prototype.getLogo),goog.exportProperty(ol.source.BingMaps.prototype,"getProjection",ol.source.BingMaps.prototype.getProjection),goog.exportProperty(ol.source.BingMaps.prototype,"getState",ol.source.BingMaps.prototype.getState),goog.exportProperty(ol.source.BingMaps.prototype,"setAttributions",ol.source.BingMaps.prototype.setAttributions),goog.exportProperty(ol.source.BingMaps.prototype,"get",ol.source.BingMaps.prototype.get),goog.exportProperty(ol.source.BingMaps.prototype,"getKeys",ol.source.BingMaps.prototype.getKeys),goog.exportProperty(ol.source.BingMaps.prototype,"getProperties",ol.source.BingMaps.prototype.getProperties),goog.exportProperty(ol.source.BingMaps.prototype,"set",ol.source.BingMaps.prototype.set),goog.exportProperty(ol.source.BingMaps.prototype,"setProperties",ol.source.BingMaps.prototype.setProperties),goog.exportProperty(ol.source.BingMaps.prototype,"unset",ol.source.BingMaps.prototype.unset),goog.exportProperty(ol.source.BingMaps.prototype,"changed",ol.source.BingMaps.prototype.changed),goog.exportProperty(ol.source.BingMaps.prototype,"dispatchEvent",ol.source.BingMaps.prototype.dispatchEvent),goog.exportProperty(ol.source.BingMaps.prototype,"getRevision",ol.source.BingMaps.prototype.getRevision),goog.exportProperty(ol.source.BingMaps.prototype,"on",ol.source.BingMaps.prototype.on),goog.exportProperty(ol.source.BingMaps.prototype,"once",ol.source.BingMaps.prototype.once),goog.exportProperty(ol.source.BingMaps.prototype,"un",ol.source.BingMaps.prototype.un),goog.exportProperty(ol.source.XYZ.prototype,"setRenderReprojectionEdges",ol.source.XYZ.prototype.setRenderReprojectionEdges),goog.exportProperty(ol.source.XYZ.prototype,"setTileGridForProjection",ol.source.XYZ.prototype.setTileGridForProjection),goog.exportProperty(ol.source.XYZ.prototype,"getTileLoadFunction",ol.source.XYZ.prototype.getTileLoadFunction),goog.exportProperty(ol.source.XYZ.prototype,"getTileUrlFunction",ol.source.XYZ.prototype.getTileUrlFunction),goog.exportProperty(ol.source.XYZ.prototype,"getUrls",ol.source.XYZ.prototype.getUrls),goog.exportProperty(ol.source.XYZ.prototype,"setTileLoadFunction",ol.source.XYZ.prototype.setTileLoadFunction),goog.exportProperty(ol.source.XYZ.prototype,"setTileUrlFunction",ol.source.XYZ.prototype.setTileUrlFunction),goog.exportProperty(ol.source.XYZ.prototype,"setUrl",ol.source.XYZ.prototype.setUrl),goog.exportProperty(ol.source.XYZ.prototype,"setUrls",ol.source.XYZ.prototype.setUrls),goog.exportProperty(ol.source.XYZ.prototype,"getTileGrid",ol.source.XYZ.prototype.getTileGrid),goog.exportProperty(ol.source.XYZ.prototype,"refresh",ol.source.XYZ.prototype.refresh),goog.exportProperty(ol.source.XYZ.prototype,"getAttributions",ol.source.XYZ.prototype.getAttributions),goog.exportProperty(ol.source.XYZ.prototype,"getLogo",ol.source.XYZ.prototype.getLogo),goog.exportProperty(ol.source.XYZ.prototype,"getProjection",ol.source.XYZ.prototype.getProjection),goog.exportProperty(ol.source.XYZ.prototype,"getState",ol.source.XYZ.prototype.getState),goog.exportProperty(ol.source.XYZ.prototype,"setAttributions",ol.source.XYZ.prototype.setAttributions),goog.exportProperty(ol.source.XYZ.prototype,"get",ol.source.XYZ.prototype.get),goog.exportProperty(ol.source.XYZ.prototype,"getKeys",ol.source.XYZ.prototype.getKeys),goog.exportProperty(ol.source.XYZ.prototype,"getProperties",ol.source.XYZ.prototype.getProperties),goog.exportProperty(ol.source.XYZ.prototype,"set",ol.source.XYZ.prototype.set),goog.exportProperty(ol.source.XYZ.prototype,"setProperties",ol.source.XYZ.prototype.setProperties),goog.exportProperty(ol.source.XYZ.prototype,"unset",ol.source.XYZ.prototype.unset),goog.exportProperty(ol.source.XYZ.prototype,"changed",ol.source.XYZ.prototype.changed),goog.exportProperty(ol.source.XYZ.prototype,"dispatchEvent",ol.source.XYZ.prototype.dispatchEvent),goog.exportProperty(ol.source.XYZ.prototype,"getRevision",ol.source.XYZ.prototype.getRevision),goog.exportProperty(ol.source.XYZ.prototype,"on",ol.source.XYZ.prototype.on),goog.exportProperty(ol.source.XYZ.prototype,"once",ol.source.XYZ.prototype.once),goog.exportProperty(ol.source.XYZ.prototype,"un",ol.source.XYZ.prototype.un),goog.exportProperty(ol.source.CartoDB.prototype,"setRenderReprojectionEdges",ol.source.CartoDB.prototype.setRenderReprojectionEdges),goog.exportProperty(ol.source.CartoDB.prototype,"setTileGridForProjection",ol.source.CartoDB.prototype.setTileGridForProjection),goog.exportProperty(ol.source.CartoDB.prototype,"getTileLoadFunction",ol.source.CartoDB.prototype.getTileLoadFunction),goog.exportProperty(ol.source.CartoDB.prototype,"getTileUrlFunction",ol.source.CartoDB.prototype.getTileUrlFunction),goog.exportProperty(ol.source.CartoDB.prototype,"getUrls",ol.source.CartoDB.prototype.getUrls),goog.exportProperty(ol.source.CartoDB.prototype,"setTileLoadFunction",ol.source.CartoDB.prototype.setTileLoadFunction),goog.exportProperty(ol.source.CartoDB.prototype,"setTileUrlFunction",ol.source.CartoDB.prototype.setTileUrlFunction),goog.exportProperty(ol.source.CartoDB.prototype,"setUrl",ol.source.CartoDB.prototype.setUrl),goog.exportProperty(ol.source.CartoDB.prototype,"setUrls",ol.source.CartoDB.prototype.setUrls),goog.exportProperty(ol.source.CartoDB.prototype,"getTileGrid",ol.source.CartoDB.prototype.getTileGrid),goog.exportProperty(ol.source.CartoDB.prototype,"refresh",ol.source.CartoDB.prototype.refresh),goog.exportProperty(ol.source.CartoDB.prototype,"getAttributions",ol.source.CartoDB.prototype.getAttributions),goog.exportProperty(ol.source.CartoDB.prototype,"getLogo",ol.source.CartoDB.prototype.getLogo),goog.exportProperty(ol.source.CartoDB.prototype,"getProjection",ol.source.CartoDB.prototype.getProjection),goog.exportProperty(ol.source.CartoDB.prototype,"getState",ol.source.CartoDB.prototype.getState),goog.exportProperty(ol.source.CartoDB.prototype,"setAttributions",ol.source.CartoDB.prototype.setAttributions),goog.exportProperty(ol.source.CartoDB.prototype,"get",ol.source.CartoDB.prototype.get),goog.exportProperty(ol.source.CartoDB.prototype,"getKeys",ol.source.CartoDB.prototype.getKeys),goog.exportProperty(ol.source.CartoDB.prototype,"getProperties",ol.source.CartoDB.prototype.getProperties),goog.exportProperty(ol.source.CartoDB.prototype,"set",ol.source.CartoDB.prototype.set),goog.exportProperty(ol.source.CartoDB.prototype,"setProperties",ol.source.CartoDB.prototype.setProperties),goog.exportProperty(ol.source.CartoDB.prototype,"unset",ol.source.CartoDB.prototype.unset),goog.exportProperty(ol.source.CartoDB.prototype,"changed",ol.source.CartoDB.prototype.changed),goog.exportProperty(ol.source.CartoDB.prototype,"dispatchEvent",ol.source.CartoDB.prototype.dispatchEvent),goog.exportProperty(ol.source.CartoDB.prototype,"getRevision",ol.source.CartoDB.prototype.getRevision),goog.exportProperty(ol.source.CartoDB.prototype,"on",ol.source.CartoDB.prototype.on),goog.exportProperty(ol.source.CartoDB.prototype,"once",ol.source.CartoDB.prototype.once),goog.exportProperty(ol.source.CartoDB.prototype,"un",ol.source.CartoDB.prototype.un),goog.exportProperty(ol.source.Vector.prototype,"getAttributions",ol.source.Vector.prototype.getAttributions),goog.exportProperty(ol.source.Vector.prototype,"getLogo",ol.source.Vector.prototype.getLogo),goog.exportProperty(ol.source.Vector.prototype,"getProjection",ol.source.Vector.prototype.getProjection),goog.exportProperty(ol.source.Vector.prototype,"getState",ol.source.Vector.prototype.getState),goog.exportProperty(ol.source.Vector.prototype,"refresh",ol.source.Vector.prototype.refresh),goog.exportProperty(ol.source.Vector.prototype,"setAttributions",ol.source.Vector.prototype.setAttributions),goog.exportProperty(ol.source.Vector.prototype,"get",ol.source.Vector.prototype.get),goog.exportProperty(ol.source.Vector.prototype,"getKeys",ol.source.Vector.prototype.getKeys),goog.exportProperty(ol.source.Vector.prototype,"getProperties",ol.source.Vector.prototype.getProperties),goog.exportProperty(ol.source.Vector.prototype,"set",ol.source.Vector.prototype.set),goog.exportProperty(ol.source.Vector.prototype,"setProperties",ol.source.Vector.prototype.setProperties),goog.exportProperty(ol.source.Vector.prototype,"unset",ol.source.Vector.prototype.unset),goog.exportProperty(ol.source.Vector.prototype,"changed",ol.source.Vector.prototype.changed),goog.exportProperty(ol.source.Vector.prototype,"dispatchEvent",ol.source.Vector.prototype.dispatchEvent),goog.exportProperty(ol.source.Vector.prototype,"getRevision",ol.source.Vector.prototype.getRevision),goog.exportProperty(ol.source.Vector.prototype,"on",ol.source.Vector.prototype.on),goog.exportProperty(ol.source.Vector.prototype,"once",ol.source.Vector.prototype.once),goog.exportProperty(ol.source.Vector.prototype,"un",ol.source.Vector.prototype.un),goog.exportProperty(ol.source.Cluster.prototype,"addFeature",ol.source.Cluster.prototype.addFeature),goog.exportProperty(ol.source.Cluster.prototype,"addFeatures",ol.source.Cluster.prototype.addFeatures),goog.exportProperty(ol.source.Cluster.prototype,"clear",ol.source.Cluster.prototype.clear),goog.exportProperty(ol.source.Cluster.prototype,"forEachFeature",ol.source.Cluster.prototype.forEachFeature),goog.exportProperty(ol.source.Cluster.prototype,"forEachFeatureInExtent",ol.source.Cluster.prototype.forEachFeatureInExtent),goog.exportProperty(ol.source.Cluster.prototype,"forEachFeatureIntersectingExtent",ol.source.Cluster.prototype.forEachFeatureIntersectingExtent),goog.exportProperty(ol.source.Cluster.prototype,"getFeaturesCollection",ol.source.Cluster.prototype.getFeaturesCollection),goog.exportProperty(ol.source.Cluster.prototype,"getFeatures",ol.source.Cluster.prototype.getFeatures),goog.exportProperty(ol.source.Cluster.prototype,"getFeaturesAtCoordinate",ol.source.Cluster.prototype.getFeaturesAtCoordinate),goog.exportProperty(ol.source.Cluster.prototype,"getFeaturesInExtent",ol.source.Cluster.prototype.getFeaturesInExtent),goog.exportProperty(ol.source.Cluster.prototype,"getClosestFeatureToCoordinate",ol.source.Cluster.prototype.getClosestFeatureToCoordinate),goog.exportProperty(ol.source.Cluster.prototype,"getExtent",ol.source.Cluster.prototype.getExtent),goog.exportProperty(ol.source.Cluster.prototype,"getFeatureById",ol.source.Cluster.prototype.getFeatureById),goog.exportProperty(ol.source.Cluster.prototype,"getFormat",ol.source.Cluster.prototype.getFormat),goog.exportProperty(ol.source.Cluster.prototype,"getUrl",ol.source.Cluster.prototype.getUrl),goog.exportProperty(ol.source.Cluster.prototype,"removeLoadedExtent",ol.source.Cluster.prototype.removeLoadedExtent),goog.exportProperty(ol.source.Cluster.prototype,"removeFeature",ol.source.Cluster.prototype.removeFeature),goog.exportProperty(ol.source.Cluster.prototype,"setLoader",ol.source.Cluster.prototype.setLoader),goog.exportProperty(ol.source.Cluster.prototype,"getAttributions",ol.source.Cluster.prototype.getAttributions),goog.exportProperty(ol.source.Cluster.prototype,"getLogo",ol.source.Cluster.prototype.getLogo),goog.exportProperty(ol.source.Cluster.prototype,"getProjection",ol.source.Cluster.prototype.getProjection),goog.exportProperty(ol.source.Cluster.prototype,"getState",ol.source.Cluster.prototype.getState),goog.exportProperty(ol.source.Cluster.prototype,"refresh",ol.source.Cluster.prototype.refresh),goog.exportProperty(ol.source.Cluster.prototype,"setAttributions",ol.source.Cluster.prototype.setAttributions),goog.exportProperty(ol.source.Cluster.prototype,"get",ol.source.Cluster.prototype.get),goog.exportProperty(ol.source.Cluster.prototype,"getKeys",ol.source.Cluster.prototype.getKeys),goog.exportProperty(ol.source.Cluster.prototype,"getProperties",ol.source.Cluster.prototype.getProperties),goog.exportProperty(ol.source.Cluster.prototype,"set",ol.source.Cluster.prototype.set),goog.exportProperty(ol.source.Cluster.prototype,"setProperties",ol.source.Cluster.prototype.setProperties),goog.exportProperty(ol.source.Cluster.prototype,"unset",ol.source.Cluster.prototype.unset),goog.exportProperty(ol.source.Cluster.prototype,"changed",ol.source.Cluster.prototype.changed),goog.exportProperty(ol.source.Cluster.prototype,"dispatchEvent",ol.source.Cluster.prototype.dispatchEvent),goog.exportProperty(ol.source.Cluster.prototype,"getRevision",ol.source.Cluster.prototype.getRevision),goog.exportProperty(ol.source.Cluster.prototype,"on",ol.source.Cluster.prototype.on),goog.exportProperty(ol.source.Cluster.prototype,"once",ol.source.Cluster.prototype.once),goog.exportProperty(ol.source.Cluster.prototype,"un",ol.source.Cluster.prototype.un),goog.exportProperty(ol.source.Image.prototype,"getAttributions",ol.source.Image.prototype.getAttributions),goog.exportProperty(ol.source.Image.prototype,"getLogo",ol.source.Image.prototype.getLogo),goog.exportProperty(ol.source.Image.prototype,"getProjection",ol.source.Image.prototype.getProjection),goog.exportProperty(ol.source.Image.prototype,"getState",ol.source.Image.prototype.getState),goog.exportProperty(ol.source.Image.prototype,"refresh",ol.source.Image.prototype.refresh),goog.exportProperty(ol.source.Image.prototype,"setAttributions",ol.source.Image.prototype.setAttributions),goog.exportProperty(ol.source.Image.prototype,"get",ol.source.Image.prototype.get),goog.exportProperty(ol.source.Image.prototype,"getKeys",ol.source.Image.prototype.getKeys),goog.exportProperty(ol.source.Image.prototype,"getProperties",ol.source.Image.prototype.getProperties),goog.exportProperty(ol.source.Image.prototype,"set",ol.source.Image.prototype.set),goog.exportProperty(ol.source.Image.prototype,"setProperties",ol.source.Image.prototype.setProperties),goog.exportProperty(ol.source.Image.prototype,"unset",ol.source.Image.prototype.unset),goog.exportProperty(ol.source.Image.prototype,"changed",ol.source.Image.prototype.changed),goog.exportProperty(ol.source.Image.prototype,"dispatchEvent",ol.source.Image.prototype.dispatchEvent),goog.exportProperty(ol.source.Image.prototype,"getRevision",ol.source.Image.prototype.getRevision),goog.exportProperty(ol.source.Image.prototype,"on",ol.source.Image.prototype.on),goog.exportProperty(ol.source.Image.prototype,"once",ol.source.Image.prototype.once),goog.exportProperty(ol.source.Image.prototype,"un",ol.source.Image.prototype.un),goog.exportProperty(ol.source.Image.Event.prototype,"type",ol.source.Image.Event.prototype.type),goog.exportProperty(ol.source.Image.Event.prototype,"target",ol.source.Image.Event.prototype.target),goog.exportProperty(ol.source.Image.Event.prototype,"preventDefault",ol.source.Image.Event.prototype.preventDefault),goog.exportProperty(ol.source.Image.Event.prototype,"stopPropagation",ol.source.Image.Event.prototype.stopPropagation),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getAttributions",ol.source.ImageArcGISRest.prototype.getAttributions),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getLogo",ol.source.ImageArcGISRest.prototype.getLogo),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getProjection",ol.source.ImageArcGISRest.prototype.getProjection),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getState",ol.source.ImageArcGISRest.prototype.getState),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"refresh",ol.source.ImageArcGISRest.prototype.refresh),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"setAttributions",ol.source.ImageArcGISRest.prototype.setAttributions),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"get",ol.source.ImageArcGISRest.prototype.get),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getKeys",ol.source.ImageArcGISRest.prototype.getKeys),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getProperties",ol.source.ImageArcGISRest.prototype.getProperties),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"set",ol.source.ImageArcGISRest.prototype.set),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"setProperties",ol.source.ImageArcGISRest.prototype.setProperties),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"unset",ol.source.ImageArcGISRest.prototype.unset),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"changed",ol.source.ImageArcGISRest.prototype.changed),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"dispatchEvent",ol.source.ImageArcGISRest.prototype.dispatchEvent),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getRevision",ol.source.ImageArcGISRest.prototype.getRevision),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"on",ol.source.ImageArcGISRest.prototype.on),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"once",ol.source.ImageArcGISRest.prototype.once),goog.exportProperty(ol.source.ImageArcGISRest.prototype,"un",ol.source.ImageArcGISRest.prototype.un),goog.exportProperty(ol.source.ImageCanvas.prototype,"getAttributions",ol.source.ImageCanvas.prototype.getAttributions),goog.exportProperty(ol.source.ImageCanvas.prototype,"getLogo",ol.source.ImageCanvas.prototype.getLogo),goog.exportProperty(ol.source.ImageCanvas.prototype,"getProjection",ol.source.ImageCanvas.prototype.getProjection),goog.exportProperty(ol.source.ImageCanvas.prototype,"getState",ol.source.ImageCanvas.prototype.getState),goog.exportProperty(ol.source.ImageCanvas.prototype,"refresh",ol.source.ImageCanvas.prototype.refresh),goog.exportProperty(ol.source.ImageCanvas.prototype,"setAttributions",ol.source.ImageCanvas.prototype.setAttributions),goog.exportProperty(ol.source.ImageCanvas.prototype,"get",ol.source.ImageCanvas.prototype.get),goog.exportProperty(ol.source.ImageCanvas.prototype,"getKeys",ol.source.ImageCanvas.prototype.getKeys),goog.exportProperty(ol.source.ImageCanvas.prototype,"getProperties",ol.source.ImageCanvas.prototype.getProperties),goog.exportProperty(ol.source.ImageCanvas.prototype,"set",ol.source.ImageCanvas.prototype.set),goog.exportProperty(ol.source.ImageCanvas.prototype,"setProperties",ol.source.ImageCanvas.prototype.setProperties),goog.exportProperty(ol.source.ImageCanvas.prototype,"unset",ol.source.ImageCanvas.prototype.unset),goog.exportProperty(ol.source.ImageCanvas.prototype,"changed",ol.source.ImageCanvas.prototype.changed),goog.exportProperty(ol.source.ImageCanvas.prototype,"dispatchEvent",ol.source.ImageCanvas.prototype.dispatchEvent),goog.exportProperty(ol.source.ImageCanvas.prototype,"getRevision",ol.source.ImageCanvas.prototype.getRevision),goog.exportProperty(ol.source.ImageCanvas.prototype,"on",ol.source.ImageCanvas.prototype.on),goog.exportProperty(ol.source.ImageCanvas.prototype,"once",ol.source.ImageCanvas.prototype.once),goog.exportProperty(ol.source.ImageCanvas.prototype,"un",ol.source.ImageCanvas.prototype.un),goog.exportProperty(ol.source.ImageMapGuide.prototype,"getAttributions",ol.source.ImageMapGuide.prototype.getAttributions),goog.exportProperty(ol.source.ImageMapGuide.prototype,"getLogo",ol.source.ImageMapGuide.prototype.getLogo),goog.exportProperty(ol.source.ImageMapGuide.prototype,"getProjection",ol.source.ImageMapGuide.prototype.getProjection),goog.exportProperty(ol.source.ImageMapGuide.prototype,"getState",ol.source.ImageMapGuide.prototype.getState),goog.exportProperty(ol.source.ImageMapGuide.prototype,"refresh",ol.source.ImageMapGuide.prototype.refresh),goog.exportProperty(ol.source.ImageMapGuide.prototype,"setAttributions",ol.source.ImageMapGuide.prototype.setAttributions),goog.exportProperty(ol.source.ImageMapGuide.prototype,"get",ol.source.ImageMapGuide.prototype.get),goog.exportProperty(ol.source.ImageMapGuide.prototype,"getKeys",ol.source.ImageMapGuide.prototype.getKeys),goog.exportProperty(ol.source.ImageMapGuide.prototype,"getProperties",ol.source.ImageMapGuide.prototype.getProperties),goog.exportProperty(ol.source.ImageMapGuide.prototype,"set",ol.source.ImageMapGuide.prototype.set),goog.exportProperty(ol.source.ImageMapGuide.prototype,"setProperties",ol.source.ImageMapGuide.prototype.setProperties),goog.exportProperty(ol.source.ImageMapGuide.prototype,"unset",ol.source.ImageMapGuide.prototype.unset),goog.exportProperty(ol.source.ImageMapGuide.prototype,"changed",ol.source.ImageMapGuide.prototype.changed),goog.exportProperty(ol.source.ImageMapGuide.prototype,"dispatchEvent",ol.source.ImageMapGuide.prototype.dispatchEvent),goog.exportProperty(ol.source.ImageMapGuide.prototype,"getRevision",ol.source.ImageMapGuide.prototype.getRevision),goog.exportProperty(ol.source.ImageMapGuide.prototype,"on",ol.source.ImageMapGuide.prototype.on),goog.exportProperty(ol.source.ImageMapGuide.prototype,"once",ol.source.ImageMapGuide.prototype.once),goog.exportProperty(ol.source.ImageMapGuide.prototype,"un",ol.source.ImageMapGuide.prototype.un),goog.exportProperty(ol.source.ImageStatic.prototype,"getAttributions",ol.source.ImageStatic.prototype.getAttributions),goog.exportProperty(ol.source.ImageStatic.prototype,"getLogo",ol.source.ImageStatic.prototype.getLogo),goog.exportProperty(ol.source.ImageStatic.prototype,"getProjection",ol.source.ImageStatic.prototype.getProjection),goog.exportProperty(ol.source.ImageStatic.prototype,"getState",ol.source.ImageStatic.prototype.getState),goog.exportProperty(ol.source.ImageStatic.prototype,"refresh",ol.source.ImageStatic.prototype.refresh),goog.exportProperty(ol.source.ImageStatic.prototype,"setAttributions",ol.source.ImageStatic.prototype.setAttributions),goog.exportProperty(ol.source.ImageStatic.prototype,"get",ol.source.ImageStatic.prototype.get),goog.exportProperty(ol.source.ImageStatic.prototype,"getKeys",ol.source.ImageStatic.prototype.getKeys),goog.exportProperty(ol.source.ImageStatic.prototype,"getProperties",ol.source.ImageStatic.prototype.getProperties),goog.exportProperty(ol.source.ImageStatic.prototype,"set",ol.source.ImageStatic.prototype.set),goog.exportProperty(ol.source.ImageStatic.prototype,"setProperties",ol.source.ImageStatic.prototype.setProperties),goog.exportProperty(ol.source.ImageStatic.prototype,"unset",ol.source.ImageStatic.prototype.unset),goog.exportProperty(ol.source.ImageStatic.prototype,"changed",ol.source.ImageStatic.prototype.changed),goog.exportProperty(ol.source.ImageStatic.prototype,"dispatchEvent",ol.source.ImageStatic.prototype.dispatchEvent),goog.exportProperty(ol.source.ImageStatic.prototype,"getRevision",ol.source.ImageStatic.prototype.getRevision),goog.exportProperty(ol.source.ImageStatic.prototype,"on",ol.source.ImageStatic.prototype.on),goog.exportProperty(ol.source.ImageStatic.prototype,"once",ol.source.ImageStatic.prototype.once),goog.exportProperty(ol.source.ImageStatic.prototype,"un",ol.source.ImageStatic.prototype.un),goog.exportProperty(ol.source.ImageVector.prototype,"getAttributions",ol.source.ImageVector.prototype.getAttributions),goog.exportProperty(ol.source.ImageVector.prototype,"getLogo",ol.source.ImageVector.prototype.getLogo),goog.exportProperty(ol.source.ImageVector.prototype,"getProjection",ol.source.ImageVector.prototype.getProjection),goog.exportProperty(ol.source.ImageVector.prototype,"getState",ol.source.ImageVector.prototype.getState),goog.exportProperty(ol.source.ImageVector.prototype,"refresh",ol.source.ImageVector.prototype.refresh),goog.exportProperty(ol.source.ImageVector.prototype,"setAttributions",ol.source.ImageVector.prototype.setAttributions),goog.exportProperty(ol.source.ImageVector.prototype,"get",ol.source.ImageVector.prototype.get),goog.exportProperty(ol.source.ImageVector.prototype,"getKeys",ol.source.ImageVector.prototype.getKeys),goog.exportProperty(ol.source.ImageVector.prototype,"getProperties",ol.source.ImageVector.prototype.getProperties),goog.exportProperty(ol.source.ImageVector.prototype,"set",ol.source.ImageVector.prototype.set),goog.exportProperty(ol.source.ImageVector.prototype,"setProperties",ol.source.ImageVector.prototype.setProperties),goog.exportProperty(ol.source.ImageVector.prototype,"unset",ol.source.ImageVector.prototype.unset),goog.exportProperty(ol.source.ImageVector.prototype,"changed",ol.source.ImageVector.prototype.changed),goog.exportProperty(ol.source.ImageVector.prototype,"dispatchEvent",ol.source.ImageVector.prototype.dispatchEvent),goog.exportProperty(ol.source.ImageVector.prototype,"getRevision",ol.source.ImageVector.prototype.getRevision),goog.exportProperty(ol.source.ImageVector.prototype,"on",ol.source.ImageVector.prototype.on),goog.exportProperty(ol.source.ImageVector.prototype,"once",ol.source.ImageVector.prototype.once),goog.exportProperty(ol.source.ImageVector.prototype,"un",ol.source.ImageVector.prototype.un),goog.exportProperty(ol.source.ImageWMS.prototype,"getAttributions",ol.source.ImageWMS.prototype.getAttributions),goog.exportProperty(ol.source.ImageWMS.prototype,"getLogo",ol.source.ImageWMS.prototype.getLogo),goog.exportProperty(ol.source.ImageWMS.prototype,"getProjection",ol.source.ImageWMS.prototype.getProjection),goog.exportProperty(ol.source.ImageWMS.prototype,"getState",ol.source.ImageWMS.prototype.getState),goog.exportProperty(ol.source.ImageWMS.prototype,"refresh",ol.source.ImageWMS.prototype.refresh),goog.exportProperty(ol.source.ImageWMS.prototype,"setAttributions",ol.source.ImageWMS.prototype.setAttributions),goog.exportProperty(ol.source.ImageWMS.prototype,"get",ol.source.ImageWMS.prototype.get),goog.exportProperty(ol.source.ImageWMS.prototype,"getKeys",ol.source.ImageWMS.prototype.getKeys),goog.exportProperty(ol.source.ImageWMS.prototype,"getProperties",ol.source.ImageWMS.prototype.getProperties),goog.exportProperty(ol.source.ImageWMS.prototype,"set",ol.source.ImageWMS.prototype.set),goog.exportProperty(ol.source.ImageWMS.prototype,"setProperties",ol.source.ImageWMS.prototype.setProperties),goog.exportProperty(ol.source.ImageWMS.prototype,"unset",ol.source.ImageWMS.prototype.unset),goog.exportProperty(ol.source.ImageWMS.prototype,"changed",ol.source.ImageWMS.prototype.changed),goog.exportProperty(ol.source.ImageWMS.prototype,"dispatchEvent",ol.source.ImageWMS.prototype.dispatchEvent),goog.exportProperty(ol.source.ImageWMS.prototype,"getRevision",ol.source.ImageWMS.prototype.getRevision),goog.exportProperty(ol.source.ImageWMS.prototype,"on",ol.source.ImageWMS.prototype.on),goog.exportProperty(ol.source.ImageWMS.prototype,"once",ol.source.ImageWMS.prototype.once),goog.exportProperty(ol.source.ImageWMS.prototype,"un",ol.source.ImageWMS.prototype.un),goog.exportProperty(ol.source.OSM.prototype,"setRenderReprojectionEdges",ol.source.OSM.prototype.setRenderReprojectionEdges),goog.exportProperty(ol.source.OSM.prototype,"setTileGridForProjection",ol.source.OSM.prototype.setTileGridForProjection),goog.exportProperty(ol.source.OSM.prototype,"getTileLoadFunction",ol.source.OSM.prototype.getTileLoadFunction),goog.exportProperty(ol.source.OSM.prototype,"getTileUrlFunction",ol.source.OSM.prototype.getTileUrlFunction),goog.exportProperty(ol.source.OSM.prototype,"getUrls",ol.source.OSM.prototype.getUrls),goog.exportProperty(ol.source.OSM.prototype,"setTileLoadFunction",ol.source.OSM.prototype.setTileLoadFunction),goog.exportProperty(ol.source.OSM.prototype,"setTileUrlFunction",ol.source.OSM.prototype.setTileUrlFunction),goog.exportProperty(ol.source.OSM.prototype,"setUrl",ol.source.OSM.prototype.setUrl),goog.exportProperty(ol.source.OSM.prototype,"setUrls",ol.source.OSM.prototype.setUrls),goog.exportProperty(ol.source.OSM.prototype,"getTileGrid",ol.source.OSM.prototype.getTileGrid),goog.exportProperty(ol.source.OSM.prototype,"refresh",ol.source.OSM.prototype.refresh),goog.exportProperty(ol.source.OSM.prototype,"getAttributions",ol.source.OSM.prototype.getAttributions),goog.exportProperty(ol.source.OSM.prototype,"getLogo",ol.source.OSM.prototype.getLogo),goog.exportProperty(ol.source.OSM.prototype,"getProjection",ol.source.OSM.prototype.getProjection),goog.exportProperty(ol.source.OSM.prototype,"getState",ol.source.OSM.prototype.getState),goog.exportProperty(ol.source.OSM.prototype,"setAttributions",ol.source.OSM.prototype.setAttributions),goog.exportProperty(ol.source.OSM.prototype,"get",ol.source.OSM.prototype.get),goog.exportProperty(ol.source.OSM.prototype,"getKeys",ol.source.OSM.prototype.getKeys),goog.exportProperty(ol.source.OSM.prototype,"getProperties",ol.source.OSM.prototype.getProperties),goog.exportProperty(ol.source.OSM.prototype,"set",ol.source.OSM.prototype.set),goog.exportProperty(ol.source.OSM.prototype,"setProperties",ol.source.OSM.prototype.setProperties),goog.exportProperty(ol.source.OSM.prototype,"unset",ol.source.OSM.prototype.unset),goog.exportProperty(ol.source.OSM.prototype,"changed",ol.source.OSM.prototype.changed),goog.exportProperty(ol.source.OSM.prototype,"dispatchEvent",ol.source.OSM.prototype.dispatchEvent),goog.exportProperty(ol.source.OSM.prototype,"getRevision",ol.source.OSM.prototype.getRevision),goog.exportProperty(ol.source.OSM.prototype,"on",ol.source.OSM.prototype.on),goog.exportProperty(ol.source.OSM.prototype,"once",ol.source.OSM.prototype.once),goog.exportProperty(ol.source.OSM.prototype,"un",ol.source.OSM.prototype.un),goog.exportProperty(ol.source.Raster.prototype,"getAttributions",ol.source.Raster.prototype.getAttributions),goog.exportProperty(ol.source.Raster.prototype,"getLogo",ol.source.Raster.prototype.getLogo),goog.exportProperty(ol.source.Raster.prototype,"getProjection",ol.source.Raster.prototype.getProjection),goog.exportProperty(ol.source.Raster.prototype,"getState",ol.source.Raster.prototype.getState),goog.exportProperty(ol.source.Raster.prototype,"refresh",ol.source.Raster.prototype.refresh),goog.exportProperty(ol.source.Raster.prototype,"setAttributions",ol.source.Raster.prototype.setAttributions),goog.exportProperty(ol.source.Raster.prototype,"get",ol.source.Raster.prototype.get),goog.exportProperty(ol.source.Raster.prototype,"getKeys",ol.source.Raster.prototype.getKeys),goog.exportProperty(ol.source.Raster.prototype,"getProperties",ol.source.Raster.prototype.getProperties),goog.exportProperty(ol.source.Raster.prototype,"set",ol.source.Raster.prototype.set),goog.exportProperty(ol.source.Raster.prototype,"setProperties",ol.source.Raster.prototype.setProperties),goog.exportProperty(ol.source.Raster.prototype,"unset",ol.source.Raster.prototype.unset),goog.exportProperty(ol.source.Raster.prototype,"changed",ol.source.Raster.prototype.changed),goog.exportProperty(ol.source.Raster.prototype,"dispatchEvent",ol.source.Raster.prototype.dispatchEvent),goog.exportProperty(ol.source.Raster.prototype,"getRevision",ol.source.Raster.prototype.getRevision),goog.exportProperty(ol.source.Raster.prototype,"on",ol.source.Raster.prototype.on),goog.exportProperty(ol.source.Raster.prototype,"once",ol.source.Raster.prototype.once),goog.exportProperty(ol.source.Raster.prototype,"un",ol.source.Raster.prototype.un),goog.exportProperty(ol.source.Raster.Event.prototype,"type",ol.source.Raster.Event.prototype.type),goog.exportProperty(ol.source.Raster.Event.prototype,"target",ol.source.Raster.Event.prototype.target),goog.exportProperty(ol.source.Raster.Event.prototype,"preventDefault",ol.source.Raster.Event.prototype.preventDefault),goog.exportProperty(ol.source.Raster.Event.prototype,"stopPropagation",ol.source.Raster.Event.prototype.stopPropagation),goog.exportProperty(ol.source.Stamen.prototype,"setRenderReprojectionEdges",ol.source.Stamen.prototype.setRenderReprojectionEdges),goog.exportProperty(ol.source.Stamen.prototype,"setTileGridForProjection",ol.source.Stamen.prototype.setTileGridForProjection),goog.exportProperty(ol.source.Stamen.prototype,"getTileLoadFunction",ol.source.Stamen.prototype.getTileLoadFunction),goog.exportProperty(ol.source.Stamen.prototype,"getTileUrlFunction",ol.source.Stamen.prototype.getTileUrlFunction),goog.exportProperty(ol.source.Stamen.prototype,"getUrls",ol.source.Stamen.prototype.getUrls),goog.exportProperty(ol.source.Stamen.prototype,"setTileLoadFunction",ol.source.Stamen.prototype.setTileLoadFunction),goog.exportProperty(ol.source.Stamen.prototype,"setTileUrlFunction",ol.source.Stamen.prototype.setTileUrlFunction),goog.exportProperty(ol.source.Stamen.prototype,"setUrl",ol.source.Stamen.prototype.setUrl),goog.exportProperty(ol.source.Stamen.prototype,"setUrls",ol.source.Stamen.prototype.setUrls),goog.exportProperty(ol.source.Stamen.prototype,"getTileGrid",ol.source.Stamen.prototype.getTileGrid),goog.exportProperty(ol.source.Stamen.prototype,"refresh",ol.source.Stamen.prototype.refresh),goog.exportProperty(ol.source.Stamen.prototype,"getAttributions",ol.source.Stamen.prototype.getAttributions),goog.exportProperty(ol.source.Stamen.prototype,"getLogo",ol.source.Stamen.prototype.getLogo),goog.exportProperty(ol.source.Stamen.prototype,"getProjection",ol.source.Stamen.prototype.getProjection),goog.exportProperty(ol.source.Stamen.prototype,"getState",ol.source.Stamen.prototype.getState),goog.exportProperty(ol.source.Stamen.prototype,"setAttributions",ol.source.Stamen.prototype.setAttributions),goog.exportProperty(ol.source.Stamen.prototype,"get",ol.source.Stamen.prototype.get),goog.exportProperty(ol.source.Stamen.prototype,"getKeys",ol.source.Stamen.prototype.getKeys),goog.exportProperty(ol.source.Stamen.prototype,"getProperties",ol.source.Stamen.prototype.getProperties),goog.exportProperty(ol.source.Stamen.prototype,"set",ol.source.Stamen.prototype.set),goog.exportProperty(ol.source.Stamen.prototype,"setProperties",ol.source.Stamen.prototype.setProperties),goog.exportProperty(ol.source.Stamen.prototype,"unset",ol.source.Stamen.prototype.unset),goog.exportProperty(ol.source.Stamen.prototype,"changed",ol.source.Stamen.prototype.changed),goog.exportProperty(ol.source.Stamen.prototype,"dispatchEvent",ol.source.Stamen.prototype.dispatchEvent),goog.exportProperty(ol.source.Stamen.prototype,"getRevision",ol.source.Stamen.prototype.getRevision),goog.exportProperty(ol.source.Stamen.prototype,"on",ol.source.Stamen.prototype.on),goog.exportProperty(ol.source.Stamen.prototype,"once",ol.source.Stamen.prototype.once),goog.exportProperty(ol.source.Stamen.prototype,"un",ol.source.Stamen.prototype.un),goog.exportProperty(ol.source.Tile.Event.prototype,"type",ol.source.Tile.Event.prototype.type),goog.exportProperty(ol.source.Tile.Event.prototype,"target",ol.source.Tile.Event.prototype.target),goog.exportProperty(ol.source.Tile.Event.prototype,"preventDefault",ol.source.Tile.Event.prototype.preventDefault),goog.exportProperty(ol.source.Tile.Event.prototype,"stopPropagation",ol.source.Tile.Event.prototype.stopPropagation),goog.exportProperty(ol.source.TileArcGISRest.prototype,"setRenderReprojectionEdges",ol.source.TileArcGISRest.prototype.setRenderReprojectionEdges),goog.exportProperty(ol.source.TileArcGISRest.prototype,"setTileGridForProjection",ol.source.TileArcGISRest.prototype.setTileGridForProjection),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getTileLoadFunction",ol.source.TileArcGISRest.prototype.getTileLoadFunction),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getTileUrlFunction",ol.source.TileArcGISRest.prototype.getTileUrlFunction),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getUrls",ol.source.TileArcGISRest.prototype.getUrls),goog.exportProperty(ol.source.TileArcGISRest.prototype,"setTileLoadFunction",ol.source.TileArcGISRest.prototype.setTileLoadFunction),goog.exportProperty(ol.source.TileArcGISRest.prototype,"setTileUrlFunction",ol.source.TileArcGISRest.prototype.setTileUrlFunction),goog.exportProperty(ol.source.TileArcGISRest.prototype,"setUrl",ol.source.TileArcGISRest.prototype.setUrl),goog.exportProperty(ol.source.TileArcGISRest.prototype,"setUrls",ol.source.TileArcGISRest.prototype.setUrls),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getTileGrid",ol.source.TileArcGISRest.prototype.getTileGrid),goog.exportProperty(ol.source.TileArcGISRest.prototype,"refresh",ol.source.TileArcGISRest.prototype.refresh),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getAttributions",ol.source.TileArcGISRest.prototype.getAttributions),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getLogo",ol.source.TileArcGISRest.prototype.getLogo),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getProjection",ol.source.TileArcGISRest.prototype.getProjection),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getState",ol.source.TileArcGISRest.prototype.getState),goog.exportProperty(ol.source.TileArcGISRest.prototype,"setAttributions",ol.source.TileArcGISRest.prototype.setAttributions),goog.exportProperty(ol.source.TileArcGISRest.prototype,"get",ol.source.TileArcGISRest.prototype.get),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getKeys",ol.source.TileArcGISRest.prototype.getKeys),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getProperties",ol.source.TileArcGISRest.prototype.getProperties),goog.exportProperty(ol.source.TileArcGISRest.prototype,"set",ol.source.TileArcGISRest.prototype.set),goog.exportProperty(ol.source.TileArcGISRest.prototype,"setProperties",ol.source.TileArcGISRest.prototype.setProperties),goog.exportProperty(ol.source.TileArcGISRest.prototype,"unset",ol.source.TileArcGISRest.prototype.unset),goog.exportProperty(ol.source.TileArcGISRest.prototype,"changed",ol.source.TileArcGISRest.prototype.changed),goog.exportProperty(ol.source.TileArcGISRest.prototype,"dispatchEvent",ol.source.TileArcGISRest.prototype.dispatchEvent),goog.exportProperty(ol.source.TileArcGISRest.prototype,"getRevision",ol.source.TileArcGISRest.prototype.getRevision),goog.exportProperty(ol.source.TileArcGISRest.prototype,"on",ol.source.TileArcGISRest.prototype.on),goog.exportProperty(ol.source.TileArcGISRest.prototype,"once",ol.source.TileArcGISRest.prototype.once),goog.exportProperty(ol.source.TileArcGISRest.prototype,"un",ol.source.TileArcGISRest.prototype.un),goog.exportProperty(ol.source.TileDebug.prototype,"getTileGrid",ol.source.TileDebug.prototype.getTileGrid),goog.exportProperty(ol.source.TileDebug.prototype,"refresh",ol.source.TileDebug.prototype.refresh),goog.exportProperty(ol.source.TileDebug.prototype,"getAttributions",ol.source.TileDebug.prototype.getAttributions),goog.exportProperty(ol.source.TileDebug.prototype,"getLogo",ol.source.TileDebug.prototype.getLogo),goog.exportProperty(ol.source.TileDebug.prototype,"getProjection",ol.source.TileDebug.prototype.getProjection),goog.exportProperty(ol.source.TileDebug.prototype,"getState",ol.source.TileDebug.prototype.getState),goog.exportProperty(ol.source.TileDebug.prototype,"setAttributions",ol.source.TileDebug.prototype.setAttributions),goog.exportProperty(ol.source.TileDebug.prototype,"get",ol.source.TileDebug.prototype.get),goog.exportProperty(ol.source.TileDebug.prototype,"getKeys",ol.source.TileDebug.prototype.getKeys),goog.exportProperty(ol.source.TileDebug.prototype,"getProperties",ol.source.TileDebug.prototype.getProperties),goog.exportProperty(ol.source.TileDebug.prototype,"set",ol.source.TileDebug.prototype.set),goog.exportProperty(ol.source.TileDebug.prototype,"setProperties",ol.source.TileDebug.prototype.setProperties),goog.exportProperty(ol.source.TileDebug.prototype,"unset",ol.source.TileDebug.prototype.unset),goog.exportProperty(ol.source.TileDebug.prototype,"changed",ol.source.TileDebug.prototype.changed),goog.exportProperty(ol.source.TileDebug.prototype,"dispatchEvent",ol.source.TileDebug.prototype.dispatchEvent),goog.exportProperty(ol.source.TileDebug.prototype,"getRevision",ol.source.TileDebug.prototype.getRevision),goog.exportProperty(ol.source.TileDebug.prototype,"on",ol.source.TileDebug.prototype.on),goog.exportProperty(ol.source.TileDebug.prototype,"once",ol.source.TileDebug.prototype.once),goog.exportProperty(ol.source.TileDebug.prototype,"un",ol.source.TileDebug.prototype.un),goog.exportProperty(ol.source.TileJSON.prototype,"setRenderReprojectionEdges",ol.source.TileJSON.prototype.setRenderReprojectionEdges),goog.exportProperty(ol.source.TileJSON.prototype,"setTileGridForProjection",ol.source.TileJSON.prototype.setTileGridForProjection),goog.exportProperty(ol.source.TileJSON.prototype,"getTileLoadFunction",ol.source.TileJSON.prototype.getTileLoadFunction),goog.exportProperty(ol.source.TileJSON.prototype,"getTileUrlFunction",ol.source.TileJSON.prototype.getTileUrlFunction),goog.exportProperty(ol.source.TileJSON.prototype,"getUrls",ol.source.TileJSON.prototype.getUrls),goog.exportProperty(ol.source.TileJSON.prototype,"setTileLoadFunction",ol.source.TileJSON.prototype.setTileLoadFunction),goog.exportProperty(ol.source.TileJSON.prototype,"setTileUrlFunction",ol.source.TileJSON.prototype.setTileUrlFunction),goog.exportProperty(ol.source.TileJSON.prototype,"setUrl",ol.source.TileJSON.prototype.setUrl),goog.exportProperty(ol.source.TileJSON.prototype,"setUrls",ol.source.TileJSON.prototype.setUrls),goog.exportProperty(ol.source.TileJSON.prototype,"getTileGrid",ol.source.TileJSON.prototype.getTileGrid),goog.exportProperty(ol.source.TileJSON.prototype,"refresh",ol.source.TileJSON.prototype.refresh),goog.exportProperty(ol.source.TileJSON.prototype,"getAttributions",ol.source.TileJSON.prototype.getAttributions),goog.exportProperty(ol.source.TileJSON.prototype,"getLogo",ol.source.TileJSON.prototype.getLogo),goog.exportProperty(ol.source.TileJSON.prototype,"getProjection",ol.source.TileJSON.prototype.getProjection),goog.exportProperty(ol.source.TileJSON.prototype,"getState",ol.source.TileJSON.prototype.getState),goog.exportProperty(ol.source.TileJSON.prototype,"setAttributions",ol.source.TileJSON.prototype.setAttributions),goog.exportProperty(ol.source.TileJSON.prototype,"get",ol.source.TileJSON.prototype.get),goog.exportProperty(ol.source.TileJSON.prototype,"getKeys",ol.source.TileJSON.prototype.getKeys),goog.exportProperty(ol.source.TileJSON.prototype,"getProperties",ol.source.TileJSON.prototype.getProperties),goog.exportProperty(ol.source.TileJSON.prototype,"set",ol.source.TileJSON.prototype.set),goog.exportProperty(ol.source.TileJSON.prototype,"setProperties",ol.source.TileJSON.prototype.setProperties),goog.exportProperty(ol.source.TileJSON.prototype,"unset",ol.source.TileJSON.prototype.unset),goog.exportProperty(ol.source.TileJSON.prototype,"changed",ol.source.TileJSON.prototype.changed),goog.exportProperty(ol.source.TileJSON.prototype,"dispatchEvent",ol.source.TileJSON.prototype.dispatchEvent),goog.exportProperty(ol.source.TileJSON.prototype,"getRevision",ol.source.TileJSON.prototype.getRevision),goog.exportProperty(ol.source.TileJSON.prototype,"on",ol.source.TileJSON.prototype.on),goog.exportProperty(ol.source.TileJSON.prototype,"once",ol.source.TileJSON.prototype.once),goog.exportProperty(ol.source.TileJSON.prototype,"un",ol.source.TileJSON.prototype.un),goog.exportProperty(ol.source.TileUTFGrid.prototype,"getTileGrid",ol.source.TileUTFGrid.prototype.getTileGrid),goog.exportProperty(ol.source.TileUTFGrid.prototype,"refresh",ol.source.TileUTFGrid.prototype.refresh),goog.exportProperty(ol.source.TileUTFGrid.prototype,"getAttributions",ol.source.TileUTFGrid.prototype.getAttributions),goog.exportProperty(ol.source.TileUTFGrid.prototype,"getLogo",ol.source.TileUTFGrid.prototype.getLogo),goog.exportProperty(ol.source.TileUTFGrid.prototype,"getProjection",ol.source.TileUTFGrid.prototype.getProjection),goog.exportProperty(ol.source.TileUTFGrid.prototype,"getState",ol.source.TileUTFGrid.prototype.getState),goog.exportProperty(ol.source.TileUTFGrid.prototype,"setAttributions",ol.source.TileUTFGrid.prototype.setAttributions),goog.exportProperty(ol.source.TileUTFGrid.prototype,"get",ol.source.TileUTFGrid.prototype.get),goog.exportProperty(ol.source.TileUTFGrid.prototype,"getKeys",ol.source.TileUTFGrid.prototype.getKeys),goog.exportProperty(ol.source.TileUTFGrid.prototype,"getProperties",ol.source.TileUTFGrid.prototype.getProperties),goog.exportProperty(ol.source.TileUTFGrid.prototype,"set",ol.source.TileUTFGrid.prototype.set),goog.exportProperty(ol.source.TileUTFGrid.prototype,"setProperties",ol.source.TileUTFGrid.prototype.setProperties),goog.exportProperty(ol.source.TileUTFGrid.prototype,"unset",ol.source.TileUTFGrid.prototype.unset),goog.exportProperty(ol.source.TileUTFGrid.prototype,"changed",ol.source.TileUTFGrid.prototype.changed),goog.exportProperty(ol.source.TileUTFGrid.prototype,"dispatchEvent",ol.source.TileUTFGrid.prototype.dispatchEvent),goog.exportProperty(ol.source.TileUTFGrid.prototype,"getRevision",ol.source.TileUTFGrid.prototype.getRevision),goog.exportProperty(ol.source.TileUTFGrid.prototype,"on",ol.source.TileUTFGrid.prototype.on),goog.exportProperty(ol.source.TileUTFGrid.prototype,"once",ol.source.TileUTFGrid.prototype.once),goog.exportProperty(ol.source.TileUTFGrid.prototype,"un",ol.source.TileUTFGrid.prototype.un),goog.exportProperty(ol.source.TileWMS.prototype,"setRenderReprojectionEdges",ol.source.TileWMS.prototype.setRenderReprojectionEdges),goog.exportProperty(ol.source.TileWMS.prototype,"setTileGridForProjection",ol.source.TileWMS.prototype.setTileGridForProjection),goog.exportProperty(ol.source.TileWMS.prototype,"getTileLoadFunction",ol.source.TileWMS.prototype.getTileLoadFunction),goog.exportProperty(ol.source.TileWMS.prototype,"getTileUrlFunction",ol.source.TileWMS.prototype.getTileUrlFunction),goog.exportProperty(ol.source.TileWMS.prototype,"getUrls",ol.source.TileWMS.prototype.getUrls),goog.exportProperty(ol.source.TileWMS.prototype,"setTileLoadFunction",ol.source.TileWMS.prototype.setTileLoadFunction),goog.exportProperty(ol.source.TileWMS.prototype,"setTileUrlFunction",ol.source.TileWMS.prototype.setTileUrlFunction),goog.exportProperty(ol.source.TileWMS.prototype,"setUrl",ol.source.TileWMS.prototype.setUrl),goog.exportProperty(ol.source.TileWMS.prototype,"setUrls",ol.source.TileWMS.prototype.setUrls),goog.exportProperty(ol.source.TileWMS.prototype,"getTileGrid",ol.source.TileWMS.prototype.getTileGrid),goog.exportProperty(ol.source.TileWMS.prototype,"refresh",ol.source.TileWMS.prototype.refresh),goog.exportProperty(ol.source.TileWMS.prototype,"getAttributions",ol.source.TileWMS.prototype.getAttributions),goog.exportProperty(ol.source.TileWMS.prototype,"getLogo",ol.source.TileWMS.prototype.getLogo),goog.exportProperty(ol.source.TileWMS.prototype,"getProjection",ol.source.TileWMS.prototype.getProjection),goog.exportProperty(ol.source.TileWMS.prototype,"getState",ol.source.TileWMS.prototype.getState),goog.exportProperty(ol.source.TileWMS.prototype,"setAttributions",ol.source.TileWMS.prototype.setAttributions),goog.exportProperty(ol.source.TileWMS.prototype,"get",ol.source.TileWMS.prototype.get),goog.exportProperty(ol.source.TileWMS.prototype,"getKeys",ol.source.TileWMS.prototype.getKeys),goog.exportProperty(ol.source.TileWMS.prototype,"getProperties",ol.source.TileWMS.prototype.getProperties),goog.exportProperty(ol.source.TileWMS.prototype,"set",ol.source.TileWMS.prototype.set),goog.exportProperty(ol.source.TileWMS.prototype,"setProperties",ol.source.TileWMS.prototype.setProperties),goog.exportProperty(ol.source.TileWMS.prototype,"unset",ol.source.TileWMS.prototype.unset),goog.exportProperty(ol.source.TileWMS.prototype,"changed",ol.source.TileWMS.prototype.changed),goog.exportProperty(ol.source.TileWMS.prototype,"dispatchEvent",ol.source.TileWMS.prototype.dispatchEvent),goog.exportProperty(ol.source.TileWMS.prototype,"getRevision",ol.source.TileWMS.prototype.getRevision),goog.exportProperty(ol.source.TileWMS.prototype,"on",ol.source.TileWMS.prototype.on),goog.exportProperty(ol.source.TileWMS.prototype,"once",ol.source.TileWMS.prototype.once),goog.exportProperty(ol.source.TileWMS.prototype,"un",ol.source.TileWMS.prototype.un),goog.exportProperty(ol.source.Vector.Event.prototype,"type",ol.source.Vector.Event.prototype.type),goog.exportProperty(ol.source.Vector.Event.prototype,"target",ol.source.Vector.Event.prototype.target),goog.exportProperty(ol.source.Vector.Event.prototype,"preventDefault",ol.source.Vector.Event.prototype.preventDefault),goog.exportProperty(ol.source.Vector.Event.prototype,"stopPropagation",ol.source.Vector.Event.prototype.stopPropagation),goog.exportProperty(ol.source.VectorTile.prototype,"getTileLoadFunction",ol.source.VectorTile.prototype.getTileLoadFunction),goog.exportProperty(ol.source.VectorTile.prototype,"getTileUrlFunction",ol.source.VectorTile.prototype.getTileUrlFunction),goog.exportProperty(ol.source.VectorTile.prototype,"getUrls",ol.source.VectorTile.prototype.getUrls),goog.exportProperty(ol.source.VectorTile.prototype,"setTileLoadFunction",ol.source.VectorTile.prototype.setTileLoadFunction),goog.exportProperty(ol.source.VectorTile.prototype,"setTileUrlFunction",ol.source.VectorTile.prototype.setTileUrlFunction),goog.exportProperty(ol.source.VectorTile.prototype,"setUrl",ol.source.VectorTile.prototype.setUrl),goog.exportProperty(ol.source.VectorTile.prototype,"setUrls",ol.source.VectorTile.prototype.setUrls),goog.exportProperty(ol.source.VectorTile.prototype,"getTileGrid",ol.source.VectorTile.prototype.getTileGrid),goog.exportProperty(ol.source.VectorTile.prototype,"refresh",ol.source.VectorTile.prototype.refresh),goog.exportProperty(ol.source.VectorTile.prototype,"getAttributions",ol.source.VectorTile.prototype.getAttributions),goog.exportProperty(ol.source.VectorTile.prototype,"getLogo",ol.source.VectorTile.prototype.getLogo),goog.exportProperty(ol.source.VectorTile.prototype,"getProjection",ol.source.VectorTile.prototype.getProjection),goog.exportProperty(ol.source.VectorTile.prototype,"getState",ol.source.VectorTile.prototype.getState),goog.exportProperty(ol.source.VectorTile.prototype,"setAttributions",ol.source.VectorTile.prototype.setAttributions),goog.exportProperty(ol.source.VectorTile.prototype,"get",ol.source.VectorTile.prototype.get),goog.exportProperty(ol.source.VectorTile.prototype,"getKeys",ol.source.VectorTile.prototype.getKeys),goog.exportProperty(ol.source.VectorTile.prototype,"getProperties",ol.source.VectorTile.prototype.getProperties),goog.exportProperty(ol.source.VectorTile.prototype,"set",ol.source.VectorTile.prototype.set),goog.exportProperty(ol.source.VectorTile.prototype,"setProperties",ol.source.VectorTile.prototype.setProperties),goog.exportProperty(ol.source.VectorTile.prototype,"unset",ol.source.VectorTile.prototype.unset),goog.exportProperty(ol.source.VectorTile.prototype,"changed",ol.source.VectorTile.prototype.changed),goog.exportProperty(ol.source.VectorTile.prototype,"dispatchEvent",ol.source.VectorTile.prototype.dispatchEvent),goog.exportProperty(ol.source.VectorTile.prototype,"getRevision",ol.source.VectorTile.prototype.getRevision),goog.exportProperty(ol.source.VectorTile.prototype,"on",ol.source.VectorTile.prototype.on),goog.exportProperty(ol.source.VectorTile.prototype,"once",ol.source.VectorTile.prototype.once),goog.exportProperty(ol.source.VectorTile.prototype,"un",ol.source.VectorTile.prototype.un),goog.exportProperty(ol.source.WMTS.prototype,"setRenderReprojectionEdges",ol.source.WMTS.prototype.setRenderReprojectionEdges),goog.exportProperty(ol.source.WMTS.prototype,"setTileGridForProjection",ol.source.WMTS.prototype.setTileGridForProjection),goog.exportProperty(ol.source.WMTS.prototype,"getTileLoadFunction",ol.source.WMTS.prototype.getTileLoadFunction),goog.exportProperty(ol.source.WMTS.prototype,"getTileUrlFunction",ol.source.WMTS.prototype.getTileUrlFunction),goog.exportProperty(ol.source.WMTS.prototype,"getUrls",ol.source.WMTS.prototype.getUrls),goog.exportProperty(ol.source.WMTS.prototype,"setTileLoadFunction",ol.source.WMTS.prototype.setTileLoadFunction),goog.exportProperty(ol.source.WMTS.prototype,"setTileUrlFunction",ol.source.WMTS.prototype.setTileUrlFunction),goog.exportProperty(ol.source.WMTS.prototype,"setUrl",ol.source.WMTS.prototype.setUrl),goog.exportProperty(ol.source.WMTS.prototype,"setUrls",ol.source.WMTS.prototype.setUrls),goog.exportProperty(ol.source.WMTS.prototype,"getTileGrid",ol.source.WMTS.prototype.getTileGrid),goog.exportProperty(ol.source.WMTS.prototype,"refresh",ol.source.WMTS.prototype.refresh),goog.exportProperty(ol.source.WMTS.prototype,"getAttributions",ol.source.WMTS.prototype.getAttributions),goog.exportProperty(ol.source.WMTS.prototype,"getLogo",ol.source.WMTS.prototype.getLogo),goog.exportProperty(ol.source.WMTS.prototype,"getProjection",ol.source.WMTS.prototype.getProjection),goog.exportProperty(ol.source.WMTS.prototype,"getState",ol.source.WMTS.prototype.getState),goog.exportProperty(ol.source.WMTS.prototype,"setAttributions",ol.source.WMTS.prototype.setAttributions),goog.exportProperty(ol.source.WMTS.prototype,"get",ol.source.WMTS.prototype.get),goog.exportProperty(ol.source.WMTS.prototype,"getKeys",ol.source.WMTS.prototype.getKeys),goog.exportProperty(ol.source.WMTS.prototype,"getProperties",ol.source.WMTS.prototype.getProperties),goog.exportProperty(ol.source.WMTS.prototype,"set",ol.source.WMTS.prototype.set),goog.exportProperty(ol.source.WMTS.prototype,"setProperties",ol.source.WMTS.prototype.setProperties),goog.exportProperty(ol.source.WMTS.prototype,"unset",ol.source.WMTS.prototype.unset),goog.exportProperty(ol.source.WMTS.prototype,"changed",ol.source.WMTS.prototype.changed),goog.exportProperty(ol.source.WMTS.prototype,"dispatchEvent",ol.source.WMTS.prototype.dispatchEvent),goog.exportProperty(ol.source.WMTS.prototype,"getRevision",ol.source.WMTS.prototype.getRevision),goog.exportProperty(ol.source.WMTS.prototype,"on",ol.source.WMTS.prototype.on),goog.exportProperty(ol.source.WMTS.prototype,"once",ol.source.WMTS.prototype.once),goog.exportProperty(ol.source.WMTS.prototype,"un",ol.source.WMTS.prototype.un),goog.exportProperty(ol.source.Zoomify.prototype,"setRenderReprojectionEdges",ol.source.Zoomify.prototype.setRenderReprojectionEdges),goog.exportProperty(ol.source.Zoomify.prototype,"setTileGridForProjection",ol.source.Zoomify.prototype.setTileGridForProjection),goog.exportProperty(ol.source.Zoomify.prototype,"getTileLoadFunction",ol.source.Zoomify.prototype.getTileLoadFunction),goog.exportProperty(ol.source.Zoomify.prototype,"getTileUrlFunction",ol.source.Zoomify.prototype.getTileUrlFunction),goog.exportProperty(ol.source.Zoomify.prototype,"getUrls",ol.source.Zoomify.prototype.getUrls),goog.exportProperty(ol.source.Zoomify.prototype,"setTileLoadFunction",ol.source.Zoomify.prototype.setTileLoadFunction),goog.exportProperty(ol.source.Zoomify.prototype,"setTileUrlFunction",ol.source.Zoomify.prototype.setTileUrlFunction),goog.exportProperty(ol.source.Zoomify.prototype,"setUrl",ol.source.Zoomify.prototype.setUrl),goog.exportProperty(ol.source.Zoomify.prototype,"setUrls",ol.source.Zoomify.prototype.setUrls),goog.exportProperty(ol.source.Zoomify.prototype,"getTileGrid",ol.source.Zoomify.prototype.getTileGrid),goog.exportProperty(ol.source.Zoomify.prototype,"refresh",ol.source.Zoomify.prototype.refresh),goog.exportProperty(ol.source.Zoomify.prototype,"getAttributions",ol.source.Zoomify.prototype.getAttributions),goog.exportProperty(ol.source.Zoomify.prototype,"getLogo",ol.source.Zoomify.prototype.getLogo),goog.exportProperty(ol.source.Zoomify.prototype,"getProjection",ol.source.Zoomify.prototype.getProjection),goog.exportProperty(ol.source.Zoomify.prototype,"getState",ol.source.Zoomify.prototype.getState),goog.exportProperty(ol.source.Zoomify.prototype,"setAttributions",ol.source.Zoomify.prototype.setAttributions),goog.exportProperty(ol.source.Zoomify.prototype,"get",ol.source.Zoomify.prototype.get),goog.exportProperty(ol.source.Zoomify.prototype,"getKeys",ol.source.Zoomify.prototype.getKeys),goog.exportProperty(ol.source.Zoomify.prototype,"getProperties",ol.source.Zoomify.prototype.getProperties),goog.exportProperty(ol.source.Zoomify.prototype,"set",ol.source.Zoomify.prototype.set),goog.exportProperty(ol.source.Zoomify.prototype,"setProperties",ol.source.Zoomify.prototype.setProperties),goog.exportProperty(ol.source.Zoomify.prototype,"unset",ol.source.Zoomify.prototype.unset),goog.exportProperty(ol.source.Zoomify.prototype,"changed",ol.source.Zoomify.prototype.changed),goog.exportProperty(ol.source.Zoomify.prototype,"dispatchEvent",ol.source.Zoomify.prototype.dispatchEvent),goog.exportProperty(ol.source.Zoomify.prototype,"getRevision",ol.source.Zoomify.prototype.getRevision),goog.exportProperty(ol.source.Zoomify.prototype,"on",ol.source.Zoomify.prototype.on),goog.exportProperty(ol.source.Zoomify.prototype,"once",ol.source.Zoomify.prototype.once),goog.exportProperty(ol.source.Zoomify.prototype,"un",ol.source.Zoomify.prototype.un),goog.exportProperty(ol.reproj.Tile.prototype,"getTileCoord",ol.reproj.Tile.prototype.getTileCoord),goog.exportProperty(ol.reproj.Tile.prototype,"load",ol.reproj.Tile.prototype.load),goog.exportProperty(ol.renderer.Layer.prototype,"changed",ol.renderer.Layer.prototype.changed),goog.exportProperty(ol.renderer.Layer.prototype,"dispatchEvent",ol.renderer.Layer.prototype.dispatchEvent),goog.exportProperty(ol.renderer.Layer.prototype,"getRevision",ol.renderer.Layer.prototype.getRevision),goog.exportProperty(ol.renderer.Layer.prototype,"on",ol.renderer.Layer.prototype.on),goog.exportProperty(ol.renderer.Layer.prototype,"once",ol.renderer.Layer.prototype.once),goog.exportProperty(ol.renderer.Layer.prototype,"un",ol.renderer.Layer.prototype.un),goog.exportProperty(ol.renderer.webgl.Layer.prototype,"changed",ol.renderer.webgl.Layer.prototype.changed),goog.exportProperty(ol.renderer.webgl.Layer.prototype,"dispatchEvent",ol.renderer.webgl.Layer.prototype.dispatchEvent),goog.exportProperty(ol.renderer.webgl.Layer.prototype,"getRevision",ol.renderer.webgl.Layer.prototype.getRevision),goog.exportProperty(ol.renderer.webgl.Layer.prototype,"on",ol.renderer.webgl.Layer.prototype.on),goog.exportProperty(ol.renderer.webgl.Layer.prototype,"once",ol.renderer.webgl.Layer.prototype.once),goog.exportProperty(ol.renderer.webgl.Layer.prototype,"un",ol.renderer.webgl.Layer.prototype.un),goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"changed",ol.renderer.webgl.ImageLayer.prototype.changed),goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"dispatchEvent",ol.renderer.webgl.ImageLayer.prototype.dispatchEvent),goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"getRevision",ol.renderer.webgl.ImageLayer.prototype.getRevision),goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"on",ol.renderer.webgl.ImageLayer.prototype.on),goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"once",ol.renderer.webgl.ImageLayer.prototype.once),goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"un",ol.renderer.webgl.ImageLayer.prototype.un),goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"changed",ol.renderer.webgl.TileLayer.prototype.changed),goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"dispatchEvent",ol.renderer.webgl.TileLayer.prototype.dispatchEvent),goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"getRevision",ol.renderer.webgl.TileLayer.prototype.getRevision),goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"on",ol.renderer.webgl.TileLayer.prototype.on),goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"once",ol.renderer.webgl.TileLayer.prototype.once),goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"un",ol.renderer.webgl.TileLayer.prototype.un),goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"changed",ol.renderer.webgl.VectorLayer.prototype.changed),goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"dispatchEvent",ol.renderer.webgl.VectorLayer.prototype.dispatchEvent),goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"getRevision",ol.renderer.webgl.VectorLayer.prototype.getRevision),goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"on",ol.renderer.webgl.VectorLayer.prototype.on),goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"once",ol.renderer.webgl.VectorLayer.prototype.once),goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"un",ol.renderer.webgl.VectorLayer.prototype.un),goog.exportProperty(ol.renderer.canvas.Layer.prototype,"changed",ol.renderer.canvas.Layer.prototype.changed),goog.exportProperty(ol.renderer.canvas.Layer.prototype,"dispatchEvent",ol.renderer.canvas.Layer.prototype.dispatchEvent),goog.exportProperty(ol.renderer.canvas.Layer.prototype,"getRevision",ol.renderer.canvas.Layer.prototype.getRevision),goog.exportProperty(ol.renderer.canvas.Layer.prototype,"on",ol.renderer.canvas.Layer.prototype.on),goog.exportProperty(ol.renderer.canvas.Layer.prototype,"once",ol.renderer.canvas.Layer.prototype.once),goog.exportProperty(ol.renderer.canvas.Layer.prototype,"un",ol.renderer.canvas.Layer.prototype.un),goog.exportProperty(ol.renderer.canvas.IntermediateCanvas.prototype,"changed",ol.renderer.canvas.IntermediateCanvas.prototype.changed),goog.exportProperty(ol.renderer.canvas.IntermediateCanvas.prototype,"dispatchEvent",ol.renderer.canvas.IntermediateCanvas.prototype.dispatchEvent),goog.exportProperty(ol.renderer.canvas.IntermediateCanvas.prototype,"getRevision",ol.renderer.canvas.IntermediateCanvas.prototype.getRevision),goog.exportProperty(ol.renderer.canvas.IntermediateCanvas.prototype,"on",ol.renderer.canvas.IntermediateCanvas.prototype.on),goog.exportProperty(ol.renderer.canvas.IntermediateCanvas.prototype,"once",ol.renderer.canvas.IntermediateCanvas.prototype.once),goog.exportProperty(ol.renderer.canvas.IntermediateCanvas.prototype,"un",ol.renderer.canvas.IntermediateCanvas.prototype.un),goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"changed",ol.renderer.canvas.ImageLayer.prototype.changed),goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"dispatchEvent",ol.renderer.canvas.ImageLayer.prototype.dispatchEvent),goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"getRevision",ol.renderer.canvas.ImageLayer.prototype.getRevision),goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"on",ol.renderer.canvas.ImageLayer.prototype.on),goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"once",ol.renderer.canvas.ImageLayer.prototype.once),goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"un",ol.renderer.canvas.ImageLayer.prototype.un),goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"changed",ol.renderer.canvas.TileLayer.prototype.changed),goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"dispatchEvent",ol.renderer.canvas.TileLayer.prototype.dispatchEvent),goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"getRevision",ol.renderer.canvas.TileLayer.prototype.getRevision),goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"on",ol.renderer.canvas.TileLayer.prototype.on),goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"once",ol.renderer.canvas.TileLayer.prototype.once),goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"un",ol.renderer.canvas.TileLayer.prototype.un),goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"changed",ol.renderer.canvas.VectorLayer.prototype.changed),goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"dispatchEvent",ol.renderer.canvas.VectorLayer.prototype.dispatchEvent),goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"getRevision",ol.renderer.canvas.VectorLayer.prototype.getRevision),goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"on",ol.renderer.canvas.VectorLayer.prototype.on),goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"once",ol.renderer.canvas.VectorLayer.prototype.once),goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"un",ol.renderer.canvas.VectorLayer.prototype.un),goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,"changed",ol.renderer.canvas.VectorTileLayer.prototype.changed),goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,"dispatchEvent",ol.renderer.canvas.VectorTileLayer.prototype.dispatchEvent),goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,"getRevision",ol.renderer.canvas.VectorTileLayer.prototype.getRevision),goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,"on",ol.renderer.canvas.VectorTileLayer.prototype.on),goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,"once",ol.renderer.canvas.VectorTileLayer.prototype.once),goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,"un",ol.renderer.canvas.VectorTileLayer.prototype.un),goog.exportProperty(ol.render.Event.prototype,"type",ol.render.Event.prototype.type),goog.exportProperty(ol.render.Event.prototype,"target",ol.render.Event.prototype.target),goog.exportProperty(ol.render.Event.prototype,"preventDefault",ol.render.Event.prototype.preventDefault),goog.exportProperty(ol.render.Event.prototype,"stopPropagation",ol.render.Event.prototype.stopPropagation),goog.exportProperty(ol.pointer.PointerEvent.prototype,"type",ol.pointer.PointerEvent.prototype.type),goog.exportProperty(ol.pointer.PointerEvent.prototype,"target",ol.pointer.PointerEvent.prototype.target),goog.exportProperty(ol.pointer.PointerEvent.prototype,"preventDefault",ol.pointer.PointerEvent.prototype.preventDefault),goog.exportProperty(ol.pointer.PointerEvent.prototype,"stopPropagation",ol.pointer.PointerEvent.prototype.stopPropagation),goog.exportProperty(ol.layer.Base.prototype,"get",ol.layer.Base.prototype.get),goog.exportProperty(ol.layer.Base.prototype,"getKeys",ol.layer.Base.prototype.getKeys),goog.exportProperty(ol.layer.Base.prototype,"getProperties",ol.layer.Base.prototype.getProperties),goog.exportProperty(ol.layer.Base.prototype,"set",ol.layer.Base.prototype.set),goog.exportProperty(ol.layer.Base.prototype,"setProperties",ol.layer.Base.prototype.setProperties),goog.exportProperty(ol.layer.Base.prototype,"unset",ol.layer.Base.prototype.unset),goog.exportProperty(ol.layer.Base.prototype,"changed",ol.layer.Base.prototype.changed),goog.exportProperty(ol.layer.Base.prototype,"dispatchEvent",ol.layer.Base.prototype.dispatchEvent),goog.exportProperty(ol.layer.Base.prototype,"getRevision",ol.layer.Base.prototype.getRevision),goog.exportProperty(ol.layer.Base.prototype,"on",ol.layer.Base.prototype.on),goog.exportProperty(ol.layer.Base.prototype,"once",ol.layer.Base.prototype.once),goog.exportProperty(ol.layer.Base.prototype,"un",ol.layer.Base.prototype.un),goog.exportProperty(ol.layer.Group.prototype,"getExtent",ol.layer.Group.prototype.getExtent),goog.exportProperty(ol.layer.Group.prototype,"getMaxResolution",ol.layer.Group.prototype.getMaxResolution),goog.exportProperty(ol.layer.Group.prototype,"getMinResolution",ol.layer.Group.prototype.getMinResolution),goog.exportProperty(ol.layer.Group.prototype,"getOpacity",ol.layer.Group.prototype.getOpacity),goog.exportProperty(ol.layer.Group.prototype,"getVisible",ol.layer.Group.prototype.getVisible),goog.exportProperty(ol.layer.Group.prototype,"getZIndex",ol.layer.Group.prototype.getZIndex),goog.exportProperty(ol.layer.Group.prototype,"setExtent",ol.layer.Group.prototype.setExtent),goog.exportProperty(ol.layer.Group.prototype,"setMaxResolution",ol.layer.Group.prototype.setMaxResolution),goog.exportProperty(ol.layer.Group.prototype,"setMinResolution",ol.layer.Group.prototype.setMinResolution),goog.exportProperty(ol.layer.Group.prototype,"setOpacity",ol.layer.Group.prototype.setOpacity),goog.exportProperty(ol.layer.Group.prototype,"setVisible",ol.layer.Group.prototype.setVisible),goog.exportProperty(ol.layer.Group.prototype,"setZIndex",ol.layer.Group.prototype.setZIndex),goog.exportProperty(ol.layer.Group.prototype,"get",ol.layer.Group.prototype.get),goog.exportProperty(ol.layer.Group.prototype,"getKeys",ol.layer.Group.prototype.getKeys),goog.exportProperty(ol.layer.Group.prototype,"getProperties",ol.layer.Group.prototype.getProperties),goog.exportProperty(ol.layer.Group.prototype,"set",ol.layer.Group.prototype.set),goog.exportProperty(ol.layer.Group.prototype,"setProperties",ol.layer.Group.prototype.setProperties),goog.exportProperty(ol.layer.Group.prototype,"unset",ol.layer.Group.prototype.unset),goog.exportProperty(ol.layer.Group.prototype,"changed",ol.layer.Group.prototype.changed),goog.exportProperty(ol.layer.Group.prototype,"dispatchEvent",ol.layer.Group.prototype.dispatchEvent),goog.exportProperty(ol.layer.Group.prototype,"getRevision",ol.layer.Group.prototype.getRevision),goog.exportProperty(ol.layer.Group.prototype,"on",ol.layer.Group.prototype.on),goog.exportProperty(ol.layer.Group.prototype,"once",ol.layer.Group.prototype.once),goog.exportProperty(ol.layer.Group.prototype,"un",ol.layer.Group.prototype.un),goog.exportProperty(ol.layer.Layer.prototype,"getExtent",ol.layer.Layer.prototype.getExtent),goog.exportProperty(ol.layer.Layer.prototype,"getMaxResolution",ol.layer.Layer.prototype.getMaxResolution),goog.exportProperty(ol.layer.Layer.prototype,"getMinResolution",ol.layer.Layer.prototype.getMinResolution),goog.exportProperty(ol.layer.Layer.prototype,"getOpacity",ol.layer.Layer.prototype.getOpacity),goog.exportProperty(ol.layer.Layer.prototype,"getVisible",ol.layer.Layer.prototype.getVisible),goog.exportProperty(ol.layer.Layer.prototype,"getZIndex",ol.layer.Layer.prototype.getZIndex),goog.exportProperty(ol.layer.Layer.prototype,"setExtent",ol.layer.Layer.prototype.setExtent),goog.exportProperty(ol.layer.Layer.prototype,"setMaxResolution",ol.layer.Layer.prototype.setMaxResolution),goog.exportProperty(ol.layer.Layer.prototype,"setMinResolution",ol.layer.Layer.prototype.setMinResolution),goog.exportProperty(ol.layer.Layer.prototype,"setOpacity",ol.layer.Layer.prototype.setOpacity),goog.exportProperty(ol.layer.Layer.prototype,"setVisible",ol.layer.Layer.prototype.setVisible),goog.exportProperty(ol.layer.Layer.prototype,"setZIndex",ol.layer.Layer.prototype.setZIndex),goog.exportProperty(ol.layer.Layer.prototype,"get",ol.layer.Layer.prototype.get),goog.exportProperty(ol.layer.Layer.prototype,"getKeys",ol.layer.Layer.prototype.getKeys),goog.exportProperty(ol.layer.Layer.prototype,"getProperties",ol.layer.Layer.prototype.getProperties),goog.exportProperty(ol.layer.Layer.prototype,"set",ol.layer.Layer.prototype.set),goog.exportProperty(ol.layer.Layer.prototype,"setProperties",ol.layer.Layer.prototype.setProperties),goog.exportProperty(ol.layer.Layer.prototype,"unset",ol.layer.Layer.prototype.unset),goog.exportProperty(ol.layer.Layer.prototype,"changed",ol.layer.Layer.prototype.changed),goog.exportProperty(ol.layer.Layer.prototype,"dispatchEvent",ol.layer.Layer.prototype.dispatchEvent),goog.exportProperty(ol.layer.Layer.prototype,"getRevision",ol.layer.Layer.prototype.getRevision),goog.exportProperty(ol.layer.Layer.prototype,"on",ol.layer.Layer.prototype.on),goog.exportProperty(ol.layer.Layer.prototype,"once",ol.layer.Layer.prototype.once),goog.exportProperty(ol.layer.Layer.prototype,"un",ol.layer.Layer.prototype.un),goog.exportProperty(ol.layer.Vector.prototype,"setMap",ol.layer.Vector.prototype.setMap),goog.exportProperty(ol.layer.Vector.prototype,"setSource",ol.layer.Vector.prototype.setSource),goog.exportProperty(ol.layer.Vector.prototype,"getExtent",ol.layer.Vector.prototype.getExtent),goog.exportProperty(ol.layer.Vector.prototype,"getMaxResolution",ol.layer.Vector.prototype.getMaxResolution),goog.exportProperty(ol.layer.Vector.prototype,"getMinResolution",ol.layer.Vector.prototype.getMinResolution),goog.exportProperty(ol.layer.Vector.prototype,"getOpacity",ol.layer.Vector.prototype.getOpacity),goog.exportProperty(ol.layer.Vector.prototype,"getVisible",ol.layer.Vector.prototype.getVisible),goog.exportProperty(ol.layer.Vector.prototype,"getZIndex",ol.layer.Vector.prototype.getZIndex),goog.exportProperty(ol.layer.Vector.prototype,"setExtent",ol.layer.Vector.prototype.setExtent),goog.exportProperty(ol.layer.Vector.prototype,"setMaxResolution",ol.layer.Vector.prototype.setMaxResolution),goog.exportProperty(ol.layer.Vector.prototype,"setMinResolution",ol.layer.Vector.prototype.setMinResolution),goog.exportProperty(ol.layer.Vector.prototype,"setOpacity",ol.layer.Vector.prototype.setOpacity),goog.exportProperty(ol.layer.Vector.prototype,"setVisible",ol.layer.Vector.prototype.setVisible),goog.exportProperty(ol.layer.Vector.prototype,"setZIndex",ol.layer.Vector.prototype.setZIndex),goog.exportProperty(ol.layer.Vector.prototype,"get",ol.layer.Vector.prototype.get),goog.exportProperty(ol.layer.Vector.prototype,"getKeys",ol.layer.Vector.prototype.getKeys),goog.exportProperty(ol.layer.Vector.prototype,"getProperties",ol.layer.Vector.prototype.getProperties),goog.exportProperty(ol.layer.Vector.prototype,"set",ol.layer.Vector.prototype.set),goog.exportProperty(ol.layer.Vector.prototype,"setProperties",ol.layer.Vector.prototype.setProperties),goog.exportProperty(ol.layer.Vector.prototype,"unset",ol.layer.Vector.prototype.unset),goog.exportProperty(ol.layer.Vector.prototype,"changed",ol.layer.Vector.prototype.changed),goog.exportProperty(ol.layer.Vector.prototype,"dispatchEvent",ol.layer.Vector.prototype.dispatchEvent),goog.exportProperty(ol.layer.Vector.prototype,"getRevision",ol.layer.Vector.prototype.getRevision),goog.exportProperty(ol.layer.Vector.prototype,"on",ol.layer.Vector.prototype.on),goog.exportProperty(ol.layer.Vector.prototype,"once",ol.layer.Vector.prototype.once),goog.exportProperty(ol.layer.Vector.prototype,"un",ol.layer.Vector.prototype.un),goog.exportProperty(ol.layer.Heatmap.prototype,"getSource",ol.layer.Heatmap.prototype.getSource),goog.exportProperty(ol.layer.Heatmap.prototype,"getStyle",ol.layer.Heatmap.prototype.getStyle),goog.exportProperty(ol.layer.Heatmap.prototype,"getStyleFunction",ol.layer.Heatmap.prototype.getStyleFunction),goog.exportProperty(ol.layer.Heatmap.prototype,"setStyle",ol.layer.Heatmap.prototype.setStyle),goog.exportProperty(ol.layer.Heatmap.prototype,"setMap",ol.layer.Heatmap.prototype.setMap),goog.exportProperty(ol.layer.Heatmap.prototype,"setSource",ol.layer.Heatmap.prototype.setSource),goog.exportProperty(ol.layer.Heatmap.prototype,"getExtent",ol.layer.Heatmap.prototype.getExtent),goog.exportProperty(ol.layer.Heatmap.prototype,"getMaxResolution",ol.layer.Heatmap.prototype.getMaxResolution),goog.exportProperty(ol.layer.Heatmap.prototype,"getMinResolution",ol.layer.Heatmap.prototype.getMinResolution),goog.exportProperty(ol.layer.Heatmap.prototype,"getOpacity",ol.layer.Heatmap.prototype.getOpacity),goog.exportProperty(ol.layer.Heatmap.prototype,"getVisible",ol.layer.Heatmap.prototype.getVisible),goog.exportProperty(ol.layer.Heatmap.prototype,"getZIndex",ol.layer.Heatmap.prototype.getZIndex),goog.exportProperty(ol.layer.Heatmap.prototype,"setExtent",ol.layer.Heatmap.prototype.setExtent),goog.exportProperty(ol.layer.Heatmap.prototype,"setMaxResolution",ol.layer.Heatmap.prototype.setMaxResolution),goog.exportProperty(ol.layer.Heatmap.prototype,"setMinResolution",ol.layer.Heatmap.prototype.setMinResolution),goog.exportProperty(ol.layer.Heatmap.prototype,"setOpacity",ol.layer.Heatmap.prototype.setOpacity),goog.exportProperty(ol.layer.Heatmap.prototype,"setVisible",ol.layer.Heatmap.prototype.setVisible),goog.exportProperty(ol.layer.Heatmap.prototype,"setZIndex",ol.layer.Heatmap.prototype.setZIndex),goog.exportProperty(ol.layer.Heatmap.prototype,"get",ol.layer.Heatmap.prototype.get),goog.exportProperty(ol.layer.Heatmap.prototype,"getKeys",ol.layer.Heatmap.prototype.getKeys),goog.exportProperty(ol.layer.Heatmap.prototype,"getProperties",ol.layer.Heatmap.prototype.getProperties),goog.exportProperty(ol.layer.Heatmap.prototype,"set",ol.layer.Heatmap.prototype.set),goog.exportProperty(ol.layer.Heatmap.prototype,"setProperties",ol.layer.Heatmap.prototype.setProperties),goog.exportProperty(ol.layer.Heatmap.prototype,"unset",ol.layer.Heatmap.prototype.unset),goog.exportProperty(ol.layer.Heatmap.prototype,"changed",ol.layer.Heatmap.prototype.changed),goog.exportProperty(ol.layer.Heatmap.prototype,"dispatchEvent",ol.layer.Heatmap.prototype.dispatchEvent),goog.exportProperty(ol.layer.Heatmap.prototype,"getRevision",ol.layer.Heatmap.prototype.getRevision),goog.exportProperty(ol.layer.Heatmap.prototype,"on",ol.layer.Heatmap.prototype.on),goog.exportProperty(ol.layer.Heatmap.prototype,"once",ol.layer.Heatmap.prototype.once),goog.exportProperty(ol.layer.Heatmap.prototype,"un",ol.layer.Heatmap.prototype.un),goog.exportProperty(ol.layer.Image.prototype,"setMap",ol.layer.Image.prototype.setMap),goog.exportProperty(ol.layer.Image.prototype,"setSource",ol.layer.Image.prototype.setSource),goog.exportProperty(ol.layer.Image.prototype,"getExtent",ol.layer.Image.prototype.getExtent),goog.exportProperty(ol.layer.Image.prototype,"getMaxResolution",ol.layer.Image.prototype.getMaxResolution),goog.exportProperty(ol.layer.Image.prototype,"getMinResolution",ol.layer.Image.prototype.getMinResolution),goog.exportProperty(ol.layer.Image.prototype,"getOpacity",ol.layer.Image.prototype.getOpacity),goog.exportProperty(ol.layer.Image.prototype,"getVisible",ol.layer.Image.prototype.getVisible),goog.exportProperty(ol.layer.Image.prototype,"getZIndex",ol.layer.Image.prototype.getZIndex),goog.exportProperty(ol.layer.Image.prototype,"setExtent",ol.layer.Image.prototype.setExtent),goog.exportProperty(ol.layer.Image.prototype,"setMaxResolution",ol.layer.Image.prototype.setMaxResolution),goog.exportProperty(ol.layer.Image.prototype,"setMinResolution",ol.layer.Image.prototype.setMinResolution),goog.exportProperty(ol.layer.Image.prototype,"setOpacity",ol.layer.Image.prototype.setOpacity),goog.exportProperty(ol.layer.Image.prototype,"setVisible",ol.layer.Image.prototype.setVisible),goog.exportProperty(ol.layer.Image.prototype,"setZIndex",ol.layer.Image.prototype.setZIndex),goog.exportProperty(ol.layer.Image.prototype,"get",ol.layer.Image.prototype.get),goog.exportProperty(ol.layer.Image.prototype,"getKeys",ol.layer.Image.prototype.getKeys),goog.exportProperty(ol.layer.Image.prototype,"getProperties",ol.layer.Image.prototype.getProperties),goog.exportProperty(ol.layer.Image.prototype,"set",ol.layer.Image.prototype.set),goog.exportProperty(ol.layer.Image.prototype,"setProperties",ol.layer.Image.prototype.setProperties),goog.exportProperty(ol.layer.Image.prototype,"unset",ol.layer.Image.prototype.unset),goog.exportProperty(ol.layer.Image.prototype,"changed",ol.layer.Image.prototype.changed),goog.exportProperty(ol.layer.Image.prototype,"dispatchEvent",ol.layer.Image.prototype.dispatchEvent),goog.exportProperty(ol.layer.Image.prototype,"getRevision",ol.layer.Image.prototype.getRevision),goog.exportProperty(ol.layer.Image.prototype,"on",ol.layer.Image.prototype.on),goog.exportProperty(ol.layer.Image.prototype,"once",ol.layer.Image.prototype.once),goog.exportProperty(ol.layer.Image.prototype,"un",ol.layer.Image.prototype.un),goog.exportProperty(ol.layer.Tile.prototype,"setMap",ol.layer.Tile.prototype.setMap),goog.exportProperty(ol.layer.Tile.prototype,"setSource",ol.layer.Tile.prototype.setSource),goog.exportProperty(ol.layer.Tile.prototype,"getExtent",ol.layer.Tile.prototype.getExtent),goog.exportProperty(ol.layer.Tile.prototype,"getMaxResolution",ol.layer.Tile.prototype.getMaxResolution),goog.exportProperty(ol.layer.Tile.prototype,"getMinResolution",ol.layer.Tile.prototype.getMinResolution),goog.exportProperty(ol.layer.Tile.prototype,"getOpacity",ol.layer.Tile.prototype.getOpacity),goog.exportProperty(ol.layer.Tile.prototype,"getVisible",ol.layer.Tile.prototype.getVisible),goog.exportProperty(ol.layer.Tile.prototype,"getZIndex",ol.layer.Tile.prototype.getZIndex),goog.exportProperty(ol.layer.Tile.prototype,"setExtent",ol.layer.Tile.prototype.setExtent),goog.exportProperty(ol.layer.Tile.prototype,"setMaxResolution",ol.layer.Tile.prototype.setMaxResolution),goog.exportProperty(ol.layer.Tile.prototype,"setMinResolution",ol.layer.Tile.prototype.setMinResolution),goog.exportProperty(ol.layer.Tile.prototype,"setOpacity",ol.layer.Tile.prototype.setOpacity),goog.exportProperty(ol.layer.Tile.prototype,"setVisible",ol.layer.Tile.prototype.setVisible),goog.exportProperty(ol.layer.Tile.prototype,"setZIndex",ol.layer.Tile.prototype.setZIndex),goog.exportProperty(ol.layer.Tile.prototype,"get",ol.layer.Tile.prototype.get),goog.exportProperty(ol.layer.Tile.prototype,"getKeys",ol.layer.Tile.prototype.getKeys),goog.exportProperty(ol.layer.Tile.prototype,"getProperties",ol.layer.Tile.prototype.getProperties),goog.exportProperty(ol.layer.Tile.prototype,"set",ol.layer.Tile.prototype.set),goog.exportProperty(ol.layer.Tile.prototype,"setProperties",ol.layer.Tile.prototype.setProperties),goog.exportProperty(ol.layer.Tile.prototype,"unset",ol.layer.Tile.prototype.unset),goog.exportProperty(ol.layer.Tile.prototype,"changed",ol.layer.Tile.prototype.changed),goog.exportProperty(ol.layer.Tile.prototype,"dispatchEvent",ol.layer.Tile.prototype.dispatchEvent),goog.exportProperty(ol.layer.Tile.prototype,"getRevision",ol.layer.Tile.prototype.getRevision),goog.exportProperty(ol.layer.Tile.prototype,"on",ol.layer.Tile.prototype.on),goog.exportProperty(ol.layer.Tile.prototype,"once",ol.layer.Tile.prototype.once),goog.exportProperty(ol.layer.Tile.prototype,"un",ol.layer.Tile.prototype.un),goog.exportProperty(ol.layer.VectorTile.prototype,"getStyle",ol.layer.VectorTile.prototype.getStyle),goog.exportProperty(ol.layer.VectorTile.prototype,"getStyleFunction",ol.layer.VectorTile.prototype.getStyleFunction),goog.exportProperty(ol.layer.VectorTile.prototype,"setStyle",ol.layer.VectorTile.prototype.setStyle),goog.exportProperty(ol.layer.VectorTile.prototype,"setMap",ol.layer.VectorTile.prototype.setMap),goog.exportProperty(ol.layer.VectorTile.prototype,"setSource",ol.layer.VectorTile.prototype.setSource),goog.exportProperty(ol.layer.VectorTile.prototype,"getExtent",ol.layer.VectorTile.prototype.getExtent),goog.exportProperty(ol.layer.VectorTile.prototype,"getMaxResolution",ol.layer.VectorTile.prototype.getMaxResolution),goog.exportProperty(ol.layer.VectorTile.prototype,"getMinResolution",ol.layer.VectorTile.prototype.getMinResolution),goog.exportProperty(ol.layer.VectorTile.prototype,"getOpacity",ol.layer.VectorTile.prototype.getOpacity),goog.exportProperty(ol.layer.VectorTile.prototype,"getVisible",ol.layer.VectorTile.prototype.getVisible),goog.exportProperty(ol.layer.VectorTile.prototype,"getZIndex",ol.layer.VectorTile.prototype.getZIndex),goog.exportProperty(ol.layer.VectorTile.prototype,"setExtent",ol.layer.VectorTile.prototype.setExtent),goog.exportProperty(ol.layer.VectorTile.prototype,"setMaxResolution",ol.layer.VectorTile.prototype.setMaxResolution),goog.exportProperty(ol.layer.VectorTile.prototype,"setMinResolution",ol.layer.VectorTile.prototype.setMinResolution),goog.exportProperty(ol.layer.VectorTile.prototype,"setOpacity",ol.layer.VectorTile.prototype.setOpacity),goog.exportProperty(ol.layer.VectorTile.prototype,"setVisible",ol.layer.VectorTile.prototype.setVisible),goog.exportProperty(ol.layer.VectorTile.prototype,"setZIndex",ol.layer.VectorTile.prototype.setZIndex),goog.exportProperty(ol.layer.VectorTile.prototype,"get",ol.layer.VectorTile.prototype.get),goog.exportProperty(ol.layer.VectorTile.prototype,"getKeys",ol.layer.VectorTile.prototype.getKeys),goog.exportProperty(ol.layer.VectorTile.prototype,"getProperties",ol.layer.VectorTile.prototype.getProperties),goog.exportProperty(ol.layer.VectorTile.prototype,"set",ol.layer.VectorTile.prototype.set),goog.exportProperty(ol.layer.VectorTile.prototype,"setProperties",ol.layer.VectorTile.prototype.setProperties),goog.exportProperty(ol.layer.VectorTile.prototype,"unset",ol.layer.VectorTile.prototype.unset),goog.exportProperty(ol.layer.VectorTile.prototype,"changed",ol.layer.VectorTile.prototype.changed),goog.exportProperty(ol.layer.VectorTile.prototype,"dispatchEvent",ol.layer.VectorTile.prototype.dispatchEvent),goog.exportProperty(ol.layer.VectorTile.prototype,"getRevision",ol.layer.VectorTile.prototype.getRevision),goog.exportProperty(ol.layer.VectorTile.prototype,"on",ol.layer.VectorTile.prototype.on),goog.exportProperty(ol.layer.VectorTile.prototype,"once",ol.layer.VectorTile.prototype.once),goog.exportProperty(ol.layer.VectorTile.prototype,"un",ol.layer.VectorTile.prototype.un),goog.exportProperty(ol.interaction.Interaction.prototype,"get",ol.interaction.Interaction.prototype.get),goog.exportProperty(ol.interaction.Interaction.prototype,"getKeys",ol.interaction.Interaction.prototype.getKeys),goog.exportProperty(ol.interaction.Interaction.prototype,"getProperties",ol.interaction.Interaction.prototype.getProperties),goog.exportProperty(ol.interaction.Interaction.prototype,"set",ol.interaction.Interaction.prototype.set),goog.exportProperty(ol.interaction.Interaction.prototype,"setProperties",ol.interaction.Interaction.prototype.setProperties),goog.exportProperty(ol.interaction.Interaction.prototype,"unset",ol.interaction.Interaction.prototype.unset),goog.exportProperty(ol.interaction.Interaction.prototype,"changed",ol.interaction.Interaction.prototype.changed),goog.exportProperty(ol.interaction.Interaction.prototype,"dispatchEvent",ol.interaction.Interaction.prototype.dispatchEvent),goog.exportProperty(ol.interaction.Interaction.prototype,"getRevision",ol.interaction.Interaction.prototype.getRevision),goog.exportProperty(ol.interaction.Interaction.prototype,"on",ol.interaction.Interaction.prototype.on),goog.exportProperty(ol.interaction.Interaction.prototype,"once",ol.interaction.Interaction.prototype.once),goog.exportProperty(ol.interaction.Interaction.prototype,"un",ol.interaction.Interaction.prototype.un),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"getActive",ol.interaction.DoubleClickZoom.prototype.getActive),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"getMap",ol.interaction.DoubleClickZoom.prototype.getMap),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"setActive",ol.interaction.DoubleClickZoom.prototype.setActive),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"get",ol.interaction.DoubleClickZoom.prototype.get),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"getKeys",ol.interaction.DoubleClickZoom.prototype.getKeys),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"getProperties",ol.interaction.DoubleClickZoom.prototype.getProperties),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"set",ol.interaction.DoubleClickZoom.prototype.set),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"setProperties",ol.interaction.DoubleClickZoom.prototype.setProperties),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"unset",ol.interaction.DoubleClickZoom.prototype.unset),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"changed",ol.interaction.DoubleClickZoom.prototype.changed),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"dispatchEvent",ol.interaction.DoubleClickZoom.prototype.dispatchEvent),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"getRevision",ol.interaction.DoubleClickZoom.prototype.getRevision),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"on",ol.interaction.DoubleClickZoom.prototype.on),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"once",ol.interaction.DoubleClickZoom.prototype.once),goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"un",ol.interaction.DoubleClickZoom.prototype.un),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"getActive",ol.interaction.DragAndDrop.prototype.getActive),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"getMap",ol.interaction.DragAndDrop.prototype.getMap),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"setActive",ol.interaction.DragAndDrop.prototype.setActive),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"get",ol.interaction.DragAndDrop.prototype.get),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"getKeys",ol.interaction.DragAndDrop.prototype.getKeys),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"getProperties",ol.interaction.DragAndDrop.prototype.getProperties),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"set",ol.interaction.DragAndDrop.prototype.set),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"setProperties",ol.interaction.DragAndDrop.prototype.setProperties),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"unset",ol.interaction.DragAndDrop.prototype.unset),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"changed",ol.interaction.DragAndDrop.prototype.changed),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"dispatchEvent",ol.interaction.DragAndDrop.prototype.dispatchEvent),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"getRevision",ol.interaction.DragAndDrop.prototype.getRevision),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"on",ol.interaction.DragAndDrop.prototype.on),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"once",ol.interaction.DragAndDrop.prototype.once),goog.exportProperty(ol.interaction.DragAndDrop.prototype,"un",ol.interaction.DragAndDrop.prototype.un),goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,"type",ol.interaction.DragAndDrop.Event.prototype.type),goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,"target",ol.interaction.DragAndDrop.Event.prototype.target),goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,"preventDefault",ol.interaction.DragAndDrop.Event.prototype.preventDefault),goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,"stopPropagation",ol.interaction.DragAndDrop.Event.prototype.stopPropagation),goog.exportProperty(ol.interaction.Pointer.prototype,"getActive",ol.interaction.Pointer.prototype.getActive),goog.exportProperty(ol.interaction.Pointer.prototype,"getMap",ol.interaction.Pointer.prototype.getMap),goog.exportProperty(ol.interaction.Pointer.prototype,"setActive",ol.interaction.Pointer.prototype.setActive),goog.exportProperty(ol.interaction.Pointer.prototype,"get",ol.interaction.Pointer.prototype.get),goog.exportProperty(ol.interaction.Pointer.prototype,"getKeys",ol.interaction.Pointer.prototype.getKeys),goog.exportProperty(ol.interaction.Pointer.prototype,"getProperties",ol.interaction.Pointer.prototype.getProperties),goog.exportProperty(ol.interaction.Pointer.prototype,"set",ol.interaction.Pointer.prototype.set),goog.exportProperty(ol.interaction.Pointer.prototype,"setProperties",ol.interaction.Pointer.prototype.setProperties),goog.exportProperty(ol.interaction.Pointer.prototype,"unset",ol.interaction.Pointer.prototype.unset),goog.exportProperty(ol.interaction.Pointer.prototype,"changed",ol.interaction.Pointer.prototype.changed),goog.exportProperty(ol.interaction.Pointer.prototype,"dispatchEvent",ol.interaction.Pointer.prototype.dispatchEvent),goog.exportProperty(ol.interaction.Pointer.prototype,"getRevision",ol.interaction.Pointer.prototype.getRevision),goog.exportProperty(ol.interaction.Pointer.prototype,"on",ol.interaction.Pointer.prototype.on),goog.exportProperty(ol.interaction.Pointer.prototype,"once",ol.interaction.Pointer.prototype.once),goog.exportProperty(ol.interaction.Pointer.prototype,"un",ol.interaction.Pointer.prototype.un),goog.exportProperty(ol.interaction.DragBox.prototype,"getActive",ol.interaction.DragBox.prototype.getActive),goog.exportProperty(ol.interaction.DragBox.prototype,"getMap",ol.interaction.DragBox.prototype.getMap),goog.exportProperty(ol.interaction.DragBox.prototype,"setActive",ol.interaction.DragBox.prototype.setActive),goog.exportProperty(ol.interaction.DragBox.prototype,"get",ol.interaction.DragBox.prototype.get),goog.exportProperty(ol.interaction.DragBox.prototype,"getKeys",ol.interaction.DragBox.prototype.getKeys),goog.exportProperty(ol.interaction.DragBox.prototype,"getProperties",ol.interaction.DragBox.prototype.getProperties),goog.exportProperty(ol.interaction.DragBox.prototype,"set",ol.interaction.DragBox.prototype.set),goog.exportProperty(ol.interaction.DragBox.prototype,"setProperties",ol.interaction.DragBox.prototype.setProperties),goog.exportProperty(ol.interaction.DragBox.prototype,"unset",ol.interaction.DragBox.prototype.unset),goog.exportProperty(ol.interaction.DragBox.prototype,"changed",ol.interaction.DragBox.prototype.changed),goog.exportProperty(ol.interaction.DragBox.prototype,"dispatchEvent",ol.interaction.DragBox.prototype.dispatchEvent),goog.exportProperty(ol.interaction.DragBox.prototype,"getRevision",ol.interaction.DragBox.prototype.getRevision),goog.exportProperty(ol.interaction.DragBox.prototype,"on",ol.interaction.DragBox.prototype.on),goog.exportProperty(ol.interaction.DragBox.prototype,"once",ol.interaction.DragBox.prototype.once),goog.exportProperty(ol.interaction.DragBox.prototype,"un",ol.interaction.DragBox.prototype.un),goog.exportProperty(ol.interaction.DragBox.Event.prototype,"type",ol.interaction.DragBox.Event.prototype.type),goog.exportProperty(ol.interaction.DragBox.Event.prototype,"target",ol.interaction.DragBox.Event.prototype.target),goog.exportProperty(ol.interaction.DragBox.Event.prototype,"preventDefault",ol.interaction.DragBox.Event.prototype.preventDefault),goog.exportProperty(ol.interaction.DragBox.Event.prototype,"stopPropagation",ol.interaction.DragBox.Event.prototype.stopPropagation),goog.exportProperty(ol.interaction.DragPan.prototype,"getActive",ol.interaction.DragPan.prototype.getActive),goog.exportProperty(ol.interaction.DragPan.prototype,"getMap",ol.interaction.DragPan.prototype.getMap),goog.exportProperty(ol.interaction.DragPan.prototype,"setActive",ol.interaction.DragPan.prototype.setActive),goog.exportProperty(ol.interaction.DragPan.prototype,"get",ol.interaction.DragPan.prototype.get),goog.exportProperty(ol.interaction.DragPan.prototype,"getKeys",ol.interaction.DragPan.prototype.getKeys),goog.exportProperty(ol.interaction.DragPan.prototype,"getProperties",ol.interaction.DragPan.prototype.getProperties),goog.exportProperty(ol.interaction.DragPan.prototype,"set",ol.interaction.DragPan.prototype.set),goog.exportProperty(ol.interaction.DragPan.prototype,"setProperties",ol.interaction.DragPan.prototype.setProperties),goog.exportProperty(ol.interaction.DragPan.prototype,"unset",ol.interaction.DragPan.prototype.unset),goog.exportProperty(ol.interaction.DragPan.prototype,"changed",ol.interaction.DragPan.prototype.changed),goog.exportProperty(ol.interaction.DragPan.prototype,"dispatchEvent",ol.interaction.DragPan.prototype.dispatchEvent),goog.exportProperty(ol.interaction.DragPan.prototype,"getRevision",ol.interaction.DragPan.prototype.getRevision),goog.exportProperty(ol.interaction.DragPan.prototype,"on",ol.interaction.DragPan.prototype.on),goog.exportProperty(ol.interaction.DragPan.prototype,"once",ol.interaction.DragPan.prototype.once),goog.exportProperty(ol.interaction.DragPan.prototype,"un",ol.interaction.DragPan.prototype.un),goog.exportProperty(ol.interaction.DragRotate.prototype,"getActive",ol.interaction.DragRotate.prototype.getActive),goog.exportProperty(ol.interaction.DragRotate.prototype,"getMap",ol.interaction.DragRotate.prototype.getMap),goog.exportProperty(ol.interaction.DragRotate.prototype,"setActive",ol.interaction.DragRotate.prototype.setActive),goog.exportProperty(ol.interaction.DragRotate.prototype,"get",ol.interaction.DragRotate.prototype.get),goog.exportProperty(ol.interaction.DragRotate.prototype,"getKeys",ol.interaction.DragRotate.prototype.getKeys),goog.exportProperty(ol.interaction.DragRotate.prototype,"getProperties",ol.interaction.DragRotate.prototype.getProperties),goog.exportProperty(ol.interaction.DragRotate.prototype,"set",ol.interaction.DragRotate.prototype.set),goog.exportProperty(ol.interaction.DragRotate.prototype,"setProperties",ol.interaction.DragRotate.prototype.setProperties),goog.exportProperty(ol.interaction.DragRotate.prototype,"unset",ol.interaction.DragRotate.prototype.unset),goog.exportProperty(ol.interaction.DragRotate.prototype,"changed",ol.interaction.DragRotate.prototype.changed),goog.exportProperty(ol.interaction.DragRotate.prototype,"dispatchEvent",ol.interaction.DragRotate.prototype.dispatchEvent),goog.exportProperty(ol.interaction.DragRotate.prototype,"getRevision",ol.interaction.DragRotate.prototype.getRevision),goog.exportProperty(ol.interaction.DragRotate.prototype,"on",ol.interaction.DragRotate.prototype.on),goog.exportProperty(ol.interaction.DragRotate.prototype,"once",ol.interaction.DragRotate.prototype.once),goog.exportProperty(ol.interaction.DragRotate.prototype,"un",ol.interaction.DragRotate.prototype.un),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"getActive",ol.interaction.DragRotateAndZoom.prototype.getActive),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"getMap",ol.interaction.DragRotateAndZoom.prototype.getMap),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"setActive",ol.interaction.DragRotateAndZoom.prototype.setActive),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"get",ol.interaction.DragRotateAndZoom.prototype.get),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"getKeys",ol.interaction.DragRotateAndZoom.prototype.getKeys),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"getProperties",ol.interaction.DragRotateAndZoom.prototype.getProperties),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"set",ol.interaction.DragRotateAndZoom.prototype.set),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"setProperties",ol.interaction.DragRotateAndZoom.prototype.setProperties),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"unset",ol.interaction.DragRotateAndZoom.prototype.unset),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"changed",ol.interaction.DragRotateAndZoom.prototype.changed),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"dispatchEvent",ol.interaction.DragRotateAndZoom.prototype.dispatchEvent),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"getRevision",ol.interaction.DragRotateAndZoom.prototype.getRevision),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"on",ol.interaction.DragRotateAndZoom.prototype.on),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"once",ol.interaction.DragRotateAndZoom.prototype.once),goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"un",ol.interaction.DragRotateAndZoom.prototype.un),goog.exportProperty(ol.interaction.DragZoom.prototype,"getGeometry",ol.interaction.DragZoom.prototype.getGeometry),goog.exportProperty(ol.interaction.DragZoom.prototype,"getActive",ol.interaction.DragZoom.prototype.getActive),goog.exportProperty(ol.interaction.DragZoom.prototype,"getMap",ol.interaction.DragZoom.prototype.getMap),goog.exportProperty(ol.interaction.DragZoom.prototype,"setActive",ol.interaction.DragZoom.prototype.setActive),goog.exportProperty(ol.interaction.DragZoom.prototype,"get",ol.interaction.DragZoom.prototype.get),goog.exportProperty(ol.interaction.DragZoom.prototype,"getKeys",ol.interaction.DragZoom.prototype.getKeys),goog.exportProperty(ol.interaction.DragZoom.prototype,"getProperties",ol.interaction.DragZoom.prototype.getProperties),goog.exportProperty(ol.interaction.DragZoom.prototype,"set",ol.interaction.DragZoom.prototype.set),goog.exportProperty(ol.interaction.DragZoom.prototype,"setProperties",ol.interaction.DragZoom.prototype.setProperties),goog.exportProperty(ol.interaction.DragZoom.prototype,"unset",ol.interaction.DragZoom.prototype.unset),goog.exportProperty(ol.interaction.DragZoom.prototype,"changed",ol.interaction.DragZoom.prototype.changed),goog.exportProperty(ol.interaction.DragZoom.prototype,"dispatchEvent",ol.interaction.DragZoom.prototype.dispatchEvent),goog.exportProperty(ol.interaction.DragZoom.prototype,"getRevision",ol.interaction.DragZoom.prototype.getRevision),goog.exportProperty(ol.interaction.DragZoom.prototype,"on",ol.interaction.DragZoom.prototype.on),goog.exportProperty(ol.interaction.DragZoom.prototype,"once",ol.interaction.DragZoom.prototype.once),goog.exportProperty(ol.interaction.DragZoom.prototype,"un",ol.interaction.DragZoom.prototype.un),goog.exportProperty(ol.interaction.Draw.prototype,"getActive",ol.interaction.Draw.prototype.getActive),goog.exportProperty(ol.interaction.Draw.prototype,"getMap",ol.interaction.Draw.prototype.getMap),goog.exportProperty(ol.interaction.Draw.prototype,"setActive",ol.interaction.Draw.prototype.setActive),goog.exportProperty(ol.interaction.Draw.prototype,"get",ol.interaction.Draw.prototype.get),goog.exportProperty(ol.interaction.Draw.prototype,"getKeys",ol.interaction.Draw.prototype.getKeys),goog.exportProperty(ol.interaction.Draw.prototype,"getProperties",ol.interaction.Draw.prototype.getProperties),goog.exportProperty(ol.interaction.Draw.prototype,"set",ol.interaction.Draw.prototype.set),goog.exportProperty(ol.interaction.Draw.prototype,"setProperties",ol.interaction.Draw.prototype.setProperties),goog.exportProperty(ol.interaction.Draw.prototype,"unset",ol.interaction.Draw.prototype.unset),goog.exportProperty(ol.interaction.Draw.prototype,"changed",ol.interaction.Draw.prototype.changed),goog.exportProperty(ol.interaction.Draw.prototype,"dispatchEvent",ol.interaction.Draw.prototype.dispatchEvent),goog.exportProperty(ol.interaction.Draw.prototype,"getRevision",ol.interaction.Draw.prototype.getRevision),goog.exportProperty(ol.interaction.Draw.prototype,"on",ol.interaction.Draw.prototype.on),goog.exportProperty(ol.interaction.Draw.prototype,"once",ol.interaction.Draw.prototype.once),goog.exportProperty(ol.interaction.Draw.prototype,"un",ol.interaction.Draw.prototype.un),goog.exportProperty(ol.interaction.Draw.Event.prototype,"type",ol.interaction.Draw.Event.prototype.type),goog.exportProperty(ol.interaction.Draw.Event.prototype,"target",ol.interaction.Draw.Event.prototype.target),goog.exportProperty(ol.interaction.Draw.Event.prototype,"preventDefault",ol.interaction.Draw.Event.prototype.preventDefault),goog.exportProperty(ol.interaction.Draw.Event.prototype,"stopPropagation",ol.interaction.Draw.Event.prototype.stopPropagation),goog.exportProperty(ol.interaction.Extent.prototype,"getActive",ol.interaction.Extent.prototype.getActive),goog.exportProperty(ol.interaction.Extent.prototype,"getMap",ol.interaction.Extent.prototype.getMap),goog.exportProperty(ol.interaction.Extent.prototype,"setActive",ol.interaction.Extent.prototype.setActive),goog.exportProperty(ol.interaction.Extent.prototype,"get",ol.interaction.Extent.prototype.get),goog.exportProperty(ol.interaction.Extent.prototype,"getKeys",ol.interaction.Extent.prototype.getKeys),goog.exportProperty(ol.interaction.Extent.prototype,"getProperties",ol.interaction.Extent.prototype.getProperties),goog.exportProperty(ol.interaction.Extent.prototype,"set",ol.interaction.Extent.prototype.set),goog.exportProperty(ol.interaction.Extent.prototype,"setProperties",ol.interaction.Extent.prototype.setProperties),goog.exportProperty(ol.interaction.Extent.prototype,"unset",ol.interaction.Extent.prototype.unset),goog.exportProperty(ol.interaction.Extent.prototype,"changed",ol.interaction.Extent.prototype.changed),goog.exportProperty(ol.interaction.Extent.prototype,"dispatchEvent",ol.interaction.Extent.prototype.dispatchEvent),goog.exportProperty(ol.interaction.Extent.prototype,"getRevision",ol.interaction.Extent.prototype.getRevision),goog.exportProperty(ol.interaction.Extent.prototype,"on",ol.interaction.Extent.prototype.on),goog.exportProperty(ol.interaction.Extent.prototype,"once",ol.interaction.Extent.prototype.once),goog.exportProperty(ol.interaction.Extent.prototype,"un",ol.interaction.Extent.prototype.un),goog.exportProperty(ol.interaction.Extent.Event.prototype,"type",ol.interaction.Extent.Event.prototype.type),goog.exportProperty(ol.interaction.Extent.Event.prototype,"target",ol.interaction.Extent.Event.prototype.target),goog.exportProperty(ol.interaction.Extent.Event.prototype,"preventDefault",ol.interaction.Extent.Event.prototype.preventDefault),goog.exportProperty(ol.interaction.Extent.Event.prototype,"stopPropagation",ol.interaction.Extent.Event.prototype.stopPropagation),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"getActive",ol.interaction.KeyboardPan.prototype.getActive),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"getMap",ol.interaction.KeyboardPan.prototype.getMap),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"setActive",ol.interaction.KeyboardPan.prototype.setActive),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"get",ol.interaction.KeyboardPan.prototype.get),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"getKeys",ol.interaction.KeyboardPan.prototype.getKeys),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"getProperties",ol.interaction.KeyboardPan.prototype.getProperties),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"set",ol.interaction.KeyboardPan.prototype.set),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"setProperties",ol.interaction.KeyboardPan.prototype.setProperties),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"unset",ol.interaction.KeyboardPan.prototype.unset),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"changed",ol.interaction.KeyboardPan.prototype.changed),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"dispatchEvent",ol.interaction.KeyboardPan.prototype.dispatchEvent),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"getRevision",ol.interaction.KeyboardPan.prototype.getRevision),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"on",ol.interaction.KeyboardPan.prototype.on),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"once",ol.interaction.KeyboardPan.prototype.once),goog.exportProperty(ol.interaction.KeyboardPan.prototype,"un",ol.interaction.KeyboardPan.prototype.un),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"getActive",ol.interaction.KeyboardZoom.prototype.getActive),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"getMap",ol.interaction.KeyboardZoom.prototype.getMap),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"setActive",ol.interaction.KeyboardZoom.prototype.setActive),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"get",ol.interaction.KeyboardZoom.prototype.get),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"getKeys",ol.interaction.KeyboardZoom.prototype.getKeys),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"getProperties",ol.interaction.KeyboardZoom.prototype.getProperties),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"set",ol.interaction.KeyboardZoom.prototype.set),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"setProperties",ol.interaction.KeyboardZoom.prototype.setProperties),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"unset",ol.interaction.KeyboardZoom.prototype.unset),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"changed",ol.interaction.KeyboardZoom.prototype.changed),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"dispatchEvent",ol.interaction.KeyboardZoom.prototype.dispatchEvent),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"getRevision",ol.interaction.KeyboardZoom.prototype.getRevision),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"on",ol.interaction.KeyboardZoom.prototype.on),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"once",ol.interaction.KeyboardZoom.prototype.once),goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"un",ol.interaction.KeyboardZoom.prototype.un),goog.exportProperty(ol.interaction.Modify.prototype,"getActive",ol.interaction.Modify.prototype.getActive),goog.exportProperty(ol.interaction.Modify.prototype,"getMap",ol.interaction.Modify.prototype.getMap),goog.exportProperty(ol.interaction.Modify.prototype,"setActive",ol.interaction.Modify.prototype.setActive),goog.exportProperty(ol.interaction.Modify.prototype,"get",ol.interaction.Modify.prototype.get),goog.exportProperty(ol.interaction.Modify.prototype,"getKeys",ol.interaction.Modify.prototype.getKeys),goog.exportProperty(ol.interaction.Modify.prototype,"getProperties",ol.interaction.Modify.prototype.getProperties),goog.exportProperty(ol.interaction.Modify.prototype,"set",ol.interaction.Modify.prototype.set),goog.exportProperty(ol.interaction.Modify.prototype,"setProperties",ol.interaction.Modify.prototype.setProperties),goog.exportProperty(ol.interaction.Modify.prototype,"unset",ol.interaction.Modify.prototype.unset),goog.exportProperty(ol.interaction.Modify.prototype,"changed",ol.interaction.Modify.prototype.changed),goog.exportProperty(ol.interaction.Modify.prototype,"dispatchEvent",ol.interaction.Modify.prototype.dispatchEvent),goog.exportProperty(ol.interaction.Modify.prototype,"getRevision",ol.interaction.Modify.prototype.getRevision),goog.exportProperty(ol.interaction.Modify.prototype,"on",ol.interaction.Modify.prototype.on),goog.exportProperty(ol.interaction.Modify.prototype,"once",ol.interaction.Modify.prototype.once),goog.exportProperty(ol.interaction.Modify.prototype,"un",ol.interaction.Modify.prototype.un),goog.exportProperty(ol.interaction.Modify.Event.prototype,"type",ol.interaction.Modify.Event.prototype.type),goog.exportProperty(ol.interaction.Modify.Event.prototype,"target",ol.interaction.Modify.Event.prototype.target),goog.exportProperty(ol.interaction.Modify.Event.prototype,"preventDefault",ol.interaction.Modify.Event.prototype.preventDefault),goog.exportProperty(ol.interaction.Modify.Event.prototype,"stopPropagation",ol.interaction.Modify.Event.prototype.stopPropagation),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"getActive",ol.interaction.MouseWheelZoom.prototype.getActive),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"getMap",ol.interaction.MouseWheelZoom.prototype.getMap),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"setActive",ol.interaction.MouseWheelZoom.prototype.setActive),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"get",ol.interaction.MouseWheelZoom.prototype.get),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"getKeys",ol.interaction.MouseWheelZoom.prototype.getKeys),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"getProperties",ol.interaction.MouseWheelZoom.prototype.getProperties),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"set",ol.interaction.MouseWheelZoom.prototype.set),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"setProperties",ol.interaction.MouseWheelZoom.prototype.setProperties),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"unset",ol.interaction.MouseWheelZoom.prototype.unset),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"changed",ol.interaction.MouseWheelZoom.prototype.changed),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"dispatchEvent",ol.interaction.MouseWheelZoom.prototype.dispatchEvent),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"getRevision",ol.interaction.MouseWheelZoom.prototype.getRevision),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"on",ol.interaction.MouseWheelZoom.prototype.on),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"once",ol.interaction.MouseWheelZoom.prototype.once),goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"un",ol.interaction.MouseWheelZoom.prototype.un),goog.exportProperty(ol.interaction.PinchRotate.prototype,"getActive",ol.interaction.PinchRotate.prototype.getActive),goog.exportProperty(ol.interaction.PinchRotate.prototype,"getMap",ol.interaction.PinchRotate.prototype.getMap),goog.exportProperty(ol.interaction.PinchRotate.prototype,"setActive",ol.interaction.PinchRotate.prototype.setActive),goog.exportProperty(ol.interaction.PinchRotate.prototype,"get",ol.interaction.PinchRotate.prototype.get),goog.exportProperty(ol.interaction.PinchRotate.prototype,"getKeys",ol.interaction.PinchRotate.prototype.getKeys),goog.exportProperty(ol.interaction.PinchRotate.prototype,"getProperties",ol.interaction.PinchRotate.prototype.getProperties),goog.exportProperty(ol.interaction.PinchRotate.prototype,"set",ol.interaction.PinchRotate.prototype.set),goog.exportProperty(ol.interaction.PinchRotate.prototype,"setProperties",ol.interaction.PinchRotate.prototype.setProperties),goog.exportProperty(ol.interaction.PinchRotate.prototype,"unset",ol.interaction.PinchRotate.prototype.unset),goog.exportProperty(ol.interaction.PinchRotate.prototype,"changed",ol.interaction.PinchRotate.prototype.changed),goog.exportProperty(ol.interaction.PinchRotate.prototype,"dispatchEvent",ol.interaction.PinchRotate.prototype.dispatchEvent),goog.exportProperty(ol.interaction.PinchRotate.prototype,"getRevision",ol.interaction.PinchRotate.prototype.getRevision),goog.exportProperty(ol.interaction.PinchRotate.prototype,"on",ol.interaction.PinchRotate.prototype.on),goog.exportProperty(ol.interaction.PinchRotate.prototype,"once",ol.interaction.PinchRotate.prototype.once),goog.exportProperty(ol.interaction.PinchRotate.prototype,"un",ol.interaction.PinchRotate.prototype.un),goog.exportProperty(ol.interaction.PinchZoom.prototype,"getActive",ol.interaction.PinchZoom.prototype.getActive),goog.exportProperty(ol.interaction.PinchZoom.prototype,"getMap",ol.interaction.PinchZoom.prototype.getMap),goog.exportProperty(ol.interaction.PinchZoom.prototype,"setActive",ol.interaction.PinchZoom.prototype.setActive),goog.exportProperty(ol.interaction.PinchZoom.prototype,"get",ol.interaction.PinchZoom.prototype.get),goog.exportProperty(ol.interaction.PinchZoom.prototype,"getKeys",ol.interaction.PinchZoom.prototype.getKeys),goog.exportProperty(ol.interaction.PinchZoom.prototype,"getProperties",ol.interaction.PinchZoom.prototype.getProperties),goog.exportProperty(ol.interaction.PinchZoom.prototype,"set",ol.interaction.PinchZoom.prototype.set),goog.exportProperty(ol.interaction.PinchZoom.prototype,"setProperties",ol.interaction.PinchZoom.prototype.setProperties),goog.exportProperty(ol.interaction.PinchZoom.prototype,"unset",ol.interaction.PinchZoom.prototype.unset),goog.exportProperty(ol.interaction.PinchZoom.prototype,"changed",ol.interaction.PinchZoom.prototype.changed),goog.exportProperty(ol.interaction.PinchZoom.prototype,"dispatchEvent",ol.interaction.PinchZoom.prototype.dispatchEvent),goog.exportProperty(ol.interaction.PinchZoom.prototype,"getRevision",ol.interaction.PinchZoom.prototype.getRevision),goog.exportProperty(ol.interaction.PinchZoom.prototype,"on",ol.interaction.PinchZoom.prototype.on),goog.exportProperty(ol.interaction.PinchZoom.prototype,"once",ol.interaction.PinchZoom.prototype.once),goog.exportProperty(ol.interaction.PinchZoom.prototype,"un",ol.interaction.PinchZoom.prototype.un),goog.exportProperty(ol.interaction.Select.prototype,"getActive",ol.interaction.Select.prototype.getActive),goog.exportProperty(ol.interaction.Select.prototype,"getMap",ol.interaction.Select.prototype.getMap),goog.exportProperty(ol.interaction.Select.prototype,"setActive",ol.interaction.Select.prototype.setActive),goog.exportProperty(ol.interaction.Select.prototype,"get",ol.interaction.Select.prototype.get),goog.exportProperty(ol.interaction.Select.prototype,"getKeys",ol.interaction.Select.prototype.getKeys),goog.exportProperty(ol.interaction.Select.prototype,"getProperties",ol.interaction.Select.prototype.getProperties),goog.exportProperty(ol.interaction.Select.prototype,"set",ol.interaction.Select.prototype.set),goog.exportProperty(ol.interaction.Select.prototype,"setProperties",ol.interaction.Select.prototype.setProperties),goog.exportProperty(ol.interaction.Select.prototype,"unset",ol.interaction.Select.prototype.unset),goog.exportProperty(ol.interaction.Select.prototype,"changed",ol.interaction.Select.prototype.changed),goog.exportProperty(ol.interaction.Select.prototype,"dispatchEvent",ol.interaction.Select.prototype.dispatchEvent),goog.exportProperty(ol.interaction.Select.prototype,"getRevision",ol.interaction.Select.prototype.getRevision),goog.exportProperty(ol.interaction.Select.prototype,"on",ol.interaction.Select.prototype.on),goog.exportProperty(ol.interaction.Select.prototype,"once",ol.interaction.Select.prototype.once),goog.exportProperty(ol.interaction.Select.prototype,"un",ol.interaction.Select.prototype.un),goog.exportProperty(ol.interaction.Select.Event.prototype,"type",ol.interaction.Select.Event.prototype.type),goog.exportProperty(ol.interaction.Select.Event.prototype,"target",ol.interaction.Select.Event.prototype.target),goog.exportProperty(ol.interaction.Select.Event.prototype,"preventDefault",ol.interaction.Select.Event.prototype.preventDefault),goog.exportProperty(ol.interaction.Select.Event.prototype,"stopPropagation",ol.interaction.Select.Event.prototype.stopPropagation),goog.exportProperty(ol.interaction.Snap.prototype,"getActive",ol.interaction.Snap.prototype.getActive),goog.exportProperty(ol.interaction.Snap.prototype,"getMap",ol.interaction.Snap.prototype.getMap),goog.exportProperty(ol.interaction.Snap.prototype,"setActive",ol.interaction.Snap.prototype.setActive),goog.exportProperty(ol.interaction.Snap.prototype,"get",ol.interaction.Snap.prototype.get),goog.exportProperty(ol.interaction.Snap.prototype,"getKeys",ol.interaction.Snap.prototype.getKeys),goog.exportProperty(ol.interaction.Snap.prototype,"getProperties",ol.interaction.Snap.prototype.getProperties),goog.exportProperty(ol.interaction.Snap.prototype,"set",ol.interaction.Snap.prototype.set),goog.exportProperty(ol.interaction.Snap.prototype,"setProperties",ol.interaction.Snap.prototype.setProperties),goog.exportProperty(ol.interaction.Snap.prototype,"unset",ol.interaction.Snap.prototype.unset),goog.exportProperty(ol.interaction.Snap.prototype,"changed",ol.interaction.Snap.prototype.changed),goog.exportProperty(ol.interaction.Snap.prototype,"dispatchEvent",ol.interaction.Snap.prototype.dispatchEvent),goog.exportProperty(ol.interaction.Snap.prototype,"getRevision",ol.interaction.Snap.prototype.getRevision),goog.exportProperty(ol.interaction.Snap.prototype,"on",ol.interaction.Snap.prototype.on),goog.exportProperty(ol.interaction.Snap.prototype,"once",ol.interaction.Snap.prototype.once),goog.exportProperty(ol.interaction.Snap.prototype,"un",ol.interaction.Snap.prototype.un),goog.exportProperty(ol.interaction.Translate.prototype,"getActive",ol.interaction.Translate.prototype.getActive),goog.exportProperty(ol.interaction.Translate.prototype,"getMap",ol.interaction.Translate.prototype.getMap),goog.exportProperty(ol.interaction.Translate.prototype,"setActive",ol.interaction.Translate.prototype.setActive),goog.exportProperty(ol.interaction.Translate.prototype,"get",ol.interaction.Translate.prototype.get),goog.exportProperty(ol.interaction.Translate.prototype,"getKeys",ol.interaction.Translate.prototype.getKeys),goog.exportProperty(ol.interaction.Translate.prototype,"getProperties",ol.interaction.Translate.prototype.getProperties),goog.exportProperty(ol.interaction.Translate.prototype,"set",ol.interaction.Translate.prototype.set),goog.exportProperty(ol.interaction.Translate.prototype,"setProperties",ol.interaction.Translate.prototype.setProperties),goog.exportProperty(ol.interaction.Translate.prototype,"unset",ol.interaction.Translate.prototype.unset),goog.exportProperty(ol.interaction.Translate.prototype,"changed",ol.interaction.Translate.prototype.changed),goog.exportProperty(ol.interaction.Translate.prototype,"dispatchEvent",ol.interaction.Translate.prototype.dispatchEvent),goog.exportProperty(ol.interaction.Translate.prototype,"getRevision",ol.interaction.Translate.prototype.getRevision),goog.exportProperty(ol.interaction.Translate.prototype,"on",ol.interaction.Translate.prototype.on),goog.exportProperty(ol.interaction.Translate.prototype,"once",ol.interaction.Translate.prototype.once),goog.exportProperty(ol.interaction.Translate.prototype,"un",ol.interaction.Translate.prototype.un),goog.exportProperty(ol.interaction.Translate.Event.prototype,"type",ol.interaction.Translate.Event.prototype.type),goog.exportProperty(ol.interaction.Translate.Event.prototype,"target",ol.interaction.Translate.Event.prototype.target),goog.exportProperty(ol.interaction.Translate.Event.prototype,"preventDefault",ol.interaction.Translate.Event.prototype.preventDefault),goog.exportProperty(ol.interaction.Translate.Event.prototype,"stopPropagation",ol.interaction.Translate.Event.prototype.stopPropagation),goog.exportProperty(ol.geom.Geometry.prototype,"get",ol.geom.Geometry.prototype.get),goog.exportProperty(ol.geom.Geometry.prototype,"getKeys",ol.geom.Geometry.prototype.getKeys),goog.exportProperty(ol.geom.Geometry.prototype,"getProperties",ol.geom.Geometry.prototype.getProperties),goog.exportProperty(ol.geom.Geometry.prototype,"set",ol.geom.Geometry.prototype.set),goog.exportProperty(ol.geom.Geometry.prototype,"setProperties",ol.geom.Geometry.prototype.setProperties),goog.exportProperty(ol.geom.Geometry.prototype,"unset",ol.geom.Geometry.prototype.unset),goog.exportProperty(ol.geom.Geometry.prototype,"changed",ol.geom.Geometry.prototype.changed),goog.exportProperty(ol.geom.Geometry.prototype,"dispatchEvent",ol.geom.Geometry.prototype.dispatchEvent),goog.exportProperty(ol.geom.Geometry.prototype,"getRevision",ol.geom.Geometry.prototype.getRevision),goog.exportProperty(ol.geom.Geometry.prototype,"on",ol.geom.Geometry.prototype.on),goog.exportProperty(ol.geom.Geometry.prototype,"once",ol.geom.Geometry.prototype.once),goog.exportProperty(ol.geom.Geometry.prototype,"un",ol.geom.Geometry.prototype.un),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getClosestPoint",ol.geom.SimpleGeometry.prototype.getClosestPoint),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"intersectsCoordinate",ol.geom.SimpleGeometry.prototype.intersectsCoordinate),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getExtent",ol.geom.SimpleGeometry.prototype.getExtent),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"rotate",ol.geom.SimpleGeometry.prototype.rotate),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"scale",ol.geom.SimpleGeometry.prototype.scale),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"simplify",ol.geom.SimpleGeometry.prototype.simplify),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"transform",ol.geom.SimpleGeometry.prototype.transform),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"get",ol.geom.SimpleGeometry.prototype.get),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getKeys",ol.geom.SimpleGeometry.prototype.getKeys),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getProperties",ol.geom.SimpleGeometry.prototype.getProperties),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"set",ol.geom.SimpleGeometry.prototype.set),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"setProperties",ol.geom.SimpleGeometry.prototype.setProperties),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"unset",ol.geom.SimpleGeometry.prototype.unset),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"changed",ol.geom.SimpleGeometry.prototype.changed),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"dispatchEvent",ol.geom.SimpleGeometry.prototype.dispatchEvent),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getRevision",ol.geom.SimpleGeometry.prototype.getRevision),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"on",ol.geom.SimpleGeometry.prototype.on),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"once",ol.geom.SimpleGeometry.prototype.once),goog.exportProperty(ol.geom.SimpleGeometry.prototype,"un",ol.geom.SimpleGeometry.prototype.un),goog.exportProperty(ol.geom.Circle.prototype,"getFirstCoordinate",ol.geom.Circle.prototype.getFirstCoordinate),goog.exportProperty(ol.geom.Circle.prototype,"getLastCoordinate",ol.geom.Circle.prototype.getLastCoordinate),goog.exportProperty(ol.geom.Circle.prototype,"getLayout",ol.geom.Circle.prototype.getLayout),goog.exportProperty(ol.geom.Circle.prototype,"rotate",ol.geom.Circle.prototype.rotate),goog.exportProperty(ol.geom.Circle.prototype,"scale",ol.geom.Circle.prototype.scale),goog.exportProperty(ol.geom.Circle.prototype,"getClosestPoint",ol.geom.Circle.prototype.getClosestPoint),goog.exportProperty(ol.geom.Circle.prototype,"intersectsCoordinate",ol.geom.Circle.prototype.intersectsCoordinate),goog.exportProperty(ol.geom.Circle.prototype,"getExtent",ol.geom.Circle.prototype.getExtent),goog.exportProperty(ol.geom.Circle.prototype,"simplify",ol.geom.Circle.prototype.simplify),goog.exportProperty(ol.geom.Circle.prototype,"get",ol.geom.Circle.prototype.get),goog.exportProperty(ol.geom.Circle.prototype,"getKeys",ol.geom.Circle.prototype.getKeys),goog.exportProperty(ol.geom.Circle.prototype,"getProperties",ol.geom.Circle.prototype.getProperties),goog.exportProperty(ol.geom.Circle.prototype,"set",ol.geom.Circle.prototype.set),goog.exportProperty(ol.geom.Circle.prototype,"setProperties",ol.geom.Circle.prototype.setProperties),goog.exportProperty(ol.geom.Circle.prototype,"unset",ol.geom.Circle.prototype.unset),goog.exportProperty(ol.geom.Circle.prototype,"changed",ol.geom.Circle.prototype.changed),goog.exportProperty(ol.geom.Circle.prototype,"dispatchEvent",ol.geom.Circle.prototype.dispatchEvent),goog.exportProperty(ol.geom.Circle.prototype,"getRevision",ol.geom.Circle.prototype.getRevision),goog.exportProperty(ol.geom.Circle.prototype,"on",ol.geom.Circle.prototype.on),goog.exportProperty(ol.geom.Circle.prototype,"once",ol.geom.Circle.prototype.once),goog.exportProperty(ol.geom.Circle.prototype,"un",ol.geom.Circle.prototype.un),goog.exportProperty(ol.geom.GeometryCollection.prototype,"getClosestPoint",ol.geom.GeometryCollection.prototype.getClosestPoint),goog.exportProperty(ol.geom.GeometryCollection.prototype,"intersectsCoordinate",ol.geom.GeometryCollection.prototype.intersectsCoordinate),goog.exportProperty(ol.geom.GeometryCollection.prototype,"getExtent",ol.geom.GeometryCollection.prototype.getExtent),goog.exportProperty(ol.geom.GeometryCollection.prototype,"rotate",ol.geom.GeometryCollection.prototype.rotate),goog.exportProperty(ol.geom.GeometryCollection.prototype,"scale",ol.geom.GeometryCollection.prototype.scale),goog.exportProperty(ol.geom.GeometryCollection.prototype,"simplify",ol.geom.GeometryCollection.prototype.simplify),goog.exportProperty(ol.geom.GeometryCollection.prototype,"transform",ol.geom.GeometryCollection.prototype.transform),goog.exportProperty(ol.geom.GeometryCollection.prototype,"get",ol.geom.GeometryCollection.prototype.get),goog.exportProperty(ol.geom.GeometryCollection.prototype,"getKeys",ol.geom.GeometryCollection.prototype.getKeys),goog.exportProperty(ol.geom.GeometryCollection.prototype,"getProperties",ol.geom.GeometryCollection.prototype.getProperties),goog.exportProperty(ol.geom.GeometryCollection.prototype,"set",ol.geom.GeometryCollection.prototype.set),goog.exportProperty(ol.geom.GeometryCollection.prototype,"setProperties",ol.geom.GeometryCollection.prototype.setProperties),goog.exportProperty(ol.geom.GeometryCollection.prototype,"unset",ol.geom.GeometryCollection.prototype.unset),goog.exportProperty(ol.geom.GeometryCollection.prototype,"changed",ol.geom.GeometryCollection.prototype.changed),goog.exportProperty(ol.geom.GeometryCollection.prototype,"dispatchEvent",ol.geom.GeometryCollection.prototype.dispatchEvent),goog.exportProperty(ol.geom.GeometryCollection.prototype,"getRevision",ol.geom.GeometryCollection.prototype.getRevision),goog.exportProperty(ol.geom.GeometryCollection.prototype,"on",ol.geom.GeometryCollection.prototype.on),goog.exportProperty(ol.geom.GeometryCollection.prototype,"once",ol.geom.GeometryCollection.prototype.once),goog.exportProperty(ol.geom.GeometryCollection.prototype,"un",ol.geom.GeometryCollection.prototype.un),goog.exportProperty(ol.geom.LinearRing.prototype,"getFirstCoordinate",ol.geom.LinearRing.prototype.getFirstCoordinate),goog.exportProperty(ol.geom.LinearRing.prototype,"getLastCoordinate",ol.geom.LinearRing.prototype.getLastCoordinate),goog.exportProperty(ol.geom.LinearRing.prototype,"getLayout",ol.geom.LinearRing.prototype.getLayout),goog.exportProperty(ol.geom.LinearRing.prototype,"rotate",ol.geom.LinearRing.prototype.rotate),goog.exportProperty(ol.geom.LinearRing.prototype,"scale",ol.geom.LinearRing.prototype.scale),goog.exportProperty(ol.geom.LinearRing.prototype,"getClosestPoint",ol.geom.LinearRing.prototype.getClosestPoint),goog.exportProperty(ol.geom.LinearRing.prototype,"intersectsCoordinate",ol.geom.LinearRing.prototype.intersectsCoordinate),goog.exportProperty(ol.geom.LinearRing.prototype,"getExtent",ol.geom.LinearRing.prototype.getExtent),goog.exportProperty(ol.geom.LinearRing.prototype,"simplify",ol.geom.LinearRing.prototype.simplify),goog.exportProperty(ol.geom.LinearRing.prototype,"transform",ol.geom.LinearRing.prototype.transform),goog.exportProperty(ol.geom.LinearRing.prototype,"get",ol.geom.LinearRing.prototype.get),goog.exportProperty(ol.geom.LinearRing.prototype,"getKeys",ol.geom.LinearRing.prototype.getKeys),goog.exportProperty(ol.geom.LinearRing.prototype,"getProperties",ol.geom.LinearRing.prototype.getProperties),goog.exportProperty(ol.geom.LinearRing.prototype,"set",ol.geom.LinearRing.prototype.set),goog.exportProperty(ol.geom.LinearRing.prototype,"setProperties",ol.geom.LinearRing.prototype.setProperties),goog.exportProperty(ol.geom.LinearRing.prototype,"unset",ol.geom.LinearRing.prototype.unset),goog.exportProperty(ol.geom.LinearRing.prototype,"changed",ol.geom.LinearRing.prototype.changed),goog.exportProperty(ol.geom.LinearRing.prototype,"dispatchEvent",ol.geom.LinearRing.prototype.dispatchEvent),goog.exportProperty(ol.geom.LinearRing.prototype,"getRevision",ol.geom.LinearRing.prototype.getRevision),goog.exportProperty(ol.geom.LinearRing.prototype,"on",ol.geom.LinearRing.prototype.on),goog.exportProperty(ol.geom.LinearRing.prototype,"once",ol.geom.LinearRing.prototype.once),goog.exportProperty(ol.geom.LinearRing.prototype,"un",ol.geom.LinearRing.prototype.un),goog.exportProperty(ol.geom.LineString.prototype,"getFirstCoordinate",ol.geom.LineString.prototype.getFirstCoordinate),goog.exportProperty(ol.geom.LineString.prototype,"getLastCoordinate",ol.geom.LineString.prototype.getLastCoordinate),goog.exportProperty(ol.geom.LineString.prototype,"getLayout",ol.geom.LineString.prototype.getLayout),goog.exportProperty(ol.geom.LineString.prototype,"rotate",ol.geom.LineString.prototype.rotate),goog.exportProperty(ol.geom.LineString.prototype,"scale",ol.geom.LineString.prototype.scale),goog.exportProperty(ol.geom.LineString.prototype,"getClosestPoint",ol.geom.LineString.prototype.getClosestPoint),goog.exportProperty(ol.geom.LineString.prototype,"intersectsCoordinate",ol.geom.LineString.prototype.intersectsCoordinate),goog.exportProperty(ol.geom.LineString.prototype,"getExtent",ol.geom.LineString.prototype.getExtent),goog.exportProperty(ol.geom.LineString.prototype,"simplify",ol.geom.LineString.prototype.simplify),goog.exportProperty(ol.geom.LineString.prototype,"transform",ol.geom.LineString.prototype.transform),goog.exportProperty(ol.geom.LineString.prototype,"get",ol.geom.LineString.prototype.get),goog.exportProperty(ol.geom.LineString.prototype,"getKeys",ol.geom.LineString.prototype.getKeys),goog.exportProperty(ol.geom.LineString.prototype,"getProperties",ol.geom.LineString.prototype.getProperties),goog.exportProperty(ol.geom.LineString.prototype,"set",ol.geom.LineString.prototype.set),goog.exportProperty(ol.geom.LineString.prototype,"setProperties",ol.geom.LineString.prototype.setProperties),goog.exportProperty(ol.geom.LineString.prototype,"unset",ol.geom.LineString.prototype.unset),goog.exportProperty(ol.geom.LineString.prototype,"changed",ol.geom.LineString.prototype.changed),goog.exportProperty(ol.geom.LineString.prototype,"dispatchEvent",ol.geom.LineString.prototype.dispatchEvent),goog.exportProperty(ol.geom.LineString.prototype,"getRevision",ol.geom.LineString.prototype.getRevision),goog.exportProperty(ol.geom.LineString.prototype,"on",ol.geom.LineString.prototype.on),goog.exportProperty(ol.geom.LineString.prototype,"once",ol.geom.LineString.prototype.once),goog.exportProperty(ol.geom.LineString.prototype,"un",ol.geom.LineString.prototype.un),goog.exportProperty(ol.geom.MultiLineString.prototype,"getFirstCoordinate",ol.geom.MultiLineString.prototype.getFirstCoordinate),goog.exportProperty(ol.geom.MultiLineString.prototype,"getLastCoordinate",ol.geom.MultiLineString.prototype.getLastCoordinate),goog.exportProperty(ol.geom.MultiLineString.prototype,"getLayout",ol.geom.MultiLineString.prototype.getLayout),goog.exportProperty(ol.geom.MultiLineString.prototype,"rotate",ol.geom.MultiLineString.prototype.rotate),goog.exportProperty(ol.geom.MultiLineString.prototype,"scale",ol.geom.MultiLineString.prototype.scale),goog.exportProperty(ol.geom.MultiLineString.prototype,"getClosestPoint",ol.geom.MultiLineString.prototype.getClosestPoint),goog.exportProperty(ol.geom.MultiLineString.prototype,"intersectsCoordinate",ol.geom.MultiLineString.prototype.intersectsCoordinate),goog.exportProperty(ol.geom.MultiLineString.prototype,"getExtent",ol.geom.MultiLineString.prototype.getExtent),goog.exportProperty(ol.geom.MultiLineString.prototype,"simplify",ol.geom.MultiLineString.prototype.simplify),goog.exportProperty(ol.geom.MultiLineString.prototype,"transform",ol.geom.MultiLineString.prototype.transform),goog.exportProperty(ol.geom.MultiLineString.prototype,"get",ol.geom.MultiLineString.prototype.get),goog.exportProperty(ol.geom.MultiLineString.prototype,"getKeys",ol.geom.MultiLineString.prototype.getKeys),goog.exportProperty(ol.geom.MultiLineString.prototype,"getProperties",ol.geom.MultiLineString.prototype.getProperties),goog.exportProperty(ol.geom.MultiLineString.prototype,"set",ol.geom.MultiLineString.prototype.set),goog.exportProperty(ol.geom.MultiLineString.prototype,"setProperties",ol.geom.MultiLineString.prototype.setProperties),goog.exportProperty(ol.geom.MultiLineString.prototype,"unset",ol.geom.MultiLineString.prototype.unset),goog.exportProperty(ol.geom.MultiLineString.prototype,"changed",ol.geom.MultiLineString.prototype.changed),goog.exportProperty(ol.geom.MultiLineString.prototype,"dispatchEvent",ol.geom.MultiLineString.prototype.dispatchEvent),goog.exportProperty(ol.geom.MultiLineString.prototype,"getRevision",ol.geom.MultiLineString.prototype.getRevision),goog.exportProperty(ol.geom.MultiLineString.prototype,"on",ol.geom.MultiLineString.prototype.on),goog.exportProperty(ol.geom.MultiLineString.prototype,"once",ol.geom.MultiLineString.prototype.once),goog.exportProperty(ol.geom.MultiLineString.prototype,"un",ol.geom.MultiLineString.prototype.un),goog.exportProperty(ol.geom.MultiPoint.prototype,"getFirstCoordinate",ol.geom.MultiPoint.prototype.getFirstCoordinate),goog.exportProperty(ol.geom.MultiPoint.prototype,"getLastCoordinate",ol.geom.MultiPoint.prototype.getLastCoordinate),goog.exportProperty(ol.geom.MultiPoint.prototype,"getLayout",ol.geom.MultiPoint.prototype.getLayout),goog.exportProperty(ol.geom.MultiPoint.prototype,"rotate",ol.geom.MultiPoint.prototype.rotate),goog.exportProperty(ol.geom.MultiPoint.prototype,"scale",ol.geom.MultiPoint.prototype.scale),goog.exportProperty(ol.geom.MultiPoint.prototype,"getClosestPoint",ol.geom.MultiPoint.prototype.getClosestPoint),goog.exportProperty(ol.geom.MultiPoint.prototype,"intersectsCoordinate",ol.geom.MultiPoint.prototype.intersectsCoordinate),goog.exportProperty(ol.geom.MultiPoint.prototype,"getExtent",ol.geom.MultiPoint.prototype.getExtent),goog.exportProperty(ol.geom.MultiPoint.prototype,"simplify",ol.geom.MultiPoint.prototype.simplify),goog.exportProperty(ol.geom.MultiPoint.prototype,"transform",ol.geom.MultiPoint.prototype.transform),goog.exportProperty(ol.geom.MultiPoint.prototype,"get",ol.geom.MultiPoint.prototype.get),goog.exportProperty(ol.geom.MultiPoint.prototype,"getKeys",ol.geom.MultiPoint.prototype.getKeys),goog.exportProperty(ol.geom.MultiPoint.prototype,"getProperties",ol.geom.MultiPoint.prototype.getProperties),goog.exportProperty(ol.geom.MultiPoint.prototype,"set",ol.geom.MultiPoint.prototype.set),goog.exportProperty(ol.geom.MultiPoint.prototype,"setProperties",ol.geom.MultiPoint.prototype.setProperties),goog.exportProperty(ol.geom.MultiPoint.prototype,"unset",ol.geom.MultiPoint.prototype.unset),goog.exportProperty(ol.geom.MultiPoint.prototype,"changed",ol.geom.MultiPoint.prototype.changed),goog.exportProperty(ol.geom.MultiPoint.prototype,"dispatchEvent",ol.geom.MultiPoint.prototype.dispatchEvent),goog.exportProperty(ol.geom.MultiPoint.prototype,"getRevision",ol.geom.MultiPoint.prototype.getRevision),goog.exportProperty(ol.geom.MultiPoint.prototype,"on",ol.geom.MultiPoint.prototype.on),goog.exportProperty(ol.geom.MultiPoint.prototype,"once",ol.geom.MultiPoint.prototype.once),goog.exportProperty(ol.geom.MultiPoint.prototype,"un",ol.geom.MultiPoint.prototype.un),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getFirstCoordinate",ol.geom.MultiPolygon.prototype.getFirstCoordinate),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getLastCoordinate",ol.geom.MultiPolygon.prototype.getLastCoordinate),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getLayout",ol.geom.MultiPolygon.prototype.getLayout),goog.exportProperty(ol.geom.MultiPolygon.prototype,"rotate",ol.geom.MultiPolygon.prototype.rotate),goog.exportProperty(ol.geom.MultiPolygon.prototype,"scale",ol.geom.MultiPolygon.prototype.scale),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getClosestPoint",ol.geom.MultiPolygon.prototype.getClosestPoint),goog.exportProperty(ol.geom.MultiPolygon.prototype,"intersectsCoordinate",ol.geom.MultiPolygon.prototype.intersectsCoordinate),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getExtent",ol.geom.MultiPolygon.prototype.getExtent),goog.exportProperty(ol.geom.MultiPolygon.prototype,"simplify",ol.geom.MultiPolygon.prototype.simplify),goog.exportProperty(ol.geom.MultiPolygon.prototype,"transform",ol.geom.MultiPolygon.prototype.transform),goog.exportProperty(ol.geom.MultiPolygon.prototype,"get",ol.geom.MultiPolygon.prototype.get),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getKeys",ol.geom.MultiPolygon.prototype.getKeys),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getProperties",ol.geom.MultiPolygon.prototype.getProperties),goog.exportProperty(ol.geom.MultiPolygon.prototype,"set",ol.geom.MultiPolygon.prototype.set),goog.exportProperty(ol.geom.MultiPolygon.prototype,"setProperties",ol.geom.MultiPolygon.prototype.setProperties),goog.exportProperty(ol.geom.MultiPolygon.prototype,"unset",ol.geom.MultiPolygon.prototype.unset),goog.exportProperty(ol.geom.MultiPolygon.prototype,"changed",ol.geom.MultiPolygon.prototype.changed),goog.exportProperty(ol.geom.MultiPolygon.prototype,"dispatchEvent",ol.geom.MultiPolygon.prototype.dispatchEvent),goog.exportProperty(ol.geom.MultiPolygon.prototype,"getRevision",ol.geom.MultiPolygon.prototype.getRevision),goog.exportProperty(ol.geom.MultiPolygon.prototype,"on",ol.geom.MultiPolygon.prototype.on),goog.exportProperty(ol.geom.MultiPolygon.prototype,"once",ol.geom.MultiPolygon.prototype.once),goog.exportProperty(ol.geom.MultiPolygon.prototype,"un",ol.geom.MultiPolygon.prototype.un),goog.exportProperty(ol.geom.Point.prototype,"getFirstCoordinate",ol.geom.Point.prototype.getFirstCoordinate),goog.exportProperty(ol.geom.Point.prototype,"getLastCoordinate",ol.geom.Point.prototype.getLastCoordinate),goog.exportProperty(ol.geom.Point.prototype,"getLayout",ol.geom.Point.prototype.getLayout),goog.exportProperty(ol.geom.Point.prototype,"rotate",ol.geom.Point.prototype.rotate),goog.exportProperty(ol.geom.Point.prototype,"scale",ol.geom.Point.prototype.scale),goog.exportProperty(ol.geom.Point.prototype,"getClosestPoint",ol.geom.Point.prototype.getClosestPoint),goog.exportProperty(ol.geom.Point.prototype,"intersectsCoordinate",ol.geom.Point.prototype.intersectsCoordinate),goog.exportProperty(ol.geom.Point.prototype,"getExtent",ol.geom.Point.prototype.getExtent),goog.exportProperty(ol.geom.Point.prototype,"simplify",ol.geom.Point.prototype.simplify),goog.exportProperty(ol.geom.Point.prototype,"transform",ol.geom.Point.prototype.transform),goog.exportProperty(ol.geom.Point.prototype,"get",ol.geom.Point.prototype.get),goog.exportProperty(ol.geom.Point.prototype,"getKeys",ol.geom.Point.prototype.getKeys),goog.exportProperty(ol.geom.Point.prototype,"getProperties",ol.geom.Point.prototype.getProperties),goog.exportProperty(ol.geom.Point.prototype,"set",ol.geom.Point.prototype.set),goog.exportProperty(ol.geom.Point.prototype,"setProperties",ol.geom.Point.prototype.setProperties),goog.exportProperty(ol.geom.Point.prototype,"unset",ol.geom.Point.prototype.unset),goog.exportProperty(ol.geom.Point.prototype,"changed",ol.geom.Point.prototype.changed),goog.exportProperty(ol.geom.Point.prototype,"dispatchEvent",ol.geom.Point.prototype.dispatchEvent),goog.exportProperty(ol.geom.Point.prototype,"getRevision",ol.geom.Point.prototype.getRevision),goog.exportProperty(ol.geom.Point.prototype,"on",ol.geom.Point.prototype.on),goog.exportProperty(ol.geom.Point.prototype,"once",ol.geom.Point.prototype.once),goog.exportProperty(ol.geom.Point.prototype,"un",ol.geom.Point.prototype.un),goog.exportProperty(ol.geom.Polygon.prototype,"getFirstCoordinate",ol.geom.Polygon.prototype.getFirstCoordinate),goog.exportProperty(ol.geom.Polygon.prototype,"getLastCoordinate",ol.geom.Polygon.prototype.getLastCoordinate),goog.exportProperty(ol.geom.Polygon.prototype,"getLayout",ol.geom.Polygon.prototype.getLayout),goog.exportProperty(ol.geom.Polygon.prototype,"rotate",ol.geom.Polygon.prototype.rotate),goog.exportProperty(ol.geom.Polygon.prototype,"scale",ol.geom.Polygon.prototype.scale),goog.exportProperty(ol.geom.Polygon.prototype,"getClosestPoint",ol.geom.Polygon.prototype.getClosestPoint),goog.exportProperty(ol.geom.Polygon.prototype,"intersectsCoordinate",ol.geom.Polygon.prototype.intersectsCoordinate),goog.exportProperty(ol.geom.Polygon.prototype,"getExtent",ol.geom.Polygon.prototype.getExtent),goog.exportProperty(ol.geom.Polygon.prototype,"simplify",ol.geom.Polygon.prototype.simplify),goog.exportProperty(ol.geom.Polygon.prototype,"transform",ol.geom.Polygon.prototype.transform),goog.exportProperty(ol.geom.Polygon.prototype,"get",ol.geom.Polygon.prototype.get),goog.exportProperty(ol.geom.Polygon.prototype,"getKeys",ol.geom.Polygon.prototype.getKeys),goog.exportProperty(ol.geom.Polygon.prototype,"getProperties",ol.geom.Polygon.prototype.getProperties),goog.exportProperty(ol.geom.Polygon.prototype,"set",ol.geom.Polygon.prototype.set),goog.exportProperty(ol.geom.Polygon.prototype,"setProperties",ol.geom.Polygon.prototype.setProperties),goog.exportProperty(ol.geom.Polygon.prototype,"unset",ol.geom.Polygon.prototype.unset),goog.exportProperty(ol.geom.Polygon.prototype,"changed",ol.geom.Polygon.prototype.changed),goog.exportProperty(ol.geom.Polygon.prototype,"dispatchEvent",ol.geom.Polygon.prototype.dispatchEvent),goog.exportProperty(ol.geom.Polygon.prototype,"getRevision",ol.geom.Polygon.prototype.getRevision),goog.exportProperty(ol.geom.Polygon.prototype,"on",ol.geom.Polygon.prototype.on),goog.exportProperty(ol.geom.Polygon.prototype,"once",ol.geom.Polygon.prototype.once),goog.exportProperty(ol.geom.Polygon.prototype,"un",ol.geom.Polygon.prototype.un),goog.exportProperty(ol.format.GML.prototype,"readFeatures",ol.format.GML.prototype.readFeatures),goog.exportProperty(ol.format.GML2.prototype,"readFeatures",ol.format.GML2.prototype.readFeatures),goog.exportProperty(ol.format.GML3.prototype,"readFeatures",ol.format.GML3.prototype.readFeatures),goog.exportProperty(ol.control.Control.prototype,"get",ol.control.Control.prototype.get),goog.exportProperty(ol.control.Control.prototype,"getKeys",ol.control.Control.prototype.getKeys),goog.exportProperty(ol.control.Control.prototype,"getProperties",ol.control.Control.prototype.getProperties),goog.exportProperty(ol.control.Control.prototype,"set",ol.control.Control.prototype.set),goog.exportProperty(ol.control.Control.prototype,"setProperties",ol.control.Control.prototype.setProperties),goog.exportProperty(ol.control.Control.prototype,"unset",ol.control.Control.prototype.unset),goog.exportProperty(ol.control.Control.prototype,"changed",ol.control.Control.prototype.changed),goog.exportProperty(ol.control.Control.prototype,"dispatchEvent",ol.control.Control.prototype.dispatchEvent),goog.exportProperty(ol.control.Control.prototype,"getRevision",ol.control.Control.prototype.getRevision),goog.exportProperty(ol.control.Control.prototype,"on",ol.control.Control.prototype.on),goog.exportProperty(ol.control.Control.prototype,"once",ol.control.Control.prototype.once),goog.exportProperty(ol.control.Control.prototype,"un",ol.control.Control.prototype.un),goog.exportProperty(ol.control.Attribution.prototype,"getMap",ol.control.Attribution.prototype.getMap),goog.exportProperty(ol.control.Attribution.prototype,"setMap",ol.control.Attribution.prototype.setMap),goog.exportProperty(ol.control.Attribution.prototype,"setTarget",ol.control.Attribution.prototype.setTarget),goog.exportProperty(ol.control.Attribution.prototype,"get",ol.control.Attribution.prototype.get),goog.exportProperty(ol.control.Attribution.prototype,"getKeys",ol.control.Attribution.prototype.getKeys),goog.exportProperty(ol.control.Attribution.prototype,"getProperties",ol.control.Attribution.prototype.getProperties),goog.exportProperty(ol.control.Attribution.prototype,"set",ol.control.Attribution.prototype.set),goog.exportProperty(ol.control.Attribution.prototype,"setProperties",ol.control.Attribution.prototype.setProperties),goog.exportProperty(ol.control.Attribution.prototype,"unset",ol.control.Attribution.prototype.unset),goog.exportProperty(ol.control.Attribution.prototype,"changed",ol.control.Attribution.prototype.changed),goog.exportProperty(ol.control.Attribution.prototype,"dispatchEvent",ol.control.Attribution.prototype.dispatchEvent),goog.exportProperty(ol.control.Attribution.prototype,"getRevision",ol.control.Attribution.prototype.getRevision),goog.exportProperty(ol.control.Attribution.prototype,"on",ol.control.Attribution.prototype.on),goog.exportProperty(ol.control.Attribution.prototype,"once",ol.control.Attribution.prototype.once),goog.exportProperty(ol.control.Attribution.prototype,"un",ol.control.Attribution.prototype.un),goog.exportProperty(ol.control.FullScreen.prototype,"getMap",ol.control.FullScreen.prototype.getMap),goog.exportProperty(ol.control.FullScreen.prototype,"setMap",ol.control.FullScreen.prototype.setMap),goog.exportProperty(ol.control.FullScreen.prototype,"setTarget",ol.control.FullScreen.prototype.setTarget),goog.exportProperty(ol.control.FullScreen.prototype,"get",ol.control.FullScreen.prototype.get),goog.exportProperty(ol.control.FullScreen.prototype,"getKeys",ol.control.FullScreen.prototype.getKeys),goog.exportProperty(ol.control.FullScreen.prototype,"getProperties",ol.control.FullScreen.prototype.getProperties),goog.exportProperty(ol.control.FullScreen.prototype,"set",ol.control.FullScreen.prototype.set),goog.exportProperty(ol.control.FullScreen.prototype,"setProperties",ol.control.FullScreen.prototype.setProperties),goog.exportProperty(ol.control.FullScreen.prototype,"unset",ol.control.FullScreen.prototype.unset),goog.exportProperty(ol.control.FullScreen.prototype,"changed",ol.control.FullScreen.prototype.changed),goog.exportProperty(ol.control.FullScreen.prototype,"dispatchEvent",ol.control.FullScreen.prototype.dispatchEvent),goog.exportProperty(ol.control.FullScreen.prototype,"getRevision",ol.control.FullScreen.prototype.getRevision),goog.exportProperty(ol.control.FullScreen.prototype,"on",ol.control.FullScreen.prototype.on),goog.exportProperty(ol.control.FullScreen.prototype,"once",ol.control.FullScreen.prototype.once),goog.exportProperty(ol.control.FullScreen.prototype,"un",ol.control.FullScreen.prototype.un),goog.exportProperty(ol.control.MousePosition.prototype,"getMap",ol.control.MousePosition.prototype.getMap),goog.exportProperty(ol.control.MousePosition.prototype,"setMap",ol.control.MousePosition.prototype.setMap),goog.exportProperty(ol.control.MousePosition.prototype,"setTarget",ol.control.MousePosition.prototype.setTarget),goog.exportProperty(ol.control.MousePosition.prototype,"get",ol.control.MousePosition.prototype.get),goog.exportProperty(ol.control.MousePosition.prototype,"getKeys",ol.control.MousePosition.prototype.getKeys),goog.exportProperty(ol.control.MousePosition.prototype,"getProperties",ol.control.MousePosition.prototype.getProperties),goog.exportProperty(ol.control.MousePosition.prototype,"set",ol.control.MousePosition.prototype.set),goog.exportProperty(ol.control.MousePosition.prototype,"setProperties",ol.control.MousePosition.prototype.setProperties),goog.exportProperty(ol.control.MousePosition.prototype,"unset",ol.control.MousePosition.prototype.unset),goog.exportProperty(ol.control.MousePosition.prototype,"changed",ol.control.MousePosition.prototype.changed),goog.exportProperty(ol.control.MousePosition.prototype,"dispatchEvent",ol.control.MousePosition.prototype.dispatchEvent),goog.exportProperty(ol.control.MousePosition.prototype,"getRevision",ol.control.MousePosition.prototype.getRevision),goog.exportProperty(ol.control.MousePosition.prototype,"on",ol.control.MousePosition.prototype.on),goog.exportProperty(ol.control.MousePosition.prototype,"once",ol.control.MousePosition.prototype.once),goog.exportProperty(ol.control.MousePosition.prototype,"un",ol.control.MousePosition.prototype.un),goog.exportProperty(ol.control.OverviewMap.prototype,"getMap",ol.control.OverviewMap.prototype.getMap),goog.exportProperty(ol.control.OverviewMap.prototype,"setMap",ol.control.OverviewMap.prototype.setMap),goog.exportProperty(ol.control.OverviewMap.prototype,"setTarget",ol.control.OverviewMap.prototype.setTarget),goog.exportProperty(ol.control.OverviewMap.prototype,"get",ol.control.OverviewMap.prototype.get),goog.exportProperty(ol.control.OverviewMap.prototype,"getKeys",ol.control.OverviewMap.prototype.getKeys),goog.exportProperty(ol.control.OverviewMap.prototype,"getProperties",ol.control.OverviewMap.prototype.getProperties),goog.exportProperty(ol.control.OverviewMap.prototype,"set",ol.control.OverviewMap.prototype.set),goog.exportProperty(ol.control.OverviewMap.prototype,"setProperties",ol.control.OverviewMap.prototype.setProperties),goog.exportProperty(ol.control.OverviewMap.prototype,"unset",ol.control.OverviewMap.prototype.unset),goog.exportProperty(ol.control.OverviewMap.prototype,"changed",ol.control.OverviewMap.prototype.changed),goog.exportProperty(ol.control.OverviewMap.prototype,"dispatchEvent",ol.control.OverviewMap.prototype.dispatchEvent),goog.exportProperty(ol.control.OverviewMap.prototype,"getRevision",ol.control.OverviewMap.prototype.getRevision),goog.exportProperty(ol.control.OverviewMap.prototype,"on",ol.control.OverviewMap.prototype.on),goog.exportProperty(ol.control.OverviewMap.prototype,"once",ol.control.OverviewMap.prototype.once),goog.exportProperty(ol.control.OverviewMap.prototype,"un",ol.control.OverviewMap.prototype.un),goog.exportProperty(ol.control.Rotate.prototype,"getMap",ol.control.Rotate.prototype.getMap),goog.exportProperty(ol.control.Rotate.prototype,"setMap",ol.control.Rotate.prototype.setMap),goog.exportProperty(ol.control.Rotate.prototype,"setTarget",ol.control.Rotate.prototype.setTarget),goog.exportProperty(ol.control.Rotate.prototype,"get",ol.control.Rotate.prototype.get),goog.exportProperty(ol.control.Rotate.prototype,"getKeys",ol.control.Rotate.prototype.getKeys),goog.exportProperty(ol.control.Rotate.prototype,"getProperties",ol.control.Rotate.prototype.getProperties),goog.exportProperty(ol.control.Rotate.prototype,"set",ol.control.Rotate.prototype.set),goog.exportProperty(ol.control.Rotate.prototype,"setProperties",ol.control.Rotate.prototype.setProperties),goog.exportProperty(ol.control.Rotate.prototype,"unset",ol.control.Rotate.prototype.unset),goog.exportProperty(ol.control.Rotate.prototype,"changed",ol.control.Rotate.prototype.changed),goog.exportProperty(ol.control.Rotate.prototype,"dispatchEvent",ol.control.Rotate.prototype.dispatchEvent),goog.exportProperty(ol.control.Rotate.prototype,"getRevision",ol.control.Rotate.prototype.getRevision),goog.exportProperty(ol.control.Rotate.prototype,"on",ol.control.Rotate.prototype.on),goog.exportProperty(ol.control.Rotate.prototype,"once",ol.control.Rotate.prototype.once),goog.exportProperty(ol.control.Rotate.prototype,"un",ol.control.Rotate.prototype.un),goog.exportProperty(ol.control.ScaleLine.prototype,"getMap",ol.control.ScaleLine.prototype.getMap),goog.exportProperty(ol.control.ScaleLine.prototype,"setMap",ol.control.ScaleLine.prototype.setMap),goog.exportProperty(ol.control.ScaleLine.prototype,"setTarget",ol.control.ScaleLine.prototype.setTarget),goog.exportProperty(ol.control.ScaleLine.prototype,"get",ol.control.ScaleLine.prototype.get),goog.exportProperty(ol.control.ScaleLine.prototype,"getKeys",ol.control.ScaleLine.prototype.getKeys),goog.exportProperty(ol.control.ScaleLine.prototype,"getProperties",ol.control.ScaleLine.prototype.getProperties),goog.exportProperty(ol.control.ScaleLine.prototype,"set",ol.control.ScaleLine.prototype.set),goog.exportProperty(ol.control.ScaleLine.prototype,"setProperties",ol.control.ScaleLine.prototype.setProperties),goog.exportProperty(ol.control.ScaleLine.prototype,"unset",ol.control.ScaleLine.prototype.unset),goog.exportProperty(ol.control.ScaleLine.prototype,"changed",ol.control.ScaleLine.prototype.changed),goog.exportProperty(ol.control.ScaleLine.prototype,"dispatchEvent",ol.control.ScaleLine.prototype.dispatchEvent),goog.exportProperty(ol.control.ScaleLine.prototype,"getRevision",ol.control.ScaleLine.prototype.getRevision),goog.exportProperty(ol.control.ScaleLine.prototype,"on",ol.control.ScaleLine.prototype.on),goog.exportProperty(ol.control.ScaleLine.prototype,"once",ol.control.ScaleLine.prototype.once),goog.exportProperty(ol.control.ScaleLine.prototype,"un",ol.control.ScaleLine.prototype.un),goog.exportProperty(ol.control.Zoom.prototype,"getMap",ol.control.Zoom.prototype.getMap),goog.exportProperty(ol.control.Zoom.prototype,"setMap",ol.control.Zoom.prototype.setMap),goog.exportProperty(ol.control.Zoom.prototype,"setTarget",ol.control.Zoom.prototype.setTarget),goog.exportProperty(ol.control.Zoom.prototype,"get",ol.control.Zoom.prototype.get),goog.exportProperty(ol.control.Zoom.prototype,"getKeys",ol.control.Zoom.prototype.getKeys),goog.exportProperty(ol.control.Zoom.prototype,"getProperties",ol.control.Zoom.prototype.getProperties),goog.exportProperty(ol.control.Zoom.prototype,"set",ol.control.Zoom.prototype.set),goog.exportProperty(ol.control.Zoom.prototype,"setProperties",ol.control.Zoom.prototype.setProperties),goog.exportProperty(ol.control.Zoom.prototype,"unset",ol.control.Zoom.prototype.unset),goog.exportProperty(ol.control.Zoom.prototype,"changed",ol.control.Zoom.prototype.changed),goog.exportProperty(ol.control.Zoom.prototype,"dispatchEvent",ol.control.Zoom.prototype.dispatchEvent),goog.exportProperty(ol.control.Zoom.prototype,"getRevision",ol.control.Zoom.prototype.getRevision),goog.exportProperty(ol.control.Zoom.prototype,"on",ol.control.Zoom.prototype.on),goog.exportProperty(ol.control.Zoom.prototype,"once",ol.control.Zoom.prototype.once),goog.exportProperty(ol.control.Zoom.prototype,"un",ol.control.Zoom.prototype.un),goog.exportProperty(ol.control.ZoomSlider.prototype,"getMap",ol.control.ZoomSlider.prototype.getMap),goog.exportProperty(ol.control.ZoomSlider.prototype,"setMap",ol.control.ZoomSlider.prototype.setMap),goog.exportProperty(ol.control.ZoomSlider.prototype,"setTarget",ol.control.ZoomSlider.prototype.setTarget),goog.exportProperty(ol.control.ZoomSlider.prototype,"get",ol.control.ZoomSlider.prototype.get),goog.exportProperty(ol.control.ZoomSlider.prototype,"getKeys",ol.control.ZoomSlider.prototype.getKeys),goog.exportProperty(ol.control.ZoomSlider.prototype,"getProperties",ol.control.ZoomSlider.prototype.getProperties),goog.exportProperty(ol.control.ZoomSlider.prototype,"set",ol.control.ZoomSlider.prototype.set),goog.exportProperty(ol.control.ZoomSlider.prototype,"setProperties",ol.control.ZoomSlider.prototype.setProperties),goog.exportProperty(ol.control.ZoomSlider.prototype,"unset",ol.control.ZoomSlider.prototype.unset),goog.exportProperty(ol.control.ZoomSlider.prototype,"changed",ol.control.ZoomSlider.prototype.changed),goog.exportProperty(ol.control.ZoomSlider.prototype,"dispatchEvent",ol.control.ZoomSlider.prototype.dispatchEvent),goog.exportProperty(ol.control.ZoomSlider.prototype,"getRevision",ol.control.ZoomSlider.prototype.getRevision),goog.exportProperty(ol.control.ZoomSlider.prototype,"on",ol.control.ZoomSlider.prototype.on),goog.exportProperty(ol.control.ZoomSlider.prototype,"once",ol.control.ZoomSlider.prototype.once),goog.exportProperty(ol.control.ZoomSlider.prototype,"un",ol.control.ZoomSlider.prototype.un),goog.exportProperty(ol.control.ZoomToExtent.prototype,"getMap",ol.control.ZoomToExtent.prototype.getMap),goog.exportProperty(ol.control.ZoomToExtent.prototype,"setMap",ol.control.ZoomToExtent.prototype.setMap),goog.exportProperty(ol.control.ZoomToExtent.prototype,"setTarget",ol.control.ZoomToExtent.prototype.setTarget),goog.exportProperty(ol.control.ZoomToExtent.prototype,"get",ol.control.ZoomToExtent.prototype.get),goog.exportProperty(ol.control.ZoomToExtent.prototype,"getKeys",ol.control.ZoomToExtent.prototype.getKeys),goog.exportProperty(ol.control.ZoomToExtent.prototype,"getProperties",ol.control.ZoomToExtent.prototype.getProperties),goog.exportProperty(ol.control.ZoomToExtent.prototype,"set",ol.control.ZoomToExtent.prototype.set),goog.exportProperty(ol.control.ZoomToExtent.prototype,"setProperties",ol.control.ZoomToExtent.prototype.setProperties),goog.exportProperty(ol.control.ZoomToExtent.prototype,"unset",ol.control.ZoomToExtent.prototype.unset),goog.exportProperty(ol.control.ZoomToExtent.prototype,"changed",ol.control.ZoomToExtent.prototype.changed),goog.exportProperty(ol.control.ZoomToExtent.prototype,"dispatchEvent",ol.control.ZoomToExtent.prototype.dispatchEvent),goog.exportProperty(ol.control.ZoomToExtent.prototype,"getRevision",ol.control.ZoomToExtent.prototype.getRevision),goog.exportProperty(ol.control.ZoomToExtent.prototype,"on",ol.control.ZoomToExtent.prototype.on),goog.exportProperty(ol.control.ZoomToExtent.prototype,"once",ol.control.ZoomToExtent.prototype.once),goog.exportProperty(ol.control.ZoomToExtent.prototype,"un",ol.control.ZoomToExtent.prototype.un),ol.VERSION="v4.6.4",OPENLAYERS.ol=ol,OPENLAYERS.ol},module.exports=factory()},"2KeS":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,n,i=o("nSxQ"),l="object"==typeof self&&self&&self.Object===Object&&self,a=(i.a||l||Function("return this")()).Symbol,s=Object.prototype,p=s.hasOwnProperty,u=s.toString,c=a?a.toStringTag:void 0,g=Object.prototype.toString,d=a?a.toStringTag:void 0,h=(r=Object.getPrototypeOf,n=Object,function(e){return r(n(e))}),y=Function.prototype,f=Object.prototype,m=y.toString,v=f.hasOwnProperty,_=m.call(Object),S=function(e){if(!function(e){return null!=e&&"object"==typeof e}(e)||"[object Object]"!=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":d&&d in Object(e)?function(e){var t=p.call(e,c),o=e[c];try{e[c]=void 0;var r=!0}catch(e){}var n=u.call(e);return r&&(t?e[c]=o:delete e[c]),n}(e):function(e){return g.call(e)}(e)}(e))return!1;var t=h(e);if(null===t)return!0;var o=v.call(t,"constructor")&&t.constructor;return"function"==typeof o&&o instanceof o&&m.call(o)==_},x=o("OfDJ"),E={INIT:"@@redux/INIT"};function P(e,t,o){var r;if("function"==typeof t&&"undefined"==typeof o&&(o=t,t=void 0),"undefined"!=typeof o){if("function"!=typeof o)throw new Error("Expected the enhancer to be a function.");return o(P)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var n=e,i=t,l=[],a=l,s=!1;function p(){a===l&&(a=l.slice())}function u(){return i}function c(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return p(),a.push(e),function(){if(t){t=!1,p();var o=a.indexOf(e);a.splice(o,1)}}}function g(e){if(!S(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(s)throw new Error("Reducers may not dispatch actions.");try{s=!0,i=n(i,e)}finally{s=!1}for(var t=l=a,o=0;o<t.length;o++)(0,t[o])();return e}return g({type:E.INIT}),(r={dispatch:g,subscribe:c,getState:u,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");n=e,g({type:E.INIT})}})[x.a]=function(){var e,t=c;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function o(){e.next&&e.next(u())}return o(),{unsubscribe:t(o)}}})[x.a]=function(){return this},e},r}function b(e,t){var o=t&&t.type;return"Given action "+(o&&'"'+o.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function T(e){for(var t=Object.keys(e),o={},r=0;r<t.length;r++){var n=t[r];"function"==typeof e[n]&&(o[n]=e[n])}var i=Object.keys(o),l=void 0;try{!function(e){Object.keys(e).forEach(function(t){var o=e[t];if("undefined"==typeof o(void 0,{type:E.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if("undefined"==typeof o(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+E.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(o)}catch(e){l=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(l)throw l;for(var r=!1,n={},a=0;a<i.length;a++){var s=i[a],p=e[s],u=(0,o[s])(p,t);if("undefined"==typeof u){var c=b(s,t);throw new Error(c)}n[s]=u,r=r||u!==p}return r?n:e}}function C(e,t){return function(){return t(e.apply(void 0,arguments))}}function R(e,t){if("function"==typeof e)return C(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var o=Object.keys(e),r={},n=0;n<o.length;n++){var i=o[n],l=e[i];"function"==typeof l&&(r[i]=C(l,t))}return r}function w(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}var M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e};function L(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return function(e){return function(o,r,n){var i,l=e(o,r,n),a=l.dispatch,s={getState:l.getState,dispatch:function(e){return a(e)}};return i=t.map(function(e){return e(s)}),a=w.apply(void 0,i)(l.dispatch),M({},l,{dispatch:a})}}}o.d(t,"createStore",function(){return P}),o.d(t,"combineReducers",function(){return T}),o.d(t,"bindActionCreators",function(){return R}),o.d(t,"applyMiddleware",function(){return L}),o.d(t,"compose",function(){return w})},"3a3m":function(e,t,o){"use strict";var r=o("TToO"),n=o("g5jc"),i=o("YaPU"),l=o("OVmG"),a=o("VwZZ");function s(){return function(e){return e.lift(new p(e))}}var p=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var o=this.connectable;o._refCount++;var r=new u(e,o),n=t.subscribe(r);return r.closed||(r.connection=o.connect()),n},e}(),u=function(e){function t(t,o){e.call(this,t),this.connectable=o}return Object(r.__extends)(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var o=this.connection,r=e._connection;this.connection=null,!r||o&&r!==o||r.unsubscribe()}}else this.connection=null},t}(l.a),c=function(e){function t(t,o){e.call(this),this.source=t,this.subjectFactory=o,this._refCount=0,this._isComplete=!1}return Object(r.__extends)(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new a.a).add(this.source.subscribe(new d(this.getSubject(),this))),e.closed?(this._connection=null,e=a.a.EMPTY):this._connection=e),e},t.prototype.refCount=function(){return s()(this)},t}(i.Observable).prototype,g={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:c._subscribe},_isComplete:{value:c._isComplete,writable:!0},getSubject:{value:c.getSubject},connect:{value:c.connect},refCount:{value:c.refCount}},d=function(e){function t(t,o){e.call(this,t),this.connectable=o}return Object(r.__extends)(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(n.b);function h(){return new n.a}t.a=function(){return function(e){return s()((t=h,function(e){var o;o="function"==typeof t?t:function(){return t};var r=Object.create(e,g);return r.source=e,r.subjectFactory=o,r})(e));var t}}},"4zOZ":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o.d(t,"BehaviorSubject",function(){return l});var r=o("TToO"),n=o("g5jc"),i=o("x6VL"),l=function(e){function t(t){e.call(this),this._value=t}return Object(r.__extends)(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var o=e.prototype._subscribe.call(this,t);return o&&!o.closed&&t.next(this._value),o},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.a;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(n.a)},"8D5t":function(e,t,o){"use strict";var r=o("Qnch");function n(e){return e}t.a=function(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),Object(r.a)(n,null,e)}},"8TEH":function(e,t,o){"use strict";var r=o("TToO").__extends;Object.defineProperty(t,"__esModule",{value:!0});var n=o("2KeS"),i=o("WT6e"),l=o("YaPU"),a=o("4zOZ");o("owTz"),o("o53x"),o("aTdd"),o("VwFy");var s=o("EF/a"),p=o("9wc/"),u=o("pi71"),c=o("0+5j"),g=o("1HBC");t.RootStore=function(e){function t(t){var o=e.call(this)||this;return o.ngZone=t,o.configureStore=function(e,t,r,i){void 0===r&&(r=[]),void 0===i&&(i=[]),u.assert(!o._store,"Store already configured!"),o.setStore(n.compose.apply(null,[n.applyMiddleware.apply(void 0,r)].concat(i))(n.createStore)(g.enableFractalReducers(e),t))},o.provideStore=function(e){u.assert(!o._store,"Store already configured!"),o.setStore(e)},o.getState=function(){return o._store.getState()},o.subscribe=function(e){return o._store.subscribe(e)},o.replaceReducer=function(e){o._store.replaceReducer(e)},o.dispatch=function(e){return u.assert(!!o._store,"Dispatch failed: did you forget to configure your store? https://github.com/angular-redux/@angular-redux/core/blob/master/README.md#quick-start"),i.NgZone.isInAngularZone()?o._store.dispatch(e):o.ngZone.run(function(){return o._store.dispatch(e)})},o.select=function(e,t){return o._store$.distinctUntilChanged().map(p.resolveToFunctionSelector(e)).distinctUntilChanged(t)},o.configureSubStore=function(e,t){return new c.SubStore(o,e,t)},o.storeToObservable=function(e){return new l.Observable(function(t){t.next(e.getState());var o=e.subscribe(function(){return t.next(e.getState())});return function(){o(),t.complete()}})},s.NgRedux.instance=o,o._store$=new a.BehaviorSubject(void 0).filter(function(e){return void 0!==e}).switchMap(function(e){return e}),o}return r(t,e),t.prototype.setStore=function(e){this._store=e;var t=this.storeToObservable(e);this._store$.next(t)},t}(s.NgRedux)},"9wc/":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o("kXUM");t.sniffSelectorType=function(e){return e?Array.isArray(e)?"path":"function"==typeof e?"function":"property":"nil"},t.resolver=function(e){return{property:function(t){return t?t[e]:void 0},path:function(t){return r.getIn(t,e)},function:e,nil:function(e){return e}}},t.resolveToFunctionSelector=function(e){return t.resolver(e)[t.sniffSelectorType(e)]}},AMGY:function(e,t,o){"use strict";(function(e){o.d(t,"a",function(){return i});var r="undefined"!=typeof window&&window,n="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,i=r||"undefined"!=typeof e&&e||n}).call(t,o("DuR2"))},BCSO:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o("EF/a");o("Ll0b"),o("aTdd");var n="@angular-redux::substore::class::options",i="@angular-redux::substore::instance::selections",l="@angular-redux::substore::instance::basepath";t.setClassOptions=function(e,t){e[n]=t};var a=function(e){return e["@angular-redux::substore::instance::store"]};t.getBaseStore=function(e){if(r.NgRedux.instance){var t=function(e){return e.constructor[n]}(e);if(!t)return r.NgRedux.instance;var o=e[t.basePathMethodName]();return function(e,t){return e[l]!==(t||[]).toString()}(e,o)&&(function(e){e[i]=null,e["@angular-redux::substore::instance::store"]=null,e[l]=null}(e),function(e,t){e[l]=(t||[]).toString()}(e,o)),o?(a(e)||function(e,t){e["@angular-redux::substore::instance::store"]=t}(e,r.NgRedux.instance.configureSubStore(o,t.localReducer)),a(e)):r.NgRedux.instance}},t.getInstanceSelection=function(e,o,r,n,l){var a=t.getBaseStore(e);if(a){var s=function(e){var t=e[i]||{};return e[i]=t,t}(e);return s[o]=s[o]||(n?a.select(r).let(n).distinctUntilChanged(l):a.select(r,l)),s[o]}}},BX3T:function(e,t,o){"use strict";o.d(t,"a",function(){return r});var r=Array.isArray||function(e){return e&&"number"==typeof e.length}},DuR2:function(e,t){var o;o=function(){return this}();try{o=o||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(o=window)}e.exports=o},"EF/a":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NgRedux=function(){function e(){}return e.instance=void 0,e}()},GK6M:function(e,t,o){"use strict";t.a=function(e){return r=e,i};var r,n=o("fKB6");function i(){try{return r.apply(this,arguments)}catch(e){return n.a.e=e,n.a}}},HdCx:function(e,t,o){"use strict";t.a=function(e,t){return function(o){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return o.lift(new i(e,t))}};var r=o("TToO"),n=o("OVmG"),i=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.project,this.thisArg))},e}(),l=function(e){function t(t,o,r){e.call(this,t),this.project=o,this.count=0,this.thisArg=r||this}return Object(r.__extends)(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(n.a)},I7Tu:function(e,t,o){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e};Object.defineProperty(t,"__esModule",{value:!0}),t.setIn=function(e,o,n){var i,l=o[0],a=o.slice(1);return r({},e,((i={})[l]=0===a.length?n:t.setIn(e[l]||{},a,n),i))}},Jnfr:function(e,t){function o(e){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+e+"'.")})}o.keys=function(){return[]},o.resolve=o,e.exports=o,o.id="Jnfr"},Ll0b:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o("YaPU");function n(e){return e(this)}r.Observable.prototype.let=n,r.Observable.prototype.letBind=n},MTKS:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o("WT6e"),n=(o("EF/a"),o("WT6e")),i="undefined"!=typeof window?window:{};t.DevToolsExtension=function(){function e(e,t){var o=this;this.appRef=e,this.ngRedux=t,this.enhancer=function(e){var t;return o.isEnabled()?(i.devToolsExtension.listen(function(e){var r=e.type;"START"===r?t=o.ngRedux.subscribe(function(){n.NgZone.isInAngularZone()||o.appRef.tick()}):"STOP"===r&&t()}),i.devToolsExtension(e)):null},this.isEnabled=function(){return i&&i.devToolsExtension}}return e.decorators=[{type:r.Injectable}],e}()},N4j0:function(e,t,o){"use strict";o.d(t,"a",function(){return r});var r=function(e){return e&&"number"==typeof e.length}},OVmG:function(e,t,o){"use strict";o.d(t,"a",function(){return s});var r=o("TToO"),n=o("/iUD"),i=o("VwZZ"),l=o("t7NR"),a=o("tLDX"),s=function(e){function t(o,r,n){switch(e.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=l.a;break;case 1:if(!o){this.destination=l.a;break}if("object"==typeof o){o instanceof t?(this.syncErrorThrowable=o.syncErrorThrowable,this.destination=o,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new p(this,o));break}default:this.syncErrorThrowable=!0,this.destination=new p(this,o,r,n)}}return Object(r.__extends)(t,e),t.prototype[a.a]=function(){return this},t.create=function(e,o,r){var n=new t(e,o,r);return n.syncErrorThrowable=!1,n},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this},t}(i.a),p=function(e){function t(t,o,r,i){var a;e.call(this),this._parentSubscriber=t;var s=this;Object(n.a)(o)?a=o:o&&(a=o.next,r=o.error,i=o.complete,o!==l.a&&(s=Object.create(o),Object(n.a)(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=a,this._error=r,this._complete=i}return Object(r.__extends)(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber;if(this._error)t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else{if(!t.syncErrorThrowable)throw this.unsubscribe(),e;t.syncErrorValue=e,t.syncErrorThrown=!0,this.unsubscribe()}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var o=function(){return e._complete.call(e._context)};t.syncErrorThrowable?(this.__tryOrSetError(t,o),this.unsubscribe()):(this.__tryOrUnsub(o),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){throw this.unsubscribe(),e}},t.prototype.__tryOrSetError=function(e,t,o){try{t.call(this._context,o)}catch(t){return e.syncErrorValue=t,e.syncErrorThrown=!0,!0}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(s)},OfDJ:function(e,t,o){"use strict";(function(e,r){var n,i=o("yJZY");n="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof e?e:r;var l=Object(i.a)(n);t.a=l}).call(t,o("DuR2"),o("f1Eh")(e))},PIsA:function(e,t,o){"use strict";var r=o("AMGY"),n=o("N4j0"),i=o("cQXm"),l=o("dgOU"),a=o("YaPU"),s=o("etqZ"),p=o("TToO"),u=function(e){function t(t,o,r){e.call(this),this.parent=t,this.outerValue=o,this.outerIndex=r,this.index=0}return Object(p.__extends)(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(o("OVmG").a),c=o("+CnV");t.a=function(e,t,o,p){var g=new u(e,o,p);if(g.closed)return null;if(t instanceof a.Observable)return t._isScalar?(g.next(t.value),g.complete(),null):(g.syncErrorThrowable=!0,t.subscribe(g));if(Object(n.a)(t)){for(var d=0,h=t.length;d<h&&!g.closed;d++)g.next(t[d]);g.closed||g.complete()}else{if(Object(i.a)(t))return t.then(function(e){g.closed||(g.next(e),g.complete())},function(e){return g.error(e)}).then(null,function(e){r.a.setTimeout(function(){throw e})}),g;if(t&&"function"==typeof t[s.a])for(var y=t[s.a]();;){var f=y.next();if(f.done){g.complete();break}if(g.next(f.value),g.closed)break}else if(t&&"function"==typeof t[c.a]){var m=t[c.a]();if("function"==typeof m.subscribe)return m.subscribe(new u(e,o,p));g.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var v=Object(l.a)(t)?"an invalid object":"'"+t+"'";g.error(new TypeError("You provided "+v+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}}return null}},Qnch:function(e,t,o){"use strict";t.a=function(e,t,o){return void 0===o&&(o=Number.POSITIVE_INFINITY),function(r){return"number"==typeof t&&(o=t,t=null),r.lift(new l(e,t,o))}};var r=o("TToO"),n=o("PIsA"),i=o("tZ2B"),l=function(){function e(e,t,o){void 0===o&&(o=Number.POSITIVE_INFINITY),this.project=e,this.resultSelector=t,this.concurrent=o}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.project,this.resultSelector,this.concurrent))},e}(),a=function(e){function t(t,o,r,n){void 0===n&&(n=Number.POSITIVE_INFINITY),e.call(this,t),this.project=o,this.resultSelector=r,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return Object(r.__extends)(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,o=this.index++;try{t=this.project(e,o)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t,e,o)},t.prototype._innerSub=function(e,t,o){this.add(Object(n.a)(this,e,t,o))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},t.prototype.notifyNext=function(e,t,o,r,n){this.resultSelector?this._notifyResultSelector(e,t,o,r):this.destination.next(t)},t.prototype._notifyResultSelector=function(e,t,o,r){var n;try{n=this.resultSelector(e,t,o,r)}catch(e){return void this.destination.error(e)}this.destination.next(n)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(i.a)},Rf9G:function(e,t,o){"use strict";t.a=function(){return Object(r.a)()(this)};var r=o("3a3m")},TILf:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var r=o("TToO"),n=function(e){function t(t,o){e.call(this),this.value=t,this.scheduler=o,this._isScalar=!0,o&&(this._isScalar=!1)}return Object(r.__extends)(t,e),t.create=function(e,o){return new t(e,o)},t.dispatch=function(e){var t=e.value,o=e.subscriber;e.done?o.complete():(o.next(t),o.closed||(e.done=!0,this.schedule(e)))},t.prototype._subscribe=function(e){var o=this.value,r=this.scheduler;if(r)return r.schedule(t.dispatch,0,{done:!1,value:o,subscriber:e});e.next(o),e.closed||e.complete()},t}(o("YaPU").Observable)},TToO:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__extends=function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},o.d(t,"__assign",function(){return n}),t.__rest=function(e,t){var o={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(o[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(o[r[n]]=e[r[n]])}return o},t.__decorate=function(e,t,o,r){var n,i=arguments.length,l=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(l=(i<3?n(l):i>3?n(t,o,l):n(t,o))||l);return i>3&&l&&Object.defineProperty(t,o,l),l},t.__param=function(e,t){return function(o,r){t(o,r,e)}},t.__metadata=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},t.__awaiter=function(e,t,o,r){return new(o||(o=Promise))(function(n,i){function l(e){try{s(r.next(e))}catch(e){i(e)}}function a(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?n(e.value):new o(function(t){t(e.value)}).then(l,a)}s((r=r.apply(e,t||[])).next())})},t.__generator=function(e,t){var o,r,n,i,l={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,r&&(n=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[0,n.value]),i[0]){case 0:case 1:n=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,r=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(n=(n=l.trys).length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){l.label=i[1];break}if(6===i[0]&&l.label<n[1]){l.label=n[1],n=i;break}if(n&&l.label<n[2]){l.label=n[2],l.ops.push(i);break}n[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e],r=0}finally{o=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},t.__exportStar=function(e,t){for(var o in e)t.hasOwnProperty(o)||(t[o]=e[o])},t.__values=i,t.__read=l,t.__spread=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(l(arguments[t]));return e},t.__await=a,t.__asyncGenerator=function(e,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,n=o.apply(e,t||[]),i=[];return r={},l("next"),l("throw"),l("return"),r[Symbol.asyncIterator]=function(){return this},r;function l(e){n[e]&&(r[e]=function(t){return new Promise(function(o,r){i.push([e,t,o,r])>1||s(e,t)})})}function s(e,t){try{(o=n[e](t)).value instanceof a?Promise.resolve(o.value.v).then(p,u):c(i[0][2],o)}catch(e){c(i[0][3],e)}var o}function p(e){s("next",e)}function u(e){s("throw",e)}function c(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}},t.__asyncDelegator=function(e){var t,o;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,n){e[r]&&(t[r]=function(t){return(o=!o)?{value:a(e[r](t)),done:"return"===r}:n?n(t):t})}},t.__asyncValues=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator];return t?t.call(e):"function"==typeof i?i(e):e[Symbol.iterator]()},t.__makeTemplateObject=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},t.__importStar=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t},t.__importDefault=function(e){return e&&e.__esModule?e:{default:e}};var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},n=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e};function i(e){var t="function"==typeof Symbol&&e[Symbol.iterator],o=0;return t?t.call(e):{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}}}function l(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var r,n,i=o.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)l.push(r.value)}catch(e){n={error:e}}finally{try{r&&!r.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}return l}function a(e){return this instanceof a?(this.v=e,this):new a(e)}},"U/B2":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o("WT6e"),n=o("EF/a"),i=o("8TEH"),l=o("MTKS");function a(e){return new i.RootStore(e)}t._ngReduxFactory=a,t.NgReduxModule=function(){function e(){}return e.decorators=[{type:r.NgModule,args:[{providers:[l.DevToolsExtension,{provide:n.NgRedux,useFactory:a,deps:[r.NgZone]}]}]}],e}()},Uw6n:function(e,t,o){"use strict";t.a=function(e,t){return Object(r.a)(e,t)(this)};var r=o("w9is")},Veqx:function(e,t,o){"use strict";o.d(t,"a",function(){return s});var r=o("TToO"),n=o("YaPU"),i=o("TILf"),l=o("+3/4"),a=o("1Q68"),s=function(e){function t(t,o){e.call(this),this.array=t,this.scheduler=o,o||1!==t.length||(this._isScalar=!0,this.value=t[0])}return Object(r.__extends)(t,e),t.create=function(e,o){return new t(e,o)},t.of=function(){for(var e=[],o=0;o<arguments.length;o++)e[o-0]=arguments[o];var r=e[e.length-1];Object(a.a)(r)?e.pop():r=null;var n=e.length;return n>1?new t(e,r):1===n?new i.a(e[0],r):new l.a(r)},t.dispatch=function(e){var t=e.array,o=e.index,r=e.subscriber;o>=e.count?r.complete():(r.next(t[o]),r.closed||(e.index=o+1,this.schedule(e)))},t.prototype._subscribe=function(e){var o=this.array,r=o.length,n=this.scheduler;if(n)return n.schedule(t.dispatch,0,{array:o,index:0,count:r,subscriber:e});for(var i=0;i<r&&!e.closed;i++)e.next(o[i]);e.complete()},t}(n.Observable)},VwFy:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o("YaPU"),n=o("TToO"),i=o("tZ2B"),l=o("PIsA"),a=function(){function e(e,t){this.project=e,this.resultSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.project,this.resultSelector))},e}(),s=function(e){function t(t,o,r){e.call(this,t),this.project=o,this.resultSelector=r,this.index=0}return Object(n.__extends)(t,e),t.prototype._next=function(e){var t,o=this.index++;try{t=this.project(e,o)}catch(e){return void this.destination.error(e)}this._innerSub(t,e,o)},t.prototype._innerSub=function(e,t,o){var r=this.innerSubscription;r&&r.unsubscribe(),this.add(this.innerSubscription=Object(l.a)(this,e,t,o))},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){this.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,o,r,n){this.resultSelector?this._tryNotifyNext(e,t,o,r):this.destination.next(t)},t.prototype._tryNotifyNext=function(e,t,o,r){var n;try{n=this.resultSelector(e,t,o,r)}catch(e){return void this.destination.error(e)}this.destination.next(n)},t}(i.a);r.Observable.prototype.switchMap=function(e,t){return function(e,t){return function(o){return o.lift(new a(e,t))}}(e,t)(this)}},VwZZ:function(e,t,o){"use strict";var r=o("BX3T"),n=o("dgOU"),i=o("/iUD"),l=o("GK6M"),a=o("fKB6"),s=o("TToO"),p=function(e){function t(t){e.call(this),this.errors=t;var o=Error.call(this,t?t.length+" errors occurred during unsubscription:\n  "+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"");this.name=o.name="UnsubscriptionError",this.stack=o.stack,this.message=o.message}return Object(s.__extends)(t,e),t}(Error);o.d(t,"a",function(){return u});var u=function(){function e(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var o=this._parent,s=this._parents,u=this._unsubscribe,g=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var d=-1,h=s?s.length:0;o;)o.remove(this),o=++d<h&&s[d]||null;if(Object(i.a)(u)&&Object(l.a)(u).call(this)===a.a&&(t=!0,e=e||(a.a.e instanceof p?c(a.a.e.errors):[a.a.e])),Object(r.a)(g))for(d=-1,h=g.length;++d<h;){var y=g[d];if(Object(n.a)(y)&&Object(l.a)(y.unsubscribe).call(y)===a.a){t=!0,e=e||[];var f=a.a.e;f instanceof p?e=e.concat(c(f.errors)):e.push(f)}}if(t)throw new p(e)}},e.prototype.add=function(t){if(!t||t===e.EMPTY)return e.EMPTY;if(t===this)return this;var o=t;switch(typeof t){case"function":o=new e(t);case"object":if(o.closed||"function"!=typeof o.unsubscribe)return o;if(this.closed)return o.unsubscribe(),o;if("function"!=typeof o._addParent){var r=o;(o=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(o),o._addParent(this),o},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var o=t.indexOf(e);-1!==o&&t.splice(o,1)}},e.prototype._addParent=function(e){var t=this._parent,o=this._parents;t&&t!==e?o?-1===o.indexOf(e)&&o.push(e):this._parents=[e]:this._parent=e},e.EMPTY=((t=new e).closed=!0,t),e}();function c(e){return e.reduce(function(e,t){return e.concat(t instanceof p?t.errors:t)},[])}},WT6e:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){o.d(t,"createPlatform",function(){return ao}),o.d(t,"assertPlatform",function(){return po}),o.d(t,"destroyPlatform",function(){return uo}),o.d(t,"getPlatform",function(){return co}),o.d(t,"PlatformRef",function(){return go}),o.d(t,"ApplicationRef",function(){return yo}),o.d(t,"enableProdMode",function(){return no}),o.d(t,"isDevMode",function(){return io}),o.d(t,"createPlatformFactory",function(){return so}),o.d(t,"NgProbeToken",function(){return lo}),o.d(t,"APP_ID",function(){return it}),o.d(t,"PACKAGE_ROOT_URL",function(){return gt}),o.d(t,"PLATFORM_INITIALIZER",function(){return pt}),o.d(t,"PLATFORM_ID",function(){return ut}),o.d(t,"APP_BOOTSTRAP_LISTENER",function(){return ct}),o.d(t,"APP_INITIALIZER",function(){return rt}),o.d(t,"ApplicationInitStatus",function(){return nt}),o.d(t,"DebugElement",function(){return qo}),o.d(t,"DebugNode",function(){return jo}),o.d(t,"asNativeElements",function(){return Vo}),o.d(t,"getDebugNode",function(){return Yo}),o.d(t,"Testability",function(){return zt}),o.d(t,"TestabilityRegistry",function(){return Jt}),o.d(t,"setTestabilityGetter",function(){return Qt}),o.d(t,"TRANSLATIONS",function(){return yr}),o.d(t,"TRANSLATIONS_FORMAT",function(){return fr}),o.d(t,"LOCALE_ID",function(){return hr}),o.d(t,"MissingTranslationStrategy",function(){return mr}),o.d(t,"ApplicationModule",function(){return xr}),o.d(t,"wtfCreateScope",function(){return kt}),o.d(t,"wtfLeave",function(){return jt}),o.d(t,"wtfStartTimeRange",function(){return qt}),o.d(t,"wtfEndTimeRange",function(){return Vt}),o.d(t,"Type",function(){return De}),o.d(t,"EventEmitter",function(){return Ut}),o.d(t,"ErrorHandler",function(){return Re}),o.d(t,"Sanitizer",function(){return Pr}),o.d(t,"SecurityContext",function(){return Er}),o.d(t,"ANALYZE_FOR_ENTRY_COMPONENTS",function(){return m}),o.d(t,"Attribute",function(){return v}),o.d(t,"ContentChild",function(){return x}),o.d(t,"ContentChildren",function(){return S}),o.d(t,"Query",function(){return _}),o.d(t,"ViewChild",function(){return P}),o.d(t,"ViewChildren",function(){return E}),o.d(t,"Component",function(){return w}),o.d(t,"Directive",function(){return R}),o.d(t,"HostBinding",function(){return I}),o.d(t,"HostListener",function(){return A}),o.d(t,"Input",function(){return L}),o.d(t,"Output",function(){return O}),o.d(t,"Pipe",function(){return M}),o.d(t,"CUSTOM_ELEMENTS_SCHEMA",function(){return D}),o.d(t,"NO_ERRORS_SCHEMA",function(){return N}),o.d(t,"NgModule",function(){return F}),o.d(t,"ViewEncapsulation",function(){return G}),o.d(t,"Version",function(){return k}),o.d(t,"VERSION",function(){return j}),o.d(t,"forwardRef",function(){return te}),o.d(t,"resolveForwardRef",function(){return oe}),o.d(t,"Injector",function(){return ae}),o.d(t,"ReflectiveInjector",function(){return $e}),o.d(t,"ResolvedReflectiveFactory",function(){return Ke}),o.d(t,"ReflectiveKey",function(){return Ie}),o.d(t,"InjectionToken",function(){return p}),o.d(t,"Inject",function(){return q}),o.d(t,"Optional",function(){return V}),o.d(t,"Injectable",function(){return U}),o.d(t,"Self",function(){return B}),o.d(t,"SkipSelf",function(){return W}),o.d(t,"Host",function(){return Y}),o.d(t,"NgZone",function(){return Bt}),o.d(t,"RenderComponentType",function(){return mo}),o.d(t,"Renderer",function(){return _o}),o.d(t,"Renderer2",function(){return Po}),o.d(t,"RendererFactory2",function(){return xo}),o.d(t,"RendererStyleFlags2",function(){return Eo}),o.d(t,"RootRenderer",function(){return So}),o.d(t,"COMPILER_OPTIONS",function(){return mt}),o.d(t,"Compiler",function(){return ft}),o.d(t,"CompilerFactory",function(){return vt}),o.d(t,"ModuleWithComponentFactories",function(){return ht}),o.d(t,"ComponentFactory",function(){return St}),o.d(t,"ComponentRef",function(){return _t}),o.d(t,"ComponentFactoryResolver",function(){return Ct}),o.d(t,"ElementRef",function(){return bo}),o.d(t,"NgModuleFactory",function(){return Lt}),o.d(t,"NgModuleRef",function(){return Mt}),o.d(t,"NgModuleFactoryLoader",function(){return To}),o.d(t,"getModuleFactory",function(){return wo}),o.d(t,"QueryList",function(){return Mo}),o.d(t,"SystemJsNgModuleLoader",function(){return Io}),o.d(t,"SystemJsNgModuleLoaderConfig",function(){return Lo}),o.d(t,"TemplateRef",function(){return Do}),o.d(t,"ViewContainerRef",function(){return No}),o.d(t,"EmbeddedViewRef",function(){return ko}),o.d(t,"ViewRef",function(){return Go}),o.d(t,"ChangeDetectionStrategy",function(){return b}),o.d(t,"ChangeDetectorRef",function(){return Fo}),o.d(t,"DefaultIterableDiffer",function(){return er}),o.d(t,"IterableDiffers",function(){return sr}),o.d(t,"KeyValueDiffers",function(){return pr}),o.d(t,"SimpleChange",function(){return Ho}),o.d(t,"WrappedValue",function(){return Zo}),o.d(t,"platformCore",function(){return dr}),o.d(t,"\u0275ALLOW_MULTIPLE_PLATFORMS",function(){return ro}),o.d(t,"\u0275APP_ID_RANDOM_PROVIDER",function(){return at}),o.d(t,"\u0275devModeEqual",function(){return Xo}),o.d(t,"\u0275isListLikeIterable",function(){return zo}),o.d(t,"\u0275ChangeDetectorStatus",function(){return T}),o.d(t,"\u0275isDefaultChangeDetectionStrategy",function(){return C}),o.d(t,"\u0275Console",function(){return dt}),o.d(t,"\u0275ComponentFactory",function(){return St}),o.d(t,"\u0275CodegenComponentFactoryResolver",function(){return Rt}),o.d(t,"\u0275ReflectionCapabilities",function(){return je}),o.d(t,"\u0275RenderDebugInfo",function(){return vo}),o.d(t,"\u0275global",function(){return Z}),o.d(t,"\u0275looseIdentical",function(){return $}),o.d(t,"\u0275stringify",function(){return ee}),o.d(t,"\u0275makeDecorator",function(){return d}),o.d(t,"\u0275isObservable",function(){return ot}),o.d(t,"\u0275isPromise",function(){return tt}),o.d(t,"\u0275clearOverrides",function(){return Ql}),o.d(t,"\u0275overrideComponentView",function(){return Jl}),o.d(t,"\u0275overrideProvider",function(){return zl}),o.d(t,"\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR",function(){return Ei}),o.d(t,"\u0275defineComponent",function(){return is}),o.d(t,"\u0275detectChanges",function(){return ns}),o.d(t,"\u0275renderComponent",function(){return rs}),o.d(t,"\u0275C",function(){return Wa}),o.d(t,"\u0275D",function(){return Ba}),o.d(t,"\u0275E",function(){return Aa}),o.d(t,"\u0275T",function(){return Va}),o.d(t,"\u0275V",function(){return Za}),o.d(t,"\u0275b",function(){return $a}),o.d(t,"\u0275b1",function(){return es}),o.d(t,"\u0275c",function(){return Ya}),o.d(t,"\u0275cR",function(){return Ka}),o.d(t,"\u0275cr",function(){return Xa}),o.d(t,"\u0275e",function(){return Ga}),o.d(t,"\u0275p",function(){return ka}),o.d(t,"\u0275s",function(){return qa}),o.d(t,"\u0275t",function(){return Ua}),o.d(t,"\u0275v",function(){return Ha}),o.d(t,"\u0275registerModuleFactory",function(){return Ro}),o.d(t,"\u0275EMPTY_ARRAY",function(){return xn}),o.d(t,"\u0275EMPTY_MAP",function(){return En}),o.d(t,"\u0275and",function(){return Pn}),o.d(t,"\u0275ccf",function(){return Un}),o.d(t,"\u0275cmf",function(){return $l}),o.d(t,"\u0275crt",function(){return Ur}),o.d(t,"\u0275did",function(){return gi}),o.d(t,"\u0275eld",function(){return bn}),o.d(t,"\u0275elementEventFullName",function(){return en}),o.d(t,"\u0275getComponentViewDefinitionFactory",function(){return Bn}),o.d(t,"\u0275inlineInterpolate",function(){return _n}),o.d(t,"\u0275interpolate",function(){return vn}),o.d(t,"\u0275mod",function(){return An}),o.d(t,"\u0275mpd",function(){return In}),o.d(t,"\u0275ncd",function(){return Di}),o.d(t,"\u0275nov",function(){return ei}),o.d(t,"\u0275pid",function(){return di}),o.d(t,"\u0275prd",function(){return hi}),o.d(t,"\u0275pad",function(){return Gi}),o.d(t,"\u0275pod",function(){return ki}),o.d(t,"\u0275ppd",function(){return Fi}),o.d(t,"\u0275qud",function(){return Mi}),o.d(t,"\u0275ted",function(){return qi}),o.d(t,"\u0275unv",function(){return jr}),o.d(t,"\u0275vid",function(){return Bi}),o.d(t,"AUTO_STYLE",function(){return ms}),o.d(t,"trigger",function(){return vs}),o.d(t,"animate",function(){return _s}),o.d(t,"group",function(){return Ss}),o.d(t,"sequence",function(){return xs}),o.d(t,"style",function(){return Es}),o.d(t,"state",function(){return Ps}),o.d(t,"keyframes",function(){return bs}),o.d(t,"transition",function(){return Ts}),o.d(t,"\u0275bf",function(){return us}),o.d(t,"\u0275bg",function(){return cs}),o.d(t,"\u0275bk",function(){return ys}),o.d(t,"\u0275bh",function(){return gs}),o.d(t,"\u0275bj",function(){return hs}),o.d(t,"\u0275bi",function(){return ds}),o.d(t,"\u0275bl",function(){return fs}),o.d(t,"\u0275be",function(){return ps}),o.d(t,"\u0275n",function(){return vr}),o.d(t,"\u0275o",function(){return _r}),o.d(t,"\u0275q",function(){return Sr}),o.d(t,"\u0275i",function(){return lt}),o.d(t,"\u0275j",function(){return cr}),o.d(t,"\u0275k",function(){return gr}),o.d(t,"\u0275l",function(){return Qo}),o.d(t,"\u0275m",function(){return ir}),o.d(t,"\u0275f",function(){return et}),o.d(t,"\u0275g",function(){return Be}),o.d(t,"\u0275h",function(){return Ze}),o.d(t,"\u0275r",function(){return Ft}),o.d(t,"\u0275w",function(){return It}),o.d(t,"\u0275u",function(){return Ot}),o.d(t,"\u0275z",function(){return Nt}),o.d(t,"\u0275x",function(){return At}),o.d(t,"\u0275y",function(){return Dt}),o.d(t,"\u0275bc",function(){return ha}),o.d(t,"\u0275a",function(){return y}),o.d(t,"\u0275d",function(){return f}),o.d(t,"\u0275ba",function(){return yi}),o.d(t,"\u0275bb",function(){return Or});var r=o("TToO"),n=o("YaPU"),i=o("/nXB"),l=o("Rf9G"),a=o("g5jc"),s=o("VwZZ"),p=function(){function e(e){this._desc=e,this.ngMetadataName="InjectionToken"}return e.prototype.toString=function(){return"InjectionToken "+this._desc},e}(),u="__annotations__",c="__paramaters__",g="__prop__metadata__";function d(e,t,o,r){var n=h(t);function i(e){if(this instanceof i)return n.call(this,e),this;var t=new i(e),o=function(e){return(e.hasOwnProperty(u)?e[u]:Object.defineProperty(e,u,{value:[]})[u]).push(t),e};return r&&r(o),o}return o&&(i.prototype=Object.create(o.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}function h(e){return function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];if(e){var r=e.apply(void 0,t);for(var n in r)this[n]=r[n]}}}function y(e,t,o){var r=h(t);function n(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this instanceof n)return r.apply(this,e),this;var o,i=new((o=n).bind.apply(o,[void 0].concat(e)));return l.annotation=i,l;function l(e,t,o){for(var r=e.hasOwnProperty(c)?e[c]:Object.defineProperty(e,c,{value:[]})[c];r.length<=o;)r.push(null);return(r[o]=r[o]||[]).push(i),e}}return o&&(n.prototype=Object.create(o.prototype)),n.prototype.ngMetadataName=e,n.annotationCls=n,n}function f(e,t,o){var r=h(t);function n(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this instanceof n)return r.apply(this,e),this;var o,i=new((o=n).bind.apply(o,[void 0].concat(e)));return function(e,t){var o=e.constructor,r=o.hasOwnProperty(g)?o[g]:Object.defineProperty(o,g,{value:{}})[g];r[t]=r.hasOwnProperty(t)&&r[t]||[],r[t].unshift(i)}}return o&&(n.prototype=Object.create(o.prototype)),n.prototype.ngMetadataName=e,n.annotationCls=n,n}var m=new p("AnalyzeForEntryComponents"),v=y("Attribute",function(e){return{attributeName:e}}),_=function(){},S=f("ContentChildren",function(e,t){return void 0===t&&(t={}),Object(r.__assign)({selector:e,first:!1,isViewQuery:!1,descendants:!1},t)},_),x=f("ContentChild",function(e,t){return void 0===t&&(t={}),Object(r.__assign)({selector:e,first:!0,isViewQuery:!1,descendants:!0},t)},_),E=f("ViewChildren",function(e,t){return void 0===t&&(t={}),Object(r.__assign)({selector:e,first:!1,isViewQuery:!0,descendants:!0},t)},_),P=f("ViewChild",function(e,t){return Object(r.__assign)({selector:e,first:!0,isViewQuery:!0,descendants:!0},t)},_),b=function(){var e={OnPush:0,Default:1};return e[e.OnPush]="OnPush",e[e.Default]="Default",e}(),T=function(){var e={CheckOnce:0,Checked:1,CheckAlways:2,Detached:3,Errored:4,Destroyed:5};return e[e.CheckOnce]="CheckOnce",e[e.Checked]="Checked",e[e.CheckAlways]="CheckAlways",e[e.Detached]="Detached",e[e.Errored]="Errored",e[e.Destroyed]="Destroyed",e}();function C(e){return null==e||e===b.Default}var R=d("Directive",function(e){return void 0===e&&(e={}),e}),w=d("Component",function(e){return void 0===e&&(e={}),Object(r.__assign)({changeDetection:b.Default},e)},R),M=d("Pipe",function(e){return Object(r.__assign)({pure:!0},e)}),L=f("Input",function(e){return{bindingPropertyName:e}}),O=f("Output",function(e){return{bindingPropertyName:e}}),I=f("HostBinding",function(e){return{hostPropertyName:e}}),A=f("HostListener",function(e,t){return{eventName:e,args:t}}),D={name:"custom-elements"},N={name:"no-errors-schema"},F=d("NgModule",function(e){return e}),G=function(){var e={Emulated:0,Native:1,None:2};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e}(),k=function(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},j=new k("5.2.6"),q=y("Inject",function(e){return{token:e}}),V=y("Optional"),U=d("Injectable"),B=y("Self"),W=y("SkipSelf"),Y=y("Host"),K="undefined"!=typeof window&&window,X="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Z=K||"undefined"!=typeof e&&e||X,H=Promise.resolve(0),z=null;function J(){if(!z){var e=Z.Symbol;if(e&&e.iterator)z=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),o=0;o<t.length;++o){var r=t[o];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(z=r)}}return z}function Q(e){"undefined"==typeof Zone?H.then(function(){e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}function $(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function ee(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(ee).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;var t=e.toString();if(null==t)return""+t;var o=t.indexOf("\n");return-1===o?t:t.substring(0,o)}function te(e){return e.__forward_ref__=te,e.toString=function(){return ee(this())},e}function oe(e){return"function"==typeof e&&e.hasOwnProperty("__forward_ref__")&&e.__forward_ref__===te?e():e}var re="__source",ne=new Object,ie=ne,le=function(){function e(){}return e.prototype.get=function(e,t){if(void 0===t&&(t=ne),t===ne)throw new Error("NullInjectorError: No provider for "+ee(e)+"!");return t},e}(),ae=function(){function e(){}return e.create=function(e,t){return Array.isArray(e)?new me(e,t):new me(e.providers,e.parent,e.name||null)},e.THROW_IF_NOT_FOUND=ne,e.NULL=new le,e}(),se=function(e){return e},pe=[],ue=se,ce=function(){return Array.prototype.slice.call(arguments)},ge={},de=function(e){for(var t in e)if(e[t]===ge)return t;throw Error("!prop")}({provide:String,useValue:ge}),he=ae.NULL,ye=/\n/gm,fe="\u0275",me=function(){function e(e,t,o){void 0===t&&(t=he),void 0===o&&(o=null),this.parent=t,this.source=o;var r=this._records=new Map;r.set(ae,{token:ae,fn:se,deps:pe,value:this,useNew:!1}),function e(t,o){if(o)if((o=oe(o))instanceof Array)for(var r=0;r<o.length;r++)e(t,o[r]);else{if("function"==typeof o)throw Se("Function/Class not supported",o);if(!o||"object"!=typeof o||!o.provide)throw Se("Unexpected provider",o);var n=oe(o.provide),i=function(e){var t=function(e){var t=pe,o=e.deps;if(o&&o.length){t=[];for(var r=0;r<o.length;r++){var n=6;if((s=oe(o[r]))instanceof Array)for(var i=0,l=s;i<l.length;i++){var a=l[i];a instanceof V||a==V?n|=1:a instanceof W||a==W?n&=-3:a instanceof B||a==B?n&=-5:s=a instanceof q?a.token:oe(a)}t.push({token:s,options:n})}}else if(e.useExisting){var s;t=[{token:s=oe(e.useExisting),options:6}]}else if(!(o||de in e))throw Se("'deps' required",e);return t}(e),o=se,r=pe,n=!1,i=oe(e.provide);if(de in e)r=e.useValue;else if(e.useFactory)o=e.useFactory;else if(e.useExisting);else if(e.useClass)n=!0,o=oe(e.useClass);else{if("function"!=typeof i)throw Se("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",e);n=!0,o=i}return{deps:t,fn:o,useNew:n,value:r}}(o);if(!0===o.multi){var l=t.get(n);if(l){if(l.fn!==ce)throw ve(n)}else t.set(n,l={token:o.provide,deps:[],useNew:!1,fn:ce,value:pe});l.deps.push({token:n=o,options:6})}var a=t.get(n);if(a&&a.fn==ce)throw ve(n);t.set(n,i)}}(r,e)}return e.prototype.get=function(e,t){var o=this._records.get(e);try{return function e(t,o,r,n,i){try{return function(t,o,r,n,i){var l,a;if(o){if((l=o.value)==ue)throw Error(fe+"Circular dependency");if(l===pe){o.value=ue;var s=o.useNew,p=o.fn,u=o.deps,c=pe;if(u.length){c=[];for(var g=0;g<u.length;g++){var d=u[g],h=d.options,y=2&h?r.get(d.token):void 0;c.push(e(d.token,y,r,y||4&h?n:he,1&h?null:ae.THROW_IF_NOT_FOUND))}}o.value=l=s?new((a=p).bind.apply(a,[void 0].concat(c))):p.apply(void 0,c)}}else l=n.get(t,i);return l}(t,o,r,n,i)}catch(e){throw e instanceof Error||(e=new Error(e)),(e.ngTempTokenPath=e.ngTempTokenPath||[]).unshift(t),o&&o.value==ue&&(o.value=pe),e}}(e,o,this._records,this.parent,t)}catch(t){var r=t.ngTempTokenPath;throw e[re]&&r.unshift(e[re]),t.message=_e("\n"+t.message,r,this.source),t.ngTokenPath=r,t.ngTempTokenPath=null,t}},e.prototype.toString=function(){var e=[];return this._records.forEach(function(t,o){return e.push(ee(o))}),"StaticInjector["+e.join(", ")+"]"},e}();function ve(e){return Se("Cannot mix multi providers and regular providers",e)}function _e(e,t,o){void 0===o&&(o=null),e=e&&"\n"===e.charAt(0)&&e.charAt(1)==fe?e.substr(2):e;var r=ee(t);if(t instanceof Array)r=t.map(ee).join(" -> ");else if("object"==typeof t){var n=[];for(var i in t)if(t.hasOwnProperty(i)){var l=t[i];n.push(i+":"+("string"==typeof l?JSON.stringify(l):ee(l)))}r="{"+n.join(", ")+"}"}return"StaticInjectorError"+(o?"("+o+")":"")+"["+r+"]: "+e.replace(ye,"\n  ")}function Se(e,t){return new Error(_e(e,t))}var xe="ngDebugContext",Ee="ngOriginalError",Pe="ngErrorLogger";function be(e){return e[xe]}function Te(e){return e[Ee]}function Ce(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];e.error.apply(e,t)}var Re=function(){function e(){this._console=console}return e.prototype.handleError=function(e){var t=this._findOriginalError(e),o=this._findContext(e),r=function(e){return e[Pe]||Ce}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),o&&r(this._console,"ERROR CONTEXT",o)},e.prototype._findContext=function(e){return e?be(e)?be(e):this._findContext(Te(e)):null},e.prototype._findOriginalError=function(e){for(var t=Te(e);t&&Te(t);)t=Te(t);return t},e}();function we(e){return e.length>1?" ("+function(e){for(var t=[],o=0;o<e.length;++o){if(t.indexOf(e[o])>-1)return t.push(e[o]),t;t.push(e[o])}return t}(e.slice().reverse()).map(function(e){return ee(e.token)}).join(" -> ")+")":""}function Me(e,t,o,r){var n=[t],i=o(n),l=r?function(e,t){var o=i+" caused by: "+(t instanceof Error?t.message:t),r=Error(o);return r[Ee]=t,r}(0,r):Error(i);return l.addKey=Le,l.keys=n,l.injectors=[e],l.constructResolvingMessage=o,l[Ee]=r,l}function Le(e,t){this.injectors.push(e),this.keys.push(t),this.message=this.constructResolvingMessage(this.keys)}function Oe(e,t){for(var o=[],r=0,n=t.length;r<n;r++){var i=t[r];o.push(i&&0!=i.length?i.map(ee).join(" "):"?")}return Error("Cannot resolve all parameters for '"+ee(e)+"'("+o.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+ee(e)+"' is decorated with Injectable.")}var Ie=function(){function e(e,t){if(this.token=e,this.id=t,!e)throw new Error("Token must be defined!");this.displayName=ee(this.token)}return e.get=function(e){return Ae.get(oe(e))},Object.defineProperty(e,"numberOfKeys",{get:function(){return Ae.numberOfKeys},enumerable:!0,configurable:!0}),e}(),Ae=new(function(){function e(){this._allKeys=new Map}return e.prototype.get=function(e){if(e instanceof Ie)return e;if(this._allKeys.has(e))return this._allKeys.get(e);var t=new Ie(e,Ie.numberOfKeys);return this._allKeys.set(e,t),t},Object.defineProperty(e.prototype,"numberOfKeys",{get:function(){return this._allKeys.size},enumerable:!0,configurable:!0}),e}()),De=Function;function Ne(e){return"function"==typeof e}var Fe=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,Ge=/^class\s+[A-Za-z\d$_]*\s*extends\s+[A-Za-z\d$_]+\s*{/,ke=/^class\s+[A-Za-z\d$_]*\s*extends\s+[A-Za-z\d$_]+\s*{[\s\S]*constructor\s*\(/,je=function(){function e(e){this._reflect=e||Z.Reflect}return e.prototype.isReflectionEnabled=function(){return!0},e.prototype.factory=function(e){return function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];return new(e.bind.apply(e,[void 0].concat(t)))}},e.prototype._zipTypesAndAnnotations=function(e,t){var o;o="undefined"==typeof e?new Array(t.length):new Array(e.length);for(var r=0;r<o.length;r++)o[r]="undefined"==typeof e?[]:e[r]!=Object?[e[r]]:[],t&&null!=t[r]&&(o[r]=o[r].concat(t[r]));return o},e.prototype._ownParameters=function(e,t){var o=e.toString();if(Fe.exec(o)||Ge.exec(o)&&!ke.exec(o))return null;if(e.parameters&&e.parameters!==t.parameters)return e.parameters;var r=e.ctorParameters;if(r&&r!==t.ctorParameters){var n="function"==typeof r?r():r,i=n.map(function(e){return e&&e.type}),l=n.map(function(e){return e&&qe(e.decorators)});return this._zipTypesAndAnnotations(i,l)}var a=e.hasOwnProperty(c)&&e[c],s=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",e);return s||a?this._zipTypesAndAnnotations(s,a):new Array(e.length).fill(void 0)},e.prototype.parameters=function(e){if(!Ne(e))return[];var t=Ve(e),o=this._ownParameters(e,t);return o||t===Object||(o=this.parameters(t)),o||[]},e.prototype._ownAnnotations=function(e,t){if(e.annotations&&e.annotations!==t.annotations){var o=e.annotations;return"function"==typeof o&&o.annotations&&(o=o.annotations),o}return e.decorators&&e.decorators!==t.decorators?qe(e.decorators):e.hasOwnProperty(u)?e[u]:null},e.prototype.annotations=function(e){if(!Ne(e))return[];var t=Ve(e),o=this._ownAnnotations(e,t)||[];return(t!==Object?this.annotations(t):[]).concat(o)},e.prototype._ownPropMetadata=function(e,t){if(e.propMetadata&&e.propMetadata!==t.propMetadata){var o=e.propMetadata;return"function"==typeof o&&o.propMetadata&&(o=o.propMetadata),o}if(e.propDecorators&&e.propDecorators!==t.propDecorators){var r=e.propDecorators,n={};return Object.keys(r).forEach(function(e){n[e]=qe(r[e])}),n}return e.hasOwnProperty(g)?e[g]:null},e.prototype.propMetadata=function(e){if(!Ne(e))return{};var t=Ve(e),o={};if(t!==Object){var r=this.propMetadata(t);Object.keys(r).forEach(function(e){o[e]=r[e]})}var n=this._ownPropMetadata(e,t);return n&&Object.keys(n).forEach(function(e){var t=[];o.hasOwnProperty(e)&&t.push.apply(t,o[e]),t.push.apply(t,n[e]),o[e]=t}),o},e.prototype.hasLifecycleHook=function(e,t){return e instanceof De&&t in e.prototype},e.prototype.guards=function(e){return{}},e.prototype.getter=function(e){return new Function("o","return o."+e+";")},e.prototype.setter=function(e){return new Function("o","v","return o."+e+" = v;")},e.prototype.method=function(e){return new Function("o","args","if (!o."+e+") throw new Error('\""+e+"\" is undefined');\n        return o."+e+".apply(o, args);")},e.prototype.importUri=function(e){return"object"==typeof e&&e.filePath?e.filePath:"./"+ee(e)},e.prototype.resourceUri=function(e){return"./"+ee(e)},e.prototype.resolveIdentifier=function(e,t,o,r){return r},e.prototype.resolveEnum=function(e,t){return e[t]},e}();function qe(e){return e?e.map(function(e){var t=e.type.annotationCls;return new(t.bind.apply(t,[void 0].concat(e.args?e.args:[])))}):[]}function Ve(e){var t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}var Ue=new(function(){function e(e){this.reflectionCapabilities=e}return e.prototype.updateCapabilities=function(e){this.reflectionCapabilities=e},e.prototype.factory=function(e){return this.reflectionCapabilities.factory(e)},e.prototype.parameters=function(e){return this.reflectionCapabilities.parameters(e)},e.prototype.annotations=function(e){return this.reflectionCapabilities.annotations(e)},e.prototype.propMetadata=function(e){return this.reflectionCapabilities.propMetadata(e)},e.prototype.hasLifecycleHook=function(e,t){return this.reflectionCapabilities.hasLifecycleHook(e,t)},e.prototype.getter=function(e){return this.reflectionCapabilities.getter(e)},e.prototype.setter=function(e){return this.reflectionCapabilities.setter(e)},e.prototype.method=function(e){return this.reflectionCapabilities.method(e)},e.prototype.importUri=function(e){return this.reflectionCapabilities.importUri(e)},e.prototype.resourceUri=function(e){return this.reflectionCapabilities.resourceUri(e)},e.prototype.resolveIdentifier=function(e,t,o,r){return this.reflectionCapabilities.resolveIdentifier(e,t,o,r)},e.prototype.resolveEnum=function(e,t){return this.reflectionCapabilities.resolveEnum(e,t)},e}())(new je),Be=function(){function e(e,t,o){this.key=e,this.optional=t,this.visibility=o}return e.fromKey=function(t){return new e(t,!1,null)},e}(),We=[],Ye=function(e,t,o){this.key=e,this.resolvedFactories=t,this.multiProvider=o,this.resolvedFactory=this.resolvedFactories[0]},Ke=function(e,t){this.factory=e,this.dependencies=t};function Xe(e){return new Ye(Ie.get(e.provide),[function(e){var t,o;if(e.useClass){var r=oe(e.useClass);t=Ue.factory(r),o=He(r)}else e.useExisting?(t=function(e){return e},o=[Be.fromKey(Ie.get(e.useExisting))]):e.useFactory?(t=e.useFactory,o=function(e,t){if(t){var o=t.map(function(e){return[e]});return t.map(function(t){return ze(e,t,o)})}return He(e)}(e.useFactory,e.deps)):(t=function(){return e.useValue},o=We);return new Ke(t,o)}(e)],e.multi||!1)}function Ze(e){var t=function(e,t){for(var o=0;o<e.length;o++){var r=e[o],n=t.get(r.key.id);if(n){if(r.multiProvider!==n.multiProvider)throw Error("Cannot mix multi providers and regular providers, got: "+n+" "+r);if(r.multiProvider)for(var i=0;i<r.resolvedFactories.length;i++)n.resolvedFactories.push(r.resolvedFactories[i]);else t.set(r.key.id,r)}else{var l;l=r.multiProvider?new Ye(r.key,r.resolvedFactories.slice(),r.multiProvider):r,t.set(r.key.id,l)}}return t}(function e(t,o){return t.forEach(function(t){if(t instanceof De)o.push({provide:t,useClass:t});else if(t&&"object"==typeof t&&void 0!==t.provide)o.push(t);else{if(!(t instanceof Array))throw Error("Invalid provider - only instances of Provider and Type are allowed, got: "+t);e(t,o)}}),o}(e,[]).map(Xe),new Map);return Array.from(t.values())}function He(e){var t=Ue.parameters(e);if(!t)return[];if(t.some(function(e){return null==e}))throw Oe(e,t);return t.map(function(o){return ze(e,o,t)})}function ze(e,t,o){var r=null,n=!1;if(!Array.isArray(t))return Je(t instanceof q?t.token:t,n,null);for(var i=null,l=0;l<t.length;++l){var a=t[l];a instanceof De?r=a:a instanceof q?r=a.token:a instanceof V?n=!0:a instanceof B||a instanceof W?i=a:a instanceof p&&(r=a)}if(null!=(r=oe(r)))return Je(r,n,i);throw Oe(e,o)}function Je(e,t,o){return new Be(Ie.get(e),t,o)}var Qe=new Object,$e=function(){function e(){}return e.resolve=function(e){return Ze(e)},e.resolveAndCreate=function(t,o){var r=e.resolve(t);return e.fromResolvedProviders(r,o)},e.fromResolvedProviders=function(e,t){return new et(e,t)},e}(),et=function(){function e(e,t){this._constructionCounter=0,this._providers=e,this.parent=t||null;var o=e.length;this.keyIds=new Array(o),this.objs=new Array(o);for(var r=0;r<o;r++)this.keyIds[r]=e[r].key.id,this.objs[r]=Qe}return e.prototype.get=function(e,t){return void 0===t&&(t=ie),this._getByKey(Ie.get(e),null,t)},e.prototype.resolveAndCreateChild=function(e){var t=$e.resolve(e);return this.createChildFromResolved(t)},e.prototype.createChildFromResolved=function(t){var o=new e(t);return o.parent=this,o},e.prototype.resolveAndInstantiate=function(e){return this.instantiateResolved($e.resolve([e])[0])},e.prototype.instantiateResolved=function(e){return this._instantiateProvider(e)},e.prototype.getProviderAtIndex=function(e){if(e<0||e>=this._providers.length)throw function(e){return Error("Index "+e+" is out-of-bounds.")}(e);return this._providers[e]},e.prototype._new=function(e){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw Me(this,e.key,function(e){return"Cannot instantiate cyclic dependency!"+we(e)});return this._instantiateProvider(e)},e.prototype._getMaxNumberOfObjects=function(){return this.objs.length},e.prototype._instantiateProvider=function(e){if(e.multiProvider){for(var t=new Array(e.resolvedFactories.length),o=0;o<e.resolvedFactories.length;++o)t[o]=this._instantiate(e,e.resolvedFactories[o]);return t}return this._instantiate(e,e.resolvedFactories[0])},e.prototype._instantiate=function(e,t){var o,r,n,i=this,l=t.factory;try{o=t.dependencies.map(function(e){return i._getByReflectiveDependency(e)})}catch(t){throw t.addKey&&t.addKey(this,e.key),t}try{r=l.apply(void 0,o)}catch(t){throw Me(this,e.key,function(e){var t=ee(e[0].token);return n.message+": Error during instantiation of "+t+"!"+we(e)+"."},n=t)}return r},e.prototype._getByReflectiveDependency=function(e){return this._getByKey(e.key,e.visibility,e.optional?null:ie)},e.prototype._getByKey=function(t,o,r){return t===e.INJECTOR_KEY?this:o instanceof B?this._getByKeySelf(t,r):this._getByKeyDefault(t,r,o)},e.prototype._getObjByKeyId=function(e){for(var t=0;t<this.keyIds.length;t++)if(this.keyIds[t]===e)return this.objs[t]===Qe&&(this.objs[t]=this._new(this._providers[t])),this.objs[t];return Qe},e.prototype._throwOrNull=function(e,t){if(t!==ie)return t;throw function(e,t){return Me(e,t,function(e){return"No provider for "+ee(e[0].token)+"!"+we(e)})}(this,e)},e.prototype._getByKeySelf=function(e,t){var o=this._getObjByKeyId(e.id);return o!==Qe?o:this._throwOrNull(e,t)},e.prototype._getByKeyDefault=function(t,o,r){var n;for(n=r instanceof W?this.parent:this;n instanceof e;){var i=n,l=i._getObjByKeyId(t.id);if(l!==Qe)return l;n=i.parent}return null!==n?n.get(t.token,o):this._throwOrNull(t,o)},Object.defineProperty(e.prototype,"displayName",{get:function(){return"ReflectiveInjector(providers: ["+function(e,t){for(var o=new Array(e._providers.length),r=0;r<e._providers.length;++r)o[r]=' "'+e.getProviderAtIndex(r).key.displayName+'" ';return o}(this).join(", ")+"])"},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return this.displayName},e.INJECTOR_KEY=Ie.get(ae),e}();function tt(e){return!!e&&"function"==typeof e.then}function ot(e){return!!e&&"function"==typeof e.subscribe}var rt=new p("Application Initializer"),nt=function(){function e(e){var t=this;this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(e,o){t.resolve=e,t.reject=o})}return e.prototype.runInitializers=function(){var e=this;if(!this.initialized){var t=[],o=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var n=this.appInits[r]();tt(n)&&t.push(n)}Promise.all(t).then(function(){o()}).catch(function(t){e.reject(t)}),0===t.length&&o(),this.initialized=!0}},e}(),it=new p("AppId");function lt(){return""+st()+st()+st()}var at={provide:it,useFactory:lt,deps:[]};function st(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var pt=new p("Platform Initializer"),ut=new p("Platform ID"),ct=new p("appBootstrapListener"),gt=new p("Application Packages Root URL"),dt=function(){function e(){}return e.prototype.log=function(e){console.log(e)},e.prototype.warn=function(e){console.warn(e)},e.ctorParameters=function(){return[]},e}(),ht=function(e,t){this.ngModuleFactory=e,this.componentFactories=t};function yt(){throw new Error("Runtime compiler is not loaded")}var ft=function(){function e(){}return e.prototype.compileModuleSync=function(e){throw yt()},e.prototype.compileModuleAsync=function(e){throw yt()},e.prototype.compileModuleAndAllComponentsSync=function(e){throw yt()},e.prototype.compileModuleAndAllComponentsAsync=function(e){throw yt()},e.prototype.clearCache=function(){},e.prototype.clearCacheFor=function(e){},e}(),mt=new p("compilerOptions"),vt=function(){},_t=function(){},St=function(){};function xt(e){var t=Error("No component factory found for "+ee(e)+". Did you add it to @NgModule.entryComponents?");return t[bt]=e,t}var Et,Pt,bt="ngComponent",Tt=function(){function e(){}return e.prototype.resolveComponentFactory=function(e){throw xt(e)},e}(),Ct=function(){function e(){}return e.NULL=new Tt,e}(),Rt=function(){function e(e,t,o){this._parent=t,this._ngModule=o,this._factories=new Map;for(var r=0;r<e.length;r++){var n=e[r];this._factories.set(n.componentType,n)}}return e.prototype.resolveComponentFactory=function(e){var t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw xt(e);return new wt(t,this._ngModule)},e}(),wt=function(e){function t(t,o){var r=e.call(this)||this;return r.factory=t,r.ngModule=o,r.selector=t.selector,r.componentType=t.componentType,r.ngContentSelectors=t.ngContentSelectors,r.inputs=t.inputs,r.outputs=t.outputs,r}return Object(r.__extends)(t,e),t.prototype.create=function(e,t,o,r){return this.factory.create(e,t,o,r||this.ngModule)},t}(St),Mt=function(){},Lt=function(){};function Ot(){var e=Z.wtf;return!(!e||!(Et=e.trace)||(Pt=Et.events,0))}function It(e,t){return void 0===t&&(t=null),Pt.createScope(e,t)}function At(e,t){return Et.leaveScope(e,t),t}function Dt(e,t){return Et.beginTimeRange(e,t)}function Nt(e){Et.endTimeRange(e)}var Ft=Ot();function Gt(e,t){return null}var kt=Ft?It:function(e,t){return Gt},jt=Ft?At:function(e,t){return t},qt=Ft?Dt:function(e,t){return null},Vt=Ft?Nt:function(e){return null},Ut=function(e){function t(t){void 0===t&&(t=!1);var o=e.call(this)||this;return o.__isAsync=t,o}return Object(r.__extends)(t,e),t.prototype.emit=function(t){e.prototype.next.call(this,t)},t.prototype.subscribe=function(t,o,r){var n,i=function(e){return null},l=function(){return null};t&&"object"==typeof t?(n=this.__isAsync?function(e){setTimeout(function(){return t.next(e)})}:function(e){t.next(e)},t.error&&(i=this.__isAsync?function(e){setTimeout(function(){return t.error(e)})}:function(e){t.error(e)}),t.complete&&(l=this.__isAsync?function(){setTimeout(function(){return t.complete()})}:function(){t.complete()})):(n=this.__isAsync?function(e){setTimeout(function(){return t(e)})}:function(e){t(e)},o&&(i=this.__isAsync?function(e){setTimeout(function(){return o(e)})}:function(e){o(e)}),r&&(l=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()}));var a=e.prototype.subscribe.call(this,n,i,l);return t instanceof s.a&&t.add(a),a},t}(a.a),Bt=function(){function e(e){var t,o=e.enableLongStackTrace,r=void 0!==o&&o;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ut(!1),this.onMicrotaskEmpty=new Ut(!1),this.onStable=new Ut(!1),this.onError=new Ut(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(t=this)._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(e,o,r,n,i,l){try{return Xt(t),e.invokeTask(r,n,i,l)}finally{Zt(t)}},onInvoke:function(e,o,r,n,i,l,a){try{return Xt(t),e.invoke(r,n,i,l,a)}finally{Zt(t)}},onHasTask:function(e,o,r,n){e.hasTask(r,n),o===r&&("microTask"==n.change?(t.hasPendingMicrotasks=n.microTask,Kt(t)):"macroTask"==n.change&&(t.hasPendingMacrotasks=n.macroTask))},onHandleError:function(e,o,r,n){return e.handleError(r,n),t.runOutsideAngular(function(){return t.onError.emit(n)}),!1}})}return e.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},e.assertInAngularZone=function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},e.assertNotInAngularZone=function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},e.prototype.run=function(e,t,o){return this._inner.run(e,t,o)},e.prototype.runTask=function(e,t,o,r){var n=this._inner,i=n.scheduleEventTask("NgZoneEvent: "+r,e,Yt,Wt,Wt);try{return n.runTask(i,t,o)}finally{n.cancelTask(i)}},e.prototype.runGuarded=function(e,t,o){return this._inner.runGuarded(e,t,o)},e.prototype.runOutsideAngular=function(e){return this._outer.run(e)},e}();function Wt(){}var Yt={};function Kt(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(function(){return e.onStable.emit(null)})}finally{e.isStable=!0}}}function Xt(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Zt(e){e._nesting--,Kt(e)}var Ht=function(){function e(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ut,this.onMicrotaskEmpty=new Ut,this.onStable=new Ut,this.onError=new Ut}return e.prototype.run=function(e){return e()},e.prototype.runGuarded=function(e){return e()},e.prototype.runOutsideAngular=function(e){return e()},e.prototype.runTask=function(e){return e()},e}(),zt=function(){function e(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents()}return e.prototype._watchAngularEvents=function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){e._ngZone.onStable.subscribe({next:function(){Bt.assertNotInAngularZone(),Q(function(){e._isZoneStable=!0,e._runCallbacksIfReady()})}})})},e.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},e.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},e.prototype.isStable=function(){return this._isZoneStable&&0==this._pendingCount&&!this._ngZone.hasPendingMacrotasks},e.prototype._runCallbacksIfReady=function(){var e=this;this.isStable()?Q(function(){for(;0!==e._callbacks.length;)e._callbacks.pop()(e._didWork);e._didWork=!1}):this._didWork=!0},e.prototype.whenStable=function(e){this._callbacks.push(e),this._runCallbacksIfReady()},e.prototype.getPendingRequestCount=function(){return this._pendingCount},e.prototype.findProviders=function(e,t,o){return[]},e}(),Jt=function(){function e(){this._applications=new Map,eo.addToWindow(this)}return e.prototype.registerApplication=function(e,t){this._applications.set(e,t)},e.prototype.unregisterApplication=function(e){this._applications.delete(e)},e.prototype.unregisterAllApplications=function(){this._applications.clear()},e.prototype.getTestability=function(e){return this._applications.get(e)||null},e.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},e.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},e.prototype.findTestabilityInTree=function(e,t){return void 0===t&&(t=!0),eo.findTestabilityInTree(this,e,t)},e.ctorParameters=function(){return[]},e}();function Qt(e){eo=e}var $t,eo=new(function(){function e(){}return e.prototype.addToWindow=function(e){},e.prototype.findTestabilityInTree=function(e,t,o){return null},e}()),to=!0,oo=!1,ro=new p("AllowMultipleToken");function no(){if(oo)throw new Error("Cannot enable prod mode after platform setup.");to=!1}function io(){return oo=!0,to}var lo=function(e,t){this.name=e,this.token=t};function ao(e){if($t&&!$t.destroyed&&!$t.injector.get(ro,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");$t=e.get(go);var t=e.get(pt,null);return t&&t.forEach(function(e){return e()}),$t}function so(e,t,o){void 0===o&&(o=[]);var r="Platform: "+t,n=new p(r);return function(t){void 0===t&&(t=[]);var i=co();if(!i||i.injector.get(ro,!1))if(e)e(o.concat(t).concat({provide:n,useValue:!0}));else{var l=o.concat(t).concat({provide:n,useValue:!0});ao(ae.create({providers:l,name:r}))}return po(n)}}function po(e){var t=co();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}function uo(){$t&&!$t.destroyed&&$t.destroy()}function co(){return $t&&!$t.destroyed?$t:null}var go=function(){function e(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return e.prototype.bootstrapModuleFactory=function(e,t){var o,r=this,n="noop"===(o=t?t.ngZone:void 0)?new Ht:("zone.js"===o?void 0:o)||new Bt({enableLongStackTrace:io()}),i=[{provide:Bt,useValue:n}];return n.run(function(){var t=ae.create({providers:i,parent:r.injector,name:e.moduleType.name}),o=e.create(t),l=o.injector.get(Re,null);if(!l)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o.onDestroy(function(){return fo(r._modules,o)}),n.runOutsideAngular(function(){return n.onError.subscribe({next:function(e){l.handleError(e)}})}),function(e,t,n){try{var i=((l=o.injector.get(nt)).runInitializers(),l.donePromise.then(function(){return r._moduleDoBootstrap(o),o}));return tt(i)?i.catch(function(o){throw t.runOutsideAngular(function(){return e.handleError(o)}),o}):i}catch(o){throw t.runOutsideAngular(function(){return e.handleError(o)}),o}var l}(l,n)})},e.prototype.bootstrapModule=function(e,t){var o=this;void 0===t&&(t=[]);var r=this.injector.get(vt),n=ho({},t);return r.createCompiler([n]).compileModuleAsync(e).then(function(e){return o.bootstrapModuleFactory(e,n)})},e.prototype._moduleDoBootstrap=function(e){var t=e.injector.get(yo);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(function(e){return t.bootstrap(e)});else{if(!e.instance.ngDoBootstrap)throw new Error("The module "+ee(e.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');e.instance.ngDoBootstrap(t)}this._modules.push(e)},e.prototype.onDestroy=function(e){this._destroyListeners.push(e)},Object.defineProperty(e.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(e){return e.destroy()}),this._destroyListeners.forEach(function(e){return e()}),this._destroyed=!0},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),e}();function ho(e,t){return Array.isArray(t)?t.reduce(ho,e):Object(r.__assign)({},e,t)}var yo=function(){function e(e,t,o,r,a,s){var p=this;this._zone=e,this._console=t,this._injector=o,this._exceptionHandler=r,this._componentFactoryResolver=a,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=io(),this._zone.onMicrotaskEmpty.subscribe({next:function(){p._zone.run(function(){p.tick()})}});var u=new n.Observable(function(e){p._stable=p._zone.isStable&&!p._zone.hasPendingMacrotasks&&!p._zone.hasPendingMicrotasks,p._zone.runOutsideAngular(function(){e.next(p._stable),e.complete()})}),c=new n.Observable(function(e){var t;p._zone.runOutsideAngular(function(){t=p._zone.onStable.subscribe(function(){Bt.assertNotInAngularZone(),Q(function(){p._stable||p._zone.hasPendingMacrotasks||p._zone.hasPendingMicrotasks||(p._stable=!0,e.next(!0))})})});var o=p._zone.onUnstable.subscribe(function(){Bt.assertInAngularZone(),p._stable&&(p._stable=!1,p._zone.runOutsideAngular(function(){e.next(!1)}))});return function(){t.unsubscribe(),o.unsubscribe()}});this.isStable=Object(i.a)(u,l.a.call(c))}return e.prototype.bootstrap=function(e,t){var o,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");o=e instanceof St?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(o.componentType);var n=o instanceof wt?null:this._injector.get(Mt),i=o.create(ae.NULL,[],t||o.selector,n);i.onDestroy(function(){r._unloadComponent(i)});var l=i.injector.get(zt,null);return l&&i.injector.get(Jt).registerApplication(i.location.nativeElement,l),this._loadComponent(i),io()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i},e.prototype.tick=function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var o=e._tickScope();try{this._runningTick=!0,this._views.forEach(function(e){return e.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(e){return e.checkNoChanges()})}catch(e){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(e)})}finally{this._runningTick=!1,jt(o)}},e.prototype.attachView=function(e){var t=e;this._views.push(t),t.attachToAppRef(this)},e.prototype.detachView=function(e){var t=e;fo(this._views,t),t.detachFromAppRef()},e.prototype._loadComponent=function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(ct,[]).concat(this._bootstrapListeners).forEach(function(t){return t(e)})},e.prototype._unloadComponent=function(e){this.detachView(e.hostView),fo(this.components,e)},e.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(e){return e.destroy()})},Object.defineProperty(e.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),e._tickScope=kt("ApplicationRef#tick()"),e}();function fo(e,t){var o=e.indexOf(t);o>-1&&e.splice(o,1)}var mo=function(e,t,o,r,n,i){this.id=e,this.templateUrl=t,this.slotCount=o,this.encapsulation=r,this.styles=n,this.animations=i},vo=function(){},_o=function(){},So=function(){},xo=function(){},Eo=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}(),Po=function(){},bo=function(e){this.nativeElement=e},To=function(){},Co=new Map;function Ro(e,t){var o=Co.get(e);if(o)throw new Error("Duplicate module registered for "+e+" - "+o.moduleType.name+" vs "+t.moduleType.name);Co.set(e,t)}function wo(e){var t=Co.get(e);if(!t)throw new Error("No module with ID "+e+" loaded");return t}var Mo=function(){function e(){this.dirty=!0,this._results=[],this.changes=new Ut,this.length=0}return e.prototype.map=function(e){return this._results.map(e)},e.prototype.filter=function(e){return this._results.filter(e)},e.prototype.find=function(e){return this._results.find(e)},e.prototype.reduce=function(e,t){return this._results.reduce(e,t)},e.prototype.forEach=function(e){this._results.forEach(e)},e.prototype.some=function(e){return this._results.some(e)},e.prototype.toArray=function(){return this._results.slice()},e.prototype[J()]=function(){return this._results[J()]()},e.prototype.toString=function(){return this._results.toString()},e.prototype.reset=function(e){this._results=function e(t){return t.reduce(function(t,o){var r=Array.isArray(o)?e(o):o;return t.concat(r)},[])}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},e.prototype.notifyOnChanges=function(){this.changes.emit(this)},e.prototype.setDirty=function(){this.dirty=!0},e.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},e}(),Lo=function(){},Oo={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Io=function(){function e(e,t){this._compiler=e,this._config=t||Oo}return e.prototype.load=function(e){return this._compiler instanceof ft?this.loadFactory(e):this.loadAndCompile(e)},e.prototype.loadAndCompile=function(e){var t=this,r=e.split("#"),n=r[0],i=r[1];return void 0===i&&(i="default"),o("Jnfr")(n).then(function(e){return e[i]}).then(function(e){return Ao(e,n,i)}).then(function(e){return t._compiler.compileModuleAsync(e)})},e.prototype.loadFactory=function(e){var t=e.split("#"),r=t[0],n=t[1],i="NgFactory";return void 0===n&&(n="default",i=""),o("Jnfr")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(function(e){return e[n+i]}).then(function(e){return Ao(e,r,n)})},e}();function Ao(e,t,o){if(!e)throw new Error("Cannot find '"+o+"' in '"+t+"'");return e}var Do=function(){},No=function(){},Fo=function(){},Go=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t}(Fo),ko=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t}(Go),jo=function(){function e(e,t,o){this._debugContext=o,this.nativeNode=e,t&&t instanceof qo?t.addChild(this):this.parent=null,this.listeners=[]}return Object.defineProperty(e.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),e}(),qo=function(e){function t(t,o,r){var n=e.call(this,t,o,r)||this;return n.properties={},n.attributes={},n.classes={},n.styles={},n.childNodes=[],n.nativeElement=t,n}return Object(r.__extends)(t,e),t.prototype.addChild=function(e){e&&(this.childNodes.push(e),e.parent=this)},t.prototype.removeChild=function(e){var t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))},t.prototype.insertChildrenAfter=function(e,t){var o,r=this,n=this.childNodes.indexOf(e);-1!==n&&((o=this.childNodes).splice.apply(o,[n+1,0].concat(t)),t.forEach(function(e){e.parent&&e.parent.removeChild(e),e.parent=r}))},t.prototype.insertBefore=function(e,t){var o=this.childNodes.indexOf(e);-1===o?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(o,0,t))},t.prototype.query=function(e){return this.queryAll(e)[0]||null},t.prototype.queryAll=function(e){var t=[];return Uo(this,e,t),t},t.prototype.queryAllNodes=function(e){var t=[];return Bo(this,e,t),t},Object.defineProperty(t.prototype,"children",{get:function(){return this.childNodes.filter(function(e){return e instanceof t})},enumerable:!0,configurable:!0}),t.prototype.triggerEventHandler=function(e,t){this.listeners.forEach(function(o){o.name==e&&o.callback(t)})},t}(jo);function Vo(e){return e.map(function(e){return e.nativeElement})}function Uo(e,t,o){e.childNodes.forEach(function(e){e instanceof qo&&(t(e)&&o.push(e),Uo(e,t,o))})}function Bo(e,t,o){e instanceof qo&&e.childNodes.forEach(function(e){t(e)&&o.push(e),e instanceof qo&&Bo(e,t,o)})}var Wo=new Map;function Yo(e){return Wo.get(e)||null}function Ko(e){Wo.set(e.nativeNode,e)}function Xo(e,t){var o=zo(e),r=zo(t);return o&&r?function(e,t,o){for(var r=e[J()](),n=t[J()]();;){var i=r.next(),l=n.next();if(i.done&&l.done)return!0;if(i.done||l.done)return!1;if(!o(i.value,l.value))return!1}}(e,t,Xo):!(o||!e||"object"!=typeof e&&"function"!=typeof e||r||!t||"object"!=typeof t&&"function"!=typeof t)||$(e,t)}var Zo=function(){function e(e){this.wrapped=e}return e.wrap=function(t){return new e(t)},e.unwrap=function(t){return e.isWrapped(t)?t.wrapped:t},e.isWrapped=function(t){return t instanceof e},e}(),Ho=function(){function e(e,t,o){this.previousValue=e,this.currentValue=t,this.firstChange=o}return e.prototype.isFirstChange=function(){return this.firstChange},e}();function zo(e){return!!Jo(e)&&(Array.isArray(e)||!(e instanceof Map)&&J()in e)}function Jo(e){return null!==e&&("function"==typeof e||"object"==typeof e)}var Qo=function(){function e(){}return e.prototype.supports=function(e){return zo(e)},e.prototype.create=function(e){return new er(e)},e}(),$o=function(e,t){return t},er=function(){function e(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||$o}return e.prototype.forEachItem=function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)},e.prototype.forEachOperation=function(e){for(var t=this._itHead,o=this._removalsHead,r=0,n=null;t||o;){var i=!o||t&&t.currentIndex<nr(o,r,n)?t:o,l=nr(i,r,n),a=i.currentIndex;if(i===o)r--,o=o._nextRemoved;else if(t=t._next,null==i.previousIndex)r++;else{n||(n=[]);var s=l-r,p=a-r;if(s!=p){for(var u=0;u<s;u++){var c=u<n.length?n[u]:n[u]=0,g=c+u;p<=g&&g<s&&(n[u]=c+1)}n[i.previousIndex]=p-s}}l!==a&&e(i,l,a)}},e.prototype.forEachPreviousItem=function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)},e.prototype.forEachAddedItem=function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)},e.prototype.forEachMovedItem=function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)},e.prototype.forEachRemovedItem=function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)},e.prototype.forEachIdentityChange=function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)},e.prototype.diff=function(e){if(null==e&&(e=[]),!zo(e))throw new Error("Error trying to diff '"+ee(e)+"'. Only arrays and iterables are allowed");return this.check(e)?this:null},e.prototype.onDestroy=function(){},e.prototype.check=function(e){var t=this;this._reset();var o,r,n,i=this._itHead,l=!1;if(Array.isArray(e)){this.length=e.length;for(var a=0;a<this.length;a++)n=this._trackByFn(a,r=e[a]),null!==i&&$(i.trackById,n)?(l&&(i=this._verifyReinsertion(i,r,n,a)),$(i.item,r)||this._addIdentityChange(i,r)):(i=this._mismatch(i,r,n,a),l=!0),i=i._next}else o=0,function(e,t){if(Array.isArray(e))for(var o=0;o<e.length;o++)t(e[o]);else for(var r=e[J()](),n=void 0;!(n=r.next()).done;)t(n.value)}(e,function(e){n=t._trackByFn(o,e),null!==i&&$(i.trackById,n)?(l&&(i=t._verifyReinsertion(i,e,n,o)),$(i.item,e)||t._addIdentityChange(i,e)):(i=t._mismatch(i,e,n,o),l=!0),i=i._next,o++}),this.length=o;return this._truncate(i),this.collection=e,this.isDirty},Object.defineProperty(e.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),e.prototype._reset=function(){if(this.isDirty){var e=void 0,t=void 0;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},e.prototype._mismatch=function(e,t,o,r){var n;return null===e?n=this._itTail:(n=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(o,r))?($(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,n,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?($(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,n,r)):e=this._addAfter(new tr(t,o),n,r),e},e.prototype._verifyReinsertion=function(e,t,o,r){var n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==n?e=this._reinsertAfter(n,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e},e.prototype._truncate=function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},e.prototype._reinsertAfter=function(e,t,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,n=e._nextRemoved;return null===r?this._removalsHead=n:r._nextRemoved=n,null===n?this._removalsTail=r:n._prevRemoved=r,this._insertAfter(e,t,o),this._addToMoves(e,o),e},e.prototype._moveAfter=function(e,t,o){return this._unlink(e),this._insertAfter(e,t,o),this._addToMoves(e,o),e},e.prototype._addAfter=function(e,t,o){return this._insertAfter(e,t,o),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e},e.prototype._insertAfter=function(e,t,o){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new rr),this._linkedRecords.put(e),e.currentIndex=o,e},e.prototype._remove=function(e){return this._addToRemovals(this._unlink(e))},e.prototype._unlink=function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,o=e._next;return null===t?this._itHead=o:t._next=o,null===o?this._itTail=t:o._prev=t,e},e.prototype._addToMoves=function(e,t){return e.previousIndex===t?e:(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e,e)},e.prototype._addToRemovals=function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new rr),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e},e.prototype._addIdentityChange=function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e},e}(),tr=function(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},or=function(){function e(){this._head=null,this._tail=null}return e.prototype.add=function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)},e.prototype.get=function(e,t){var o;for(o=this._head;null!==o;o=o._nextDup)if((null===t||t<=o.currentIndex)&&$(o.trackById,e))return o;return null},e.prototype.remove=function(e){var t=e._prevDup,o=e._nextDup;return null===t?this._head=o:t._nextDup=o,null===o?this._tail=t:o._prevDup=t,null===this._head},e}(),rr=function(){function e(){this.map=new Map}return e.prototype.put=function(e){var t=e.trackById,o=this.map.get(t);o||(o=new or,this.map.set(t,o)),o.add(e)},e.prototype.get=function(e,t){var o=this.map.get(e);return o?o.get(e,t):null},e.prototype.remove=function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e},Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this.map.clear()},e}();function nr(e,t,o){var r=e.previousIndex;if(null===r)return r;var n=0;return o&&r<o.length&&(n=o[r]),r+t+n}var ir=function(){function e(){}return e.prototype.supports=function(e){return e instanceof Map||Jo(e)},e.prototype.create=function(){return new lr},e}(),lr=function(){function e(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(e.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),e.prototype.forEachItem=function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)},e.prototype.forEachPreviousItem=function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)},e.prototype.forEachChangedItem=function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)},e.prototype.forEachAddedItem=function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)},e.prototype.forEachRemovedItem=function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)},e.prototype.diff=function(e){if(e){if(!(e instanceof Map||Jo(e)))throw new Error("Error trying to diff '"+ee(e)+"'. Only maps and objects are allowed")}else e=new Map;return this.check(e)?this:null},e.prototype.onDestroy=function(){},e.prototype.check=function(e){var t=this;this._reset();var o=this._mapHead;if(this._appendAfter=null,this._forEach(e,function(e,r){if(o&&o.key===r)t._maybeAddToChanges(o,e),t._appendAfter=o,o=o._next;else{var n=t._getOrCreateRecordForKey(r,e);o=t._insertBeforeOrAppend(o,n)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(var r=o;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},e.prototype._insertBeforeOrAppend=function(e,t){if(e){var o=e._prev;return t._next=e,t._prev=o,e._prev=t,o&&(o._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null},e.prototype._getOrCreateRecordForKey=function(e,t){if(this._records.has(e)){var o=this._records.get(e);this._maybeAddToChanges(o,t);var r=o._prev,n=o._next;return r&&(r._next=n),n&&(n._prev=r),o._next=null,o._prev=null,o}var i=new ar(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i},e.prototype._reset=function(){if(this.isDirty){var e=void 0;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},e.prototype._maybeAddToChanges=function(e,t){$(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))},e.prototype._addToAdditions=function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)},e.prototype._addToChanges=function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)},e.prototype._forEach=function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(function(o){return t(e[o],o)})},e}(),ar=function(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},sr=function(){function e(e){this.factories=e}return e.create=function(t,o){if(null!=o){var r=o.factories.slice();return new e(t=t.concat(r))}return new e(t)},e.extend=function(t){return{provide:e,useFactory:function(o){if(!o)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,o)},deps:[[e,new W,new V]]}},e.prototype.find=function(e){var t,o=this.factories.find(function(t){return t.supports(e)});if(null!=o)return o;throw new Error("Cannot find a differ supporting object '"+e+"' of type '"+((t=e).name||typeof t)+"'")},e}(),pr=function(){function e(e){this.factories=e}return e.create=function(t,o){if(o){var r=o.factories.slice();t=t.concat(r)}return new e(t)},e.extend=function(t){return{provide:e,useFactory:function(o){if(!o)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,o)},deps:[[e,new W,new V]]}},e.prototype.find=function(e){var t=this.factories.find(function(t){return t.supports(e)});if(t)return t;throw new Error("Cannot find a differ supporting object '"+e+"'")},e}(),ur=[new ir],cr=new sr([new Qo]),gr=new pr(ur),dr=so(null,"core",[{provide:ut,useValue:"unknown"},{provide:go,deps:[ae]},{provide:Jt,deps:[]},{provide:dt,deps:[]}]),hr=new p("LocaleId"),yr=new p("Translations"),fr=new p("TranslationsFormat"),mr=function(){var e={Error:0,Warning:1,Ignore:2};return e[e.Error]="Error",e[e.Warning]="Warning",e[e.Ignore]="Ignore",e}();function vr(){return cr}function _r(){return gr}function Sr(e){return e||"en-US"}var xr=function(e){},Er=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}(),Pr=function(){};function br(e,t,o){var r=e.state,n=1792&r;return n===t?(e.state=-1793&r|o,e.initIndex=-1,!0):n===o}function Tr(e,t,o){return(1792&e.state)===t&&e.initIndex<=o&&(e.initIndex=o+1,!0)}function Cr(e,t){return e.nodes[t]}function Rr(e,t){return e.nodes[t]}function wr(e,t){return e.nodes[t]}function Mr(e,t){return e.nodes[t]}function Lr(e,t){return e.nodes[t]}var Or=function(){},Ir={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0};function Ar(e,t,o,r){var n="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+t+"'. Current value: '"+o+"'.";return r&&(n+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){var o=new Error(e);return Dr(o,t),o}(n,e)}function Dr(e,t){e[xe]=t,e[Pe]=t.logError.bind(t)}function Nr(e){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+e)}var Fr=function(){},Gr=new Map;function kr(e){var t=Gr.get(e);return t||(t=ee(e)+"_"+Gr.size,Gr.set(e,t)),t}function jr(e,t,o,r){if(Zo.isWrapped(r)){r=Zo.unwrap(r);var n=e.def.nodes[t].bindingIndex+o,i=Zo.unwrap(e.oldValues[n]);e.oldValues[n]=new Zo(i)}return r}var qr="$$undefined",Vr="$$empty";function Ur(e){return{id:qr,styles:e.styles,encapsulation:e.encapsulation,data:e.data}}var Br=0;function Wr(e){if(e&&e.id===qr){var t=null!=e.encapsulation&&e.encapsulation!==G.None||e.styles.length||Object.keys(e.data).length;e.id=t?"c"+Br++:Vr}return e&&e.id===Vr&&(e=null),e||null}function Yr(e,t,o,r){return!(!(2&e.state)&&$(e.oldValues[t.bindingIndex+o],r))}function Kr(e,t,o,r){return!!Yr(e,t,o,r)&&(e.oldValues[t.bindingIndex+o]=r,!0)}function Xr(e,t,o,r){var n=e.oldValues[t.bindingIndex+o];if(1&e.state||!Xo(n,r)){var i=t.bindings[o].name;throw Ar(Ir.createDebugContext(e,t.nodeIndex),i+": "+n,i+": "+r,0!=(1&e.state))}}function Zr(e){for(var t=e;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function Hr(e,t){for(var o=e;o&&o!==t;)o.state|=64,o=o.viewContainerParent||o.parent}function zr(e,t,o,r){try{return Zr(33554432&e.def.nodes[t].flags?Rr(e,t).componentView:e),Ir.handleEvent(e,t,o,r)}catch(t){e.root.errorHandler.handleError(t)}}function Jr(e){return e.parent?Rr(e.parent,e.parentNodeDef.nodeIndex):null}function Qr(e){return e.parent?e.parentNodeDef.parent:null}function $r(e,t){switch(201347067&t.flags){case 1:return Rr(e,t.nodeIndex).renderElement;case 2:return Cr(e,t.nodeIndex).renderText}}function en(e,t){return e?e+":"+t:t}function tn(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function on(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function rn(e){return 1<<e%32}function nn(e){var t={},o=0,r={};return e&&e.forEach(function(e){var n=e[0],i=e[1];"number"==typeof n?(t[n]=i,o|=rn(n)):r[n]=i}),{matchedQueries:t,references:r,matchedQueryIds:o}}function ln(e,t){return e.map(function(e){var o,r;return Array.isArray(e)?(r=e[0],o=e[1]):(r=0,o=e),o&&("function"==typeof o||"object"==typeof o)&&t&&Object.defineProperty(o,re,{value:t,configurable:!0}),{flags:r,token:o,tokenKey:kr(o)}})}function an(e,t,o){var r=o.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===G.Native?Rr(e,o.renderParent.nodeIndex).renderElement:void 0:t}var sn=new WeakMap;function pn(e){var t=sn.get(e);return t||((t=e(function(){return Fr})).factory=e,sn.set(e,t)),t}function un(e,t,o,r,n){3===t&&(o=e.renderer.parentNode($r(e,e.def.lastRenderRootNode))),cn(e,t,0,e.def.nodes.length-1,o,r,n)}function cn(e,t,o,r,n,i,l){for(var a=o;a<=r;a++){var s=e.def.nodes[a];11&s.flags&&dn(e,s,t,n,i,l),a+=s.childCount}}function gn(e,t,o,r,n,i){for(var l=e;l&&!tn(l);)l=l.parent;for(var a=l.parent,s=Qr(l),p=s.nodeIndex+s.childCount,u=s.nodeIndex+1;u<=p;u++){var c=a.def.nodes[u];c.ngContentIndex===t&&dn(a,c,o,r,n,i),u+=c.childCount}if(!a.parent){var g=e.root.projectableNodes[t];if(g)for(u=0;u<g.length;u++)hn(e,g[u],o,r,n,i)}}function dn(e,t,o,r,n,i){if(8&t.flags)gn(e,t.ngContent.index,o,r,n,i);else{var l=$r(e,t);if(3===o&&33554432&t.flags&&48&t.bindingFlags?(16&t.bindingFlags&&hn(e,l,o,r,n,i),32&t.bindingFlags&&hn(Rr(e,t.nodeIndex).componentView,l,o,r,n,i)):hn(e,l,o,r,n,i),16777216&t.flags)for(var a=Rr(e,t.nodeIndex).viewContainer._embeddedViews,s=0;s<a.length;s++)un(a[s],o,r,n,i);1&t.flags&&!t.element.name&&cn(e,o,t.nodeIndex+1,t.nodeIndex+t.childCount,r,n,i)}}function hn(e,t,o,r,n,i){var l=e.renderer;switch(o){case 1:l.appendChild(r,t);break;case 2:l.insertBefore(r,t,n);break;case 3:l.removeChild(r,t);break;case 0:i.push(t)}}var yn=/^:([^:]+):(.+)$/;function fn(e){if(":"===e[0]){var t=e.match(yn);return[t[1],t[2]]}return["",e]}function mn(e){for(var t=0,o=0;o<e.length;o++)t|=e[o].flags;return t}function vn(e,t){for(var o="",r=0;r<2*e;r+=2)o=o+t[r]+Sn(t[r+1]);return o+t[2*e]}function _n(e,t,o,r,n,i,l,a,s,p,u,c,g,d,h,y,f,m,v,_){switch(e){case 1:return t+Sn(o)+r;case 2:return t+Sn(o)+r+Sn(n)+i;case 3:return t+Sn(o)+r+Sn(n)+i+Sn(l)+a;case 4:return t+Sn(o)+r+Sn(n)+i+Sn(l)+a+Sn(s)+p;case 5:return t+Sn(o)+r+Sn(n)+i+Sn(l)+a+Sn(s)+p+Sn(u)+c;case 6:return t+Sn(o)+r+Sn(n)+i+Sn(l)+a+Sn(s)+p+Sn(u)+c+Sn(g)+d;case 7:return t+Sn(o)+r+Sn(n)+i+Sn(l)+a+Sn(s)+p+Sn(u)+c+Sn(g)+d+Sn(h)+y;case 8:return t+Sn(o)+r+Sn(n)+i+Sn(l)+a+Sn(s)+p+Sn(u)+c+Sn(g)+d+Sn(h)+y+Sn(f)+m;case 9:return t+Sn(o)+r+Sn(n)+i+Sn(l)+a+Sn(s)+p+Sn(u)+c+Sn(g)+d+Sn(h)+y+Sn(f)+m+Sn(v)+_;default:throw new Error("Does not support more than 9 expressions")}}function Sn(e){return null!=e?e.toString():""}var xn=[],En={};function Pn(e,t,o,r,n,i){e|=1;var l=nn(t);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:l.matchedQueries,matchedQueryIds:l.matchedQueryIds,references:l.references,ngContentIndex:o,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:i?pn(i):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:n||Fr},provider:null,text:null,query:null,ngContent:null}}function bn(e,t,o,r,n,i,l,a,s,p,u,c){void 0===l&&(l=[]),p||(p=Fr);var g=nn(o),d=g.matchedQueries,h=g.references,y=g.matchedQueryIds,f=null,m=null;i&&(f=(L=fn(i))[0],m=L[1]),a=a||[];for(var v=new Array(a.length),_=0;_<a.length;_++){var S=a[_],x=S[0],E=S[2],P=fn(S[1]),b=P[0],T=P[1],C=void 0,R=void 0;switch(15&x){case 4:R=E;break;case 1:case 8:C=E}v[_]={flags:x,ns:b,name:T,nonMinifiedName:T,securityContext:C,suffix:R}}s=s||[];var w=new Array(s.length);for(_=0;_<s.length;_++){var M=s[_];w[_]={type:0,target:M[0],eventName:M[1],propName:null}}var L,O=(l=l||[]).map(function(e){var t=e[1],o=fn(e[0]);return[o[0],o[1],t]});return c=Wr(c),u&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:y,references:h,ngContentIndex:r,childCount:n,bindings:v,bindingFlags:mn(v),outputs:w,element:{ns:f,name:m,attrs:O,template:null,componentProvider:null,componentView:u||null,componentRendererType:c,publicProviders:null,allProviders:null,handleEvent:p||Fr},provider:null,text:null,query:null,ngContent:null}}function Tn(e,t,o){var r,n=o.element,i=e.root.selectorOrNode,l=e.renderer;if(e.parent||!i){r=n.name?l.createElement(n.name,n.ns):l.createComment("");var a=an(e,t,o);a&&l.appendChild(a,r)}else r=l.selectRootElement(i);if(n.attrs)for(var s=0;s<n.attrs.length;s++){var p=n.attrs[s];l.setAttribute(r,p[1],p[2],p[0])}return r}function Cn(e,t,o,r){for(var n=0;n<o.outputs.length;n++){var i=o.outputs[n],l=Rn(e,o.nodeIndex,en(i.target,i.eventName)),a=i.target,s=e;"component"===i.target&&(a=null,s=t);var p=s.renderer.listen(a||r,i.eventName,l);e.disposables[o.outputIndex+n]=p}}function Rn(e,t,o){return function(r){return zr(e,t,o,r)}}function wn(e,t,o,r){if(!Kr(e,t,o,r))return!1;var n=t.bindings[o],i=Rr(e,t.nodeIndex),l=i.renderElement,a=n.name;switch(15&n.flags){case 1:!function(e,t,o,r,n,i){var l=t.securityContext,a=l?e.root.sanitizer.sanitize(l,i):i;a=null!=a?a.toString():null;var s=e.renderer;null!=i?s.setAttribute(o,n,a,r):s.removeAttribute(o,n,r)}(e,n,l,n.ns,a,r);break;case 2:!function(e,t,o,r){var n=e.renderer;r?n.addClass(t,o):n.removeClass(t,o)}(e,l,a,r);break;case 4:!function(e,t,o,r,n){var i=e.root.sanitizer.sanitize(Er.STYLE,n);if(null!=i){i=i.toString();var l=t.suffix;null!=l&&(i+=l)}else i=null;var a=e.renderer;null!=i?a.setStyle(o,r,i):a.removeStyle(o,r)}(e,n,l,a,r);break;case 8:!function(e,t,o,r,n){var i=t.securityContext,l=i?e.root.sanitizer.sanitize(i,n):n;e.renderer.setProperty(o,r,l)}(33554432&t.flags&&32&n.flags?i.componentView:e,n,l,a,r)}return!0}var Mn=new Object,Ln=kr(ae),On=kr(Mt);function In(e,t,o,r){return o=oe(o),{index:-1,deps:ln(r,ee(t)),flags:e,token:t,value:o}}function An(e){for(var t={},o=0;o<e.length;o++){var r=e[o];r.index=o,t[kr(r.token)]=r}return{factory:null,providersByKey:t,providers:e}}function Dn(e,t,o){if(void 0===o&&(o=ae.THROW_IF_NOT_FOUND),8&t.flags)return t.token;if(2&t.flags&&(o=null),1&t.flags)return e._parent.get(t.token,o);var r=t.tokenKey;switch(r){case Ln:case On:return e}var n=e._def.providersByKey[r];if(n){var i=e._providers[n.index];return void 0===i&&(i=e._providers[n.index]=Nn(e,n)),i===Mn?void 0:i}return e._parent.get(t.token,o)}function Nn(e,t){var o;switch(201347067&t.flags){case 512:o=function(e,t,o){var r=o.length;switch(r){case 0:return new t;case 1:return new t(Dn(e,o[0]));case 2:return new t(Dn(e,o[0]),Dn(e,o[1]));case 3:return new t(Dn(e,o[0]),Dn(e,o[1]),Dn(e,o[2]));default:for(var n=new Array(r),i=0;i<r;i++)n[i]=Dn(e,o[i]);return new(t.bind.apply(t,[void 0].concat(n)))}}(e,t.value,t.deps);break;case 1024:o=function(e,t,o){var r=o.length;switch(r){case 0:return t();case 1:return t(Dn(e,o[0]));case 2:return t(Dn(e,o[0]),Dn(e,o[1]));case 3:return t(Dn(e,o[0]),Dn(e,o[1]),Dn(e,o[2]));default:for(var n=Array(r),i=0;i<r;i++)n[i]=Dn(e,o[i]);return t.apply(void 0,n)}}(e,t.value,t.deps);break;case 2048:o=Dn(e,t.deps[0]);break;case 256:o=t.value}return void 0===o?Mn:o}function Fn(e,t){var o=e.viewContainer._embeddedViews;if((null==t||t>=o.length)&&(t=o.length-1),t<0)return null;var r=o[t];return r.viewContainerParent=null,qn(o,t),Ir.dirtyParentQueries(r),kn(r),r}function Gn(e,t,o){var r=t?$r(t,t.def.lastRenderRootNode):e.renderElement;un(o,2,o.renderer.parentNode(r),o.renderer.nextSibling(r),void 0)}function kn(e){un(e,3,null,null,void 0)}function jn(e,t,o){t>=e.length?e.push(o):e.splice(t,0,o)}function qn(e,t){t>=e.length-1?e.pop():e.splice(t,1)}var Vn=new Object;function Un(e,t,o,r,n,i){return new Wn(e,t,o,r,n,i)}function Bn(e){return e.viewDefFactory}var Wn=function(e){function t(t,o,r,n,i,l){var a=e.call(this)||this;return a.selector=t,a.componentType=o,a._inputs=n,a._outputs=i,a.ngContentSelectors=l,a.viewDefFactory=r,a}return Object(r.__extends)(t,e),Object.defineProperty(t.prototype,"inputs",{get:function(){var e=[],t=this._inputs;for(var o in t)e.push({propName:o,templateName:t[o]});return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputs",{get:function(){var e=[];for(var t in this._outputs)e.push({propName:t,templateName:this._outputs[t]});return e},enumerable:!0,configurable:!0}),t.prototype.create=function(e,t,o,r){if(!r)throw new Error("ngModule should be provided");var n=pn(this.viewDefFactory),i=n.nodes[0].element.componentProvider.nodeIndex,l=Ir.createRootView(e,t||[],o,n,r,Vn),a=wr(l,i).instance;return o&&l.renderer.setAttribute(Rr(l,0).renderElement,"ng-version",j.full),new Yn(l,new Hn(l),a)},t}(St),Yn=function(e){function t(t,o,r){var n=e.call(this)||this;return n._view=t,n._viewRef=o,n._component=r,n._elDef=n._view.def.nodes[0],n.hostView=o,n.changeDetectorRef=o,n.instance=r,n}return Object(r.__extends)(t,e),Object.defineProperty(t.prototype,"location",{get:function(){return new bo(Rr(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new $n(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this._viewRef.destroy()},t.prototype.onDestroy=function(e){this._viewRef.onDestroy(e)},t}(_t);function Kn(e,t,o){return new Xn(e,t,o)}var Xn=function(){function e(e,t,o){this._view=e,this._elDef=t,this._data=o,this._embeddedViews=[]}return Object.defineProperty(e.prototype,"element",{get:function(){return new bo(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new $n(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentInjector",{get:function(){for(var e=this._view,t=this._elDef.parent;!t&&e;)t=Qr(e),e=e.parent;return e?new $n(e,t):new $n(this._view,null)},enumerable:!0,configurable:!0}),e.prototype.clear=function(){for(var e=this._embeddedViews.length-1;e>=0;e--){var t=Fn(this._data,e);Ir.destroyView(t)}},e.prototype.get=function(e){var t=this._embeddedViews[e];if(t){var o=new Hn(t);return o.attachToViewContainerRef(this),o}return null},Object.defineProperty(e.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),e.prototype.createEmbeddedView=function(e,t,o){var r=e.createEmbeddedView(t||{});return this.insert(r,o),r},e.prototype.createComponent=function(e,t,o,r,n){var i=o||this.parentInjector;n||e instanceof wt||(n=i.get(Mt));var l=e.create(i,r,void 0,n);return this.insert(l.hostView,t),l},e.prototype.insert=function(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var o,r,n,i,l=e;return n=l._view,i=(o=this._data).viewContainer._embeddedViews,null!==(r=t)&&void 0!==r||(r=i.length),n.viewContainerParent=this._view,jn(i,r,n),function(e,t){var o=Jr(t);if(o&&o!==e&&!(16&t.state)){t.state|=16;var r=o.template._projectedViews;r||(r=o.template._projectedViews=[]),r.push(t),function(e,o){if(!(4&o.flags)){t.parent.def.nodeFlags|=4,o.flags|=4;for(var r=o.parent;r;)r.childFlags|=4,r=r.parent}}(0,t.parentNodeDef)}}(o,n),Ir.dirtyParentQueries(n),Gn(o,r>0?i[r-1]:null,n),l.attachToViewContainerRef(this),e},e.prototype.move=function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var o,r,n,i,l,a=this._embeddedViews.indexOf(e._view);return n=t,l=(i=(o=this._data).viewContainer._embeddedViews)[r=a],qn(i,r),null==n&&(n=i.length),jn(i,n,l),Ir.dirtyParentQueries(l),kn(l),Gn(o,n>0?i[n-1]:null,l),e},e.prototype.indexOf=function(e){return this._embeddedViews.indexOf(e._view)},e.prototype.remove=function(e){var t=Fn(this._data,e);t&&Ir.destroyView(t)},e.prototype.detach=function(e){var t=Fn(this._data,e);return t?new Hn(t):null},e}();function Zn(e){return new Hn(e)}var Hn=function(){function e(e){this._view=e,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(e.prototype,"rootNodes",{get:function(){return un(this._view,0,void 0,void 0,e=[]),e;var e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),e.prototype.markForCheck=function(){Zr(this._view)},e.prototype.detach=function(){this._view.state&=-5},e.prototype.detectChanges=function(){var e=this._view.root.rendererFactory;e.begin&&e.begin();try{Ir.checkAndUpdateView(this._view)}finally{e.end&&e.end()}},e.prototype.checkNoChanges=function(){Ir.checkNoChangesView(this._view)},e.prototype.reattach=function(){this._view.state|=4},e.prototype.onDestroy=function(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)},e.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Ir.destroyView(this._view)},e.prototype.detachFromAppRef=function(){this._appRef=null,kn(this._view),Ir.dirtyParentQueries(this._view)},e.prototype.attachToAppRef=function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e},e.prototype.attachToViewContainerRef=function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e},e}();function zn(e,t){return new Jn(e,t)}var Jn=function(e){function t(t,o){var r=e.call(this)||this;return r._parentView=t,r._def=o,r}return Object(r.__extends)(t,e),t.prototype.createEmbeddedView=function(e){return new Hn(Ir.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))},Object.defineProperty(t.prototype,"elementRef",{get:function(){return new bo(Rr(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),t}(Do);function Qn(e,t){return new $n(e,t)}var $n=function(){function e(e,t){this.view=e,this.elDef=t}return e.prototype.get=function(e,t){return void 0===t&&(t=ae.THROW_IF_NOT_FOUND),Ir.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:e,tokenKey:kr(e)},t)},e}();function ei(e,t){var o=e.def.nodes[t];if(1&o.flags){var r=Rr(e,o.nodeIndex);return o.element.template?r.template:r.renderElement}if(2&o.flags)return Cr(e,o.nodeIndex).renderText;if(20240&o.flags)return wr(e,o.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+t)}function ti(e){return new oi(e.renderer)}var oi=function(){function e(e){this.delegate=e}return e.prototype.selectRootElement=function(e){return this.delegate.selectRootElement(e)},e.prototype.createElement=function(e,t){var o=fn(t),r=this.delegate.createElement(o[1],o[0]);return e&&this.delegate.appendChild(e,r),r},e.prototype.createViewRoot=function(e){return e},e.prototype.createTemplateAnchor=function(e){var t=this.delegate.createComment("");return e&&this.delegate.appendChild(e,t),t},e.prototype.createText=function(e,t){var o=this.delegate.createText(t);return e&&this.delegate.appendChild(e,o),o},e.prototype.projectNodes=function(e,t){for(var o=0;o<t.length;o++)this.delegate.appendChild(e,t[o])},e.prototype.attachViewAfter=function(e,t){for(var o=this.delegate.parentNode(e),r=this.delegate.nextSibling(e),n=0;n<t.length;n++)this.delegate.insertBefore(o,t[n],r)},e.prototype.detachView=function(e){for(var t=0;t<e.length;t++){var o=e[t],r=this.delegate.parentNode(o);this.delegate.removeChild(r,o)}},e.prototype.destroyView=function(e,t){for(var o=0;o<t.length;o++)this.delegate.destroyNode(t[o])},e.prototype.listen=function(e,t,o){return this.delegate.listen(e,t,o)},e.prototype.listenGlobal=function(e,t,o){return this.delegate.listen(e,t,o)},e.prototype.setElementProperty=function(e,t,o){this.delegate.setProperty(e,t,o)},e.prototype.setElementAttribute=function(e,t,o){var r=fn(t),n=r[0],i=r[1];null!=o?this.delegate.setAttribute(e,i,o,n):this.delegate.removeAttribute(e,i,n)},e.prototype.setBindingDebugInfo=function(e,t,o){},e.prototype.setElementClass=function(e,t,o){o?this.delegate.addClass(e,t):this.delegate.removeClass(e,t)},e.prototype.setElementStyle=function(e,t,o){null!=o?this.delegate.setStyle(e,t,o):this.delegate.removeStyle(e,t)},e.prototype.invokeElementMethod=function(e,t,o){e[t].apply(e,o)},e.prototype.setText=function(e,t){this.delegate.setValue(e,t)},e.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},e}();function ri(e,t,o,r){return new ni(e,t,o,r)}var ni=function(){function e(e,t,o,r){this._moduleType=e,this._parent=t,this._bootstrapComponents=o,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){for(var t=e._def,o=e._providers=new Array(t.providers.length),r=0;r<t.providers.length;r++){var n=t.providers[r];4096&n.flags||(o[r]=Nn(e,n))}}(this)}return e.prototype.get=function(e,t){return void 0===t&&(t=ae.THROW_IF_NOT_FOUND),Dn(this,{token:e,tokenKey:kr(e),flags:0},t)},Object.defineProperty(e.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentFactoryResolver",{get:function(){return this.get(Ct)},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+ee(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(e,t){for(var o=e._def,r=0;r<o.providers.length;r++)if(131072&o.providers[r].flags){var n=e._providers[r];n&&n!==Mn&&n.ngOnDestroy()}}(this),this._destroyListeners.forEach(function(e){return e()})},e.prototype.onDestroy=function(e){this._destroyListeners.push(e)},e}(),ii=kr(_o),li=kr(Po),ai=kr(bo),si=kr(No),pi=kr(Do),ui=kr(Fo),ci=kr(ae);function gi(e,t,o,r,n,i,l,a){var s=[];if(l)for(var p in l){var u=l[p];s[u[0]]={flags:8,name:p,nonMinifiedName:u[1],ns:null,securityContext:null,suffix:null}}var c=[];if(a)for(var g in a)c.push({type:1,propName:g,target:null,eventName:a[g]});return yi(e,t|=16384,o,r,n,n,i,s,c)}function di(e,t,o){return yi(-1,e|=16,null,0,t,t,o)}function hi(e,t,o,r,n){return yi(-1,e,t,0,o,r,n)}function yi(e,t,o,r,n,i,l,a,s){var p=nn(o),u=p.matchedQueries,c=p.references,g=p.matchedQueryIds;s||(s=[]),a||(a=[]),i=oe(i);var d=ln(l,ee(n));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:u,matchedQueryIds:g,references:c,ngContentIndex:-1,childCount:r,bindings:a,bindingFlags:mn(a),outputs:s,element:null,provider:{token:n,value:i,deps:d},text:null,query:null,ngContent:null}}function fi(e,t){return Si(e,t)}function mi(e,t){for(var o=e;o.parent&&!tn(o);)o=o.parent;return xi(o.parent,Qr(o),!0,t.provider.value,t.provider.deps)}function vi(e,t){var o=xi(e,t.parent,(32768&t.flags)>0,t.provider.value,t.provider.deps);if(t.outputs.length)for(var r=0;r<t.outputs.length;r++){var n=t.outputs[r],i=o[n.propName].subscribe(_i(e,t.parent.nodeIndex,n.eventName));e.disposables[t.outputIndex+r]=i.unsubscribe.bind(i)}return o}function _i(e,t,o){return function(r){return zr(e,t,o,r)}}function Si(e,t){var o=(8192&t.flags)>0,r=t.provider;switch(201347067&t.flags){case 512:return xi(e,t.parent,o,r.value,r.deps);case 1024:return function(e,t,o,r,n){var i=n.length;switch(i){case 0:return r();case 1:return r(Pi(e,t,o,n[0]));case 2:return r(Pi(e,t,o,n[0]),Pi(e,t,o,n[1]));case 3:return r(Pi(e,t,o,n[0]),Pi(e,t,o,n[1]),Pi(e,t,o,n[2]));default:for(var l=Array(i),a=0;a<i;a++)l[a]=Pi(e,t,o,n[a]);return r.apply(void 0,l)}}(e,t.parent,o,r.value,r.deps);case 2048:return Pi(e,t.parent,o,r.deps[0]);case 256:return r.value}}function xi(e,t,o,r,n){var i=n.length;switch(i){case 0:return new r;case 1:return new r(Pi(e,t,o,n[0]));case 2:return new r(Pi(e,t,o,n[0]),Pi(e,t,o,n[1]));case 3:return new r(Pi(e,t,o,n[0]),Pi(e,t,o,n[1]),Pi(e,t,o,n[2]));default:for(var l=new Array(i),a=0;a<i;a++)l[a]=Pi(e,t,o,n[a]);return new(r.bind.apply(r,[void 0].concat(l)))}}var Ei={};function Pi(e,t,o,r,n){if(void 0===n&&(n=ae.THROW_IF_NOT_FOUND),8&r.flags)return r.token;var i=e;2&r.flags&&(n=null);var l=r.tokenKey;for(l===ui&&(o=!(!t||!t.element.componentView)),t&&1&r.flags&&(o=!1,t=t.parent);e;){if(t)switch(l){case ii:return ti(bi(e,t,o));case li:return bi(e,t,o).renderer;case ai:return new bo(Rr(e,t.nodeIndex).renderElement);case si:return Rr(e,t.nodeIndex).viewContainer;case pi:if(t.element.template)return Rr(e,t.nodeIndex).template;break;case ui:return Zn(bi(e,t,o));case ci:return Qn(e,t);default:var a=(o?t.element.allProviders:t.element.publicProviders)[l];if(a){var s=wr(e,a.nodeIndex);return s||(s={instance:Si(e,a)},e.nodes[a.nodeIndex]=s),s.instance}}o=tn(e),t=Qr(e),e=e.parent}var p=i.root.injector.get(r.token,Ei);return p!==Ei||n===Ei?p:i.root.ngModule.injector.get(r.token,n)}function bi(e,t,o){var r;if(o)r=Rr(e,t.nodeIndex).componentView;else for(r=e;r.parent&&!tn(r);)r=r.parent;return r}function Ti(e,t,o,r,n,i){if(32768&o.flags){var l=Rr(e,o.parent.nodeIndex).componentView;2&l.def.flags&&(l.state|=8)}if(t.instance[o.bindings[r].name]=n,524288&o.flags){i=i||{};var a=Zo.unwrap(e.oldValues[o.bindingIndex+r]);i[o.bindings[r].nonMinifiedName]=new Ho(a,n,0!=(2&e.state))}return e.oldValues[o.bindingIndex+r]=n,i}function Ci(e,t){if(e.def.nodeFlags&t)for(var o=e.def.nodes,r=0,n=0;n<o.length;n++){var i=o[n],l=i.parent;for(!l&&i.flags&t&&wi(e,n,i.flags&t,r++),0==(i.childFlags&t)&&(n+=i.childCount);l&&1&l.flags&&n===l.nodeIndex+l.childCount;)l.directChildFlags&t&&(r=Ri(e,l,t,r)),l=l.parent}}function Ri(e,t,o,r){for(var n=t.nodeIndex+1;n<=t.nodeIndex+t.childCount;n++){var i=e.def.nodes[n];i.flags&o&&wi(e,n,i.flags&o,r++),n+=i.childCount}return r}function wi(e,t,o,r){var n=wr(e,t);if(n){var i=n.instance;i&&(Ir.setCurrentNode(e,t),1048576&o&&Tr(e,512,r)&&i.ngAfterContentInit(),2097152&o&&i.ngAfterContentChecked(),4194304&o&&Tr(e,768,r)&&i.ngAfterViewInit(),8388608&o&&i.ngAfterViewChecked(),131072&o&&i.ngOnDestroy())}}function Mi(e,t,o){var r=[];for(var n in o)r.push({propName:n,bindingType:o[n]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:t,filterId:rn(t),bindings:r},ngContent:null}}function Li(e){for(var t=e.def.nodeMatchedQueries;e.parent&&on(e);){var o=e.parentNodeDef;e=e.parent;for(var r=o.nodeIndex+o.childCount,n=0;n<=r;n++)67108864&(i=e.def.nodes[n]).flags&&536870912&i.flags&&(i.query.filterId&t)===i.query.filterId&&Lr(e,n).setDirty(),!(1&i.flags&&n+i.childCount<o.nodeIndex)&&67108864&i.childFlags&&536870912&i.childFlags||(n+=i.childCount)}if(134217728&e.def.nodeFlags)for(n=0;n<e.def.nodes.length;n++){var i;134217728&(i=e.def.nodes[n]).flags&&536870912&i.flags&&Lr(e,n).setDirty(),n+=i.childCount}}function Oi(e,t){var o=Lr(e,t.nodeIndex);if(o.dirty){var r,n=void 0;if(67108864&t.flags){var i=t.parent.parent;n=Ii(e,i.nodeIndex,i.nodeIndex+i.childCount,t.query,[]),r=wr(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(n=Ii(e,0,e.def.nodes.length-1,t.query,[]),r=e.component);o.reset(n);for(var l=t.query.bindings,a=!1,s=0;s<l.length;s++){var p=l[s],u=void 0;switch(p.bindingType){case 0:u=o.first;break;case 1:u=o,a=!0}r[p.propName]=u}a&&o.notifyOnChanges()}}function Ii(e,t,o,r,n){for(var i=t;i<=o;i++){var l=e.def.nodes[i],a=l.matchedQueries[r.id];if(null!=a&&n.push(Ai(e,l,a)),1&l.flags&&l.element.template&&(l.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var s=Rr(e,i);if((l.childMatchedQueries&r.filterId)===r.filterId&&(Ii(e,i+1,i+l.childCount,r,n),i+=l.childCount),16777216&l.flags)for(var p=s.viewContainer._embeddedViews,u=0;u<p.length;u++){var c=p[u],g=Jr(c);g&&g===s&&Ii(c,0,c.def.nodes.length-1,r,n)}var d=s.template._projectedViews;if(d)for(u=0;u<d.length;u++){var h=d[u];Ii(h,0,h.def.nodes.length-1,r,n)}}(l.childMatchedQueries&r.filterId)!==r.filterId&&(i+=l.childCount)}return n}function Ai(e,t,o){if(null!=o)switch(o){case 1:return Rr(e,t.nodeIndex).renderElement;case 0:return new bo(Rr(e,t.nodeIndex).renderElement);case 2:return Rr(e,t.nodeIndex).template;case 3:return Rr(e,t.nodeIndex).viewContainer;case 4:return wr(e,t.nodeIndex).instance}}function Di(e,t){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:t}}}function Ni(e,t,o){var r=an(e,t,o);r&&gn(e,o.ngContent.index,1,r,null,void 0)}function Fi(e,t){return ji(128,e,new Array(t+1))}function Gi(e,t){return ji(32,e,new Array(t))}function ki(e,t){for(var o=Object.keys(t),r=o.length,n=new Array(r),i=0;i<r;i++){var l=o[i];n[t[l]]=l}return ji(64,e,n)}function ji(e,t,o){for(var r=new Array(o.length),n=0;n<o.length;n++){var i=o[n];r[n]={flags:8,name:i,ns:null,nonMinifiedName:i,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:mn(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function qi(e,t,o){for(var r=new Array(o.length-1),n=1;n<o.length;n++)r[n-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:o[n]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:o[0]},query:null,ngContent:null}}function Vi(e,t,o){var r,n=e.renderer;r=n.createText(o.text.prefix);var i=an(e,t,o);return i&&n.appendChild(i,r),{renderText:r}}function Ui(e,t){return(null!=e?e.toString():"")+t.suffix}function Bi(e,t,o,r){for(var n=0,i=0,l=0,a=0,s=0,p=null,u=null,c=!1,g=!1,d=null,h=0;h<t.length;h++){var y=t[h];if(y.nodeIndex=h,y.parent=p,y.bindingIndex=n,y.outputIndex=i,y.renderParent=u,l|=y.flags,s|=y.matchedQueryIds,y.element){var f=y.element;f.publicProviders=p?p.element.publicProviders:Object.create(null),f.allProviders=f.publicProviders,c=!1,g=!1,y.element.template&&(s|=y.element.template.nodeMatchedQueries)}if(Yi(p,y,t.length),n+=y.bindings.length,i+=y.outputs.length,!u&&3&y.flags&&(d=y),20224&y.flags){c||(c=!0,p.element.publicProviders=Object.create(p.element.publicProviders),p.element.allProviders=p.element.publicProviders);var m=0!=(32768&y.flags);0==(8192&y.flags)||m?p.element.publicProviders[kr(y.provider.token)]=y:(g||(g=!0,p.element.allProviders=Object.create(p.element.publicProviders)),p.element.allProviders[kr(y.provider.token)]=y),m&&(p.element.componentProvider=y)}if(p?(p.childFlags|=y.flags,p.directChildFlags|=y.flags,p.childMatchedQueries|=y.matchedQueryIds,y.element&&y.element.template&&(p.childMatchedQueries|=y.element.template.nodeMatchedQueries)):a|=y.flags,y.childCount>0)p=y,Wi(y)||(u=y);else for(;p&&h===p.nodeIndex+p.childCount;){var v=p.parent;v&&(v.childFlags|=p.childFlags,v.childMatchedQueries|=p.childMatchedQueries),u=(p=v)&&Wi(p)?p.renderParent:p}}return{factory:null,nodeFlags:l,rootNodeFlags:a,nodeMatchedQueries:s,flags:e,nodes:t,updateDirectives:o||Fr,updateRenderer:r||Fr,handleEvent:function(e,o,r,n){return t[o].element.handleEvent(e,r,n)},bindingCount:n,outputCount:i,lastRenderRootNode:d}}function Wi(e){return 0!=(1&e.flags)&&null===e.element.name}function Yi(e,t,o){var r=t.element&&t.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+t.nodeIndex+"!")}if(20224&t.flags&&0==(1&(e?e.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+t.nodeIndex+"!");if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+t.nodeIndex+"!");if(134217728&t.flags&&e)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+t.nodeIndex+"!")}if(t.childCount){var n=e?e.nodeIndex+e.childCount:o-1;if(t.nodeIndex<=n&&t.nodeIndex+t.childCount>n)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+t.nodeIndex+"!")}}function Ki(e,t,o,r){var n=Hi(e.root,e.renderer,e,t,o);return zi(n,e.component,r),Ji(n),n}function Xi(e,t,o){var r=Hi(e,e.renderer,null,null,t);return zi(r,o,o),Ji(r),r}function Zi(e,t,o,r){var n,i=t.element.componentRendererType;return n=i?e.root.rendererFactory.createRenderer(r,i):e.root.renderer,Hi(e.root,n,e,t.element.componentProvider,o)}function Hi(e,t,o,r,n){var i=new Array(n.nodes.length),l=n.outputCount?new Array(n.outputCount):null;return{def:n,parent:o,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:i,state:13,root:e,renderer:t,oldValues:new Array(n.bindingCount),disposables:l,initIndex:-1}}function zi(e,t,o){e.component=t,e.context=o}function Ji(e){var t;tn(e)&&(t=Rr(e.parent,e.parentNodeDef.parent.nodeIndex).renderElement);for(var o=e.def,r=e.nodes,n=0;n<o.nodes.length;n++){var i=o.nodes[n];Ir.setCurrentNode(e,n);var l=void 0;switch(201347067&i.flags){case 1:var a=Tn(e,t,i),s=void 0;if(33554432&i.flags){var p=pn(i.element.componentView);s=Ir.createComponentView(e,i,p,a)}Cn(e,s,i,a),l={renderElement:a,componentView:s,viewContainer:null,template:i.element.template?zn(e,i):void 0},16777216&i.flags&&(l.viewContainer=Kn(e,i,l));break;case 2:l=Vi(e,t,i);break;case 512:case 1024:case 2048:case 256:(l=r[n])||4096&i.flags||(l={instance:fi(e,i)});break;case 16:l={instance:mi(e,i)};break;case 16384:(l=r[n])||(l={instance:vi(e,i)}),32768&i.flags&&zi(Rr(e,i.parent.nodeIndex).componentView,l.instance,l.instance);break;case 32:case 64:case 128:l={value:void 0};break;case 67108864:case 134217728:l=new Mo;break;case 8:Ni(e,t,i),l=void 0}r[n]=l}ll(e,il.CreateViewNodes),ul(e,201326592,268435456,0)}function Qi(e){tl(e),Ir.updateDirectives(e,1),al(e,il.CheckNoChanges),Ir.updateRenderer(e,1),ll(e,il.CheckNoChanges),e.state&=-97}function $i(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,br(e,0,256),tl(e),Ir.updateDirectives(e,0),al(e,il.CheckAndUpdate),ul(e,67108864,536870912,0);var t=br(e,256,512);Ci(e,2097152|(t?1048576:0)),Ir.updateRenderer(e,0),ll(e,il.CheckAndUpdate),ul(e,134217728,536870912,0),Ci(e,8388608|((t=br(e,512,768))?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,br(e,768,1024)}function el(e,t,o,r,n,i,l,a,s,p,u,c,g){return 0===o?function(e,t,o,r,n,i,l,a,s,p,u,c){switch(201347067&t.flags){case 1:return function(e,t,o,r,n,i,l,a,s,p,u,c){var g=t.bindings.length,d=!1;return g>0&&wn(e,t,0,o)&&(d=!0),g>1&&wn(e,t,1,r)&&(d=!0),g>2&&wn(e,t,2,n)&&(d=!0),g>3&&wn(e,t,3,i)&&(d=!0),g>4&&wn(e,t,4,l)&&(d=!0),g>5&&wn(e,t,5,a)&&(d=!0),g>6&&wn(e,t,6,s)&&(d=!0),g>7&&wn(e,t,7,p)&&(d=!0),g>8&&wn(e,t,8,u)&&(d=!0),g>9&&wn(e,t,9,c)&&(d=!0),d}(e,t,o,r,n,i,l,a,s,p,u,c);case 2:return function(e,t,o,r,n,i,l,a,s,p,u,c){var g=!1,d=t.bindings,h=d.length;if(h>0&&Kr(e,t,0,o)&&(g=!0),h>1&&Kr(e,t,1,r)&&(g=!0),h>2&&Kr(e,t,2,n)&&(g=!0),h>3&&Kr(e,t,3,i)&&(g=!0),h>4&&Kr(e,t,4,l)&&(g=!0),h>5&&Kr(e,t,5,a)&&(g=!0),h>6&&Kr(e,t,6,s)&&(g=!0),h>7&&Kr(e,t,7,p)&&(g=!0),h>8&&Kr(e,t,8,u)&&(g=!0),h>9&&Kr(e,t,9,c)&&(g=!0),g){var y=t.text.prefix;h>0&&(y+=Ui(o,d[0])),h>1&&(y+=Ui(r,d[1])),h>2&&(y+=Ui(n,d[2])),h>3&&(y+=Ui(i,d[3])),h>4&&(y+=Ui(l,d[4])),h>5&&(y+=Ui(a,d[5])),h>6&&(y+=Ui(s,d[6])),h>7&&(y+=Ui(p,d[7])),h>8&&(y+=Ui(u,d[8])),h>9&&(y+=Ui(c,d[9]));var f=Cr(e,t.nodeIndex).renderText;e.renderer.setValue(f,y)}return g}(e,t,o,r,n,i,l,a,s,p,u,c);case 16384:return function(e,t,o,r,n,i,l,a,s,p,u,c){var g=wr(e,t.nodeIndex),d=g.instance,h=!1,y=void 0,f=t.bindings.length;return f>0&&Yr(e,t,0,o)&&(h=!0,y=Ti(e,g,t,0,o,y)),f>1&&Yr(e,t,1,r)&&(h=!0,y=Ti(e,g,t,1,r,y)),f>2&&Yr(e,t,2,n)&&(h=!0,y=Ti(e,g,t,2,n,y)),f>3&&Yr(e,t,3,i)&&(h=!0,y=Ti(e,g,t,3,i,y)),f>4&&Yr(e,t,4,l)&&(h=!0,y=Ti(e,g,t,4,l,y)),f>5&&Yr(e,t,5,a)&&(h=!0,y=Ti(e,g,t,5,a,y)),f>6&&Yr(e,t,6,s)&&(h=!0,y=Ti(e,g,t,6,s,y)),f>7&&Yr(e,t,7,p)&&(h=!0,y=Ti(e,g,t,7,p,y)),f>8&&Yr(e,t,8,u)&&(h=!0,y=Ti(e,g,t,8,u,y)),f>9&&Yr(e,t,9,c)&&(h=!0,y=Ti(e,g,t,9,c,y)),y&&d.ngOnChanges(y),65536&t.flags&&Tr(e,256,t.nodeIndex)&&d.ngOnInit(),262144&t.flags&&d.ngDoCheck(),h}(e,t,o,r,n,i,l,a,s,p,u,c);case 32:case 64:case 128:return function(e,t,o,r,n,i,l,a,s,p,u,c){var g=t.bindings,d=!1,h=g.length;if(h>0&&Kr(e,t,0,o)&&(d=!0),h>1&&Kr(e,t,1,r)&&(d=!0),h>2&&Kr(e,t,2,n)&&(d=!0),h>3&&Kr(e,t,3,i)&&(d=!0),h>4&&Kr(e,t,4,l)&&(d=!0),h>5&&Kr(e,t,5,a)&&(d=!0),h>6&&Kr(e,t,6,s)&&(d=!0),h>7&&Kr(e,t,7,p)&&(d=!0),h>8&&Kr(e,t,8,u)&&(d=!0),h>9&&Kr(e,t,9,c)&&(d=!0),d){var y=Mr(e,t.nodeIndex),f=void 0;switch(201347067&t.flags){case 32:f=new Array(g.length),h>0&&(f[0]=o),h>1&&(f[1]=r),h>2&&(f[2]=n),h>3&&(f[3]=i),h>4&&(f[4]=l),h>5&&(f[5]=a),h>6&&(f[6]=s),h>7&&(f[7]=p),h>8&&(f[8]=u),h>9&&(f[9]=c);break;case 64:f={},h>0&&(f[g[0].name]=o),h>1&&(f[g[1].name]=r),h>2&&(f[g[2].name]=n),h>3&&(f[g[3].name]=i),h>4&&(f[g[4].name]=l),h>5&&(f[g[5].name]=a),h>6&&(f[g[6].name]=s),h>7&&(f[g[7].name]=p),h>8&&(f[g[8].name]=u),h>9&&(f[g[9].name]=c);break;case 128:var m=o;switch(h){case 1:f=m.transform(o);break;case 2:f=m.transform(r);break;case 3:f=m.transform(r,n);break;case 4:f=m.transform(r,n,i);break;case 5:f=m.transform(r,n,i,l);break;case 6:f=m.transform(r,n,i,l,a);break;case 7:f=m.transform(r,n,i,l,a,s);break;case 8:f=m.transform(r,n,i,l,a,s,p);break;case 9:f=m.transform(r,n,i,l,a,s,p,u);break;case 10:f=m.transform(r,n,i,l,a,s,p,u,c)}}y.value=f}return d}(e,t,o,r,n,i,l,a,s,p,u,c);default:throw"unreachable"}}(e,t,r,n,i,l,a,s,p,u,c,g):function(e,t,o){switch(201347067&t.flags){case 1:return function(e,t,o){for(var r=!1,n=0;n<o.length;n++)wn(e,t,n,o[n])&&(r=!0);return r}(e,t,o);case 2:return function(e,t,o){for(var r=t.bindings,n=!1,i=0;i<o.length;i++)Kr(e,t,i,o[i])&&(n=!0);if(n){var l="";for(i=0;i<o.length;i++)l+=Ui(o[i],r[i]);l=t.text.prefix+l;var a=Cr(e,t.nodeIndex).renderText;e.renderer.setValue(a,l)}return n}(e,t,o);case 16384:return function(e,t,o){for(var r=wr(e,t.nodeIndex),n=r.instance,i=!1,l=void 0,a=0;a<o.length;a++)Yr(e,t,a,o[a])&&(i=!0,l=Ti(e,r,t,a,o[a],l));return l&&n.ngOnChanges(l),65536&t.flags&&Tr(e,256,t.nodeIndex)&&n.ngOnInit(),262144&t.flags&&n.ngDoCheck(),i}(e,t,o);case 32:case 64:case 128:return function(e,t,o){for(var r=t.bindings,n=!1,i=0;i<o.length;i++)Kr(e,t,i,o[i])&&(n=!0);if(n){var l=Mr(e,t.nodeIndex),a=void 0;switch(201347067&t.flags){case 32:a=o;break;case 64:for(a={},i=0;i<o.length;i++)a[r[i].name]=o[i];break;case 128:var s=o[0],p=o.slice(1);a=s.transform.apply(s,p)}l.value=a}return n}(e,t,o);default:throw"unreachable"}}(e,t,r)}function tl(e){var t=e.def;if(4&t.nodeFlags)for(var o=0;o<t.nodes.length;o++){var r=t.nodes[o];if(4&r.flags){var n=Rr(e,o).template._projectedViews;if(n)for(var i=0;i<n.length;i++){var l=n[i];l.state|=32,Hr(l,e)}}else 0==(4&r.childFlags)&&(o+=r.childCount)}}function ol(e,t,o,r,n,i,l,a,s,p,u,c,g){return 0===o?function(e,t,o,r,n,i,l,a,s,p,u,c){var g=t.bindings.length;g>0&&Xr(e,t,0,o),g>1&&Xr(e,t,1,r),g>2&&Xr(e,t,2,n),g>3&&Xr(e,t,3,i),g>4&&Xr(e,t,4,l),g>5&&Xr(e,t,5,a),g>6&&Xr(e,t,6,s),g>7&&Xr(e,t,7,p),g>8&&Xr(e,t,8,u),g>9&&Xr(e,t,9,c)}(e,t,r,n,i,l,a,s,p,u,c,g):function(e,t,o){for(var r=0;r<o.length;r++)Xr(e,t,r,o[r])}(e,t,r),!1}function rl(e,t){if(Lr(e,t.nodeIndex).dirty)throw Ar(Ir.createDebugContext(e,t.nodeIndex),"Query "+t.query.id+" not dirty","Query "+t.query.id+" dirty",0!=(1&e.state))}function nl(e){if(!(128&e.state)){if(al(e,il.Destroy),ll(e,il.Destroy),Ci(e,131072),e.disposables)for(var t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(16&e.state){var t=Jr(e);if(t){var o=t.template._projectedViews;o&&(qn(o,o.indexOf(e)),Ir.dirtyParentQueries(e))}}}(e),e.renderer.destroyNode&&function(e){for(var t=e.def.nodes.length,o=0;o<t;o++){var r=e.def.nodes[o];1&r.flags?e.renderer.destroyNode(Rr(e,o).renderElement):2&r.flags?e.renderer.destroyNode(Cr(e,o).renderText):(67108864&r.flags||134217728&r.flags)&&Lr(e,o).destroy()}}(e),tn(e)&&e.renderer.destroy(),e.state|=128}}var il=function(){var e={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return e[e.CreateViewNodes]="CreateViewNodes",e[e.CheckNoChanges]="CheckNoChanges",e[e.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",e[e.CheckAndUpdate]="CheckAndUpdate",e[e.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",e[e.Destroy]="Destroy",e}();function ll(e,t){var o=e.def;if(33554432&o.nodeFlags)for(var r=0;r<o.nodes.length;r++){var n=o.nodes[r];33554432&n.flags?sl(Rr(e,r).componentView,t):0==(33554432&n.childFlags)&&(r+=n.childCount)}}function al(e,t){var o=e.def;if(16777216&o.nodeFlags)for(var r=0;r<o.nodes.length;r++){var n=o.nodes[r];if(16777216&n.flags)for(var i=Rr(e,r).viewContainer._embeddedViews,l=0;l<i.length;l++)sl(i[l],t);else 0==(16777216&n.childFlags)&&(r+=n.childCount)}}function sl(e,t){var o=e.state;switch(t){case il.CheckNoChanges:0==(128&o)&&(12==(12&o)?Qi(e):64&o&&pl(e,il.CheckNoChangesProjectedViews));break;case il.CheckNoChangesProjectedViews:0==(128&o)&&(32&o?Qi(e):64&o&&pl(e,t));break;case il.CheckAndUpdate:0==(128&o)&&(12==(12&o)?$i(e):64&o&&pl(e,il.CheckAndUpdateProjectedViews));break;case il.CheckAndUpdateProjectedViews:0==(128&o)&&(32&o?$i(e):64&o&&pl(e,t));break;case il.Destroy:nl(e);break;case il.CreateViewNodes:Ji(e)}}function pl(e,t){al(e,t),ll(e,t)}function ul(e,t,o,r){if(e.def.nodeFlags&t&&e.def.nodeFlags&o)for(var n=e.def.nodes.length,i=0;i<n;i++){var l=e.def.nodes[i];if(l.flags&t&&l.flags&o)switch(Ir.setCurrentNode(e,l.nodeIndex),r){case 0:Oi(e,l);break;case 1:rl(e,l)}l.childFlags&t&&l.childFlags&o||(i+=l.childCount)}}var cl=!1;function gl(){if(!cl){cl=!0;var e=io()?{setCurrentNode:Dl,createRootView:hl,createEmbeddedView:fl,createComponentView:ml,createNgModuleRef:vl,overrideProvider:xl,overrideComponentView:El,clearOverrides:Pl,checkAndUpdateView:Rl,checkNoChangesView:wl,destroyView:Ml,createDebugContext:function(e,t){return new Wl(e,t)},handleEvent:Nl,updateDirectives:Fl,updateRenderer:Gl}:{setCurrentNode:function(){},createRootView:dl,createEmbeddedView:Ki,createComponentView:Zi,createNgModuleRef:ri,overrideProvider:Fr,overrideComponentView:Fr,clearOverrides:Fr,checkAndUpdateView:$i,checkNoChangesView:Qi,destroyView:nl,createDebugContext:function(e,t){return new Wl(e,t)},handleEvent:function(e,t,o,r){return e.def.handleEvent(e,t,o,r)},updateDirectives:function(e,t){return e.def.updateDirectives(0===t?Tl:Cl,e)},updateRenderer:function(e,t){return e.def.updateRenderer(0===t?Tl:Cl,e)}};Ir.setCurrentNode=e.setCurrentNode,Ir.createRootView=e.createRootView,Ir.createEmbeddedView=e.createEmbeddedView,Ir.createComponentView=e.createComponentView,Ir.createNgModuleRef=e.createNgModuleRef,Ir.overrideProvider=e.overrideProvider,Ir.overrideComponentView=e.overrideComponentView,Ir.clearOverrides=e.clearOverrides,Ir.checkAndUpdateView=e.checkAndUpdateView,Ir.checkNoChangesView=e.checkNoChangesView,Ir.destroyView=e.destroyView,Ir.resolveDep=Pi,Ir.createDebugContext=e.createDebugContext,Ir.handleEvent=e.handleEvent,Ir.updateDirectives=e.updateDirectives,Ir.updateRenderer=e.updateRenderer,Ir.dirtyParentQueries=Li}}function dl(e,t,o,r,n,i){return Xi(yl(e,n,n.injector.get(xo),t,o),r,i)}function hl(e,t,o,r,n,i){var l=n.injector.get(xo),a=yl(e,n,new Zl(l),t,o),s=bl(r);return Kl(Al.create,Xi,null,[a,s,i])}function yl(e,t,o,r,n){var i=t.injector.get(Pr),l=t.injector.get(Re);return{ngModule:t,injector:e,projectableNodes:r,selectorOrNode:n,sanitizer:i,rendererFactory:o,renderer:o.createRenderer(null,null),errorHandler:l}}function fl(e,t,o,r){var n=bl(o);return Kl(Al.create,Ki,null,[e,t,n,r])}function ml(e,t,o,r){return o=Sl.get(t.element.componentProvider.provider.token)||bl(o),Kl(Al.create,Zi,null,[e,t,o,r])}function vl(e,t,o,r){return ri(e,t,o,function(e){var t=function(e){var t=!1,o=!1;return 0===_l.size?{hasOverrides:t,hasDeprecatedOverrides:o}:(e.providers.forEach(function(e){var r=_l.get(e.token);3840&e.flags&&r&&(t=!0,o=o||r.deprecatedBehavior)}),{hasOverrides:t,hasDeprecatedOverrides:o})}(e),o=t.hasDeprecatedOverrides;return t.hasOverrides?(function(e){for(var t=0;t<e.providers.length;t++){var r=e.providers[t];o&&(r.flags|=4096);var n=_l.get(r.token);n&&(r.flags=-3841&r.flags|n.flags,r.deps=ln(n.deps),r.value=n.value)}}(e=e.factory(function(){return Fr})),e):e}(r))}var _l=new Map,Sl=new Map;function xl(e){_l.set(e.token,e)}function El(e,t){var o=pn(pn(Bn(t)).nodes[0].element.componentView);Sl.set(e,o)}function Pl(){_l.clear(),Sl.clear()}function bl(e){if(0===_l.size)return e;var t=function(e){for(var t=[],o=null,r=0;r<e.nodes.length;r++){var n=e.nodes[r];1&n.flags&&(o=n),o&&3840&n.flags&&_l.has(n.provider.token)&&(t.push(o.nodeIndex),o=null)}return t}(e);if(0===t.length)return e;e=e.factory(function(){return Fr});for(var o=0;o<t.length;o++)r(e,t[o]);return e;function r(e,t){for(var o=t+1;o<e.nodes.length;o++){var r=e.nodes[o];if(1&r.flags)return;if(3840&r.flags){var n=r.provider,i=_l.get(n.token);i&&(r.flags=-3841&r.flags|i.flags,n.deps=ln(i.deps),n.value=i.value)}}}}function Tl(e,t,o,r,n,i,l,a,s,p,u,c,g){var d=e.def.nodes[t];return el(e,d,o,r,n,i,l,a,s,p,u,c,g),224&d.flags?Mr(e,t).value:void 0}function Cl(e,t,o,r,n,i,l,a,s,p,u,c,g){var d=e.def.nodes[t];return ol(e,d,o,r,n,i,l,a,s,p,u,c,g),224&d.flags?Mr(e,t).value:void 0}function Rl(e){return Kl(Al.detectChanges,$i,null,[e])}function wl(e){return Kl(Al.checkNoChanges,Qi,null,[e])}function Ml(e){return Kl(Al.destroy,nl,null,[e])}var Ll,Ol,Il,Al=function(){var e={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return e[e.create]="create",e[e.detectChanges]="detectChanges",e[e.checkNoChanges]="checkNoChanges",e[e.destroy]="destroy",e[e.handleEvent]="handleEvent",e}();function Dl(e,t){Ol=e,Il=t}function Nl(e,t,o,r){return Dl(e,t),Kl(Al.handleEvent,e.def.handleEvent,null,[e,t,o,r])}function Fl(e,t){if(128&e.state)throw Nr(Al[Ll]);return Dl(e,Ul(e,0)),e.def.updateDirectives(function(e,o,r){for(var n=[],i=3;i<arguments.length;i++)n[i-3]=arguments[i];var l=e.def.nodes[o];return 0===t?kl(e,l,r,n):jl(e,l,r,n),16384&l.flags&&Dl(e,Ul(e,o)),224&l.flags?Mr(e,l.nodeIndex).value:void 0},e)}function Gl(e,t){if(128&e.state)throw Nr(Al[Ll]);return Dl(e,Bl(e,0)),e.def.updateRenderer(function(e,o,r){for(var n=[],i=3;i<arguments.length;i++)n[i-3]=arguments[i];var l=e.def.nodes[o];return 0===t?kl(e,l,r,n):jl(e,l,r,n),3&l.flags&&Dl(e,Bl(e,o)),224&l.flags?Mr(e,l.nodeIndex).value:void 0},e)}function kl(e,t,o,r){if(el.apply(void 0,[e,t,o].concat(r))){var n=1===o?r[0]:r;if(16384&t.flags){for(var i={},l=0;l<t.bindings.length;l++){var a=t.bindings[l],s=n[l];8&a.flags&&(i[(g=a.nonMinifiedName,"ng-reflect-"+(g=g.replace(/[$@]/g,"_").replace(ql,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"-"+e[1].toLowerCase()})))]=Vl(s))}var p=t.parent,u=Rr(e,p.nodeIndex).renderElement;if(p.element.name)for(var c in i)null!=(s=i[c])?e.renderer.setAttribute(u,c,s):e.renderer.removeAttribute(u,c);else e.renderer.setValue(u,"bindings="+JSON.stringify(i,null,2))}}var g}function jl(e,t,o,r){ol.apply(void 0,[e,t,o].concat(r))}var ql=/([A-Z])/g;function Vl(e){try{return null!=e?e.toString().slice(0,30):e}catch(e){return"[ERROR] Exception while trying to serialize the value"}}function Ul(e,t){for(var o=t;o<e.def.nodes.length;o++){var r=e.def.nodes[o];if(16384&r.flags&&r.bindings&&r.bindings.length)return o}return null}function Bl(e,t){for(var o=t;o<e.def.nodes.length;o++){var r=e.def.nodes[o];if(3&r.flags&&r.bindings&&r.bindings.length)return o}return null}var Wl=function(){function e(e,t){this.view=e,this.nodeIndex=t,null==t&&(this.nodeIndex=t=0),this.nodeDef=e.def.nodes[t];for(var o=this.nodeDef,r=e;o&&0==(1&o.flags);)o=o.parent;if(!o)for(;!o&&r;)o=Qr(r),r=r.parent;this.elDef=o,this.elView=r}return Object.defineProperty(e.prototype,"elOrCompView",{get:function(){return Rr(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return Qn(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"providerTokens",{get:function(){var e=[];if(this.elDef)for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var o=this.elView.def.nodes[t];20224&o.flags&&e.push(o.provider.token),t+=o.childCount}return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"references",{get:function(){var e={};if(this.elDef){Yl(this.elView,this.elDef,e);for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var o=this.elView.def.nodes[t];20224&o.flags&&Yl(this.elView,o,e),t+=o.childCount}}return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentRenderElement",{get:function(){var e=function(e){for(;e&&!tn(e);)e=e.parent;return e.parent?Rr(e.parent,Qr(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?$r(this.view,this.nodeDef):$r(this.elView,this.elDef)},enumerable:!0,configurable:!0}),e.prototype.logError=function(e){for(var t,o,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];2&this.nodeDef.flags?(t=this.view.def,o=this.nodeDef.nodeIndex):(t=this.elView.def,o=this.elDef.nodeIndex);var i=function(e,t){for(var o=-1,r=0;r<=t;r++)3&e.nodes[r].flags&&o++;return o}(t,o),l=-1;t.factory(function(){return++l===i?(t=e.error).bind.apply(t,[e].concat(r)):Fr;var t}),l<i&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error.apply(e,r))},e}();function Yl(e,t,o){for(var r in t.references)o[r]=Ai(e,t,t.references[r])}function Kl(e,t,o,r){var n=Ll,i=Ol,l=Il;try{Ll=e;var a=t.apply(o,r);return Ol=i,Il=l,Ll=n,a}catch(e){if(be(e)||!Ol)throw e;throw function(e,t){return e instanceof Error||(e=new Error(e.toString())),Dr(e,t),e}(e,Xl())}}function Xl(){return Ol?new Wl(Ol,Il):null}var Zl=function(){function e(e){this.delegate=e}return e.prototype.createRenderer=function(e,t){return new Hl(this.delegate.createRenderer(e,t))},e.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},e.prototype.end=function(){this.delegate.end&&this.delegate.end()},e.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},e}(),Hl=function(){function e(e){this.delegate=e,this.data=this.delegate.data}return e.prototype.destroyNode=function(e){!function(e){Wo.delete(e.nativeNode)}(Yo(e)),this.delegate.destroyNode&&this.delegate.destroyNode(e)},e.prototype.destroy=function(){this.delegate.destroy()},e.prototype.createElement=function(e,t){var o=this.delegate.createElement(e,t),r=Xl();if(r){var n=new qo(o,null,r);n.name=e,Ko(n)}return o},e.prototype.createComment=function(e){var t=this.delegate.createComment(e),o=Xl();return o&&Ko(new jo(t,null,o)),t},e.prototype.createText=function(e){var t=this.delegate.createText(e),o=Xl();return o&&Ko(new jo(t,null,o)),t},e.prototype.appendChild=function(e,t){var o=Yo(e),r=Yo(t);o&&r&&o instanceof qo&&o.addChild(r),this.delegate.appendChild(e,t)},e.prototype.insertBefore=function(e,t,o){var r=Yo(e),n=Yo(t),i=Yo(o);r&&n&&r instanceof qo&&r.insertBefore(i,n),this.delegate.insertBefore(e,t,o)},e.prototype.removeChild=function(e,t){var o=Yo(e),r=Yo(t);o&&r&&o instanceof qo&&o.removeChild(r),this.delegate.removeChild(e,t)},e.prototype.selectRootElement=function(e){var t=this.delegate.selectRootElement(e),o=Xl();return o&&Ko(new qo(t,null,o)),t},e.prototype.setAttribute=function(e,t,o,r){var n=Yo(e);n&&n instanceof qo&&(n.attributes[r?r+":"+t:t]=o),this.delegate.setAttribute(e,t,o,r)},e.prototype.removeAttribute=function(e,t,o){var r=Yo(e);r&&r instanceof qo&&(r.attributes[o?o+":"+t:t]=null),this.delegate.removeAttribute(e,t,o)},e.prototype.addClass=function(e,t){var o=Yo(e);o&&o instanceof qo&&(o.classes[t]=!0),this.delegate.addClass(e,t)},e.prototype.removeClass=function(e,t){var o=Yo(e);o&&o instanceof qo&&(o.classes[t]=!1),this.delegate.removeClass(e,t)},e.prototype.setStyle=function(e,t,o,r){var n=Yo(e);n&&n instanceof qo&&(n.styles[t]=o),this.delegate.setStyle(e,t,o,r)},e.prototype.removeStyle=function(e,t,o){var r=Yo(e);r&&r instanceof qo&&(r.styles[t]=null),this.delegate.removeStyle(e,t,o)},e.prototype.setProperty=function(e,t,o){var r=Yo(e);r&&r instanceof qo&&(r.properties[t]=o),this.delegate.setProperty(e,t,o)},e.prototype.listen=function(e,t,o){if("string"!=typeof e){var r=Yo(e);r&&r.listeners.push(new function(e,t){this.name=e,this.callback=t}(t,o))}return this.delegate.listen(e,t,o)},e.prototype.parentNode=function(e){return this.delegate.parentNode(e)},e.prototype.nextSibling=function(e){return this.delegate.nextSibling(e)},e.prototype.setValue=function(e,t){return this.delegate.setValue(e,t)},e}();function zl(e){return gl(),Ir.overrideProvider(e)}function Jl(e,t){return gl(),Ir.overrideComponentView(e,t)}function Ql(){return gl(),Ir.clearOverrides()}function $l(e,t,o){return new ea(e,t,o)}var ea=function(e){function t(t,o,r){var n=e.call(this)||this;return n.moduleType=t,n._bootstrapComponents=o,n._ngModuleDefFactory=r,n}return Object(r.__extends)(t,e),t.prototype.create=function(e){gl();var t=pn(this._ngModuleDefFactory);return Ir.createNgModuleRef(this.moduleType,e||ae.NULL,this._bootstrapComponents,t)},t}(Lt);function ta(e){return"string"==typeof e?'"'+e+'"':""+e}function oa(e,t,o,r){e!=t&&ia(e,t,o,"==",r)}function ra(e,t){na(e,null,t)}function na(e,t,o){e==t&&ia(e,t,o,"!=")}function ia(e,t,o,r,n){throw void 0===n&&(n=ta),new Error("ASSERT: expected "+o+" "+r+" "+n(t)+" but was "+n(e)+"!")}function la(e,t){na(e,null,"node"),oa(3&e.flags,t,"Node.type",aa)}function aa(e){return 1==e?"Projection":0==e?"Container":2==e?"View":3==e?"Element":"??? "+e+" ???"}function sa(e,t,o,r){ngDevMode&&la(e,0),ngDevMode&&la(t,2);var n=function(e){for(var t=e;t;){ngDevMode&&la(t,0);var o=t.data.renderParent;if(null!==o)return o.native;var r=t.parent;if(ngDevMode&&ra(r,"container.parent"),3==(3&r.flags))return null;ngDevMode&&la(r,2),t=r.parent}return null}(e),i=t.child;if(n)for(;i;){var l=3&i.flags,a=null,s=e.view.renderer,p=s.listen;if(3===l)o?p?s.insertBefore(n,i.native,r):n.insertBefore(i.native,r,!0):p?s.removeChild(n,i.native):n.removeChild(i.native),a=i.next;else if(0===l){var u=i.data;o?p?s.appendChild(n,i.native):n.appendChild(i.native):p?s.removeChild(n,i.native):n.removeChild(i.native),a=u.views.length?u.views[0].child:null}else a=1===l?i.data[0]:i.child;if(null===a){for(;i&&!i.next;)(i=i.parent)===t&&(i=null);i=i&&i.next}else i=a}}function pa(e,t){var o=e.data.views,r=o[t];return t>0&&ua(o[t-1],r.next),o.splice(t,1),function(e){for(var t=e;t;){var o=null;if(t.views&&t.views.length?o=t.views[0].data:t.child?o=t.child:t.next&&(ga(t),o=t.next),null==o){for(;t&&!t.next;)ga(t),t=ca(t,e);ga(t||e),o=t&&t.next}t=o}}(r.data),sa(e,r,!1),e.query&&e.query.removeView(e,r,t),r}function ua(e,t){e.next=t,e.data.next=t?t.data:null}function ca(e,t){var o;return(o=e.node)&&2==(3&o.flags)?o.parent.data:e.parent===t?null:e.parent}function ga(e){if(e.cleanup){for(var t=e.cleanup,o=0;o<t.length-1;o+=2)"string"==typeof t[o]?(t[o+1].removeEventListener(t[o],t[o+2],t[o+3]),o+=2):t[o].call(t[o+1]);e.cleanup=null}}function da(e,t,o){if(null!==t&&3==(3&e.flags)&&(e.view!==o||null===e.data)){var r=o.renderer;return r.listen?r.appendChild(e.native,t):e.native.appendChild(t),!0}return!1}function ha(e){return"function"==typeof e?e.name||e:"string"==typeof e?e:null==e?"":""+e}"undefined"==typeof ngDevMode&&("undefined"!=typeof window&&(window.ngDevMode=!0),"undefined"!=typeof self&&(self.ngDevMode=!0),"undefined"!=typeof e&&(e.ngDevMode=!0));var ya,fa,ma,va,_a,Sa,xa,Ea,Pa,ba,Ta,Ca=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}(),Ra={createRenderer:function(e,t){return document}},wa="__ngHostLNode__";function Ma(e,t){var o=Sa;return Pa=e.data,ba=e.bindingStartIndex||0,_a=e.ngStaticData,Ea=e.creationMode,Ta=e.viewHookStartIndex,ya=e.renderer,null!=t&&(ma=t,va=!0),Sa=e,o}function La(e){!function(){if(null!=Ta){for(var e=Ta,t=e;e<Pa.length;)Pa[e+1].call(Pa[e+2]),16===Pa[e]&&(t<e&&(Pa[t]=Pa[e],Pa[t+1]=Pa[e+1],Pa[t+2]=Pa[e+2]),t+=3),e+=3;Pa.length=t}}(),Ma(e,null)}function Oa(e,t,o){return{parent:Sa,id:e,node:null,data:[],ngStaticData:o,cleanup:null,renderer:t,child:null,tail:null,next:null,bindingStartIndex:null,creationMode:!0,viewHookStartIndex:null}}function Ia(e,t,o,r){var n=va?ma:ma&&ma.parent,i=(va?xa:ma&&ma.query)||n&&n.query&&n.query.child(),l=null!=r,a={flags:t,native:o,view:Sa,parent:n,child:null,next:null,nodeInjector:n?n.nodeInjector:null,data:l?r:null,query:i,staticData:null};return 2==(2&t)&&l&&(ngDevMode&&oa(r.node,null,"viewState.node"),r.node=a),null!=e&&(ngDevMode&&oa(Pa.length,e,"data.length not in sequence"),Pa[e]=a,e>=_a.length?_a[e]=null:a.staticData=_a[e],va?(xa=null,ma.view!==Sa&&2!=(3&ma.flags)||(ngDevMode&&oa(ma.child,null,"previousNode.child"),ma.child=a)):ma&&(ngDevMode&&oa(ma.next,null,"previousNode.next"),ma.next=a)),ma=a,va=!0,a}function Aa(e,t,o,r){var n,i;if(null==t){var l=Pa[e];i=l&&l.native}else{ngDevMode&&oa(Sa.bindingStartIndex,null,"bindingStartIndex");var a="string"!=typeof t,s=a?t.tag:t;if(null===s)throw"for now name is required";i=ya.createElement(s);var p=null;if(a){var u=Da(t.template);p=Ja(Oa(-1,fa.createRenderer(i,t.rendererType),u))}null==(n=Ia(e,3,i,p)).staticData&&(ngDevMode&&os(e-1),n.staticData=_a[e]=ja(s,o||null,null,r||null)),o&&function(e,t){ngDevMode&&oa(t.length%2,0,"attrs.length % 2");for(var o=ya.setAttribute,r=0;r<t.length;r+=2)o?ya.setAttribute(e,t[r],t[1|r]):e.setAttribute(t[r],t[1|r])}(i,o),da(n.parent,i,Sa)}return i}function Da(e){return e.ngStaticData||(e.ngStaticData=[])}function Na(e,t){return new Error("Renderer: "+e+" ["+ha(t)+"]")}function Fa(e,t){ngDevMode&&os(-1),fa=e;var o=e.createRenderer(null,null),r="string"==typeof t?o.selectRootElement?o.selectRootElement(t):o.querySelector(t):t;if(ngDevMode&&!r)throw Na("string"==typeof t?"Host node with selector not found:":"Host node is required:",t);return r}function Ga(){va?va=!1:(ngDevMode&&ts(),ma=ma.parent),ngDevMode&&la(ma,3);var e=ma.query;e&&e.addNode(ma)}function ka(e,t,o){if(o!==Qa){var r=Pa[e],n=r.staticData;void 0===n.inputs&&(n.inputs=null,n=function(e,t,o){void 0===o&&(o=!1);for(var r=e>>12,n=r,i=r+((4092&e)>>2);n<i;n++){var l=_a[n],a=o?l.inputs:l.outputs;for(var s in a)if(a.hasOwnProperty(s)){var p=a[s],u=o?t.inputs||(t.inputs={}):t.outputs||(t.outputs={});u.hasOwnProperty(s)?u[s].push(n,p):u[s]=[n,p]}}return t}(r.flags,n,!0));var i,l=n.inputs;if(l&&(i=l[t]))!function(e,t){for(var o=0;o<e.length;o+=2)ngDevMode&&os(e[o]),Pa[e[o]][e[1|o]]=t}(i,o);else{var a=r.native;ya.setProperty?ya.setProperty(a,t,o):a.setProperty?a.setProperty(t,o):a[t]=o}}}function ja(e,t,o,r){return{tagName:e,attrs:t,localNames:r?[r,-1]:null,initialInputs:void 0,inputs:void 0,outputs:void 0,containerStatic:o}}function qa(e,t,o,r){if(o!==Qa){var n=Pa[e];null==o?ya.removeStyle?ya.removeStyle(n.native,t,Ca.DashCase):n.native.style.removeProperty(t):ya.setStyle?ya.setStyle(n.native,t,r?ha(o)+r:ha(o),Ca.DashCase):n.native.style.setProperty(t,r?ha(o)+r:ha(o))}}function Va(e,t){ngDevMode&&oa(Sa.bindingStartIndex,null,"bindingStartIndex");var o=null!=t?ya.createText?ya.createText(ha(t)):ya.createTextNode(ha(t)):null,r=Ia(e,3,o);va=!1,da(r.parent,o,Sa)}function Ua(e,t){var o=e<Pa.length&&Pa[e];o&&o.native?t!==Qa&&(ya.setValue?ya.setValue(o.native,ha(t)):o.native.textContent=ha(t)):o?(o.native=ya.createText?ya.createText(ha(t)):ya.createTextNode(ha(t)),function(e,t){var o=e.parent;if(3==(3&o.flags)&&(o.view!==t||null===o.data)){for(var r=e.next,n=null;r&&null===(n=r.native);)r=r.next;var i=t.renderer;i.listen?i.insertBefore(o.native,e.native,n):o.native.insertBefore(e.native,n,!1)}}(o,Sa)):Va(e,t)}function Ba(e,t,o,r){var n;if(null==t)ngDevMode&&os(e),n=Pa[e];else{ngDevMode&&oa(Sa.bindingStartIndex,null,"bindingStartIndex"),ngDevMode&&oa(va,!0,"isParent");var i=ma.flags;if(0==(4092&i)?i=e<<12|4|3&i:i+=4,ma.flags=i,ngDevMode&&os(e-1),Object.defineProperty(t,wa,{enumerable:!1,value:ma}),Pa[e]=n=t,e>=_a.length&&(_a[e]=o,r)){ngDevMode&&ra(ma.staticData,"previousOrParentNode.staticData");var l=ma.staticData;(l.localNames||(l.localNames=[])).push(r,e)}var a=o.diPublic;a&&a(o);var s=ma.staticData;s&&s.attrs&&function(e,t,r){var n=((4092&ma.flags)>>2)-1,i=r.initialInputs;(void 0===i||n>=i.length)&&(i=function(e,t,o){var r=o.initialInputs||(o.initialInputs=[]);r[e]=null;for(var n=o.attrs,i=0;i<n.length;i+=2){var l=t[n[i]];void 0!==l&&(r[e]||(r[e]=[])).push(l,n[1|i])}return r}(n,o.inputs,r));var l=i[n];if(l)for(var a=0;a<l.length;a+=2)e[l[a]]=l[1|a]}(n,0,s)}return n}function Wa(e,t,o,r,n){ngDevMode&&oa(Sa.bindingStartIndex,null,"bindingStartIndex");var i=ya.createComment(ngDevMode?"container":""),l=null,a=va?ma:ma.parent;ngDevMode&&na(a,null,"currentParent"),da(a,i,Sa)&&(l=a);var s=Ia(e,0,i,{views:[],nextIndex:0,renderParent:l,template:null==t?null:t,next:null,parent:Sa});null==s.staticData&&(s.staticData=_a[e]=ja(o||null,r||null,[],n||null)),Ja(s.data)}function Ya(){va?va=!1:(ngDevMode&&ts(),ma=ma.parent),ngDevMode&&la(ma,0);var e=ma.query;e&&e.addNode(ma)}function Ka(e){ngDevMode&&os(e),ma=Pa[e],ngDevMode&&la(ma,0),va=!0,ma.data.nextIndex=0}function Xa(){va?va=!1:(ngDevMode&&la(ma,2),ngDevMode&&ts(),ma=ma.parent),ngDevMode&&la(ma,0);var e=ma;ngDevMode&&la(e,0);for(var t=e.data.nextIndex;t<e.data.views.length;)pa(e,t)}function Za(e){var t=va?ma:ma.parent;ngDevMode&&la(t,0);var o=t.data,r=o.views,n=!Ea&&o.nextIndex<r.length&&r[o.nextIndex],i=n&&e===n.data.id;if(i)ma=r[o.nextIndex++],ngDevMode&&la(ma,2),va=!0,Ma(n.data,ma);else{var l=Oa(e,ya,function(e,t){ngDevMode&&la(t,0);var o=t.staticData.containerStatic;return(e>=o.length||null==o[e])&&(o[e]=[]),o[e]}(e,t));Ma(l,Ia(null,2,null,l)),o.nextIndex++}return!i}function Ha(){va=!1;var e=ma=Sa.node,t=ma.parent;ngDevMode&&la(e,2),ngDevMode&&la(t,0);var o=t.data,r=o.nextIndex<=o.views.length?o.views[o.nextIndex-1]:null;(null==r||r.data.id!==e.data.id)&&(function(e,t,o){var r=e.data,n=r.views;o>0&&ua(n[o-1],t),o<n.length&&n[o].data.id!==t.data.id?(ua(t,n[o]),n.splice(o,0,t)):o>=n.length&&n.push(t),r.nextIndex<=o&&r.nextIndex++,null!==e.data.renderParent&&sa(e,t,!0,function(t,o,r){var n=o.views;return t+1<n.length?n[t+1].child.native:e.native}(o,r)),e.query&&e.query.insertView(e,t,o)}(t,e,o.nextIndex-1),Sa.creationMode=!1),La(Sa.parent),ngDevMode&&oa(va,!1,"isParent"),ngDevMode&&la(ma,2)}Sa=Oa(null,null,[]);var za=function(e,t,o){ngDevMode&&os(t);var r=Pa[t];ngDevMode&&la(r,3),ngDevMode&&na(r.data,null,"isComponent"),ngDevMode&&os(e);var n=r.data;ngDevMode&&na(n,null,"hostView");var i=Pa[e],l=Ma(n,r);try{o(i,Ea)}finally{n.creationMode=!1,La(l)}};function Ja(e){return Sa.tail?Sa.tail.next=e:Sa.child=e,Sa.tail=e,e}var Qa={};function $a(e){var t,o,r;return(t=Ea)?("number"!=typeof Sa.bindingStartIndex&&(ba=Sa.bindingStartIndex=Pa.length),Pa[ba++]=e):((t=e!==Qa&&(r=e,!((o=Pa[ba])!=o&&r!=r)&&o!==r))&&(Pa[ba]=e),ba++),t?e:Qa}function es(e,t,o){return $a(t)===Qa?Qa:e+ha(t)+o}function ts(){na(ma.parent,null,"isParent")}function os(e,t){var o,r;null==t&&(t=Pa),(o=t?t.length:0)<(r=e)&&ia(o,r,"data.length",">")}function rs(e,t){void 0===t&&(t={});var o,r=t.rendererFactory||Ra,n=e.ngComponentDef,i=Fa(r,t.host||n.tag),l=Ma(Oa(-1,r.createRenderer(i,n.rendererType),[]),null);try{va=!1,ma=null,Ia(0,3,i,Oa(-1,ya,Da(n.template))),o=Ba(1,n.n(),n)}finally{La(l)}return t.features&&t.features.forEach(function(e){return e(o,n)}),ns(o),o}function ns(e){ngDevMode&&ra(e,"component");var t=e[wa];ngDevMode&&!t&&Na("Not a directive instance",e),ngDevMode&&ra(t.data,"hostNode.data"),function(e,o,r,n){var i=Ma(o,t);try{fa.begin&&fa.begin(),r.constructor.ngComponentDef.r(1,0)}finally{fa.end&&fa.end(),o.creationMode=!1,La(i)}}(0,t.view,e)}function is(e){var t={type:e.type,diPublic:null,n:e.factory,tag:e.tag||null,template:e.template||null,r:e.refresh||function(t,o){za(t,o,e.template)},h:e.hostBindings||as,inputs:ss(e.inputs),outputs:ss(e.outputs),methods:ss(e.methods),rendererType:Wr(e.rendererType)||null},o=e.features;return o&&o.forEach(function(e){return e(t)}),t}var ls={};function as(){}function ss(e){if(null==e)return ls;var t={};for(var o in e)t[e[o]]=o;return t}function ps(e,t){return{type:7,name:e,definitions:t,options:{}}}function us(e,t){return void 0===t&&(t=null),{type:4,styles:t,timings:e}}function cs(e,t){return void 0===t&&(t=null),{type:3,steps:e,options:t}}function gs(e,t){return void 0===t&&(t=null),{type:2,steps:e,options:t}}function ds(e){return{type:6,styles:e,offset:null}}function hs(e,t,o){return{type:0,name:e,styles:t,options:o}}function ys(e){return{type:5,steps:e}}function fs(e,t,o){return void 0===o&&(o=null),{type:1,expr:e,animation:t,options:o}}var ms="*";function vs(e,t){return ps(e,t)}function _s(e,t){return us(e,t)}function Ss(e){return cs(e)}function xs(e){return gs(e)}function Es(e){return ds(e)}function Ps(e,t){return hs(e,t)}function bs(e){return ys(e)}function Ts(e,t){return fs(e,t)}}).call(t,o("DuR2"))},YaPU:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o("AMGY"),n=o("OVmG"),i=o("tLDX"),l=o("t7NR"),a=o("+CnV"),s=o("f9aG");o.d(t,"Observable",function(){return p});var p=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var o=new e;return o.source=this,o.operator=t,o},e.prototype.subscribe=function(e,t,o){var r=this.operator,a=function(e,t,o){if(e){if(e instanceof n.a)return e;if(e[i.a])return e[i.a]()}return e||t||o?new n.a(e,t,o):new n.a(l.a)}(e,t,o);if(r?r.call(a,this.source):a.add(this.source||!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.syncErrorThrown=!0,e.syncErrorValue=t,e.error(t)}},e.prototype.forEach=function(e,t){var o=this;if(t||(r.a.Rx&&r.a.Rx.config&&r.a.Rx.config.Promise?t=r.a.Rx.config.Promise:r.a.Promise&&(t=r.a.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,r){var n;n=o.subscribe(function(t){if(n)try{e(t)}catch(e){r(e),n.unsubscribe()}else e(t)},r,t)})},e.prototype._subscribe=function(e){return this.source.subscribe(e)},e.prototype[a.a]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return 0===e.length?this:Object(s.b)(e)(this)},e.prototype.toPromise=function(e){var t=this;if(e||(r.a.Rx&&r.a.Rx.config&&r.a.Rx.config.Promise?e=r.a.Rx.config.Promise:r.a.Promise&&(e=r.a.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,o){var r;t.subscribe(function(e){return r=e},function(e){return o(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}()},aTdd:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o("YaPU"),n=o("TToO"),i=o("OVmG"),l=o("GK6M"),a=o("fKB6"),s=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(new p(e,this.compare,this.keySelector))},e}(),p=function(e){function t(t,o,r){e.call(this,t),this.keySelector=r,this.hasKey=!1,"function"==typeof o&&(this.compare=o)}return Object(n.__extends)(t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t=e;if(this.keySelector&&(t=Object(l.a)(this.keySelector)(e))===a.a)return this.destination.error(a.a.e);var o=!1;if(this.hasKey){if((o=Object(l.a)(this.compare)(this.key,t))===a.a)return this.destination.error(a.a.e)}else this.hasKey=!0;!1===Boolean(o)&&(this.key=t,this.destination.next(e))},t}(i.a);r.Observable.prototype.distinctUntilChanged=function(e,t){return function(e,t){return function(o){return o.lift(new s(e,t))}}(e,t)(this)}},c2wt:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o("EF/a"),n=o("BCSO");t.dispatch=function(){return function(e,t,o){var i,l=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=i.apply(this,e),l=n.getBaseStore(this)||r.NgRedux.instance;return l&&l.dispatch(o),o};if(void 0===(o=o||Object.getOwnPropertyDescriptor(e,t))){var a={get:function(){return l},set:function(e){return i=e}};return Object.defineProperty(e,t,a),a}return i=o.value,o.value=l,o}}},cQXm:function(e,t,o){"use strict";t.a=function(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}},dgOU:function(e,t,o){"use strict";t.a=function(e){return null!=e&&"object"==typeof e}},eV2E:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o("BCSO");t.WithSubStore=function(e){var t=e.basePathMethodName,o=e.localReducer;return function(e){r.setClassOptions(e,{basePathMethodName:t,localReducer:o})}}},etqZ:function(e,t,o){"use strict";o.d(t,"a",function(){return r});var r=function(e){var t=e.Symbol;if("function"==typeof t)return t.iterator||(t.iterator=t("iterator polyfill")),t.iterator;var o=e.Set;if(o&&"function"==typeof(new o)["@@iterator"])return"@@iterator";var r=e.Map;if(r)for(var n=Object.getOwnPropertyNames(r.prototype),i=0;i<n.length;++i){var l=n[i];if("entries"!==l&&"size"!==l&&r.prototype[l]===r.prototype.entries)return l}return"@@iterator"}(o("AMGY").a)},f1Eh:function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},f9aG:function(e,t,o){"use strict";function r(){}function n(e){return e?1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}:r}t.a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return n(e)},t.b=n},fKB6:function(e,t,o){"use strict";o.d(t,"a",function(){return r});var r={e:{}}},g5jc:function(e,t,o){"use strict";var r=o("TToO"),n=o("YaPU"),i=o("OVmG"),l=o("VwZZ"),a=o("x6VL"),s=function(e){function t(t,o){e.call(this),this.subject=t,this.subscriber=o,this.closed=!1}return Object(r.__extends)(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var o=t.indexOf(this.subscriber);-1!==o&&t.splice(o,1)}}},t}(l.a),p=o("tLDX");o.d(t,"b",function(){return u}),o.d(t,"a",function(){return c});var u=function(e){function t(t){e.call(this,t),this.destination=t}return Object(r.__extends)(t,e),t}(i.a),c=function(e){function t(){e.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return Object(r.__extends)(t,e),t.prototype[p.a]=function(){return new u(this)},t.prototype.lift=function(e){var t=new g(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new a.a;if(!this.isStopped)for(var t=this.observers,o=t.length,r=t.slice(),n=0;n<o;n++)r[n].next(e)},t.prototype.error=function(e){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,o=t.length,r=t.slice(),n=0;n<o;n++)r[n].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var e=this.observers,t=e.length,o=e.slice(),r=0;r<t;r++)o[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new a.a;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new a.a;return this.hasError?(e.error(this.thrownError),l.a.EMPTY):this.isStopped?(e.complete(),l.a.EMPTY):(this.observers.push(e),new s(this,e))},t.prototype.asObservable=function(){var e=new n.Observable;return e.source=this,e},t.create=function(e,t){return new g(e,t)},t}(n.Observable),g=function(e){function t(t,o){e.call(this),this.destination=t,this.source=o}return Object(r.__extends)(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):l.a.EMPTY},t}(c)},"gL+p":function(e,t,o){"use strict";t.a=function(e,t){return Object(r.a)(e,t)(this)};var r=o("HdCx")},kVHn:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o("Ll0b");var r=o("BCSO");function n(e,t,o){return function(n,i){delete n[i]&&Object.defineProperty(n,i,{get:function(){return r.getInstanceSelection(this,i,e,t,o)},enumerable:!0,configurable:!0})}}t.select=function(e,t){return function(o,r){n(e||(r.lastIndexOf("$")===r.length-1?r.substring(0,r.length-1):r),void 0,t)(o,r)}},t.select$=function(e,t,o){return n(e,t,o)}},kXUM:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIn=function e(t,o){if(!t)return t;if("function"==typeof t.getIn)return t.getIn(o);var r=o[0],n=o.slice(1);return void 0!==t[r]?0===n.length?t[r]:e(t[r],n):void 0}},nSxQ:function(e,t,o){"use strict";(function(e){var o="object"==typeof e&&e&&e.Object===Object&&e;t.a=o}).call(t,o("DuR2"))},o53x:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o("YaPU"),n=o("Uw6n");r.Observable.prototype.filter=n.a},owTz:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o("YaPU"),n=o("gL+p");r.Observable.prototype.map=n.a},pi71:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assert=function(e,t){if(!e)throw new Error(t)}},t7NR:function(e,t,o){"use strict";o.d(t,"a",function(){return r});var r={closed:!0,next:function(e){},error:function(e){throw e},complete:function(){}}},tLDX:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var r=o("AMGY").a.Symbol,n="function"==typeof r&&"function"==typeof r.for?r.for("rxSubscriber"):"@@rxSubscriber"},tZ2B:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var r=o("TToO"),n=function(e){function t(){e.apply(this,arguments)}return Object(r.__extends)(t,e),t.prototype.notifyNext=function(e,t,o,r,n){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(o("OVmG").a)},w9is:function(e,t,o){"use strict";t.a=function(e,t){return function(o){return o.lift(new i(e,t))}};var r=o("TToO"),n=o("OVmG"),i=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.predicate,this.thisArg))},e}(),l=function(e){function t(t,o,r){e.call(this,t),this.predicate=o,this.thisArg=r,this.count=0}return Object(r.__extends)(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(n.a)},x35b:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o("WT6e"),n=o("yEmc"),i=o("1R8f"),l={backgroundLayers:[],layers:[],layerDates:[],extent:null,features:[],crs:"EPSG:3857",activeFeature:null,times:[]},a=o("2KeS"),s={activeAction:"",activeSelection:"",calendarDates:[],loadingTiles:0,loadedTiles:0,errorTiles:0},p={layers:l,ui:s},u=Object(a.combineReducers)({layers:function e(t,o){switch(void 0===t&&(t=l),o.type){case"SET_BACKGROUND_LAYERS":console.log("LAYER REDUCER","Setting background layers",o),t=Object.assign({},t,{backgroundLayers:o.body});break;case"SELECT_BACKGROUND_LAYER":console.log("LAYER REDUCER","Selecting background layers",o);var r=t.backgroundLayers.map(function(e){return e.layer.getVisible()&&e.layer.setVisible(!1),e.name==o.body&&e.layer.setVisible(!0),e});t=Object.assign({},t,{backgroundLayers:r});break;case"ADD_LAYERS":console.log("LAYER REDUCER","Adding layers",o);var n=t.layers.concat(o.body);t=Object.assign({},t,{layers:n,layerDates:[]});break;case"SET_EXTENT":console.log("LAYER REDUCER","Setting extent",o),t=Object.assign({},t,{extent:o.body.extent});break;case"ADD_FEATURE":console.log("LAYER REDUCER","Adding feature",o);var a=o.body,s=t.features,p=s.find(function(e){return e.type===a.type});p?p.features.push(a.feature):s.push({type:a.type,features:[a.feature]}),t=Object.assign({},t,{features:s});break;case"ADD_FEATURE_LIST":console.log("LAYER REDUCER","Adding feature list",o);var u=o.body;u.features.forEach(function(o){t=e(t,{type:"ADD_FEATURE",body:{type:u.type,feature:o}})});break;case"SELECT_FEATURE":console.log("LAYER REDUCER","Selecting feature",o);var c=t.features.find(function(e){return e.type===o.body.type});if(c){var g=c.features.find(function(e){return e==o.body.feature});g&&(t=Object.assign({},t,{activeFeature:g}))}break;case"SET_ACTIVE_FEATURE":console.log("LAYER REDUCER","Setting active feature",o),t=Object.assign({},t,{activeFeature:o.body.feature});break;case"SET_PROJECTION_SYSTEM":console.log("LAYER REDUCER","Setting projection system",o),t=Object.assign({},t,{crs:o.body.crs});break;case"SELECT_DATE":console.log("LAYER REDUCER","Load date",o),t.layers.forEach(function(e){e.layers.forEach(function(e){if(e.layer.getVisible()){var t=function(t,o){for(var r=null,n=0,i=e.times;n<i.length;n++){var l=i[n],a=new Date(l),s=a.getMonth()+1,p=a.getDate();if(a.getFullYear()+"-"+(s<10?"0":"")+s+"-"+(p<10?"0":"")+p===t){r=l;break}}return r}(o.body.date);if(e.layer.getSource()instanceof i.source.ImageWMS||e.layer.getSource()instanceof i.source.TileWMS){var r=e.layer.getSource().getParams();r.TIME=t||o.body.date,e.layer.getSource().updateParams(r)}else if(e.layer.getSource()instanceof i.source.WMTS){var n=e.layer.getSource().getDimensions();n.TIME=t||o.body.date,e.layer.getSource().updateDimensions(n)}t||console.log("Could not find date "+t+" for layer "+e.name)}})});break;case"TOGGLE_LAYER":console.log("LAYER REDUCER","Toggle layer",o);var d=o.body.layer;d.layer.setVisible(null!=o.body.visible?o.body.visible:!d.layer.getVisible());var h=function(e){var o=[];return t.layers.forEach(function(e){e.layers.forEach(function(e){e.layer.getVisible()&&(console.log(e.name,"IS VISIBLE"),o.push(e.times))})}),o}();d.layer.getVisible()&&e(t,{type:"SET_EXTENT",body:{extent:d.layer.getExtent()}}),t=Object.assign({},t,{times:h})}return t},ui:function(e,t){switch(void 0===e&&(e=s),t.type){case"SELECT_ACTION":console.log("UI REDUCER","Selecting action",t),e=Object.assign({},e,{activeAction:t.body.action});break;case"STOP_ACTION":console.log("UI REDUCER","Stopping current action",t),e=Object.assign({},e,{activeSelection:null});break;case"SET_SELECTION_TYPE":console.log("UI REDUCER","Selecting selection type",t),e=Object.assign({},e,{activeSelection:t.body.selection});break;case"SET_CALENDAR_DATES":console.log("UI REDUCER","Setting calendar dates",t);var o=[];t.body.times.forEach(function(e){o=o.concat(e.map(function(e){var t=new Date(e),o=t.getMonth()+1,r=t.getDate();return t.getFullYear()+"-"+(o<10?"0":"")+o+"-"+(r<10?"0":"")+r}))}),(o=Array.from(new Set(o))).sort(function(e,t){return e<t?-1:e>t?1:0}),e=Object.assign({},e,{calendarDates:o});break;case"SET_PROGRESS":console.log("UI REDUCER","Set progress",t);var r=e.loadedTiles,n=e.loadingTiles,i=e.errorTiles;t.body.tileLoading&&n++,t.body.tileLoaded&&r++,t.body.tileError&&i++,e=Object.assign({},e,{loadedTiles:r,loadingTiles:n,errorTiles:i});break;case"RESET_PROGRESS":console.log("UI REDUCER","Reset progress",t),e=Object.assign({},e,{loadedTiles:0,loadingTiles:e.loadingTiles-e.loadedTiles,errorTiles:0})}return e}}),c=o("TToO"),g=function(){function e(e,t){this.ngRedux=e,this.layerService=t,this.features=[]}return e.prototype.ngOnInit=function(){var e=this,t=this.layerService.getLayers();this.layers.subscribe(function(t){e.features=[],t.features.forEach(function(t){e.features=e.features.concat(t.features)})}),this.ngRedux.dispatch({type:"SET_BACKGROUND_LAYERS",body:t})},Object(c.__decorate)([Object(n.select)(),Object(c.__metadata)("design:type",Object)],e.prototype,"layers",void 0),Object(c.__decorate)([Object(n.select)(),Object(c.__metadata)("design:type",Object)],e.prototype,"ui",void 0),e}(),d=function(){return function(e){e.configureStore(u,p)}}(),h=function(){this.title="app"},y=function(){},f=new r.InjectionToken("Location Initialized"),m=function(){},v=new r.InjectionToken("appBaseHref"),_=function(){function e(t){var o=this;this._subject=new r.EventEmitter,this._platformStrategy=t;var n=this._platformStrategy.getBaseHref();this._baseHref=e.stripTrailingSlash(S(n)),this._platformStrategy.onPopState(function(e){o._subject.emit({url:o.path(!0),pop:!0,type:e.type})})}return e.prototype.path=function(e){return void 0===e&&(e=!1),this.normalize(this._platformStrategy.path(e))},e.prototype.isCurrentPathEqualTo=function(t,o){return void 0===o&&(o=""),this.path()==this.normalize(t+e.normalizeQueryParams(o))},e.prototype.normalize=function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,S(t)))},e.prototype.prepareExternalUrl=function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)},e.prototype.go=function(e,t){void 0===t&&(t=""),this._platformStrategy.pushState(null,"",e,t)},e.prototype.replaceState=function(e,t){void 0===t&&(t=""),this._platformStrategy.replaceState(null,"",e,t)},e.prototype.forward=function(){this._platformStrategy.forward()},e.prototype.back=function(){this._platformStrategy.back()},e.prototype.subscribe=function(e,t,o){return this._subject.subscribe({next:e,error:t,complete:o})},e.normalizeQueryParams=function(e){return e&&"?"!==e[0]?"?"+e:e},e.joinWithSlash=function(e,t){if(0==e.length)return t;if(0==t.length)return e;var o=0;return e.endsWith("/")&&o++,t.startsWith("/")&&o++,2==o?e+t.substring(1):1==o?e+t:e+"/"+t},e.stripTrailingSlash=function(e){var t=e.match(/#|\?|$/),o=t&&t.index||e.length;return e.slice(0,o-("/"===e[o-1]?1:0))+e.slice(o)},e}();function S(e){return e.replace(/\/index.html$/,"")}var x=function(e){function t(t,o){var r=e.call(this)||this;return r._platformLocation=t,r._baseHref="",null!=o&&(r._baseHref=o),r}return Object(c.__extends)(t,e),t.prototype.onPopState=function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)},t.prototype.getBaseHref=function(){return this._baseHref},t.prototype.path=function(e){void 0===e&&(e=!1);var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t},t.prototype.prepareExternalUrl=function(e){var t=_.joinWithSlash(this._baseHref,e);return t.length>0?"#"+t:t},t.prototype.pushState=function(e,t,o,r){var n=this.prepareExternalUrl(o+_.normalizeQueryParams(r));0==n.length&&(n=this._platformLocation.pathname),this._platformLocation.pushState(e,t,n)},t.prototype.replaceState=function(e,t,o,r){var n=this.prepareExternalUrl(o+_.normalizeQueryParams(r));0==n.length&&(n=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,n)},t.prototype.forward=function(){this._platformLocation.forward()},t.prototype.back=function(){this._platformLocation.back()},t}(m),E=function(e){function t(t,o){var r=e.call(this)||this;if(r._platformLocation=t,null==o&&(o=r._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=o,r}return Object(c.__extends)(t,e),t.prototype.onPopState=function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)},t.prototype.getBaseHref=function(){return this._baseHref},t.prototype.prepareExternalUrl=function(e){return _.joinWithSlash(this._baseHref,e)},t.prototype.path=function(e){void 0===e&&(e=!1);var t=this._platformLocation.pathname+_.normalizeQueryParams(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?""+t+o:t},t.prototype.pushState=function(e,t,o,r){var n=this.prepareExternalUrl(o+_.normalizeQueryParams(r));this._platformLocation.pushState(e,t,n)},t.prototype.replaceState=function(e,t,o,r){var n=this.prepareExternalUrl(o+_.normalizeQueryParams(r));this._platformLocation.replaceState(e,t,n)},t.prototype.forward=function(){this._platformLocation.forward()},t.prototype.back=function(){this._platformLocation.back()},t}(m),P=["en",[["a","p"],["AM","PM"]],[["AM","PM"],,],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",,"{1} 'at' {0}"],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",function(e){var t=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===o?1:5}],b={},T=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),C=new r.InjectionToken("UseV4Plurals"),R=function(){},w=function(e){function t(t,o){var r=e.call(this)||this;return r.locale=t,r.deprecatedPluralFn=o,r}return Object(c.__extends)(t,e),t.prototype.getPluralCategory=function(e,t){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(t||this.locale,e):function(e){return function(e){var t=e.toLowerCase().replace(/_/g,"-"),o=b[t];if(o)return o;var r=t.split("-")[0];if(o=b[r])return o;if("en"===r)return P;throw new Error('Missing locale data for the locale "'+e+'".')}(e)[17]}(t||this.locale)(e)){case T.Zero:return"zero";case T.One:return"one";case T.Two:return"two";case T.Few:return"few";case T.Many:return"many";default:return"other"}},t}(R);function M(e,t){t=encodeURIComponent(t);for(var o=0,r=e.split(";");o<r.length;o++){var n=r[o],i=n.indexOf("="),l=-1==i?[n,""]:[n.slice(0,i),n.slice(i+1)],a=l[1];if(l[0].trim()===t)return decodeURIComponent(a)}return null}var L,O,I=function(){function e(e,t,o,r){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=o,this._renderer=r,this._initialClasses=[]}return Object.defineProperty(e.prototype,"klass",{set:function(e){this._applyInitialClasses(!0),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyInitialClasses(!1),this._applyClasses(this._rawClass,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClass",{set:function(e){this._cleanupClasses(this._rawClass),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Object(r["\u0275isListLikeIterable"])(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())},enumerable:!0,configurable:!0}),e.prototype.ngDoCheck=function(){if(this._iterableDiffer){var e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){var t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}},e.prototype._cleanupClasses=function(e){this._applyClasses(e,!0),this._applyInitialClasses(!1)},e.prototype._applyKeyValueChanges=function(e){var t=this;e.forEachAddedItem(function(e){return t._toggleClass(e.key,e.currentValue)}),e.forEachChangedItem(function(e){return t._toggleClass(e.key,e.currentValue)}),e.forEachRemovedItem(function(e){e.previousValue&&t._toggleClass(e.key,!1)})},e.prototype._applyIterableChanges=function(e){var t=this;e.forEachAddedItem(function(e){if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r["\u0275stringify"])(e.item));t._toggleClass(e.item,!0)}),e.forEachRemovedItem(function(e){return t._toggleClass(e.item,!1)})},e.prototype._applyInitialClasses=function(e){var t=this;this._initialClasses.forEach(function(o){return t._toggleClass(o,!e)})},e.prototype._applyClasses=function(e,t){var o=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach(function(e){return o._toggleClass(e,!t)}):Object.keys(e).forEach(function(r){null!=e[r]&&o._toggleClass(r,!t)}))},e.prototype._toggleClass=function(e,t){var o=this;(e=e.trim())&&e.split(/\s+/g).forEach(function(e){t?o._renderer.addClass(o._ngEl.nativeElement,e):o._renderer.removeClass(o._ngEl.nativeElement,e)})},e}(),A=function(){function e(e,t,o,r){this.$implicit=e,this.ngForOf=t,this.index=o,this.count=r}return Object.defineProperty(e.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),e}(),D=function(){function e(e,t,o){this._viewContainer=e,this._template=t,this._differs=o,this._differ=null}return Object.defineProperty(e.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(e){Object(r.isDevMode)()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(e)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngForTemplate",{set:function(e){e&&(this._template=e)},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(e){if("ngForOf"in e){var t=e.ngForOf.currentValue;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(e){throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((o=t).name||typeof o)+"'. NgFor only supports binding to Iterables such as Arrays.")}}var o},e.prototype.ngDoCheck=function(){if(this._differ){var e=this._differ.diff(this.ngForOf);e&&this._applyChanges(e)}},e.prototype._applyChanges=function(e){var t=this,o=[];e.forEachOperation(function(e,r,n){if(null==e.previousIndex){var i=t._viewContainer.createEmbeddedView(t._template,new A(null,t.ngForOf,-1,-1),n),l=new N(e,i);o.push(l)}else null==n?t._viewContainer.remove(r):(i=t._viewContainer.get(r),t._viewContainer.move(i,n),l=new N(e,i),o.push(l))});for(var r=0;r<o.length;r++)this._perViewChange(o[r].view,o[r].record);r=0;for(var n=this._viewContainer.length;r<n;r++){var i=this._viewContainer.get(r);i.context.index=r,i.context.count=n}e.forEachIdentityChange(function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item})},e.prototype._perViewChange=function(e,t){e.context.$implicit=t.item},e}(),N=function(e,t){this.record=e,this.view=t},F=function(){function e(e,t){this._viewContainer=e,this._context=new G,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}return Object.defineProperty(e.prototype,"ngIf",{set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngIfThen",{set:function(e){this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngIfElse",{set:function(e){this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),e.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},e}(),G=function(){this.$implicit=null,this.ngIf=null},k=function(){function e(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}return e.prototype.create=function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)},e.prototype.destroy=function(){this._created=!1,this._viewContainerRef.clear()},e.prototype.enforceState=function(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()},e}(),j=function(){function e(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return Object.defineProperty(e.prototype,"ngSwitch",{set:function(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)},enumerable:!0,configurable:!0}),e.prototype._addCase=function(){return this._caseCount++},e.prototype._addDefault=function(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)},e.prototype._matchCase=function(e){var t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t},e.prototype._updateDefaultCases=function(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(var t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}},e}(),q=function(){function e(e,t,o){this.ngSwitch=o,o._addCase(),this._view=new k(e,t)}return e.prototype.ngDoCheck=function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))},e}(),V=function(){function e(e,t,o){this._differs=e,this._ngEl=t,this._renderer=o}return Object.defineProperty(e.prototype,"ngStyle",{set:function(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())},enumerable:!0,configurable:!0}),e.prototype.ngDoCheck=function(){if(this._differ){var e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}},e.prototype._applyChanges=function(e){var t=this;e.forEachRemovedItem(function(e){return t._setStyle(e.key,null)}),e.forEachAddedItem(function(e){return t._setStyle(e.key,e.currentValue)}),e.forEachChangedItem(function(e){return t._setStyle(e.key,e.currentValue)})},e.prototype._setStyle=function(e,t){var o=e.split("."),r=o[0],n=o[1];null!=(t=null!=t&&n?""+t+n:t)?this._renderer.setStyle(this._ngEl.nativeElement,r,t):this._renderer.removeStyle(this._ngEl.nativeElement,r)},e}(),U=function(){function e(){}return e.prototype.createSubscription=function(e,t){return e.subscribe({next:t,error:function(e){throw e}})},e.prototype.dispose=function(e){e.unsubscribe()},e.prototype.onDestroy=function(e){e.unsubscribe()},e}(),B=new(function(){function e(){}return e.prototype.createSubscription=function(e,t){return e.then(t,function(e){throw e})},e.prototype.dispose=function(e){},e.prototype.onDestroy=function(e){},e}()),W=new U,Y=function(){function e(e){this._ref=e,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}return e.prototype.ngOnDestroy=function(){this._subscription&&this._dispose()},e.prototype.transform=function(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,r.WrappedValue.wrap(this._latestValue)):(e&&this._subscribe(e),this._latestReturnedValue=this._latestValue,this._latestValue)},e.prototype._subscribe=function(e){var t=this;this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,function(o){return t._updateLatestValue(e,o)})},e.prototype._selectStrategy=function(t){if(Object(r["\u0275isPromise"])(t))return B;if(Object(r["\u0275isObservable"])(t))return W;throw o=e,Error("InvalidPipeArgument: '"+t+"' for pipe '"+Object(r["\u0275stringify"])(o)+"'");var o},e.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},e.prototype._updateLatestValue=function(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())},e}(),K=function(){},X=new r.InjectionToken("DocumentToken"),Z="undefined"!=typeof Intl&&Intl.v8BreakIterator,H=function(){return function(){this.isBrowser="object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Z)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}();function z(){if(null==L&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return L=!0}}))}finally{L=L||!1}return L}var J=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Q(){if(O)return O;if("object"!=typeof document||!document)return O=new Set(J);var e=document.createElement("input");return O=new Set(J.filter(function(t){return e.setAttribute("type",t),e.type===t}))}var $=function(){},ee=o("g5jc"),te=o("YaPU"),oe=o("Veqx"),re=oe.a.of,ne=o("GK6M"),ie=o("/iUD"),le=o("fKB6"),ae=o("VwZZ"),se=Object.prototype.toString,pe=function(e){function t(t,o,r,n){e.call(this),this.sourceObj=t,this.eventName=o,this.selector=r,this.options=n}return Object(c.__extends)(t,e),t.create=function(e,o,r,n){return Object(ie.a)(r)&&(n=r,r=void 0),new t(e,o,n,r)},t.setupSubscription=function(e,o,r,n,i){var l;if(function(e){return!!e&&"[object NodeList]"===se.call(e)}(e)||function(e){return!!e&&"[object HTMLCollection]"===se.call(e)}(e))for(var a=0,s=e.length;a<s;a++)t.setupSubscription(e[a],o,r,n,i);else if(function(e){return!!e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){var p=e;e.addEventListener(o,r,i),l=function(){return p.removeEventListener(o,r)}}else if(function(e){return!!e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){var u=e;e.on(o,r),l=function(){return u.off(o,r)}}else{if(!function(e){return!!e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e))throw new TypeError("Invalid event target");var c=e;e.addListener(o,r),l=function(){return c.removeListener(o,r)}}n.add(new ae.a(l))},t.prototype._subscribe=function(e){var o=this.selector;t.setupSubscription(this.sourceObj,this.eventName,o?function(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var n=Object(ne.a)(o).apply(void 0,t);n===le.a?e.error(le.a.e):e.next(n)}:function(t){return e.next(t)},e,this.options)},t}(te.Observable).create,ue=o("AMGY"),ce=function(e){function t(t,o){e.call(this,t,o),this.scheduler=t,this.work=o,this.pending=!1}return Object(c.__extends)(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e,this.pending=!0;var o=this.id,r=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(r,o,t)),this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,o){return void 0===o&&(o=0),ue.a.setInterval(e.flush.bind(e,this),o)},t.prototype.recycleAsyncId=function(e,t,o){if(void 0===o&&(o=0),null!==o&&this.delay===o&&!1===this.pending)return t;ue.a.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(e,t);if(o)return o;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var o=!1,r=void 0;try{this.work(e)}catch(e){o=!0,r=!!e&&e||new Error(e)}if(o)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,o=t.actions,r=o.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&o.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,o){e.call(this)}return Object(c.__extends)(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(ae.a)),ge=new(function(e){function t(){e.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return Object(c.__extends)(t,e),t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var o;this.active=!0;do{if(o=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,o){for(;e=t.shift();)e.unsubscribe();throw o}}},t}(function(){function e(t,o){void 0===o&&(o=e.now),this.SchedulerAction=t,this.now=o}return e.prototype.schedule=function(e,t,o){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(o,t)},e.now=Date.now?Date.now:function(){return+new Date},e}()))(ce),de=o("tZ2B"),he=o("PIsA"),ye=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new fe(e,this.durationSelector))},e}(),fe=function(e){function t(t,o){e.call(this,t),this.durationSelector=o,this.hasValue=!1}return Object(c.__extends)(t,e),t.prototype._next=function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t=Object(ne.a)(this.durationSelector)(e);if(t===le.a)this.destination.error(le.a.e);else{var o=Object(he.a)(this,t);o.closed?this.clearThrottle():this.add(this.throttled=o)}}},t.prototype.clearThrottle=function(){var e=this.value,t=this.hasValue,o=this.throttled;o&&(this.remove(o),this.throttled=null,o.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))},t.prototype.notifyNext=function(e,t,o,r){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}(de.a),me=o("BX3T"),ve=o("1Q68"),_e=function(e){function t(t,o,r){var n,i;void 0===t&&(t=0),e.call(this),this.period=-1,this.dueTime=0,n=o,!Object(me.a)(n)&&n-parseFloat(n)+1>=0?this.period=Number(o)<1?1:Number(o):Object(ve.a)(o)&&(r=o),Object(ve.a)(r)||(r=ge),this.scheduler=r,this.dueTime=(i=t)instanceof Date&&!isNaN(+i)?+t-this.scheduler.now():t}return Object(c.__extends)(t,e),t.create=function(e,o,r){return void 0===e&&(e=0),new t(e,o,r)},t.dispatch=function(e){var t=e.index,o=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(-1===o)return r.complete();e.index=t+1,this.schedule(e,o)}},t.prototype._subscribe=function(e){return this.scheduler.schedule(t.dispatch,this.dueTime,{index:0,period:this.period,subscriber:e})},t}(te.Observable).create;function Se(e,t){return void 0===t&&(t=ge),o=function(){return _e(e,t)},function(e){return e.lift(new ye(o))};var o}var xe=o("w9is"),Ee=o("/nXB"),Pe=function(){function e(e,t){this._ngZone=e,this._platform=t,this._scrolled=new ee.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map}return e.prototype.register=function(e){var t=this,o=e.elementScrolled().subscribe(function(){return t._scrolled.next(e)});this.scrollContainers.set(e,o)},e.prototype.deregister=function(e){var t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))},e.prototype.scrolled=function(e){var t=this;return void 0===e&&(e=20),this._platform.isBrowser?te.Observable.create(function(o){t._globalSubscription||t._addGlobalListener();var r=e>0?t._scrolled.pipe(Se(e)).subscribe(o):t._scrolled.subscribe(o);return t._scrolledCount++,function(){r.unsubscribe(),t._scrolledCount--,t._scrolledCount||t._removeGlobalListener()}}):re()},e.prototype.ngOnDestroy=function(){var e=this;this._removeGlobalListener(),this.scrollContainers.forEach(function(t,o){return e.deregister(o)})},e.prototype.ancestorScrolled=function(e,t){var o=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(Object(xe.a)(function(e){return!e||o.indexOf(e)>-1}))},e.prototype.getAncestorScrollContainers=function(e){var t=this,o=[];return this.scrollContainers.forEach(function(r,n){t._scrollableContainsElement(n,e)&&o.push(n)}),o},e.prototype._scrollableContainsElement=function(e,t){var o=t.nativeElement,r=e.getElementRef().nativeElement;do{if(o==r)return!0}while(o=o.parentElement);return!1},e.prototype._addGlobalListener=function(){var e=this;this._globalSubscription=this._ngZone.runOutsideAngular(function(){return pe(window.document,"scroll").subscribe(function(){return e._scrolled.next()})})},e.prototype._removeGlobalListener=function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)},e}();function be(e,t,o){return e||new Pe(t,o)}var Te=function(){function e(e,t){var o=this;this._platform=e,this._change=e.isBrowser?t.runOutsideAngular(function(){return Object(Ee.a)(pe(window,"resize"),pe(window,"orientationchange"))}):re(),this._invalidateCache=this.change().subscribe(function(){return o._updateViewportSize()})}return e.prototype.ngOnDestroy=function(){this._invalidateCache.unsubscribe()},e.prototype.getViewportSize=function(){this._viewportSize||this._updateViewportSize();var e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e},e.prototype.getViewportRect=function(){var e=this.getViewportScrollPosition(),t=this.getViewportSize(),o=t.width,r=t.height;return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+o,height:r,width:o}},e.prototype.getViewportScrollPosition=function(){if(!this._platform.isBrowser)return{top:0,left:0};var e=document.documentElement.getBoundingClientRect();return{top:-e.top||document.body.scrollTop||window.scrollY||document.documentElement.scrollTop||0,left:-e.left||document.body.scrollLeft||window.scrollX||document.documentElement.scrollLeft||0}},e.prototype.change=function(e){return void 0===e&&(e=20),e>0?this._change.pipe(Se(e)):this._change},e.prototype._updateViewportSize=function(){this._viewportSize=this._platform.isBrowser?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}},e}();function Ce(e,t,o){return e||new Te(t,o)}var Re=function(){},we=new r.InjectionToken("cdk-dir-doc"),Me=function(){return function(e){this.value="ltr",this.change=new r.EventEmitter,e&&(this.value=(e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr")}}(),Le=function(){};function Oe(){throw Error("Host already has a portal attached")}var Ie=function(){function e(){}return e.prototype.attach=function(e){return null==e&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),e.hasAttached()&&Oe(),this._attachedHost=e,e.attach(this)},e.prototype.detach=function(){var e=this._attachedHost;null==e?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,e.detach())},Object.defineProperty(e.prototype,"isAttached",{get:function(){return null!=this._attachedHost},enumerable:!0,configurable:!0}),e.prototype.setAttachedHost=function(e){this._attachedHost=e},e}(),Ae=function(e){function t(t,o,r){var n=e.call(this)||this;return n.component=t,n.viewContainerRef=o,n.injector=r,n}return Object(c.__extends)(t,e),t}(Ie),De=function(e){function t(t,o,r){var n=e.call(this)||this;return n.templateRef=t,n.viewContainerRef=o,n.context=r,n}return Object(c.__extends)(t,e),Object.defineProperty(t.prototype,"origin",{get:function(){return this.templateRef.elementRef},enumerable:!0,configurable:!0}),t.prototype.attach=function(t,o){return void 0===o&&(o=this.context),this.context=o,e.prototype.attach.call(this,t)},t.prototype.detach=function(){return this.context=void 0,e.prototype.detach.call(this)},t}(Ie),Ne=function(){function e(){this._isDisposed=!1}return e.prototype.hasAttached=function(){return!!this._attachedPortal},e.prototype.attach=function(e){return e||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&Oe(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),e instanceof Ae?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof De?(this._attachedPortal=e,this.attachTemplatePortal(e)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()},e.prototype.detach=function(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()},e.prototype.dispose=function(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0},e.prototype.setDisposeFn=function(e){this._disposeFn=e},e.prototype._invokeDisposeFn=function(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)},e}(),Fe=function(e){function t(t,o,r,n){var i=e.call(this)||this;return i.outletElement=t,i._componentFactoryResolver=o,i._appRef=r,i._defaultInjector=n,i}return Object(c.__extends)(t,e),t.prototype.attachComponentPortal=function(e){var t,o=this,r=this._componentFactoryResolver.resolveComponentFactory(e.component);return e.viewContainerRef?(t=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.parentInjector),this.setDisposeFn(function(){return t.destroy()})):(t=r.create(e.injector||this._defaultInjector),this._appRef.attachView(t.hostView),this.setDisposeFn(function(){o._appRef.detachView(t.hostView),t.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(t)),t},t.prototype.attachTemplatePortal=function(e){var t=this,o=e.viewContainerRef,r=o.createEmbeddedView(e.templateRef,e.context);return r.detectChanges(),r.rootNodes.forEach(function(e){return t.outletElement.appendChild(e)}),this.setDisposeFn(function(){var e=o.indexOf(r);-1!==e&&o.remove(e)}),r},t.prototype.dispose=function(){e.prototype.dispose.call(this),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)},t.prototype._getComponentRootNode=function(e){return e.hostView.rootNodes[0]},t}(Ne),Ge=function(e){function t(t,o){var n=e.call(this)||this;return n._componentFactoryResolver=t,n._viewContainerRef=o,n._isInitialized=!1,n.attached=new r.EventEmitter,n}return Object(c.__extends)(t,e),Object.defineProperty(t.prototype,"_deprecatedPortal",{get:function(){return this.portal},set:function(e){this.portal=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_deprecatedPortalHost",{get:function(){return this.portal},set:function(e){this.portal=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"portal",{get:function(){return this._attachedPortal},set:function(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&e.prototype.detach.call(this),t&&e.prototype.attach.call(this,t),this._attachedPortal=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"attachedRef",{get:function(){return this._attachedRef},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this._isInitialized=!0},t.prototype.ngOnDestroy=function(){e.prototype.dispose.call(this),this._attachedPortal=null,this._attachedRef=null},t.prototype.attachComponentPortal=function(t){t.setAttachedHost(this);var o=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,r=this._componentFactoryResolver.resolveComponentFactory(t.component),n=o.createComponent(r,o.length,t.injector||o.parentInjector);return e.prototype.setDisposeFn.call(this,function(){return n.destroy()}),this._attachedPortal=t,this._attachedRef=n,this.attached.emit(n),n},t.prototype.attachTemplatePortal=function(t){var o=this;t.setAttachedHost(this);var r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return e.prototype.setDisposeFn.call(this,function(){return o._viewContainerRef.clear()}),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r},t}(Ne),ke=function(){},je=function(){function e(e,t){this._parentInjector=e,this._customTokens=t}return e.prototype.get=function(e,t){var o=this._customTokens.get(e);return"undefined"!=typeof o?o:this._parentInjector.get(e,t)},e}(),qe=o("OVmG"),Ve=function(e){function t(){var t=e.call(this,"argument out of range");this.name=t.name="ArgumentOutOfRangeError",this.stack=t.stack,this.message=t.message}return Object(c.__extends)(t,e),t}(Error),Ue=o("+3/4");function Be(e){return function(t){return 0===e?new Ue.a:t.lift(new We(e))}}var We=function(){function e(e){if(this.total=e,this.total<0)throw new Ve}return e.prototype.call=function(e,t){return t.subscribe(new Ye(e,this.total))},e}(),Ye=function(e){function t(t,o){e.call(this,t),this.total=o,this.count=0}return Object(c.__extends)(t,e),t.prototype._next=function(e){var t=this.total,o=++this.count;o<=t&&(this.destination.next(e),o===t&&(this.destination.complete(),this.unsubscribe()))},t}(qe.a);function Ke(e){return null!=e&&""+e!="false"}var Xe=27,Ze=function(){function e(){}return e.prototype.enable=function(){},e.prototype.disable=function(){},e.prototype.attach=function(){},e}(),He=function(){return function(e){var t=this;this.scrollStrategy=new Ze,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.direction="ltr",e&&Object.keys(e).filter(function(t){return"undefined"!=typeof e[t]}).forEach(function(o){return t[o]=e[o]})}}();function ze(){return Error("Scroll strategy has already been attached.")}var Je=function(){function e(e,t,o,r){var n=this;this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=o,this._config=r,this._scrollSubscription=null,this._detach=function(){n.disable(),n._overlayRef.hasAttached()&&n._ngZone.run(function(){return n._overlayRef.detach()})}}return e.prototype.attach=function(e){if(this._overlayRef)throw ze();this._overlayRef=e},e.prototype.enable=function(){var e=this;if(!this._scrollSubscription){var t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(function(){var t=e._viewportRuler.getViewportScrollPosition().top;Math.abs(t-e._initialScrollPosition)>e._config.threshold?e._detach():e._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}},e.prototype.disable=function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)},e}(),Qe=function(){function e(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}return e.prototype.attach=function(){},e.prototype.enable=function(){if(this._canBeEnabled()){var e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=-this._previousScrollPosition.left+"px",e.style.top=-this._previousScrollPosition.top+"px",e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}},e.prototype.disable=function(){if(this._isEnabled){var e=this._document.documentElement,t=this._document.body,o=e.style.scrollBehavior||"",r=t.style.scrollBehavior||"";this._isEnabled=!1,e.style.left=this._previousHTMLStyles.left,e.style.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),e.style.scrollBehavior=t.style.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.style.scrollBehavior=o,t.style.scrollBehavior=r}},e.prototype._canBeEnabled=function(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;var e=this._document.body,t=this._viewportRuler.getViewportSize();return e.scrollHeight>t.height||e.scrollWidth>t.width},e}();function $e(e,t){return t.some(function(t){return e.bottom<t.top||e.top>t.bottom||e.right<t.left||e.left>t.right})}function et(e,t){return t.some(function(t){return e.top<t.top||e.bottom>t.bottom||e.left<t.left||e.right>t.right})}var tt=function(){function e(e,t,o,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=o,this._config=r,this._scrollSubscription=null}return e.prototype.attach=function(e){if(this._overlayRef)throw ze();this._overlayRef=e},e.prototype.enable=function(){var e=this;this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(function(){if(e._overlayRef.updatePosition(),e._config&&e._config.autoClose){var t=e._overlayRef.overlayElement.getBoundingClientRect(),o=e._viewportRuler.getViewportSize(),r=o.width,n=o.height;$e(t,[{width:r,height:n,bottom:n,right:r,top:0,left:0}])&&(e.disable(),e._ngZone.run(function(){return e._overlayRef.detach()}))}}))},e.prototype.disable=function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)},e}(),ot=function(){return function(e,t,o,r){var n=this;this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=o,this.noop=function(){return new Ze},this.close=function(e){return new Je(n._scrollDispatcher,n._ngZone,n._viewportRuler,e)},this.block=function(){return new Qe(n._viewportRuler,n._document)},this.reposition=function(e){return new tt(n._scrollDispatcher,n._viewportRuler,n._ngZone,e)},this._document=r}}(),rt=function(){function e(e,t,o,r,n,i){this._portalOutlet=e,this._pane=t,this._config=o,this._ngZone=r,this._keyboardDispatcher=n,this._document=i,this._backdropElement=null,this._backdropClick=new ee.a,this._attachments=new ee.a,this._detachments=new ee.a,this._keydownEvents=new ee.a,o.scrollStrategy&&o.scrollStrategy.attach(this)}return Object.defineProperty(e.prototype,"overlayElement",{get:function(){return this._pane},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"backdropElement",{get:function(){return this._backdropElement},enumerable:!0,configurable:!0}),e.prototype.attach=function(e){var t=this,o=this._portalOutlet.attach(e);return this._config.positionStrategy&&this._config.positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._config.scrollStrategy&&this._config.scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(Be(1)).subscribe(function(){t.hasAttached()&&t.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&(Array.isArray(this._config.panelClass)?this._config.panelClass.forEach(function(e){return t._pane.classList.add(e)}):this._pane.classList.add(this._config.panelClass)),this._attachments.next(),this._keyboardDispatcher.add(this),o},e.prototype.detach=function(){if(this.hasAttached()){this.detachBackdrop(),this._togglePointerEvents(!1),this._config.positionStrategy&&this._config.positionStrategy.detach&&this._config.positionStrategy.detach(),this._config.scrollStrategy&&this._config.scrollStrategy.disable();var e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),e}},e.prototype.dispose=function(){var e=this.hasAttached();this._config.positionStrategy&&this._config.positionStrategy.dispose(),this._config.scrollStrategy&&this._config.scrollStrategy.disable(),this.detachBackdrop(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),e&&this._detachments.next(),this._detachments.complete()},e.prototype.hasAttached=function(){return this._portalOutlet.hasAttached()},e.prototype.backdropClick=function(){return this._backdropClick.asObservable()},e.prototype.attachments=function(){return this._attachments.asObservable()},e.prototype.detachments=function(){return this._detachments.asObservable()},e.prototype.keydownEvents=function(){return this._keydownEvents.asObservable()},e.prototype.getConfig=function(){return this._config},e.prototype.updatePosition=function(){this._config.positionStrategy&&this._config.positionStrategy.apply()},e.prototype.updateSize=function(e){this._config=Object(c.__assign)({},this._config,e),this._updateElementSize()},e.prototype.setDirection=function(e){this._config=Object(c.__assign)({},this._config,{direction:e}),this._updateElementDirection()},e.prototype._updateElementDirection=function(){this._pane.setAttribute("dir",this._config.direction)},e.prototype._updateElementSize=function(){(this._config.width||0===this._config.width)&&(this._pane.style.width=nt(this._config.width)),(this._config.height||0===this._config.height)&&(this._pane.style.height=nt(this._config.height)),(this._config.minWidth||0===this._config.minWidth)&&(this._pane.style.minWidth=nt(this._config.minWidth)),(this._config.minHeight||0===this._config.minHeight)&&(this._pane.style.minHeight=nt(this._config.minHeight)),(this._config.maxWidth||0===this._config.maxWidth)&&(this._pane.style.maxWidth=nt(this._config.maxWidth)),(this._config.maxHeight||0===this._config.maxHeight)&&(this._pane.style.maxHeight=nt(this._config.maxHeight))},e.prototype._togglePointerEvents=function(e){this._pane.style.pointerEvents=e?"auto":"none"},e.prototype._attachBackdrop=function(){var e=this;this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._backdropElement.classList.add(this._config.backdropClass),this._pane.parentElement.insertBefore(this._backdropElement,this._pane),this._backdropElement.addEventListener("click",function(t){return e._backdropClick.next(t)}),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(function(){requestAnimationFrame(function(){e._backdropElement&&e._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")},e.prototype._updateStackingOrder=function(){this._pane.nextSibling&&this._pane.parentNode.appendChild(this._pane)},e.prototype.detachBackdrop=function(){var e=this,t=this._backdropElement;if(t){var o=function(){t&&t.parentNode&&t.parentNode.removeChild(t),e._backdropElement==t&&(e._backdropElement=null)};t.classList.remove("cdk-overlay-backdrop-showing"),this._config.backdropClass&&t.classList.remove(this._config.backdropClass),t.addEventListener("transitionend",o),t.style.pointerEvents="none",this._ngZone.runOutsideAngular(function(){setTimeout(o,500)})}},e}();function nt(e){return"string"==typeof e?e:e+"px"}var it=function(){function e(e,t,o,r,n){this._connectedTo=o,this._viewportRuler=r,this._document=n,this._dir="ltr",this._offsetX=0,this._offsetY=0,this.scrollables=[],this._resizeSubscription=ae.a.EMPTY,this._preferredPositions=[],this._applied=!1,this._positionLocked=!1,this._onPositionChange=new ee.a,this._origin=this._connectedTo.nativeElement,this.withFallbackPosition(e,t)}return Object.defineProperty(e.prototype,"_isRtl",{get:function(){return"rtl"===this._dir},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onPositionChange",{get:function(){return this._onPositionChange.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"positions",{get:function(){return this._preferredPositions},enumerable:!0,configurable:!0}),e.prototype.attach=function(e){var t=this;this._pane=e.overlayElement,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(function(){return t.apply()})},e.prototype.dispose=function(){this._applied=!1,this._resizeSubscription.unsubscribe(),this._onPositionChange.complete()},e.prototype.detach=function(){this._applied=!1,this._resizeSubscription.unsubscribe()},e.prototype.apply=function(){if(this._applied&&this._positionLocked&&this._lastConnectedPosition)this.recalculateLastPosition();else{this._applied=!0;for(var e,t,o=this._pane,r=this._origin.getBoundingClientRect(),n=o.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),l=0,a=this._preferredPositions;l<a.length;l++){var s=a[l],p=this._getOriginConnectionPoint(r,s),u=this._getOverlayPoint(p,n,i,s);if(u.fitsInViewport)return this._setElementPosition(o,n,u,s),void(this._lastConnectedPosition=s);(!e||e.visibleArea<u.visibleArea)&&(e=u,t=s)}this._setElementPosition(o,n,e,t)}},e.prototype.recalculateLastPosition=function(){if(this._lastConnectedPosition){var e=this._origin.getBoundingClientRect(),t=this._pane.getBoundingClientRect(),o=this._viewportRuler.getViewportSize(),r=this._lastConnectedPosition||this._preferredPositions[0],n=this._getOriginConnectionPoint(e,r),i=this._getOverlayPoint(n,t,o,r);this._setElementPosition(this._pane,t,i,r)}},e.prototype.withScrollableContainers=function(e){this.scrollables=e},e.prototype.withFallbackPosition=function(e,t,o,r){var n=new function(e,t,o,r){this.offsetX=o,this.offsetY=r,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}(e,t,o,r);return this._preferredPositions.push(n),this},e.prototype.withDirection=function(e){return this._dir=e,this},e.prototype.withOffsetX=function(e){return this._offsetX=e,this},e.prototype.withOffsetY=function(e){return this._offsetY=e,this},e.prototype.withLockedPosition=function(e){return this._positionLocked=e,this},e.prototype.withPositions=function(e){return this._preferredPositions=e.slice(),this},e.prototype.setOrigin=function(e){return this._origin=e.nativeElement,this},e.prototype._getStartX=function(e){return this._isRtl?e.right:e.left},e.prototype._getEndX=function(e){return this._isRtl?e.left:e.right},e.prototype._getOriginConnectionPoint=function(e,t){var o=this._getStartX(e),r=this._getEndX(e);return{x:"center"==t.originX?o+e.width/2:"start"==t.originX?o:r,y:"center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom}},e.prototype._getOverlayPoint=function(e,t,o,r){var n=e.x+("center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl?-t.width:0:this._isRtl?0:-t.width)+("undefined"==typeof r.offsetX?this._offsetX:r.offsetX),i=e.y+("center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height)+("undefined"==typeof r.offsetY?this._offsetY:r.offsetY),l=0-i,a=i+t.height-o.height,s=this._subtractOverflows(t.width,0-n,n+t.width-o.width)*this._subtractOverflows(t.height,l,a);return{x:n,y:i,fitsInViewport:t.width*t.height===s,visibleArea:s}},e.prototype._getScrollVisibility=function(e){var t=this._origin.getBoundingClientRect(),o=e.getBoundingClientRect(),r=this.scrollables.map(function(e){return e.getElementRef().nativeElement.getBoundingClientRect()});return{isOriginClipped:et(t,r),isOriginOutsideView:$e(t,r),isOverlayClipped:et(o,r),isOverlayOutsideView:$e(o,r)}},e.prototype._setElementPosition=function(e,t,o,r){var n,i="bottom"===r.overlayY?"bottom":"top",l="top"===i?o.y:this._document.documentElement.clientHeight-(o.y+t.height),a="left"==(n="rtl"===this._dir?"end"===r.overlayX?"left":"right":"end"===r.overlayX?"right":"left")?o.x:this._document.documentElement.clientWidth-(o.x+t.width);["top","bottom","left","right"].forEach(function(t){return e.style[t]=null}),e.style[i]=l+"px",e.style[n]=a+"px";var s=new function(e,t){this.connectionPair=e,this.scrollableViewProperties=t}(r,this._getScrollVisibility(e));this._onPositionChange.next(s)},e.prototype._subtractOverflows=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];return t.reduce(function(e,t){return e-Math.max(t,0)},e)},e}(),lt=function(){function e(e){this._document=e,this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height="",this._wrapper=null}return e.prototype.attach=function(e){var t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height})},e.prototype.top=function(e){return void 0===e&&(e=""),this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this},e.prototype.left=function(e){return void 0===e&&(e=""),this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this},e.prototype.bottom=function(e){return void 0===e&&(e=""),this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this},e.prototype.right=function(e){return void 0===e&&(e=""),this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this},e.prototype.width=function(e){return void 0===e&&(e=""),this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this},e.prototype.height=function(e){return void 0===e&&(e=""),this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this},e.prototype.centerHorizontally=function(e){return void 0===e&&(e=""),this.left(e),this._justifyContent="center",this},e.prototype.centerVertically=function(e){return void 0===e&&(e=""),this.top(e),this._alignItems="center",this},e.prototype.apply=function(){if(this._overlayRef.hasAttached()){var e=this._overlayRef.overlayElement;!this._wrapper&&e.parentNode&&(this._wrapper=this._document.createElement("div"),this._wrapper.classList.add("cdk-global-overlay-wrapper"),e.parentNode.insertBefore(this._wrapper,e),this._wrapper.appendChild(e));var t=e.style,o=e.parentNode.style,r=this._overlayRef.getConfig();t.position=this._cssPosition,t.marginLeft="100%"===r.width?"0":this._leftOffset,t.marginTop="100%"===r.height?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,o.justifyContent="100%"===r.width?"flex-start":this._justifyContent,o.alignItems="100%"===r.height?"flex-start":this._alignItems}},e.prototype.dispose=function(){this._wrapper&&this._wrapper.parentNode&&(this._wrapper.parentNode.removeChild(this._wrapper),this._wrapper=null)},e}(),at=function(){function e(e,t){this._viewportRuler=e,this._document=t}return e.prototype.global=function(){return new lt(this._document)},e.prototype.connectedTo=function(e,t,o){return new it(t,o,e,this._viewportRuler,this._document)},e}(),st=function(){function e(e){this._document=e,this._attachedOverlays=[]}return e.prototype.ngOnDestroy=function(){this._unsubscribeFromKeydownEvents()},e.prototype.add=function(e){this._keydownEventSubscription||this._subscribeToKeydownEvents(),this._attachedOverlays.push(e)},e.prototype.remove=function(e){var t=this._attachedOverlays.indexOf(e);t>-1&&this._attachedOverlays.splice(t,1),0===this._attachedOverlays.length&&this._unsubscribeFromKeydownEvents()},e.prototype._subscribeToKeydownEvents=function(){var e=this,t=pe(this._document.body,"keydown",!0);this._keydownEventSubscription=t.pipe(Object(xe.a)(function(){return!!e._attachedOverlays.length})).subscribe(function(t){e._selectOverlayFromEvent(t)._keydownEvents.next(t)})},e.prototype._unsubscribeFromKeydownEvents=function(){this._keydownEventSubscription&&(this._keydownEventSubscription.unsubscribe(),this._keydownEventSubscription=null)},e.prototype._selectOverlayFromEvent=function(e){return this._attachedOverlays.find(function(t){return t.overlayElement===e.target||t.overlayElement.contains(e.target)})||this._attachedOverlays[this._attachedOverlays.length-1]},e}();function pt(e,t){return e||new st(t)}var ut=function(){function e(e){this._document=e}return e.prototype.ngOnDestroy=function(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)},e.prototype.getContainerElement=function(){return this._containerElement||this._createContainer(),this._containerElement},e.prototype._createContainer=function(){var e=this._document.createElement("div");e.classList.add("cdk-overlay-container"),this._document.body.appendChild(e),this._containerElement=e},e}();function ct(e,t){return e||new ut(t)}var gt=0,dt=function(){function e(e,t,o,r,n,i,l,a,s){this.scrollStrategies=e,this._overlayContainer=t,this._componentFactoryResolver=o,this._positionBuilder=r,this._keyboardDispatcher=n,this._appRef=i,this._injector=l,this._ngZone=a,this._document=s}return e.prototype.create=function(e){var t=this._createPaneElement(),o=this._createPortalOutlet(t);return new rt(o,t,new He(e),this._ngZone,this._keyboardDispatcher,this._document)},e.prototype.position=function(){return this._positionBuilder},e.prototype._createPaneElement=function(){var e=this._document.createElement("div");return e.id="cdk-overlay-"+gt++,e.classList.add("cdk-overlay-pane"),this._overlayContainer.getContainerElement().appendChild(e),e},e.prototype._createPortalOutlet=function(e){return new Fe(e,this._componentFactoryResolver,this._appRef,this._injector)},e}(),ht=new r.InjectionToken("cdk-connected-overlay-scroll-strategy");function yt(e){return function(){return e.scrollStrategies.reposition()}}var ft=function(){},mt=o("HdCx");function vt(e,t,o){return function(r){return r.lift(new _t(e,t,o))}}var _t=function(){function e(e,t,o){this.nextOrObserver=e,this.error=t,this.complete=o}return e.prototype.call=function(e,t){return t.subscribe(new St(e,this.nextOrObserver,this.error,this.complete))},e}(),St=function(e){function t(t,o,r,n){e.call(this,t);var i=new qe.a(o,r,n);i.syncErrorThrowable=!0,this.add(i),this.safeSubscriber=i}return Object(c.__extends)(t,e),t.prototype._next=function(e){var t=this.safeSubscriber;t.next(e),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.next(e)},t.prototype._error=function(e){var t=this.safeSubscriber;t.error(e),this.destination.error(t.syncErrorThrown?t.syncErrorValue:e)},t.prototype._complete=function(){var e=this.safeSubscriber;e.complete(),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.complete()},t}(qe.a),xt=function(){function e(e){this._platform=e}return e.prototype.isDisabled=function(e){return e.hasAttribute("disabled")},e.prototype.isVisible=function(e){return function(e){return!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility},e.prototype.isTabbable=function(e){if(!this._platform.isBrowser)return!1;var t=function(e){try{return e.frameElement}catch(e){return null}}(e.ownerDocument.defaultView||window);if(t){var o=t&&t.nodeName.toLowerCase();if(-1===Pt(t))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===o)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(t))return!1}var r=e.nodeName.toLowerCase(),n=Pt(e);if(e.hasAttribute("contenteditable"))return-1!==n;if("iframe"===r)return!1;if("audio"===r){if(!e.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===r){if(!e.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==r||!this._platform.BLINK&&!this._platform.WEBKIT)&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(e){var t=e.nodeName.toLowerCase(),o="input"===t&&e.type;return"text"===o||"password"===o||"select"===t||"textarea"===t}(e))&&e.tabIndex>=0},e.prototype.isFocusable=function(e){return function(e){return!function(e){return function(e){return"input"==e.nodeName.toLowerCase()}(e)&&"hidden"==e.type}(e)&&(function(e){var t=e.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(e)||function(e){return function(e){return"a"==e.nodeName.toLowerCase()}(e)&&e.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||Et(e))}(e)&&!this.isDisabled(e)&&this.isVisible(e)},e}();function Et(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;var t=e.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function Pt(e){if(!Et(e))return null;var t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}var bt=function(){function e(e,t,o,r,n){void 0===n&&(n=!1),this._element=e,this._checker=t,this._ngZone=o,this._document=r,this._enabled=!0,n||this.attachAnchors()}return Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._startAnchor.tabIndex=this._endAnchor.tabIndex=this._enabled?0:-1)},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._startAnchor&&this._startAnchor.parentNode&&this._startAnchor.parentNode.removeChild(this._startAnchor),this._endAnchor&&this._endAnchor.parentNode&&this._endAnchor.parentNode.removeChild(this._endAnchor),this._startAnchor=this._endAnchor=null},e.prototype.attachAnchors=function(){var e=this;this._startAnchor||(this._startAnchor=this._createAnchor()),this._endAnchor||(this._endAnchor=this._createAnchor()),this._ngZone.runOutsideAngular(function(){e._startAnchor.addEventListener("focus",function(){e.focusLastTabbableElement()}),e._endAnchor.addEventListener("focus",function(){e.focusFirstTabbableElement()}),e._element.parentNode&&(e._element.parentNode.insertBefore(e._startAnchor,e._element),e._element.parentNode.insertBefore(e._endAnchor,e._element.nextSibling))})},e.prototype.focusInitialElementWhenReady=function(){var e=this;return new Promise(function(t){e._executeOnStable(function(){return t(e.focusInitialElement())})})},e.prototype.focusFirstTabbableElementWhenReady=function(){var e=this;return new Promise(function(t){e._executeOnStable(function(){return t(e.focusFirstTabbableElement())})})},e.prototype.focusLastTabbableElementWhenReady=function(){var e=this;return new Promise(function(t){e._executeOnStable(function(){return t(e.focusLastTabbableElement())})})},e.prototype._getRegionBoundary=function(e){for(var t=this._element.querySelectorAll("[cdk-focus-region-"+e+"], [cdkFocusRegion"+e+"], [cdk-focus-"+e+"]"),o=0;o<t.length;o++)t[o].hasAttribute("cdk-focus-"+e)?console.warn("Found use of deprecated attribute 'cdk-focus-"+e+"', use 'cdkFocusRegion"+e+"' instead.",t[o]):t[o].hasAttribute("cdk-focus-region-"+e)&&console.warn("Found use of deprecated attribute 'cdk-focus-region-"+e+"', use 'cdkFocusRegion"+e+"' instead.",t[o]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)},e.prototype.focusInitialElement=function(){var e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return this._element.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead.",this._element),e?(e.focus(),!0):this.focusFirstTabbableElement()},e.prototype.focusFirstTabbableElement=function(){var e=this._getRegionBoundary("start");return e&&e.focus(),!!e},e.prototype.focusLastTabbableElement=function(){var e=this._getRegionBoundary("end");return e&&e.focus(),!!e},e.prototype._getFirstTabbableElement=function(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;for(var t=e.children||e.childNodes,o=0;o<t.length;o++){var r=t[o].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[o]):null;if(r)return r}return null},e.prototype._getLastTabbableElement=function(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;for(var t=e.children||e.childNodes,o=t.length-1;o>=0;o--){var r=t[o].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[o]):null;if(r)return r}return null},e.prototype._createAnchor=function(){var e=this._document.createElement("div");return e.tabIndex=this._enabled?0:-1,e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e},e.prototype._executeOnStable=function(e){this._ngZone.isStable?e():this._ngZone.onStable.asObservable().pipe(Be(1)).subscribe(e)},e}(),Tt=function(){function e(e,t,o){this._checker=e,this._ngZone=t,this._document=o}return e.prototype.create=function(e,t){return void 0===t&&(t=!1),new bt(e,this._checker,this._ngZone,this._document,t)},e}(),Ct=function(){function e(e,t,o){this._elementRef=e,this._focusTrapFactory=t,this._previouslyFocusedElement=null,this._document=o,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}return Object.defineProperty(e.prototype,"enabled",{get:function(){return this.focusTrap.enabled},set:function(e){this.focusTrap.enabled=Ke(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoCapture",{get:function(){return this._autoCapture},set:function(e){this._autoCapture=Ke(e)},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)},e.prototype.ngAfterContentInit=function(){this.focusTrap.attachAnchors(),this.autoCapture&&(this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady())},e}();function Rt(e,t){return(e.getAttribute(t)||"").match(/\S+/g)||[]}var wt=0,Mt=new Map,Lt=null,Ot=function(){function e(e){this._document=e}return e.prototype.describe=function(e,t){this._canBeDescribed(e,t)&&(Mt.has(t)||this._createMessageElement(t),this._isElementDescribedByMessage(e,t)||this._addMessageReference(e,t))},e.prototype.removeDescription=function(e,t){if(this._canBeDescribed(e,t)){this._isElementDescribedByMessage(e,t)&&this._removeMessageReference(e,t);var o=Mt.get(t);o&&0===o.referenceCount&&this._deleteMessageElement(t),Lt&&0===Lt.childNodes.length&&this._deleteMessagesContainer()}},e.prototype.ngOnDestroy=function(){for(var e=this._document.querySelectorAll("[cdk-describedby-host]"),t=0;t<e.length;t++)this._removeCdkDescribedByReferenceIds(e[t]),e[t].removeAttribute("cdk-describedby-host");Lt&&this._deleteMessagesContainer(),Mt.clear()},e.prototype._createMessageElement=function(e){var t=this._document.createElement("div");t.setAttribute("id","cdk-describedby-message-"+wt++),t.appendChild(this._document.createTextNode(e)),Lt||this._createMessagesContainer(),Lt.appendChild(t),Mt.set(e,{messageElement:t,referenceCount:0})},e.prototype._deleteMessageElement=function(e){var t=Mt.get(e),o=t&&t.messageElement;Lt&&o&&Lt.removeChild(o),Mt.delete(e)},e.prototype._createMessagesContainer=function(){(Lt=this._document.createElement("div")).setAttribute("id","cdk-describedby-message-container"),Lt.setAttribute("aria-hidden","true"),Lt.style.display="none",this._document.body.appendChild(Lt)},e.prototype._deleteMessagesContainer=function(){Lt&&Lt.parentNode&&(Lt.parentNode.removeChild(Lt),Lt=null)},e.prototype._removeCdkDescribedByReferenceIds=function(e){var t=Rt(e,"aria-describedby").filter(function(e){return 0!=e.indexOf("cdk-describedby-message")});e.setAttribute("aria-describedby",t.join(" "))},e.prototype._addMessageReference=function(e,t){var o,r,n,i,l=Mt.get(t);n=l.messageElement.id,(i=Rt(o=e,r="aria-describedby")).some(function(e){return e.trim()==n.trim()})||(i.push(n.trim()),o.setAttribute(r,i.join(" "))),e.setAttribute("cdk-describedby-host",""),l.referenceCount++},e.prototype._removeMessageReference=function(e,t){var o,r,n,i,l=Mt.get(t);l.referenceCount--,n=l.messageElement.id,i=Rt(o=e,r="aria-describedby").filter(function(e){return e!=n.trim()}),o.setAttribute(r,i.join(" ")),e.removeAttribute("cdk-describedby-host")},e.prototype._isElementDescribedByMessage=function(e,t){var o=Rt(e,"aria-describedby"),r=Mt.get(t),n=r&&r.messageElement.id;return!!n&&-1!=o.indexOf(n)},e.prototype._canBeDescribed=function(e,t){return e.nodeType===this._document.ELEMENT_NODE&&null!=t&&!!(""+t).trim()},e}();function It(e,t){return e||new Ot(t)}var At=new r.InjectionToken("liveAnnouncerElement"),Dt=function(){function e(e,t){this._document=t,this._liveElement=e||this._createLiveElement()}return e.prototype.announce=function(e,t){var o=this;return void 0===t&&(t="polite"),this._liveElement.textContent="",this._liveElement.setAttribute("aria-live",t),new Promise(function(t){setTimeout(function(){o._liveElement.textContent=e,t()},100)})},e.prototype.ngOnDestroy=function(){this._liveElement&&this._liveElement.parentNode&&this._liveElement.parentNode.removeChild(this._liveElement)},e.prototype._createLiveElement=function(){var e=this._document.createElement("div");return e.classList.add("cdk-visually-hidden"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),e},e}();function Nt(e,t,o){return e||new Dt(t,o)}var Ft=function(){function e(e,t){this._ngZone=e,this._platform=t,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._unregisterGlobalListeners=function(){},this._monitoredElementCount=0}return e.prototype.monitor=function(e,t,o){var n=this;if(t instanceof r.Renderer2||(o=t),o=!!o,!this._platform.isBrowser)return re(null);if(this._elementInfo.has(e)){var i=this._elementInfo.get(e);return i.checkChildren=o,i.subject.asObservable()}var l={unlisten:function(){},checkChildren:o,subject:new ee.a};this._elementInfo.set(e,l),this._incrementMonitoredElementCount();var a=function(t){return n._onFocus(t,e)},s=function(t){return n._onBlur(t,e)};return this._ngZone.runOutsideAngular(function(){e.addEventListener("focus",a,!0),e.addEventListener("blur",s,!0)}),l.unlisten=function(){e.removeEventListener("focus",a,!0),e.removeEventListener("blur",s,!0)},l.subject.asObservable()},e.prototype.stopMonitoring=function(e){var t=this._elementInfo.get(e);t&&(t.unlisten(),t.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._decrementMonitoredElementCount())},e.prototype.focusVia=function(e,t){this._setOriginForCurrentEventQueue(t),e.focus()},e.prototype.ngOnDestroy=function(){var e=this;this._elementInfo.forEach(function(t,o){return e.stopMonitoring(o)})},e.prototype._registerGlobalListeners=function(){var e=this;if(this._platform.isBrowser){var t=function(){e._lastTouchTarget=null,e._setOriginForCurrentEventQueue("keyboard")},o=function(){e._lastTouchTarget||e._setOriginForCurrentEventQueue("mouse")},r=function(t){null!=e._touchTimeoutId&&clearTimeout(e._touchTimeoutId),e._lastTouchTarget=t.target,e._touchTimeoutId=setTimeout(function(){return e._lastTouchTarget=null},650)},n=function(){e._windowFocused=!0,e._windowFocusTimeoutId=setTimeout(function(){return e._windowFocused=!1},0)};this._ngZone.runOutsideAngular(function(){document.addEventListener("keydown",t,!0),document.addEventListener("mousedown",o,!0),document.addEventListener("touchstart",r,!z()||{passive:!0,capture:!0}),window.addEventListener("focus",n)}),this._unregisterGlobalListeners=function(){document.removeEventListener("keydown",t,!0),document.removeEventListener("mousedown",o,!0),document.removeEventListener("touchstart",r,!z()||{passive:!0,capture:!0}),window.removeEventListener("focus",n),clearTimeout(e._windowFocusTimeoutId),clearTimeout(e._touchTimeoutId),clearTimeout(e._originTimeoutId)}}},e.prototype._toggleClass=function(e,t,o){o?e.classList.add(t):e.classList.remove(t)},e.prototype._setClasses=function(e,t){this._elementInfo.get(e)&&(this._toggleClass(e,"cdk-focused",!!t),this._toggleClass(e,"cdk-touch-focused","touch"===t),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===t),this._toggleClass(e,"cdk-mouse-focused","mouse"===t),this._toggleClass(e,"cdk-program-focused","program"===t))},e.prototype._setOriginForCurrentEventQueue=function(e){var t=this;this._origin=e,this._originTimeoutId=setTimeout(function(){return t._origin=null},0)},e.prototype._wasCausedByTouch=function(e){var t=e.target;return this._lastTouchTarget instanceof Node&&t instanceof Node&&(t===this._lastTouchTarget||t.contains(this._lastTouchTarget))},e.prototype._onFocus=function(e,t){var o=this._elementInfo.get(t);o&&(o.checkChildren||t===e.target)&&(this._origin||(this._origin=this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(e)?"touch":"program"),this._setClasses(t,this._origin),o.subject.next(this._origin),this._lastFocusOrigin=this._origin,this._origin=null)},e.prototype._onBlur=function(e,t){var o=this._elementInfo.get(t);!o||o.checkChildren&&e.relatedTarget instanceof Node&&t.contains(e.relatedTarget)||(this._setClasses(t),o.subject.next(null))},e.prototype._incrementMonitoredElementCount=function(){1==++this._monitoredElementCount&&this._registerGlobalListeners()},e.prototype._decrementMonitoredElementCount=function(){--this._monitoredElementCount||(this._unregisterGlobalListeners(),this._unregisterGlobalListeners=function(){})},e}(),Gt=function(){function e(e,t){var o=this;this._elementRef=e,this._focusMonitor=t,this.cdkFocusChange=new r.EventEmitter,this._monitorSubscription=this._focusMonitor.monitor(this._elementRef.nativeElement,this._elementRef.nativeElement.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(function(e){return o.cdkFocusChange.emit(e)})}return e.prototype.ngOnDestroy=function(){this._focusMonitor.stopMonitoring(this._elementRef.nativeElement),this._monitorSubscription.unsubscribe()},e}();function kt(e,t,o){return e||new Ft(t,o)}var jt=function(){},qt=null;function Vt(){return qt}var Ut,Bt={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Wt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Yt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};r["\u0275global"].Node&&(Ut=r["\u0275global"].Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))});var Kt,Xt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(c.__extends)(t,e),t.prototype.parse=function(e){throw new Error("parse not implemented")},t.makeCurrent=function(){var e;e=new t,qt||(qt=e)},t.prototype.hasProperty=function(e,t){return t in e},t.prototype.setProperty=function(e,t,o){e[t]=o},t.prototype.getProperty=function(e,t){return e[t]},t.prototype.invoke=function(e,t,o){var r;(r=e)[t].apply(r,o)},t.prototype.logError=function(e){window.console&&(console.error?console.error(e):console.log(e))},t.prototype.log=function(e){window.console&&window.console.log&&window.console.log(e)},t.prototype.logGroup=function(e){window.console&&window.console.group&&window.console.group(e)},t.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return Bt},enumerable:!0,configurable:!0}),t.prototype.contains=function(e,t){return Ut.call(e,t)},t.prototype.querySelector=function(e,t){return e.querySelector(t)},t.prototype.querySelectorAll=function(e,t){return e.querySelectorAll(t)},t.prototype.on=function(e,t,o){e.addEventListener(t,o,!1)},t.prototype.onAndCancel=function(e,t,o){return e.addEventListener(t,o,!1),function(){e.removeEventListener(t,o,!1)}},t.prototype.dispatchEvent=function(e,t){e.dispatchEvent(t)},t.prototype.createMouseEvent=function(e){var t=this.getDefaultDocument().createEvent("MouseEvent");return t.initEvent(e,!0,!0),t},t.prototype.createEvent=function(e){var t=this.getDefaultDocument().createEvent("Event");return t.initEvent(e,!0,!0),t},t.prototype.preventDefault=function(e){e.preventDefault(),e.returnValue=!1},t.prototype.isPrevented=function(e){return e.defaultPrevented||null!=e.returnValue&&!e.returnValue},t.prototype.getInnerHTML=function(e){return e.innerHTML},t.prototype.getTemplateContent=function(e){return"content"in e&&this.isTemplateElement(e)?e.content:null},t.prototype.getOuterHTML=function(e){return e.outerHTML},t.prototype.nodeName=function(e){return e.nodeName},t.prototype.nodeValue=function(e){return e.nodeValue},t.prototype.type=function(e){return e.type},t.prototype.content=function(e){return this.hasProperty(e,"content")?e.content:e},t.prototype.firstChild=function(e){return e.firstChild},t.prototype.nextSibling=function(e){return e.nextSibling},t.prototype.parentElement=function(e){return e.parentNode},t.prototype.childNodes=function(e){return e.childNodes},t.prototype.childNodesAsList=function(e){for(var t=e.childNodes,o=new Array(t.length),r=0;r<t.length;r++)o[r]=t[r];return o},t.prototype.clearNodes=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},t.prototype.appendChild=function(e,t){e.appendChild(t)},t.prototype.removeChild=function(e,t){e.removeChild(t)},t.prototype.replaceChild=function(e,t,o){e.replaceChild(t,o)},t.prototype.remove=function(e){return e.parentNode&&e.parentNode.removeChild(e),e},t.prototype.insertBefore=function(e,t,o){e.insertBefore(o,t)},t.prototype.insertAllBefore=function(e,t,o){o.forEach(function(o){return e.insertBefore(o,t)})},t.prototype.insertAfter=function(e,t,o){e.insertBefore(o,t.nextSibling)},t.prototype.setInnerHTML=function(e,t){e.innerHTML=t},t.prototype.getText=function(e){return e.textContent},t.prototype.setText=function(e,t){e.textContent=t},t.prototype.getValue=function(e){return e.value},t.prototype.setValue=function(e,t){e.value=t},t.prototype.getChecked=function(e){return e.checked},t.prototype.setChecked=function(e,t){e.checked=t},t.prototype.createComment=function(e){return this.getDefaultDocument().createComment(e)},t.prototype.createTemplate=function(e){var t=this.getDefaultDocument().createElement("template");return t.innerHTML=e,t},t.prototype.createElement=function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)},t.prototype.createElementNS=function(e,t,o){return(o=o||this.getDefaultDocument()).createElementNS(e,t)},t.prototype.createTextNode=function(e,t){return(t=t||this.getDefaultDocument()).createTextNode(e)},t.prototype.createScriptTag=function(e,t,o){var r=(o=o||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(e,t),r},t.prototype.createStyleElement=function(e,t){var o=(t=t||this.getDefaultDocument()).createElement("style");return this.appendChild(o,this.createTextNode(e,t)),o},t.prototype.createShadowRoot=function(e){return e.createShadowRoot()},t.prototype.getShadowRoot=function(e){return e.shadowRoot},t.prototype.getHost=function(e){return e.host},t.prototype.clone=function(e){return e.cloneNode(!0)},t.prototype.getElementsByClassName=function(e,t){return e.getElementsByClassName(t)},t.prototype.getElementsByTagName=function(e,t){return e.getElementsByTagName(t)},t.prototype.classList=function(e){return Array.prototype.slice.call(e.classList,0)},t.prototype.addClass=function(e,t){e.classList.add(t)},t.prototype.removeClass=function(e,t){e.classList.remove(t)},t.prototype.hasClass=function(e,t){return e.classList.contains(t)},t.prototype.setStyle=function(e,t,o){e.style[t]=o},t.prototype.removeStyle=function(e,t){e.style[t]=""},t.prototype.getStyle=function(e,t){return e.style[t]},t.prototype.hasStyle=function(e,t,o){var r=this.getStyle(e,t)||"";return o?r==o:r.length>0},t.prototype.tagName=function(e){return e.tagName},t.prototype.attributeMap=function(e){for(var t=new Map,o=e.attributes,r=0;r<o.length;r++){var n=o.item(r);t.set(n.name,n.value)}return t},t.prototype.hasAttribute=function(e,t){return e.hasAttribute(t)},t.prototype.hasAttributeNS=function(e,t,o){return e.hasAttributeNS(t,o)},t.prototype.getAttribute=function(e,t){return e.getAttribute(t)},t.prototype.getAttributeNS=function(e,t,o){return e.getAttributeNS(t,o)},t.prototype.setAttribute=function(e,t,o){e.setAttribute(t,o)},t.prototype.setAttributeNS=function(e,t,o,r){e.setAttributeNS(t,o,r)},t.prototype.removeAttribute=function(e,t){e.removeAttribute(t)},t.prototype.removeAttributeNS=function(e,t,o){e.removeAttributeNS(t,o)},t.prototype.templateAwareRoot=function(e){return this.isTemplateElement(e)?this.content(e):e},t.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},t.prototype.getDefaultDocument=function(){return document},t.prototype.getBoundingClientRect=function(e){try{return e.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},t.prototype.getTitle=function(e){return e.title},t.prototype.setTitle=function(e,t){e.title=t||""},t.prototype.elementMatches=function(e,t){return!!this.isElementNode(e)&&(e.matches&&e.matches(t)||e.msMatchesSelector&&e.msMatchesSelector(t)||e.webkitMatchesSelector&&e.webkitMatchesSelector(t))},t.prototype.isTemplateElement=function(e){return this.isElementNode(e)&&"TEMPLATE"===e.nodeName},t.prototype.isTextNode=function(e){return e.nodeType===Node.TEXT_NODE},t.prototype.isCommentNode=function(e){return e.nodeType===Node.COMMENT_NODE},t.prototype.isElementNode=function(e){return e.nodeType===Node.ELEMENT_NODE},t.prototype.hasShadowRoot=function(e){return null!=e.shadowRoot&&e instanceof HTMLElement},t.prototype.isShadowRoot=function(e){return e instanceof DocumentFragment},t.prototype.importIntoDoc=function(e){return document.importNode(this.templateAwareRoot(e),!0)},t.prototype.adoptNode=function(e){return document.adoptNode(e)},t.prototype.getHref=function(e){return e.getAttribute("href")},t.prototype.getEventKey=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&Yt.hasOwnProperty(t)&&(t=Yt[t]))}return Wt[t]||t},t.prototype.getGlobalEventTarget=function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null},t.prototype.getHistory=function(){return window.history},t.prototype.getLocation=function(){return window.location},t.prototype.getBaseHref=function(e){var t,o=Zt||(Zt=document.querySelector("base"))?Zt.getAttribute("href"):null;return null==o?null:(t=o,Kt||(Kt=document.createElement("a")),Kt.setAttribute("href",t),"/"===Kt.pathname.charAt(0)?Kt.pathname:"/"+Kt.pathname)},t.prototype.resetBaseElement=function(){Zt=null},t.prototype.getUserAgent=function(){return window.navigator.userAgent},t.prototype.setData=function(e,t,o){this.setAttribute(e,"data-"+t,o)},t.prototype.getData=function(e,t){return this.getAttribute(e,"data-"+t)},t.prototype.getComputedStyle=function(e){return getComputedStyle(e)},t.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},t.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},t.prototype.supportsCookies=function(){return!0},t.prototype.getCookie=function(e){return M(document.cookie,e)},t.prototype.setCookie=function(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)},t}(function(e){function t(){var t=e.call(this)||this;t._animationPrefix=null,t._transitionEnd=null;try{var o=t.createElement("div",document);if(null!=t.getStyle(o,"animationName"))t._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],n=0;n<r.length;n++)if(null!=t.getStyle(o,r[n]+"AnimationName")){t._animationPrefix="-"+r[n].toLowerCase()+"-";break}var i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(i).forEach(function(e){null!=t.getStyle(o,e)&&(t._transitionEnd=i[e])})}catch(e){t._animationPrefix=null,t._transitionEnd=null}return t}return Object(c.__extends)(t,e),t.prototype.getDistributedNodes=function(e){return e.getDistributedNodes()},t.prototype.resolveAndSetHref=function(e,t,o){e.href=null==o?t:t+"/../"+o},t.prototype.supportsDOMEvents=function(){return!0},t.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},t.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},t.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},t.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},t}(function(){function e(){this.resourceLoaderType=null}return Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(e){this._attrToPropMap=e},enumerable:!0,configurable:!0}),e}())),Zt=null,Ht=X;function zt(){return!!window.history.pushState}var Jt=function(e){function t(t){var o=e.call(this)||this;return o._doc=t,o._init(),o}return Object(c.__extends)(t,e),t.prototype._init=function(){this.location=Vt().getLocation(),this._history=Vt().getHistory()},t.prototype.getBaseHrefFromDOM=function(){return Vt().getBaseHref(this._doc)},t.prototype.onPopState=function(e){Vt().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)},t.prototype.onHashChange=function(e){Vt().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)},Object.defineProperty(t.prototype,"pathname",{get:function(){return this.location.pathname},set:function(e){this.location.pathname=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),t.prototype.pushState=function(e,t,o){zt()?this._history.pushState(e,t,o):this.location.hash=o},t.prototype.replaceState=function(e,t,o){zt()?this._history.replaceState(e,t,o):this.location.hash=o},t.prototype.forward=function(){this._history.forward()},t.prototype.back=function(){this._history.back()},t.ctorParameters=function(){return[{type:void 0,decorators:[{type:r.Inject,args:[Ht]}]}]},t}(y),Qt=function(){function e(e){this._doc=e,this._dom=Vt()}return e.prototype.addTag=function(e,t){return void 0===t&&(t=!1),e?this._getOrCreateElement(e,t):null},e.prototype.addTags=function(e,t){var o=this;return void 0===t&&(t=!1),e?e.reduce(function(e,r){return r&&e.push(o._getOrCreateElement(r,t)),e},[]):[]},e.prototype.getTag=function(e){return e&&this._dom.querySelector(this._doc,"meta["+e+"]")||null},e.prototype.getTags=function(e){if(!e)return[];var t=this._dom.querySelectorAll(this._doc,"meta["+e+"]");return t?[].slice.call(t):[]},e.prototype.updateTag=function(e,t){if(!e)return null;t=t||this._parseSelector(e);var o=this.getTag(t);return o?this._setMetaElementAttributes(e,o):this._getOrCreateElement(e,!0)},e.prototype.removeTag=function(e){this.removeTagElement(this.getTag(e))},e.prototype.removeTagElement=function(e){e&&this._dom.remove(e)},e.prototype._getOrCreateElement=function(e,t){if(void 0===t&&(t=!1),!t){var o=this._parseSelector(e),r=this.getTag(o);if(r&&this._containsAttributes(e,r))return r}var n=this._dom.createElement("meta");this._setMetaElementAttributes(e,n);var i=this._dom.getElementsByTagName(this._doc,"head")[0];return this._dom.appendChild(i,n),n},e.prototype._setMetaElementAttributes=function(e,t){var o=this;return Object.keys(e).forEach(function(r){return o._dom.setAttribute(t,r,e[r])}),t},e.prototype._parseSelector=function(e){var t=e.name?"name":"property";return t+'="'+e[t]+'"'},e.prototype._containsAttributes=function(e,t){var o=this;return Object.keys(e).every(function(r){return o._dom.getAttribute(t,r)===e[r]})},e}(),$t=new r.InjectionToken("TRANSITION_ID"),eo=[{provide:r.APP_INITIALIZER,useFactory:function(e,t,o){return function(){o.get(r.ApplicationInitStatus).donePromise.then(function(){var o=Vt();Array.prototype.slice.apply(o.querySelectorAll(t,"style[ng-transition]")).filter(function(t){return o.getAttribute(t,"ng-transition")===e}).forEach(function(e){return o.remove(e)})})}},deps:[$t,Ht,r.Injector],multi:!0}],to=function(){function e(){}return e.init=function(){Object(r.setTestabilityGetter)(new e)},e.prototype.addToWindow=function(e){r["\u0275global"].getAngularTestability=function(t,o){void 0===o&&(o=!0);var r=e.findTestabilityInTree(t,o);if(null==r)throw new Error("Could not find testability for element.");return r},r["\u0275global"].getAllAngularTestabilities=function(){return e.getAllTestabilities()},r["\u0275global"].getAllAngularRootElements=function(){return e.getAllRootElements()},r["\u0275global"].frameworkStabilizers||(r["\u0275global"].frameworkStabilizers=[]),r["\u0275global"].frameworkStabilizers.push(function(e){var t=r["\u0275global"].getAllAngularTestabilities(),o=t.length,n=!1,i=function(t){n=n||t,0==--o&&e(n)};t.forEach(function(e){e.whenStable(i)})})},e.prototype.findTestabilityInTree=function(e,t,o){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:o?Vt().isShadowRoot(t)?this.findTestabilityInTree(e,Vt().getHost(t),!0):this.findTestabilityInTree(e,Vt().parentElement(t),!0):null},e}(),oo=function(){function e(e){this._doc=e}return e.prototype.getTitle=function(){return Vt().getTitle(this._doc)},e.prototype.setTitle=function(e){Vt().setTitle(this._doc,e)},e}();function ro(e,t){"undefined"!=typeof COMPILED&&COMPILED||((r["\u0275global"].ng=r["\u0275global"].ng||{})[e]=t)}var no={ApplicationRef:r.ApplicationRef,NgZone:r.NgZone};function io(e){return Object(r.getDebugNode)(e)}var lo=new r.InjectionToken("EventManagerPlugins"),ao=function(){function e(e,t){var o=this;this._zone=t,this._eventNameToPlugin=new Map,e.forEach(function(e){return e.manager=o}),this._plugins=e.slice().reverse()}return e.prototype.addEventListener=function(e,t,o){return this._findPluginFor(t).addEventListener(e,t,o)},e.prototype.addGlobalEventListener=function(e,t,o){return this._findPluginFor(t).addGlobalEventListener(e,t,o)},e.prototype.getZone=function(){return this._zone},e.prototype._findPluginFor=function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var o=this._plugins,r=0;r<o.length;r++){var n=o[r];if(n.supports(e))return this._eventNameToPlugin.set(e,n),n}throw new Error("No event manager plugin found for event "+e)},e}(),so=function(){function e(e){this._doc=e}return e.prototype.addGlobalEventListener=function(e,t,o){var r=Vt().getGlobalEventTarget(this._doc,e);if(!r)throw new Error("Unsupported event target "+r+" for event "+t);return this.addEventListener(r,t,o)},e}(),po=function(){function e(){this._stylesSet=new Set}return e.prototype.addStyles=function(e){var t=this,o=new Set;e.forEach(function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),o.add(e))}),this.onStylesAdded(o)},e.prototype.onStylesAdded=function(e){},e.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},e}(),uo=function(e){function t(t){var o=e.call(this)||this;return o._doc=t,o._hostNodes=new Set,o._styleNodes=new Set,o._hostNodes.add(t.head),o}return Object(c.__extends)(t,e),t.prototype._addStylesToHost=function(e,t){var o=this;e.forEach(function(e){var r=o._doc.createElement("style");r.textContent=e,o._styleNodes.add(t.appendChild(r))})},t.prototype.addHost=function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)},t.prototype.removeHost=function(e){this._hostNodes.delete(e)},t.prototype.onStylesAdded=function(e){var t=this;this._hostNodes.forEach(function(o){return t._addStylesToHost(e,o)})},t.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(e){return Vt().remove(e)})},t}(po),co={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},go=/%COMP%/g,ho="_nghost-%COMP%",yo="_ngcontent-%COMP%";function fo(e,t,o){for(var r=0;r<t.length;r++){var n=t[r];Array.isArray(n)?fo(e,n,o):(n=n.replace(go,e),o.push(n))}return o}function mo(e){return function(t){!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var vo=function(){function e(e,t){this.eventManager=e,this.sharedStylesHost=t,this.rendererByCompId=new Map,this.defaultRenderer=new _o(e)}return e.prototype.createRenderer=function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case r.ViewEncapsulation.Emulated:var o=this.rendererByCompId.get(t.id);return o||(o=new Po(this.eventManager,this.sharedStylesHost,t),this.rendererByCompId.set(t.id,o)),o.applyToHost(e),o;case r.ViewEncapsulation.Native:return new bo(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var n=fo(t.id,t.styles,[]);this.sharedStylesHost.addStyles(n),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}},e.prototype.begin=function(){},e.prototype.end=function(){},e}(),_o=function(){function e(e){this.eventManager=e,this.data=Object.create(null)}return e.prototype.destroy=function(){},e.prototype.createElement=function(e,t){return t?document.createElementNS(co[t],e):document.createElement(e)},e.prototype.createComment=function(e){return document.createComment(e)},e.prototype.createText=function(e){return document.createTextNode(e)},e.prototype.appendChild=function(e,t){e.appendChild(t)},e.prototype.insertBefore=function(e,t,o){e&&e.insertBefore(t,o)},e.prototype.removeChild=function(e,t){e&&e.removeChild(t)},e.prototype.selectRootElement=function(e){var t="string"==typeof e?document.querySelector(e):e;if(!t)throw new Error('The selector "'+e+'" did not match any elements');return t.textContent="",t},e.prototype.parentNode=function(e){return e.parentNode},e.prototype.nextSibling=function(e){return e.nextSibling},e.prototype.setAttribute=function(e,t,o,r){if(r){t=r+":"+t;var n=co[r];n?e.setAttributeNS(n,t,o):e.setAttribute(t,o)}else e.setAttribute(t,o)},e.prototype.removeAttribute=function(e,t,o){if(o){var r=co[o];r?e.removeAttributeNS(r,t):e.removeAttribute(o+":"+t)}else e.removeAttribute(t)},e.prototype.addClass=function(e,t){e.classList.add(t)},e.prototype.removeClass=function(e,t){e.classList.remove(t)},e.prototype.setStyle=function(e,t,o,n){n&r.RendererStyleFlags2.DashCase?e.style.setProperty(t,o,n&r.RendererStyleFlags2.Important?"important":""):e.style[t]=o},e.prototype.removeStyle=function(e,t,o){o&r.RendererStyleFlags2.DashCase?e.style.removeProperty(t):e.style[t]=""},e.prototype.setProperty=function(e,t,o){xo(t,"property"),e[t]=o},e.prototype.setValue=function(e,t){e.nodeValue=t},e.prototype.listen=function(e,t,o){return xo(t,"listener"),"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,mo(o)):this.eventManager.addEventListener(e,t,mo(o))},e}(),So="@".charCodeAt(0);function xo(e,t){if(e.charCodeAt(0)===So)throw new Error("Found the synthetic "+t+" "+e+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}var Eo,Po=function(e){function t(t,o,r){var n=e.call(this,t)||this;n.component=r;var i=fo(r.id,r.styles,[]);return o.addStyles(i),n.contentAttr=yo.replace(go,r.id),n.hostAttr=ho.replace(go,r.id),n}return Object(c.__extends)(t,e),t.prototype.applyToHost=function(t){e.prototype.setAttribute.call(this,t,this.hostAttr,"")},t.prototype.createElement=function(t,o){var r=e.prototype.createElement.call(this,t,o);return e.prototype.setAttribute.call(this,r,this.contentAttr,""),r},t}(_o),bo=function(e){function t(t,o,r,n){var i=e.call(this,t)||this;i.sharedStylesHost=o,i.hostEl=r,i.component=n,i.shadowRoot=r.createShadowRoot(),i.sharedStylesHost.addHost(i.shadowRoot);for(var l=fo(n.id,n.styles,[]),a=0;a<l.length;a++){var s=document.createElement("style");s.textContent=l[a],i.shadowRoot.appendChild(s)}return i}return Object(c.__extends)(t,e),t.prototype.nodeOrShadowRoot=function(e){return e===this.hostEl?this.shadowRoot:e},t.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},t.prototype.appendChild=function(t,o){return e.prototype.appendChild.call(this,this.nodeOrShadowRoot(t),o)},t.prototype.insertBefore=function(t,o,r){return e.prototype.insertBefore.call(this,this.nodeOrShadowRoot(t),o,r)},t.prototype.removeChild=function(t,o){return e.prototype.removeChild.call(this,this.nodeOrShadowRoot(t),o)},t.prototype.parentNode=function(t){return this.nodeOrShadowRoot(e.prototype.parentNode.call(this,this.nodeOrShadowRoot(t)))},t}(_o),To="undefined"!=typeof Zone&&Zone.__symbol__||function(e){return"__zone_symbol__"+e},Co=To("addEventListener"),Ro=To("removeEventListener"),wo={},Mo="__zone_symbol__propagationStopped";"undefined"!=typeof Zone&&Zone[To("BLACK_LISTED_EVENTS")]&&(Eo={});var Lo=function(e){return!!Eo&&Eo.hasOwnProperty(e)},Oo=function(e){var t=wo[e.type];if(t){var o=this[t];if(o){var r=[e];if(1===o.length)return(l=o[0]).zone!==Zone.current?l.zone.run(l.handler,this,r):l.handler.apply(this,r);for(var n=o.slice(),i=0;i<n.length&&!0!==e[Mo];i++){var l;(l=n[i]).zone!==Zone.current?l.zone.run(l.handler,this,r):l.handler.apply(this,r)}}}},Io=function(e){function t(t,o){var r=e.call(this,t)||this;return r.ngZone=o,r.patchEvent(),r}return Object(c.__extends)(t,e),t.prototype.patchEvent=function(){if(Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var e=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Mo]=!0),e&&e.apply(this,arguments)}}},t.prototype.supports=function(e){return!0},t.prototype.addEventListener=function(e,t,o){var n=this,i=o;if(!e[Co]||r.NgZone.isInAngularZone()&&!Lo(t))e.addEventListener(t,i,!1);else{var l=wo[t];l||(l=wo[t]=To("ANGULAR"+t+"FALSE"));var a=e[l],s=a&&a.length>0;a||(a=e[l]=[]);var p=Lo(t)?Zone.root:Zone.current;if(0===a.length)a.push({zone:p,handler:i});else{for(var u=!1,c=0;c<a.length;c++)if(a[c].handler===i){u=!0;break}u||a.push({zone:p,handler:i})}s||e[Co](t,Oo,!1)}return function(){return n.removeEventListener(e,t,i)}},t.prototype.removeEventListener=function(e,t,o){var r=e[Ro];if(!r)return e.removeEventListener.apply(e,[t,o,!1]);var n=wo[t],i=n&&e[n];if(!i)return e.removeEventListener.apply(e,[t,o,!1]);for(var l=!1,a=0;a<i.length;a++)if(i[a].handler===o){l=!0,i.splice(a,1);break}l?0===i.length&&r.apply(e,[t,Oo,!1]):e.removeEventListener.apply(e,[t,o,!1])},t}(so),Ao={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},Do=new r.InjectionToken("HammerGestureConfig"),No=function(){function e(){this.events=[],this.overrides={}}return e.prototype.buildHammer=function(e){var t=new Hammer(e);for(var o in t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0}),this.overrides)t.get(o).set(this.overrides[o]);return t},e}(),Fo=function(e){function t(t,o){var r=e.call(this,t)||this;return r._config=o,r}return Object(c.__extends)(t,e),t.prototype.supports=function(e){if(!Ao.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e))return!1;if(!window.Hammer)throw new Error("Hammer.js is not loaded, can not bind "+e+" event");return!0},t.prototype.addEventListener=function(e,t,o){var r=this,n=this.manager.getZone();return t=t.toLowerCase(),n.runOutsideAngular(function(){var i=r._config.buildHammer(e),l=function(e){n.runGuarded(function(){o(e)})};return i.on(t,l),function(){return i.off(t,l)}})},t.prototype.isCustomEvent=function(e){return this._config.events.indexOf(e)>-1},t}(so),Go=["alt","control","meta","shift"],ko={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},jo=function(e){function t(t){return e.call(this,t)||this}return Object(c.__extends)(t,e),t.prototype.supports=function(e){return null!=t.parseEventName(e)},t.prototype.addEventListener=function(e,o,r){var n=t.parseEventName(o),i=t.eventCallback(n.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return Vt().onAndCancel(e,n.domEventName,i)})},t.parseEventName=function(e){var o=e.toLowerCase().split("."),r=o.shift();if(0===o.length||"keydown"!==r&&"keyup"!==r)return null;var n=t._normalizeKey(o.pop()),i="";if(Go.forEach(function(e){var t=o.indexOf(e);t>-1&&(o.splice(t,1),i+=e+".")}),i+=n,0!=o.length||0===n.length)return null;var l={};return l.domEventName=r,l.fullKey=i,l},t.getEventFullKey=function(e){var t="",o=Vt().getEventKey(e);return" "===(o=o.toLowerCase())?o="space":"."===o&&(o="dot"),Go.forEach(function(r){r!=o&&(0,ko[r])(e)&&(t+=r+".")}),t+=o},t.eventCallback=function(e,o,r){return function(n){t.getEventFullKey(n)===e&&r.runGuarded(function(){return o(n)})}},t._normalizeKey=function(e){switch(e){case"esc":return"escape";default:return e}},t}(so),qo=function(){function e(e,t){this.defaultDoc=e,this.DOM=t;var o=this.DOM.createHtmlDocument();if(this.inertBodyElement=o.body,null==this.inertBodyElement){var r=this.DOM.createElement("html",o);this.inertBodyElement=this.DOM.createElement("body",o),this.DOM.appendChild(r,this.inertBodyElement),this.DOM.appendChild(o,r)}this.DOM.setInnerHTML(this.inertBodyElement,'<svg><g onload="this.parentNode.remove()"></g></svg>'),!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.DOM.setInnerHTML(this.inertBodyElement,'<svg><p><style><img src="</style><img src=x onerror=alert(1)//">'),this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return e.prototype.getInertBodyElement_XHR=function(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(e){return null}var t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(null);var o=t.response.body;return o.removeChild(o.firstChild),o},e.prototype.getInertBodyElement_DOMParser=function(e){e="<body><remove></remove>"+e+"</body>";try{var t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(e){return null}},e.prototype.getInertBodyElement_InertDocument=function(e){var t=this.DOM.createElement("template");return"content"in t?(this.DOM.setInnerHTML(t,e),t):(this.DOM.setInnerHTML(this.inertBodyElement,e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},e.prototype.stripCustomNsAttrs=function(e){var t=this;this.DOM.attributeMap(e).forEach(function(o,r){"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.DOM.removeAttribute(e,r)});for(var o=0,r=this.DOM.childNodesAsList(e);o<r.length;o++){var n=r[o];this.DOM.isElementNode(n)&&this.stripCustomNsAttrs(n)}},e}(),Vo=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Uo=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Bo(e){return(e=String(e)).match(Vo)||e.match(Uo)?e:(Object(r.isDevMode)()&&Vt().log("WARNING: sanitizing unsafe URL value "+e+" (see http://g.co/ng/security#xss)"),"unsafe:"+e)}function Wo(e){for(var t={},o=0,r=e.split(",");o<r.length;o++)t[r[o]]=!0;return t}function Yo(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var o={},r=0,n=e;r<n.length;r++){var i=n[r];for(var l in i)i.hasOwnProperty(l)&&(o[l]=!0)}return o}var Ko,Xo=Wo("area,br,col,hr,img,wbr"),Zo=Wo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ho=Wo("rp,rt"),zo=Yo(Ho,Zo),Jo=Yo(Xo,Yo(Zo,Wo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Yo(Ho,Wo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),zo),Qo=Wo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),$o=Wo("srcset"),er=Yo(Qo,$o,Wo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width")),tr=function(){function e(){this.sanitizedSomething=!1,this.buf=[],this.DOM=Vt()}return e.prototype.sanitizeChildren=function(e){for(var t=this.DOM.firstChild(e);t;)if(this.DOM.isElementNode(t)?this.startElement(t):this.DOM.isTextNode(t)?this.chars(this.DOM.nodeValue(t)):this.sanitizedSomething=!0,this.DOM.firstChild(t))t=this.DOM.firstChild(t);else for(;t;){this.DOM.isElementNode(t)&&this.endElement(t);var o=this.checkClobberedElement(t,this.DOM.nextSibling(t));if(o){t=o;break}t=this.checkClobberedElement(t,this.DOM.parentElement(t))}return this.buf.join("")},e.prototype.startElement=function(e){var t=this,o=this.DOM.nodeName(e).toLowerCase();Jo.hasOwnProperty(o)?(this.buf.push("<"),this.buf.push(o),this.DOM.attributeMap(e).forEach(function(e,o){var r,n=o.toLowerCase();er.hasOwnProperty(n)?(Qo[n]&&(e=Bo(e)),$o[n]&&(r=e,e=(r=String(r)).split(",").map(function(e){return Bo(e.trim())}).join(", ")),t.buf.push(" "),t.buf.push(o),t.buf.push('="'),t.buf.push(nr(e)),t.buf.push('"')):t.sanitizedSomething=!0}),this.buf.push(">")):this.sanitizedSomething=!0},e.prototype.endElement=function(e){var t=this.DOM.nodeName(e).toLowerCase();Jo.hasOwnProperty(t)&&!Xo.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))},e.prototype.chars=function(e){this.buf.push(nr(e))},e.prototype.checkClobberedElement=function(e,t){if(t&&this.DOM.contains(e,t))throw new Error("Failed to sanitize html because the element is clobbered: "+this.DOM.getOuterHTML(e));return t},e}(),or=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rr=/([^\#-~ |!])/g;function nr(e){return e.replace(/&/g,"&amp;").replace(or,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(rr,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var ir=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),lr=/^url\(([^)]+)\)$/,ar=function(){},sr=function(e){function t(t){var o=e.call(this)||this;return o._doc=t,o}return Object(c.__extends)(t,e),t.prototype.sanitize=function(e,t){if(null==t)return null;switch(e){case r.SecurityContext.NONE:return t;case r.SecurityContext.HTML:return t instanceof ur?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"HTML"),function(e,t){var o=Vt(),n=null;try{Ko=Ko||new qo(e,o);var i=t?String(t):"";n=Ko.getInertBodyElement(i);var l=5,a=i;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,i=a,a=o.getInnerHTML(n),n=Ko.getInertBodyElement(i)}while(i!==a);var s=new tr,p=s.sanitizeChildren(o.getTemplateContent(n)||n);return Object(r.isDevMode)()&&s.sanitizedSomething&&o.log("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."),p}finally{if(n)for(var u=o.getTemplateContent(n)||n,c=0,g=o.childNodesAsList(u);c<g.length;c++)o.removeChild(u,g[c])}}(this._doc,String(t)));case r.SecurityContext.STYLE:return t instanceof cr?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"Style"),function(e){if(!(e=String(e).trim()))return"";var t=e.match(lr);return t&&Bo(t[1])===t[1]||e.match(ir)&&function(e){for(var t=!0,o=!0,r=0;r<e.length;r++){var n=e.charAt(r);"'"===n&&o?t=!t:'"'===n&&t&&(o=!o)}return t&&o}(e)?e:(Object(r.isDevMode)()&&Vt().log("WARNING: sanitizing unsafe style value "+e+" (see http://g.co/ng/security#xss)."),"unsafe")}(t));case r.SecurityContext.SCRIPT:if(t instanceof gr)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"Script"),new Error("unsafe value used in a script context");case r.SecurityContext.URL:return t instanceof hr||t instanceof dr?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"URL"),Bo(String(t)));case r.SecurityContext.RESOURCE_URL:if(t instanceof hr)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+e+" (see http://g.co/ng/security#xss)")}},t.prototype.checkNotSafeValue=function(e,t){if(e instanceof pr)throw new Error("Required a safe "+t+", got a "+e.getTypeName()+" (see http://g.co/ng/security#xss)")},t.prototype.bypassSecurityTrustHtml=function(e){return new ur(e)},t.prototype.bypassSecurityTrustStyle=function(e){return new cr(e)},t.prototype.bypassSecurityTrustScript=function(e){return new gr(e)},t.prototype.bypassSecurityTrustUrl=function(e){return new dr(e)},t.prototype.bypassSecurityTrustResourceUrl=function(e){return new hr(e)},t}(ar),pr=function(){function e(e){this.changingThisBreaksApplicationSecurity=e}return e.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},e}(),ur=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(c.__extends)(t,e),t.prototype.getTypeName=function(){return"HTML"},t}(pr),cr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(c.__extends)(t,e),t.prototype.getTypeName=function(){return"Style"},t}(pr),gr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(c.__extends)(t,e),t.prototype.getTypeName=function(){return"Script"},t}(pr),dr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(c.__extends)(t,e),t.prototype.getTypeName=function(){return"URL"},t}(pr),hr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(c.__extends)(t,e),t.prototype.getTypeName=function(){return"ResourceURL"},t}(pr),yr=[{provide:r.PLATFORM_ID,useValue:"browser"},{provide:r.PLATFORM_INITIALIZER,useValue:function(){Xt.makeCurrent(),to.init()},multi:!0},{provide:y,useClass:Jt,deps:[Ht]},{provide:Ht,useFactory:function(){return document},deps:[]}],fr=Object(r.createPlatformFactory)(r.platformCore,"browser",yr);function mr(){return new r.ErrorHandler}var vr=function(){function e(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return e.withServerTransition=function(t){return{ngModule:e,providers:[{provide:r.APP_ID,useValue:t.appId},{provide:$t,useExisting:r.APP_ID},eo]}},e}();"undefined"!=typeof window&&window;var _r=new r.InjectionToken("mat-sanity-checks"),Sr=function(){function e(e){this._sanityChecksEnabled=e,this._hasDoneGlobalChecks=!1,this._hasCheckedHammer=!1,this._document="object"==typeof document&&document?document:null,this._window="object"==typeof window&&window?window:null,this._areChecksEnabled()&&!this._hasDoneGlobalChecks&&(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._hasDoneGlobalChecks=!0)}return e.prototype._areChecksEnabled=function(){return this._sanityChecksEnabled&&Object(r.isDevMode)()&&!this._isTestEnv()},e.prototype._isTestEnv=function(){return this._window&&(this._window.__karma__||this._window.jasmine)},e.prototype._checkDoctypeIsDefined=function(){this._document&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")},e.prototype._checkThemeIsPresent=function(){if(this._document&&"function"==typeof getComputedStyle){var e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);var t=getComputedStyle(e);t&&"none"!==t.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}},e.prototype._checkHammerIsAvailable=function(){!this._hasCheckedHammer&&this._window&&(this._areChecksEnabled()&&!this._window.Hammer&&console.warn("Could not find HammerJS. Certain Angular Material components may not work correctly."),this._hasCheckedHammer=!0)},e}();function xr(e,t){return function(e){function o(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];var n=e.apply(this,o)||this;return n.color=t,n}return Object(c.__extends)(o,e),Object.defineProperty(o.prototype,"color",{get:function(){return this._color},set:function(e){var o=e||t;o!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),o&&this._elementRef.nativeElement.classList.add("mat-"+o),this._color=o)},enumerable:!0,configurable:!0}),o}(e)}var Er=new r.InjectionToken("MAT_DATE_LOCALE"),Pr=function(){function e(){this._localeChanges=new ee.a}return Object.defineProperty(e.prototype,"localeChanges",{get:function(){return this._localeChanges},enumerable:!0,configurable:!0}),e.prototype.deserialize=function(e){return null==e||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()},e.prototype.setLocale=function(e){this.locale=e,this._localeChanges.next()},e.prototype.compareDate=function(e,t){return this.getYear(e)-this.getYear(t)||this.getMonth(e)-this.getMonth(t)||this.getDate(e)-this.getDate(t)},e.prototype.sameDate=function(e,t){if(e&&t){var o=this.isValid(e),r=this.isValid(t);return o&&r?!this.compareDate(e,t):o==r}return e==t},e.prototype.clampDate=function(e,t,o){return t&&this.compareDate(e,t)<0?t:o&&this.compareDate(e,o)>0?o:e},e}(),br=new r.InjectionToken("mat-date-formats"),Tr="undefined"!=typeof Intl,Cr={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},Rr=Lr(31,function(e){return String(e+1)}),wr={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},Mr=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Lr(e,t){for(var o=Array(e),r=0;r<e;r++)o[r]=t(r);return o}var Or=function(e){function t(t){var o=e.call(this)||this;e.prototype.setLocale.call(o,t);var r="object"==typeof document&&!!document,n=r&&/(msie|trident)/i.test(navigator.userAgent);return o.useUtcForDisplay=!n,o._clampDate=n||r&&/(edge)/i.test(navigator.userAgent),o}return Object(c.__extends)(t,e),t.prototype.getYear=function(e){return e.getFullYear()},t.prototype.getMonth=function(e){return e.getMonth()},t.prototype.getDate=function(e){return e.getDate()},t.prototype.getDayOfWeek=function(e){return e.getDay()},t.prototype.getMonthNames=function(e){var t=this;if(Tr){var o=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return Lr(12,function(e){return t._stripDirectionalityCharacters(t._format(o,new Date(2017,e,1)))})}return Cr[e]},t.prototype.getDateNames=function(){var e=this;if(Tr){var t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Lr(31,function(o){return e._stripDirectionalityCharacters(e._format(t,new Date(2017,0,o+1)))})}return Rr},t.prototype.getDayOfWeekNames=function(e){var t=this;if(Tr){var o=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return Lr(7,function(e){return t._stripDirectionalityCharacters(t._format(o,new Date(2017,0,e+1)))})}return wr[e]},t.prototype.getYearName=function(e){if(Tr){var t=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(t,e))}return String(this.getYear(e))},t.prototype.getFirstDayOfWeek=function(){return 0},t.prototype.getNumDaysInMonth=function(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))},t.prototype.clone=function(e){return this.createDate(this.getYear(e),this.getMonth(e),this.getDate(e))},t.prototype.createDate=function(e,t,o){if(t<0||t>11)throw Error('Invalid month index "'+t+'". Month index has to be between 0 and 11.');if(o<1)throw Error('Invalid date "'+o+'". Date has to be greater than 0.');var r=this._createDateWithOverflow(e,t,o);if(r.getMonth()!=t)throw Error('Invalid date "'+o+'" for month with index "'+t+'".');return r},t.prototype.today=function(){return new Date},t.prototype.parse=function(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null},t.prototype.format=function(e,t){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");if(Tr){this._clampDate&&(e.getFullYear()<1||e.getFullYear()>9999)&&(e=this.clone(e)).setFullYear(Math.max(1,Math.min(9999,e.getFullYear()))),t=Object(c.__assign)({},t,{timeZone:"utc"});var o=new Intl.DateTimeFormat(this.locale,t);return this._stripDirectionalityCharacters(this._format(o,e))}return this._stripDirectionalityCharacters(e.toDateString())},t.prototype.addCalendarYears=function(e,t){return this.addCalendarMonths(e,12*t)},t.prototype.addCalendarMonths=function(e,t){var o=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+t,this.getDate(e));return this.getMonth(o)!=((this.getMonth(e)+t)%12+12)%12&&(o=this._createDateWithOverflow(this.getYear(o),this.getMonth(o),0)),o},t.prototype.addCalendarDays=function(e,t){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+t)},t.prototype.toIso8601=function(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")},t.prototype.deserialize=function(t){if("string"==typeof t){if(!t)return null;if(Mr.test(t)){var o=new Date(t);if(this.isValid(o))return o}}return e.prototype.deserialize.call(this,t)},t.prototype.isDateInstance=function(e){return e instanceof Date},t.prototype.isValid=function(e){return!isNaN(e.getTime())},t.prototype.invalid=function(){return new Date(NaN)},t.prototype._createDateWithOverflow=function(e,t,o){var r=new Date(e,t,o);return e>=0&&e<100&&r.setFullYear(this.getYear(r)-1900),r},t.prototype._2digit=function(e){return("00"+e).slice(-2)},t.prototype._stripDirectionalityCharacters=function(e){return e.replace(/[\u200e\u200f]/g,"")},t.prototype._format=function(e,t){var o=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.format(o)},t}(Pr),Ir={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}},Ar=function(){},Dr=function(){},Nr=function(){function e(){}return e.prototype.isErrorState=function(e,t){return!!(e&&e.invalid&&(e.touched||t&&t.submitted))},e}(),Fr=function(){var e={FADING_IN:0,VISIBLE:1,FADING_OUT:2,HIDDEN:3};return e[e.FADING_IN]="FADING_IN",e[e.VISIBLE]="VISIBLE",e[e.FADING_OUT]="FADING_OUT",e[e.HIDDEN]="HIDDEN",e}(),Gr=function(){function e(e,t,o){this._renderer=e,this.element=t,this.config=o,this.state=Fr.HIDDEN}return e.prototype.fadeOut=function(){this._renderer.fadeOutRipple(this)},e}(),kr={enterDuration:450,exitDuration:400},jr=800,qr=function(){function e(e,t,o,r){var n=this;this._target=e,this._ngZone=t,this._isPointerDown=!1,this._triggerEvents=new Map,this._activeRipples=new Set,this._eventOptions=!!z()&&{passive:!0},this.onMousedown=function(e){var t=n._lastTouchStartEvent&&Date.now()<n._lastTouchStartEvent+jr;n._target.rippleDisabled||t||(n._isPointerDown=!0,n.fadeInRipple(e.clientX,e.clientY,n._target.rippleConfig))},this.onTouchStart=function(e){n._target.rippleDisabled||(n._lastTouchStartEvent=Date.now(),n._isPointerDown=!0,n.fadeInRipple(e.touches[0].clientX,e.touches[0].clientY,n._target.rippleConfig))},this.onPointerUp=function(){n._isPointerDown&&(n._isPointerDown=!1,n._activeRipples.forEach(function(e){!e.config.persistent&&(e.state===Fr.VISIBLE||e.config.terminateOnPointerUp&&e.state===Fr.FADING_IN)&&e.fadeOut()}))},r.isBrowser&&(this._containerElement=o.nativeElement,this._triggerEvents.set("mousedown",this.onMousedown),this._triggerEvents.set("mouseup",this.onPointerUp),this._triggerEvents.set("mouseleave",this.onPointerUp),this._triggerEvents.set("touchstart",this.onTouchStart),this._triggerEvents.set("touchend",this.onPointerUp))}return e.prototype.fadeInRipple=function(e,t,o){var r=this;void 0===o&&(o={});var n=this._containerElement.getBoundingClientRect(),i=Object(c.__assign)({},kr,o.animation);o.centered&&(e=n.left+n.width/2,t=n.top+n.height/2);var l=o.radius||function(e,t,o){var r=Math.max(Math.abs(e-o.left),Math.abs(e-o.right)),n=Math.max(Math.abs(t-o.top),Math.abs(t-o.bottom));return Math.sqrt(r*r+n*n)}(e,t,n),a=e-n.left,s=t-n.top,p=i.enterDuration/(o.speedFactor||1),u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-l+"px",u.style.top=s-l+"px",u.style.height=2*l+"px",u.style.width=2*l+"px",u.style.backgroundColor=o.color||null,u.style.transitionDuration=p+"ms",this._containerElement.appendChild(u),window.getComputedStyle(u).getPropertyValue("opacity"),u.style.transform="scale(1)";var g=new Gr(this,u,o);return g.state=Fr.FADING_IN,this._activeRipples.add(g),this.runTimeoutOutsideZone(function(){g.state=Fr.VISIBLE,o.persistent||r._isPointerDown||g.fadeOut()},p),g},e.prototype.fadeOutRipple=function(e){if(this._activeRipples.delete(e)){var t=e.element,o=Object(c.__assign)({},kr,e.config.animation);t.style.transitionDuration=o.exitDuration+"ms",t.style.opacity="0",e.state=Fr.FADING_OUT,this.runTimeoutOutsideZone(function(){e.state=Fr.HIDDEN,t.parentNode.removeChild(t)},o.exitDuration)}},e.prototype.fadeOutAll=function(){this._activeRipples.forEach(function(e){return e.fadeOut()})},e.prototype.setupTriggerEvents=function(e){var t=this;e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._ngZone.runOutsideAngular(function(){t._triggerEvents.forEach(function(o,r){return e.addEventListener(r,o,t._eventOptions)})}),this._triggerElement=e)},e.prototype.runTimeoutOutsideZone=function(e,t){void 0===t&&(t=0),this._ngZone.runOutsideAngular(function(){return setTimeout(e,t)})},e.prototype._removeTriggerEvents=function(){var e=this;this._triggerElement&&this._triggerEvents.forEach(function(t,o){e._triggerElement.removeEventListener(o,t,e._eventOptions)})},e}(),Vr=new r.InjectionToken("mat-ripple-global-options"),Ur=function(){function e(e,t,o,r){this._elementRef=e,this.radius=0,this.speedFactor=1,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new qr(this,t,e,o)}return Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(e){this._disabled=e,this._setupTriggerEventsIfEnabled()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trigger",{get:function(){return this._trigger||this._elementRef.nativeElement},set:function(e){this._trigger=e,this._setupTriggerEventsIfEnabled()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()},e.prototype.ngOnDestroy=function(){this._rippleRenderer._removeTriggerEvents()},e.prototype.fadeOutAll=function(){this._rippleRenderer.fadeOutAll()},Object.defineProperty(e.prototype,"rippleConfig",{get:function(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object(c.__assign)({},this._globalOptions.animation,this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp,speedFactor:this.speedFactor*(this._globalOptions.baseSpeedFactor||1)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rippleDisabled",{get:function(){return this.disabled||!!this._globalOptions.disabled},enumerable:!0,configurable:!0}),e.prototype._setupTriggerEventsIfEnabled=function(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)},e.prototype.launch=function(e,t,o){return void 0===t&&(t=0),"number"==typeof e?this._rippleRenderer.fadeInRipple(e,t,Object(c.__assign)({},this.rippleConfig,o)):this._rippleRenderer.fadeInRipple(0,0,Object(c.__assign)({},this.rippleConfig,e))},e}(),Br=function(){},Wr=new r.InjectionToken("mat-label-global-options"),Yr=function(e){function t(t){e.call(this),this.observableFactory=t}return Object(c.__extends)(t,e),t.create=function(e){return new t(e)},t.prototype._subscribe=function(e){return new Kr(e,this.observableFactory)},t}(te.Observable),Kr=function(e){function t(t,o){e.call(this,t),this.factory=o,this.tryDefer()}return Object(c.__extends)(t,e),t.prototype.tryDefer=function(){try{this._callFactory()}catch(e){this._error(e)}},t.prototype._callFactory=function(){var e=this.factory();e&&this.add(Object(he.a)(this,e))},t}(de.a),Xr=Yr.create,Zr=o("TILf"),Hr=o("N4j0"),zr=o("cQXm"),Jr=function(e){function t(t,o){e.call(this),this.promise=t,this.scheduler=o}return Object(c.__extends)(t,e),t.create=function(e,o){return new t(e,o)},t.prototype._subscribe=function(e){var t=this,o=this.promise,r=this.scheduler;if(null==r)this._isScalar?e.closed||(e.next(this.value),e.complete()):o.then(function(o){t.value=o,t._isScalar=!0,e.closed||(e.next(o),e.complete())},function(t){e.closed||e.error(t)}).then(null,function(e){ue.a.setTimeout(function(){throw e})});else if(this._isScalar){if(!e.closed)return r.schedule(Qr,0,{value:this.value,subscriber:e})}else o.then(function(o){t.value=o,t._isScalar=!0,e.closed||e.add(r.schedule(Qr,0,{value:o,subscriber:e}))},function(t){e.closed||e.add(r.schedule($r,0,{err:t,subscriber:e}))}).then(null,function(e){ue.a.setTimeout(function(){throw e})})},t}(te.Observable);function Qr(e){var t=e.subscriber;t.closed||(t.next(e.value),t.complete())}function $r(e){var t=e.subscriber;t.closed||t.error(e.err)}var en=o("etqZ"),tn=function(e){function t(t,o){if(e.call(this),this.scheduler=o,null==t)throw new Error("iterator cannot be null.");this.iterator=nn(t)}return Object(c.__extends)(t,e),t.create=function(e,o){return new t(e,o)},t.dispatch=function(e){var t=e.index,o=e.iterator,r=e.subscriber;if(e.hasError)r.error(e.error);else{var n=o.next();n.done?r.complete():(r.next(n.value),e.index=t+1,r.closed?"function"==typeof o.return&&o.return():this.schedule(e))}},t.prototype._subscribe=function(e){var o=this.iterator,r=this.scheduler;if(r)return r.schedule(t.dispatch,0,{index:0,iterator:o,subscriber:e});for(;;){var n=o.next();if(n.done){e.complete();break}if(e.next(n.value),e.closed){"function"==typeof o.return&&o.return();break}}},t}(te.Observable),on=function(){function e(e,t,o){void 0===t&&(t=0),void 0===o&&(o=e.length),this.str=e,this.idx=t,this.len=o}return e.prototype[en.a]=function(){return this},e.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},e}(),rn=function(){function e(e,t,o){void 0===t&&(t=0),void 0===o&&(o=function(t){var o,r,n=+e.length;return isNaN(n)?0:0!==n&&"number"==typeof(o=n)&&ue.a.isFinite(o)?(n=(0==(r=+n)?r:isNaN(r)?r:r<0?-1:1)*Math.floor(Math.abs(n)))<=0?0:n>ln?ln:n:n}()),this.arr=e,this.idx=t,this.len=o}return e.prototype[en.a]=function(){return this},e.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},e}();function nn(e){var t=e[en.a];if(!t&&"string"==typeof e)return new on(e);if(!t&&void 0!==e.length)return new rn(e);if(!t)throw new TypeError("object is not iterable");return e[en.a]()}var ln=Math.pow(2,53)-1,an=function(e){function t(t,o){e.call(this),this.arrayLike=t,this.scheduler=o,o||1!==t.length||(this._isScalar=!0,this.value=t[0])}return Object(c.__extends)(t,e),t.create=function(e,o){var r=e.length;return 0===r?new Ue.a:1===r?new Zr.a(e[0],o):new t(e,o)},t.dispatch=function(e){var t=e.arrayLike,o=e.index,r=e.subscriber;r.closed||(o>=e.length?r.complete():(r.next(t[o]),e.index=o+1,this.schedule(e)))},t.prototype._subscribe=function(e){var o=this.arrayLike,r=this.scheduler,n=o.length;if(r)return r.schedule(t.dispatch,0,{arrayLike:o,index:0,length:n,subscriber:e});for(var i=0;i<n&&!e.closed;i++)e.next(o[i]);e.complete()},t}(te.Observable),sn=function(){function e(e,t,o){this.kind=e,this.value=t,this.error=o,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,o){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return o&&o()}},e.prototype.accept=function(e,t,o){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,o)},e.prototype.toObservable=function(){switch(this.kind){case"N":return te.Observable.of(this.value);case"E":return te.Observable.throw(this.error);case"C":return te.Observable.empty()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return"undefined"!=typeof t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}(),pn=function(e){function t(t,o,r){void 0===r&&(r=0),e.call(this,t),this.scheduler=o,this.delay=r}return Object(c.__extends)(t,e),t.dispatch=function(e){e.notification.observe(e.destination),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.add(this.scheduler.schedule(t.dispatch,this.delay,new un(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(sn.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(sn.createError(e))},t.prototype._complete=function(){this.scheduleMessage(sn.createComplete())},t}(qe.a),un=function(e,t){this.notification=e,this.destination=t},cn=o("+CnV"),gn=function(e){function t(t,o){e.call(this,null),this.ish=t,this.scheduler=o}return Object(c.__extends)(t,e),t.create=function(e,o){if(null!=e){if("function"==typeof e[cn.a])return e instanceof te.Observable&&!o?e:new t(e,o);if(Object(me.a)(e))return new oe.a(e,o);if(Object(zr.a)(e))return new Jr(e,o);if("function"==typeof e[en.a]||"string"==typeof e)return new tn(e,o);if(Object(Hr.a)(e))return new an(e,o)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")},t.prototype._subscribe=function(e){var t=this.ish,o=this.scheduler;return null==o?t[cn.a]().subscribe(e):t[cn.a]().subscribe(new pn(e,o,0))},t}(te.Observable).create,dn=o("8D5t");function hn(){return Object(dn.a)(1)}function yn(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){var o=e[e.length-1];Object(ve.a)(o)?e.pop():o=null;var r=e.length;return function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return 1===e.length||2===e.length&&Object(ve.a)(e[1])?gn(e[0]):hn()(re.apply(void 0,e))}(1===r?new Zr.a(e[0],o):r>1?new oe.a(e,o):new Ue.a(o),t)}}var fn=function(){},mn="*";function vn(e,t){return void 0===t&&(t=null),{type:2,steps:e,options:t}}function _n(e){return{type:6,styles:e,offset:null}}function Sn(e){Promise.resolve(null).then(e)}var xn=function(){function e(){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=0}return e.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])},e.prototype.onStart=function(e){this._onStartFns.push(e)},e.prototype.onDone=function(e){this._onDoneFns.push(e)},e.prototype.onDestroy=function(e){this._onDestroyFns.push(e)},e.prototype.hasStarted=function(){return this._started},e.prototype.init=function(){},e.prototype.play=function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0},e.prototype.triggerMicrotask=function(){var e=this;Sn(function(){return e._onFinish()})},e.prototype._onStart=function(){this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[]},e.prototype.pause=function(){},e.prototype.restart=function(){},e.prototype.finish=function(){this._onFinish()},e.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])},e.prototype.reset=function(){},e.prototype.setPosition=function(e){},e.prototype.getPosition=function(){return 0},e.prototype.triggerCallback=function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0},e}(),En=function(){function e(e){var t=this;this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;var o=0,r=0,n=0,i=this.players.length;0==i?Sn(function(){return t._onFinish()}):this.players.forEach(function(e){e.onDone(function(){++o==i&&t._onFinish()}),e.onDestroy(function(){++r==i&&t._onDestroy()}),e.onStart(function(){++n==i&&t._onStart()})}),this.totalTime=this.players.reduce(function(e,t){return Math.max(e,t.totalTime)},0)}return e.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])},e.prototype.init=function(){this.players.forEach(function(e){return e.init()})},e.prototype.onStart=function(e){this._onStartFns.push(e)},e.prototype._onStart=function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[])},e.prototype.onDone=function(e){this._onDoneFns.push(e)},e.prototype.onDestroy=function(e){this._onDestroyFns.push(e)},e.prototype.hasStarted=function(){return this._started},e.prototype.play=function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(function(e){return e.play()})},e.prototype.pause=function(){this.players.forEach(function(e){return e.pause()})},e.prototype.restart=function(){this.players.forEach(function(e){return e.restart()})},e.prototype.finish=function(){this._onFinish(),this.players.forEach(function(e){return e.finish()})},e.prototype.destroy=function(){this._onDestroy()},e.prototype._onDestroy=function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(function(e){return e.destroy()}),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])},e.prototype.reset=function(){this.players.forEach(function(e){return e.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1},e.prototype.setPosition=function(e){var t=e*this.totalTime;this.players.forEach(function(e){var o=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(o)})},e.prototype.getPosition=function(){var e=0;return this.players.forEach(function(t){var o=t.getPosition();e=Math.min(o,e)}),e},e.prototype.beforeDestroy=function(){this.players.forEach(function(e){e.beforeDestroy&&e.beforeDestroy()})},e.prototype.triggerCallback=function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0},e}(),Pn="!";function bn(){throw Error("Attempting to attach dialog content after content is already attached")}var Tn=function(e){function t(t,o,n,i){var l=e.call(this)||this;return l._elementRef=t,l._focusTrapFactory=o,l._changeDetectorRef=n,l._document=i,l._elementFocusedBeforeDialogWasOpened=null,l._state="enter",l._animationStateChanged=new r.EventEmitter,l._ariaLabelledBy=null,l}return Object(c.__extends)(t,e),t.prototype.attachComponentPortal=function(e){return this._portalOutlet.hasAttached()&&bn(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(e)},t.prototype.attachTemplatePortal=function(e){return this._portalOutlet.hasAttached()&&bn(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(e)},t.prototype._trapFocus=function(){this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)),this._config.autoFocus&&this._focusTrap.focusInitialElementWhenReady()},t.prototype._restoreFocus=function(){var e=this._elementFocusedBeforeDialogWasOpened;e&&"function"==typeof e.focus&&e.focus(),this._focusTrap&&this._focusTrap.destroy()},t.prototype._savePreviouslyFocusedElement=function(){var e=this;this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(function(){return e._elementRef.nativeElement.focus()}))},t.prototype._onAnimationDone=function(e){"enter"===e.toState?this._trapFocus():"exit"===e.toState&&this._restoreFocus(),this._animationStateChanged.emit(e)},t.prototype._onAnimationStart=function(e){this._animationStateChanged.emit(e)},t.prototype._startExitAnimation=function(){this._state="exit",this._changeDetectorRef.markForCheck()},t}(Ne),Cn=0,Rn=function(){function e(e,t,o,r){void 0===r&&(r="mat-dialog-"+Cn++);var n=this;this._overlayRef=e,this._containerInstance=t,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpen=new ee.a,this._afterClosed=new ee.a,this._beforeClose=new ee.a,this._locationChanges=ae.a.EMPTY,t._id=r,t._animationStateChanged.pipe(Object(xe.a)(function(e){return"done"===e.phaseName&&"enter"===e.toState}),Be(1)).subscribe(function(){n._afterOpen.next(),n._afterOpen.complete()}),t._animationStateChanged.pipe(Object(xe.a)(function(e){return"done"===e.phaseName&&"exit"===e.toState}),Be(1)).subscribe(function(){n._overlayRef.dispose(),n._locationChanges.unsubscribe(),n._afterClosed.next(n._result),n._afterClosed.complete(),n.componentInstance=null}),e.keydownEvents().pipe(Object(xe.a)(function(e){return e.keyCode===Xe&&!n.disableClose})).subscribe(function(){return n.close()}),o&&(this._locationChanges=o.subscribe(function(){n._containerInstance._config.closeOnNavigation&&n.close()}))}return e.prototype.close=function(e){var t=this;this._result=e,this._containerInstance._animationStateChanged.pipe(Object(xe.a)(function(e){return"start"===e.phaseName}),Be(1)).subscribe(function(){t._beforeClose.next(e),t._beforeClose.complete(),t._overlayRef.detachBackdrop()}),this._containerInstance._startExitAnimation()},e.prototype.afterOpen=function(){return this._afterOpen.asObservable()},e.prototype.afterClosed=function(){return this._afterClosed.asObservable()},e.prototype.beforeClose=function(){return this._beforeClose.asObservable()},e.prototype.backdropClick=function(){return this._overlayRef.backdropClick()},e.prototype.keydownEvents=function(){return this._overlayRef.keydownEvents()},e.prototype.updatePosition=function(e){var t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this},e.prototype.updateSize=function(e,t){return void 0===e&&(e="auto"),void 0===t&&(t="auto"),this._getPositionStrategy().width(e).height(t),this._overlayRef.updatePosition(),this},e.prototype._getPositionStrategy=function(){return this._overlayRef.getConfig().positionStrategy},e}(),wn=new r.InjectionToken("MatDialogData"),Mn=new r.InjectionToken("mat-dialog-default-options"),Ln=new r.InjectionToken("mat-dialog-scroll-strategy");function On(e){return function(){return e.scrollStrategies.block()}}var In=function(){function e(e,t,o,r,n,i,l){var a=this;this._overlay=e,this._injector=t,this._location=o,this._defaultOptions=r,this._scrollStrategy=n,this._parentDialog=i,this._overlayContainer=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ee.a,this._afterOpenAtThisLevel=new ee.a,this._ariaHiddenElements=new Map,this.afterAllClosed=Xr(function(){return a.openDialogs.length?a._afterAllClosed:a._afterAllClosed.pipe(yn(void 0))})}return Object.defineProperty(e.prototype,"openDialogs",{get:function(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"afterOpen",{get:function(){return this._parentDialog?this._parentDialog.afterOpen:this._afterOpenAtThisLevel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_afterAllClosed",{get:function(){var e=this._parentDialog;return e?e._afterAllClosed:this._afterAllClosedAtThisLevel},enumerable:!0,configurable:!0}),e.prototype.open=function(e,t){var o=this;if((t=function(e,t){return Object(c.__assign)({},t,e)}(t,this._defaultOptions||new function(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.direction="ltr",this.ariaDescribedBy=null,this.ariaLabel=null,this.autoFocus=!0,this.closeOnNavigation=!0})).id&&this.getDialogById(t.id))throw Error('Dialog with id "'+t.id+'" exists already. The dialog id must be unique.');var r=this._createOverlay(t),n=this._attachDialogContainer(r,t),i=this._attachDialogContent(e,n,r,t);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(i),i.afterClosed().subscribe(function(){return o._removeOpenDialog(i)}),this.afterOpen.next(i),i},e.prototype.closeAll=function(){for(var e=this.openDialogs.length;e--;)this.openDialogs[e].close()},e.prototype.getDialogById=function(e){return this.openDialogs.find(function(t){return t.id===e})},e.prototype._createOverlay=function(e){var t=this._getOverlayConfig(e);return this._overlay.create(t)},e.prototype._getOverlayConfig=function(e){var t=new He({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight});return e.backdropClass&&(t.backdropClass=e.backdropClass),t},e.prototype._attachDialogContainer=function(e,t){var o=new Ae(Tn,t.viewContainerRef),r=e.attach(o);return r.instance._config=t,r.instance},e.prototype._attachDialogContent=function(e,t,o,n){var i=new Rn(o,t,this._location,n.id);if(n.hasBackdrop&&o.backdropClick().subscribe(function(){i.disableClose||i.close()}),e instanceof r.TemplateRef)t.attachTemplatePortal(new De(e,null,{$implicit:n.data,dialogRef:i}));else{var l=this._createInjector(n,i,t),a=t.attachComponentPortal(new Ae(e,void 0,l));i.componentInstance=a.instance}return i.updateSize(n.width,n.height).updatePosition(n.position),i},e.prototype._createInjector=function(e,t,o){var r=e&&e.viewContainerRef&&e.viewContainerRef.injector,n=new WeakMap;return n.set(Tn,o).set(wn,e.data).set(Rn,t),r&&r.get(Me,null)||n.set(Me,{value:e.direction,change:re()}),new je(r||this._injector,n)},e.prototype._removeOpenDialog=function(e){var t=this.openDialogs.indexOf(e);t>-1&&(this.openDialogs.splice(t,1),this.openDialogs.length||(this._ariaHiddenElements.forEach(function(e,t){e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._afterAllClosed.next()))},e.prototype._hideNonDialogContentFromAssistiveTechnology=function(){var e=this._overlayContainer.getContainerElement();if(e.parentElement)for(var t=e.parentElement.children,o=t.length-1;o>-1;o--){var r=t[o];r===e||"SCRIPT"===r.nodeName||"STYLE"===r.nodeName||r.hasAttribute("aria-live")||(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}},e}(),An=function(){},Dn=r["\u0275crt"]({encapsulation:2,styles:[".mat-dialog-container{box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12);display:block;padding:24px;border-radius:2px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%}@media screen and (-ms-high-contrast:active){.mat-dialog-container{outline:solid 1px}}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:12px 0;display:flex;flex-wrap:wrap;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button+.mat-button,.mat-dialog-actions .mat-button+.mat-raised-button,.mat-dialog-actions .mat-raised-button+.mat-button,.mat-dialog-actions .mat-raised-button+.mat-raised-button{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button+.mat-button,[dir=rtl] .mat-dialog-actions .mat-button+.mat-raised-button,[dir=rtl] .mat-dialog-actions .mat-raised-button+.mat-button,[dir=rtl] .mat-dialog-actions .mat-raised-button+.mat-raised-button{margin-left:0;margin-right:8px}"],data:{animation:[{type:7,name:"slideDialog",definitions:[{type:0,name:"enter",styles:{type:6,styles:{transform:"none",opacity:1},offset:null},options:void 0},{type:0,name:"void",styles:{type:6,styles:{transform:"translate3d(0, 25%, 0) scale(0.9)",opacity:0},offset:null},options:void 0},{type:0,name:"exit",styles:{type:6,styles:{transform:"translate3d(0, 25%, 0)",opacity:0},offset:null},options:void 0},{type:1,expr:"* => *",animation:{type:4,styles:null,timings:"400ms cubic-bezier(0.25, 0.8, 0.25, 1)"},options:null}],options:{}}]}});function Nn(e){return r["\u0275vid"](0,[(e()(),r["\u0275and"](0,null,null,0))],null,null)}function Fn(e){return r["\u0275vid"](0,[r["\u0275qud"](402653184,1,{_portalOutlet:0}),(e()(),r["\u0275and"](16777216,null,null,1,null,Nn)),r["\u0275did"](2,212992,[[1,4]],0,Ge,[r.ComponentFactoryResolver,r.ViewContainerRef],{portal:[0,"portal"]},null)],function(e,t){e(t,2,0,"")},null)}var Gn=r["\u0275ccf"]("mat-dialog-container",Tn,function(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"mat-dialog-container",[["class","mat-dialog-container"],["tabindex","-1"]],[[1,"id",0],[1,"role",0],[1,"aria-labelledby",0],[1,"aria-label",0],[1,"aria-describedby",0],[40,"@slideDialog",0]],[["component","@slideDialog.start"],["component","@slideDialog.done"]],function(e,t,o){var n=!0;return"component:@slideDialog.start"===t&&(n=!1!==r["\u0275nov"](e,1)._onAnimationStart(o)&&n),"component:@slideDialog.done"===t&&(n=!1!==r["\u0275nov"](e,1)._onAnimationDone(o)&&n),n},Fn,Dn)),r["\u0275did"](1,49152,null,0,Tn,[r.ElementRef,Tt,r.ChangeDetectorRef,[2,X]],null,null)],null,function(e,t){e(t,0,0,r["\u0275nov"](t,1)._id,null==r["\u0275nov"](t,1)._config?null:r["\u0275nov"](t,1)._config.role,null!=r["\u0275nov"](t,1)._config&&r["\u0275nov"](t,1)._config.ariaLabel?null:r["\u0275nov"](t,1)._ariaLabelledBy,null==r["\u0275nov"](t,1)._config?null:r["\u0275nov"](t,1)._config.ariaLabel,(null==r["\u0275nov"](t,1)._config?null:r["\u0275nov"](t,1)._config.ariaDescribedBy)||null,r["\u0275nov"](t,1)._state)})},{},{},[]),kn="accent",jn="primary",qn=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Vn=function(e){function t(t,o,r){var n=e.call(this,t)||this;n._platform=o,n._focusMonitor=r,n._isRoundButton=n._hasHostAttributes("mat-fab","mat-mini-fab"),n._isIconButton=n._hasHostAttributes("mat-icon-button");for(var i=0,l=qn;i<l.length;i++){var a=l[i];n._hasHostAttributes(a)&&t.nativeElement.classList.add(a)}return n._focusMonitor.monitor(n._elementRef.nativeElement,!0),n._isRoundButton?n.color=kn:n._hasHostAttributes("mat-flat-button")&&(n.color=jn),n}return Object(c.__extends)(t,e),t.prototype.ngOnDestroy=function(){this._focusMonitor.stopMonitoring(this._elementRef.nativeElement)},t.prototype.focus=function(){this._getHostElement().focus()},t.prototype._getHostElement=function(){return this._elementRef.nativeElement},t.prototype._isRippleDisabled=function(){return this.disableRipple||this.disabled},t.prototype._hasHostAttributes=function(){for(var e=this,t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];return!!this._platform.isBrowser&&t.some(function(t){return e._getHostElement().hasAttribute(t)})},t}(xr(function(e){return function(e){function t(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var r=e.apply(this,t)||this;return r._disabled=!1,r}return Object(c.__extends)(t,e),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(e){this._disabled=Ke(e)},enumerable:!0,configurable:!0}),t}(e)}(function(e){return function(e){function t(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var r=e.apply(this,t)||this;return r._disableRipple=!1,r}return Object(c.__extends)(t,e),Object.defineProperty(t.prototype,"disableRipple",{get:function(){return this._disableRipple},set:function(e){this._disableRipple=Ke(e)},enumerable:!0,configurable:!0}),t}(function(e){this._elementRef=e})}()))),Un=function(){},Bn=function(e){function t(t,o){e.call(this),this.sources=t,this.resultSelector=o}return Object(c.__extends)(t,e),t.create=function(){for(var e=[],o=0;o<arguments.length;o++)e[o-0]=arguments[o];if(null===e||0===arguments.length)return new Ue.a;var r=null;return"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&Object(me.a)(e[0])&&(e=e[0]),0===e.length?new Ue.a:new t(e,r)},t.prototype._subscribe=function(e){return new Wn(e,this.sources,this.resultSelector)},t}(te.Observable),Wn=function(e){function t(t,o,r){e.call(this,t),this.sources=o,this.resultSelector=r,this.completed=0,this.haveValues=0;var n=o.length;this.total=n,this.values=new Array(n);for(var i=0;i<n;i++){var l=o[i],a=Object(he.a)(this,l,null,i);a&&(a.outerIndex=i,this.add(a))}}return Object(c.__extends)(t,e),t.prototype.notifyNext=function(e,t,o,r,n){this.values[o]=t,n._hasValue||(n._hasValue=!0,this.haveValues++)},t.prototype.notifyComplete=function(e){var t=this.destination,o=this.haveValues,r=this.resultSelector,n=this.values,i=n.length;if(e._hasValue){if(this.completed++,this.completed===i){if(o===i){var l=r?r.apply(this,n):n;t.next(l)}t.complete()}}else t.complete()},t}(de.a),Yn=Bn.create,Kn=Jr.create,Xn=o("gL+p"),Zn=function(){function e(){}return Object.defineProperty(e.prototype,"value",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valid",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"invalid",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pending",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errors",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pristine",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dirty",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"touched",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this.control?this.control.status:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"untouched",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"statusChanges",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueChanges",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e.prototype.reset=function(e){void 0===e&&(e=void 0),this.control&&this.control.reset(e)},e.prototype.hasError=function(e,t){return!!this.control&&this.control.hasError(e,t)},e.prototype.getError=function(e,t){return this.control?this.control.getError(e,t):null},e}(),Hn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(c.__extends)(t,e),Object.defineProperty(t.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),t}(Zn);function zn(e){return null==e||0===e.length}var Jn=new r.InjectionToken("NgValidators"),Qn=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,$n=function(){function e(){}return e.min=function(e){return function(t){if(zn(t.value)||zn(e))return null;var o=parseFloat(t.value);return!isNaN(o)&&o<e?{min:{min:e,actual:t.value}}:null}},e.max=function(e){return function(t){if(zn(t.value)||zn(e))return null;var o=parseFloat(t.value);return!isNaN(o)&&o>e?{max:{max:e,actual:t.value}}:null}},e.required=function(e){return zn(e.value)?{required:!0}:null},e.requiredTrue=function(e){return!0===e.value?null:{required:!0}},e.email=function(e){return Qn.test(e.value)?null:{email:!0}},e.minLength=function(e){return function(t){if(zn(t.value))return null;var o=t.value?t.value.length:0;return o<e?{minlength:{requiredLength:e,actualLength:o}}:null}},e.maxLength=function(e){return function(t){var o=t.value?t.value.length:0;return o>e?{maxlength:{requiredLength:e,actualLength:o}}:null}},e.pattern=function(t){return t?("string"==typeof t?(r="","^"!==t.charAt(0)&&(r+="^"),r+=t,"$"!==t.charAt(t.length-1)&&(r+="$"),o=new RegExp(r)):(r=t.toString(),o=t),function(e){if(zn(e.value))return null;var t=e.value;return o.test(t)?null:{pattern:{requiredPattern:r,actualValue:t}}}):e.nullValidator;var o,r},e.nullValidator=function(e){return null},e.compose=function(e){if(!e)return null;var t=e.filter(ei);return 0==t.length?null:function(e){return oi(function(e,o){return t.map(function(t){return t(e)})}(e))}},e.composeAsync=function(e){if(!e)return null;var t=e.filter(ei);return 0==t.length?null:function(e){var o=function(e,o){return t.map(function(t){return t(e)})}(e).map(ti);return Xn.a.call(Yn(o),oi)}},e}();function ei(e){return null!=e}function ti(e){var t=Object(r["\u0275isPromise"])(e)?Kn(e):e;if(!Object(r["\u0275isObservable"])(t))throw new Error("Expected validator to return Promise or Observable.");return t}function oi(e){var t=e.reduce(function(e,t){return null!=t?Object(c.__assign)({},e,t):e},{});return 0===Object.keys(t).length?null:t}var ri=new r.InjectionToken("NgValueAccessor"),ni=function(){function e(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(e){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e}(),ii=new r.InjectionToken("CompositionEventMode"),li=function(){function e(e,t,o){var r;this._renderer=e,this._elementRef=t,this._compositionMode=o,this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(r=Vt()?Vt().getUserAgent():"",!/android (\d+)/.test(r.toLowerCase())))}return e.prototype.writeValue=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e.prototype._handleInput=function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)},e.prototype._compositionStart=function(){this._composing=!0},e.prototype._compositionEnd=function(e){this._composing=!1,this._compositionMode&&this.onChange(e)},e}();function ai(e){return e.validate?function(t){return e.validate(t)}:e}function si(e){return e.validate?function(t){return e.validate(t)}:e}var pi=function(){function e(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(e){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)},e.prototype.registerOnChange=function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e}();function ui(){throw new Error("unimplemented")}var ci=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._parent=null,t.name=null,t.valueAccessor=null,t._rawValidators=[],t._rawAsyncValidators=[],t}return Object(c.__extends)(t,e),Object.defineProperty(t.prototype,"validator",{get:function(){return ui()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return ui()},enumerable:!0,configurable:!0}),t}(Zn),gi=function(){function e(){this._accessors=[]}return e.prototype.add=function(e,t){this._accessors.push([e,t])},e.prototype.remove=function(e){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)},e.prototype.select=function(e){var t=this;this._accessors.forEach(function(o){t._isSameGroup(o,e)&&o[1]!==e&&o[1].fireUncheck(e.value)})},e.prototype._isSameGroup=function(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name},e}(),di=function(){function e(e,t,o,r){this._renderer=e,this._elementRef=t,this._registry=o,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return e.prototype.ngOnInit=function(){this._control=this._injector.get(ci),this._checkName(),this._registry.add(this._control,this)},e.prototype.ngOnDestroy=function(){this._registry.remove(this)},e.prototype.writeValue=function(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)},e.prototype.registerOnChange=function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}},e.prototype.fireUncheck=function(e){this.writeValue(e)},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},e.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},e}(),hi=function(){function e(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(e){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))},e.prototype.registerOnChange=function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e}();function yi(e,t){return null==e?""+t:(t&&"object"==typeof t&&(t="Object"),(e+": "+t).slice(0,50))}var fi=function(){function e(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=r["\u0275looseIdentical"]}return Object.defineProperty(e.prototype,"compareWith",{set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e},enumerable:!0,configurable:!0}),e.prototype.writeValue=function(e){this.value=e;var t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var o=yi(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",o)},e.prototype.registerOnChange=function(e){var t=this;this.onChange=function(o){t.value=t._getOptionValue(o),e(t.value)}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e.prototype._registerOption=function(){return(this._idCounter++).toString()},e.prototype._getOptionId=function(e){for(var t=0,o=Array.from(this._optionMap.keys());t<o.length;t++){var r=o[t];if(this._compareWith(this._optionMap.get(r),e))return r}return null},e.prototype._getOptionValue=function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e},e}(),mi=function(){function e(e,t,o){this._element=e,this._renderer=t,this._select=o,this._select&&(this.id=this._select._registerOption())}return Object.defineProperty(e.prototype,"ngValue",{set:function(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(yi(this.id,e)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{set:function(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)},enumerable:!0,configurable:!0}),e.prototype._setElementValue=function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)},e.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},e}();function vi(e,t){return null==e?""+t:("string"==typeof t&&(t="'"+t+"'"),t&&"object"==typeof t&&(t="Object"),(e+": "+t).slice(0,50))}var _i=function(){function e(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=r["\u0275looseIdentical"]}return Object.defineProperty(e.prototype,"compareWith",{set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e},enumerable:!0,configurable:!0}),e.prototype.writeValue=function(e){var t,o=this;if(this.value=e,Array.isArray(e)){var r=e.map(function(e){return o._getOptionId(e)});t=function(e,t){e._setSelected(r.indexOf(t.toString())>-1)}}else t=function(e,t){e._setSelected(!1)};this._optionMap.forEach(t)},e.prototype.registerOnChange=function(e){var t=this;this.onChange=function(o){var r=[];if(o.hasOwnProperty("selectedOptions"))for(var n=o.selectedOptions,i=0;i<n.length;i++){var l=n.item(i),a=t._getOptionValue(l.value);r.push(a)}else for(n=o.options,i=0;i<n.length;i++)(l=n.item(i)).selected&&(a=t._getOptionValue(l.value),r.push(a));t.value=r,e(r)}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e.prototype._registerOption=function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t},e.prototype._getOptionId=function(e){for(var t=0,o=Array.from(this._optionMap.keys());t<o.length;t++){var r=o[t];if(this._compareWith(this._optionMap.get(r)._value,e))return r}return null},e.prototype._getOptionValue=function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e},e}(),Si=function(){function e(e,t,o){this._element=e,this._renderer=t,this._select=o,this._select&&(this.id=this._select._registerOption(this))}return Object.defineProperty(e.prototype,"ngValue",{set:function(e){null!=this._select&&(this._value=e,this._setElementValue(vi(this.id,e)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{set:function(e){this._select?(this._value=e,this._setElementValue(vi(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)},enumerable:!0,configurable:!0}),e.prototype._setElementValue=function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)},e.prototype._setSelected=function(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)},e.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},e}();function xi(e,t){return t.path.concat([e])}function Ei(e,t){e||Ci(t,"Cannot find control with"),t.valueAccessor||Ci(t,"No value accessor for form control with"),e.validator=$n.compose([e.validator,t.validator]),e.asyncValidator=$n.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(function(o){e._pendingValue=o,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Pi(e,t)})}(e,t),function(e,t){e.registerOnChange(function(e,o){t.valueAccessor.writeValue(e),o&&t.viewToModelUpdate(e)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Pi(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange(function(e){t.valueAccessor.setDisabledState(e)}),t._rawValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(function(){return e.updateValueAndValidity()})}),t._rawAsyncValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(function(){return e.updateValueAndValidity()})})}function Pi(e,t){t.viewToModelUpdate(e._pendingValue),e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),e._pendingChange=!1}function bi(e,t){null==e&&Ci(t,"Cannot find control with"),e.validator=$n.compose([e.validator,t.validator]),e.asyncValidator=$n.composeAsync([e.asyncValidator,t.asyncValidator])}function Ti(e){return Ci(e,"There is no FormControl instance attached to form control element with")}function Ci(e,t){var o;throw o=e.path.length>1?"path: '"+e.path.join(" -> ")+"'":e.path[0]?"name: '"+e.path+"'":"unspecified name attribute",new Error(t+" "+o)}function Ri(e){return null!=e?$n.compose(e.map(ai)):null}function wi(e){return null!=e?$n.composeAsync(e.map(si)):null}var Mi=[ni,hi,pi,fi,_i,di];function Li(e,t){e._syncPendingControls(),t.forEach(function(e){var t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function Oi(e,t){var o=e.indexOf(t);o>-1&&e.splice(o,1)}var Ii=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(c.__extends)(t,e),t.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},t.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(t.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return xi(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return Ri(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return wi(this._asyncValidators)},enumerable:!0,configurable:!0}),t.prototype._checkParentType=function(){},t}(Hn),Ai=function(e){function t(t){return e.call(this,t)||this}return Object(c.__extends)(t,e),t}(function(){function e(e){this._cd=e}return Object.defineProperty(e.prototype,"ngClassUntouched",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassTouched",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassPristine",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassDirty",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassValid",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassInvalid",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassPending",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),e}());function Di(e){var t=Fi(e)?e.validators:e;return Array.isArray(t)?Ri(t):t||null}function Ni(e,t){var o=Fi(t)?t.asyncValidators:e;return Array.isArray(o)?wi(o):o||null}function Fi(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var Gi=function(){function e(e,t){this.validator=e,this.asyncValidator=t,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valid",{get:function(){return"VALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"invalid",{get:function(){return"INVALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pending",{get:function(){return"PENDING"==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return"DISABLED"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return"DISABLED"!==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"untouched",{get:function(){return!this.touched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"updateOn",{get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"},enumerable:!0,configurable:!0}),e.prototype.setValidators=function(e){this.validator=Di(e)},e.prototype.setAsyncValidators=function(e){this.asyncValidator=Ni(e)},e.prototype.clearValidators=function(){this.validator=null},e.prototype.clearAsyncValidators=function(){this.asyncValidator=null},e.prototype.markAsTouched=function(e){void 0===e&&(e={}),this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)},e.prototype.markAsUntouched=function(e){void 0===e&&(e={}),this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(e){e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)},e.prototype.markAsDirty=function(e){void 0===e&&(e={}),this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)},e.prototype.markAsPristine=function(e){void 0===e&&(e={}),this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(e){e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)},e.prototype.markAsPending=function(e){void 0===e&&(e={}),this.status="PENDING",this._parent&&!e.onlySelf&&this._parent.markAsPending(e)},e.prototype.disable=function(e){void 0===e&&(e={}),this.status="DISABLED",this.errors=null,this._forEachChild(function(t){t.disable(Object(c.__assign)({},e,{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(e),this._onDisabledChange.forEach(function(e){return e(!0)})},e.prototype.enable=function(e){void 0===e&&(e={}),this.status="VALID",this._forEachChild(function(t){t.enable(Object(c.__assign)({},e,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(e),this._onDisabledChange.forEach(function(e){return e(!1)})},e.prototype._updateAncestors=function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),this._parent._updatePristine(),this._parent._updateTouched())},e.prototype.setParent=function(e){this._parent=e},e.prototype.updateValueAndValidity=function(e){void 0===e&&(e={}),this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)},e.prototype._updateTreeValidity=function(e){void 0===e&&(e={emitEvent:!0}),this._forEachChild(function(t){return t._updateTreeValidity(e)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})},e.prototype._setInitialStatus=function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"},e.prototype._runValidator=function(){return this.validator?this.validator(this):null},e.prototype._runAsyncValidator=function(e){var t=this;if(this.asyncValidator){this.status="PENDING";var o=ti(this.asyncValidator(this));this._asyncValidationSubscription=o.subscribe(function(o){return t.setErrors(o,{emitEvent:e})})}},e.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},e.prototype.setErrors=function(e,t){void 0===t&&(t={}),this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)},e.prototype.get=function(e){return function(e,t,o){return null==t?null:(t instanceof Array||(t=t.split(".")),t instanceof Array&&0===t.length?null:t.reduce(function(e,t){return e instanceof ji?e.controls[t]||null:e instanceof qi&&e.at(t)||null},e))}(this,e)},e.prototype.getError=function(e,t){var o=t?this.get(t):this;return o&&o.errors?o.errors[e]:null},e.prototype.hasError=function(e,t){return!!this.getError(e,t)},Object.defineProperty(e.prototype,"root",{get:function(){for(var e=this;e._parent;)e=e._parent;return e},enumerable:!0,configurable:!0}),e.prototype._updateControlsErrors=function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)},e.prototype._initObservables=function(){this.valueChanges=new r.EventEmitter,this.statusChanges=new r.EventEmitter},e.prototype._calculateStatus=function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"},e.prototype._anyControlsHaveStatus=function(e){return this._anyControls(function(t){return t.status===e})},e.prototype._anyControlsDirty=function(){return this._anyControls(function(e){return e.dirty})},e.prototype._anyControlsTouched=function(){return this._anyControls(function(e){return e.touched})},e.prototype._updatePristine=function(e){void 0===e&&(e={}),this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)},e.prototype._updateTouched=function(e){void 0===e&&(e={}),this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)},e.prototype._isBoxedValue=function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e},e.prototype._registerOnCollectionChange=function(e){this._onCollectionChange=e},e.prototype._setUpdateStrategy=function(e){Fi(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)},e}(),ki=function(e){function t(t,o,r){void 0===t&&(t=null);var n=e.call(this,Di(o),Ni(r,o))||this;return n._onChange=[],n._applyFormState(t),n._setUpdateStrategy(o),n.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),n._initObservables(),n}return Object(c.__extends)(t,e),t.prototype.setValue=function(e,t){var o=this;void 0===t&&(t={}),this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(function(e){return e(o.value,!1!==t.emitViewToModelChange)}),this.updateValueAndValidity(t)},t.prototype.patchValue=function(e,t){void 0===t&&(t={}),this.setValue(e,t)},t.prototype.reset=function(e,t){void 0===e&&(e=null),void 0===t&&(t={}),this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1},t.prototype._updateValue=function(){},t.prototype._anyControls=function(e){return!1},t.prototype._allControlsDisabled=function(){return this.disabled},t.prototype.registerOnChange=function(e){this._onChange.push(e)},t.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},t.prototype.registerOnDisabledChange=function(e){this._onDisabledChange.push(e)},t.prototype._forEachChild=function(e){},t.prototype._syncPendingControls=function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))},t.prototype._applyFormState=function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e},t}(Gi),ji=function(e){function t(t,o,r){var n=e.call(this,Di(o),Ni(r,o))||this;return n.controls=t,n._initObservables(),n._setUpdateStrategy(o),n._setUpControls(),n.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),n}return Object(c.__extends)(t,e),t.prototype.registerControl=function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)},t.prototype.addControl=function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()},t.prototype.removeControl=function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()},t.prototype.setControl=function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()},t.prototype.contains=function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled},t.prototype.setValue=function(e,t){var o=this;void 0===t&&(t={}),this._checkAllValuesPresent(e),Object.keys(e).forEach(function(r){o._throwIfControlMissing(r),o.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)},t.prototype.patchValue=function(e,t){var o=this;void 0===t&&(t={}),Object.keys(e).forEach(function(r){o.controls[r]&&o.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)},t.prototype.reset=function(e,t){void 0===e&&(e={}),void 0===t&&(t={}),this._forEachChild(function(o,r){o.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t),this._updatePristine(t),this._updateTouched(t)},t.prototype.getRawValue=function(){return this._reduceChildren({},function(e,t,o){return e[o]=t instanceof ki?t.value:t.getRawValue(),e})},t.prototype._syncPendingControls=function(){var e=this._reduceChildren(!1,function(e,t){return!!t._syncPendingControls()||e});return e&&this.updateValueAndValidity({onlySelf:!0}),e},t.prototype._throwIfControlMissing=function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: "+e+".")},t.prototype._forEachChild=function(e){var t=this;Object.keys(this.controls).forEach(function(o){return e(t.controls[o],o)})},t.prototype._setUpControls=function(){var e=this;this._forEachChild(function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)})},t.prototype._updateValue=function(){this.value=this._reduceValue()},t.prototype._anyControls=function(e){var t=this,o=!1;return this._forEachChild(function(r,n){o=o||t.contains(n)&&e(r)}),o},t.prototype._reduceValue=function(){var e=this;return this._reduceChildren({},function(t,o,r){return(o.enabled||e.disabled)&&(t[r]=o.value),t})},t.prototype._reduceChildren=function(e,t){var o=e;return this._forEachChild(function(e,r){o=t(o,e,r)}),o},t.prototype._allControlsDisabled=function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++)if(this.controls[t[e]].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled},t.prototype._checkAllValuesPresent=function(e){this._forEachChild(function(t,o){if(void 0===e[o])throw new Error("Must supply a value for form control with name: '"+o+"'.")})},t}(Gi),qi=function(e){function t(t,o,r){var n=e.call(this,Di(o),Ni(r,o))||this;return n.controls=t,n._initObservables(),n._setUpdateStrategy(o),n._setUpControls(),n.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),n}return Object(c.__extends)(t,e),t.prototype.at=function(e){return this.controls[e]},t.prototype.push=function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()},t.prototype.insert=function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()},t.prototype.removeAt=function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),this.updateValueAndValidity()},t.prototype.setControl=function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(t.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),t.prototype.setValue=function(e,t){var o=this;void 0===t&&(t={}),this._checkAllValuesPresent(e),e.forEach(function(e,r){o._throwIfControlMissing(r),o.at(r).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)},t.prototype.patchValue=function(e,t){var o=this;void 0===t&&(t={}),e.forEach(function(e,r){o.at(r)&&o.at(r).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)},t.prototype.reset=function(e,t){void 0===e&&(e=[]),void 0===t&&(t={}),this._forEachChild(function(o,r){o.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t),this._updatePristine(t),this._updateTouched(t)},t.prototype.getRawValue=function(){return this.controls.map(function(e){return e instanceof ki?e.value:e.getRawValue()})},t.prototype._syncPendingControls=function(){var e=this.controls.reduce(function(e,t){return!!t._syncPendingControls()||e},!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e},t.prototype._throwIfControlMissing=function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index "+e)},t.prototype._forEachChild=function(e){this.controls.forEach(function(t,o){e(t,o)})},t.prototype._updateValue=function(){var e=this;this.value=this.controls.filter(function(t){return t.enabled||e.disabled}).map(function(e){return e.value})},t.prototype._anyControls=function(e){return this.controls.some(function(t){return t.enabled&&e(t)})},t.prototype._setUpControls=function(){var e=this;this._forEachChild(function(t){return e._registerControl(t)})},t.prototype._checkAllValuesPresent=function(e){this._forEachChild(function(t,o){if(void 0===e[o])throw new Error("Must supply a value for form control at index: "+o+".")})},t.prototype._allControlsDisabled=function(){for(var e=0,t=this.controls;e<t.length;e++)if(t[e].enabled)return!1;return this.controls.length>0||this.disabled},t.prototype._registerControl=function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)},t}(Gi),Vi=Promise.resolve(null),Ui=function(e){function t(t,o){var n=e.call(this)||this;return n.submitted=!1,n._directives=[],n.ngSubmit=new r.EventEmitter,n.form=new ji({},Ri(t),wi(o)),n}return Object(c.__extends)(t,e),t.prototype.ngAfterViewInit=function(){this._setUpdateStrategy()},Object.defineProperty(t.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),t.prototype.addControl=function(e){var t=this;Vi.then(function(){var o=t._findContainer(e.path);e.control=o.registerControl(e.name,e.control),Ei(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),t._directives.push(e)})},t.prototype.getControl=function(e){return this.form.get(e.path)},t.prototype.removeControl=function(e){var t=this;Vi.then(function(){var o=t._findContainer(e.path);o&&o.removeControl(e.name),Oi(t._directives,e)})},t.prototype.addFormGroup=function(e){var t=this;Vi.then(function(){var o=t._findContainer(e.path),r=new ji({});bi(r,e),o.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})},t.prototype.removeFormGroup=function(e){var t=this;Vi.then(function(){var o=t._findContainer(e.path);o&&o.removeControl(e.name)})},t.prototype.getFormGroup=function(e){return this.form.get(e.path)},t.prototype.updateModel=function(e,t){var o=this;Vi.then(function(){o.form.get(e.path).setValue(t)})},t.prototype.setValue=function(e){this.control.setValue(e)},t.prototype.onSubmit=function(e){return this.submitted=!0,Li(this.form,this._directives),this.ngSubmit.emit(e),!1},t.prototype.onReset=function(){this.resetForm()},t.prototype.resetForm=function(e){void 0===e&&(e=void 0),this.form.reset(e),this.submitted=!1},t.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)},t.prototype._findContainer=function(e){return e.pop(),e.length?this.form.get(e):this.form},t}(Hn),Bi='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',Wi='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',Yi='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',Ki=function(){function e(){}return e.modelParentException=function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '+Bi+'\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')},e.formGroupNameException=function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+Wi+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+Yi)},e.missingNameException=function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')},e.modelGroupParentException=function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+Wi+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+Yi)},e}(),Xi=function(e){function t(t,o,r){var n=e.call(this)||this;return n._parent=t,n._validators=o,n._asyncValidators=r,n}return Object(c.__extends)(t,e),t.prototype._checkParentType=function(){this._parent instanceof t||this._parent instanceof Ui||Ki.modelGroupParentException()},t}(Ii),Zi=Promise.resolve(null),Hi=function(e){function t(t,o,n,i){var l=e.call(this)||this;return l.control=new ki,l._registered=!1,l.update=new r.EventEmitter,l._parent=t,l._rawValidators=o||[],l._rawAsyncValidators=n||[],l.valueAccessor=function(e,t){if(!t)return null;var o=void 0,r=void 0,n=void 0;return t.forEach(function(t){var i;t.constructor===li?o=t:(i=t,Mi.some(function(e){return i.constructor===e})?(r&&Ci(e,"More than one built-in value accessor matches form control with"),r=t):(n&&Ci(e,"More than one custom value accessor matches form control with"),n=t))}),n||r||o||(Ci(e,"No valid value accessor for form control with"),null)}(l,i),l}return Object(c.__extends)(t,e),t.prototype.ngOnChanges=function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(e,t){if(!e.hasOwnProperty("model"))return!1;var o=e.model;return!!o.isFirstChange()||!Object(r["\u0275looseIdentical"])(t,o.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},t.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(t.prototype,"path",{get:function(){return this._parent?xi(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return Ri(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return wi(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),t.prototype.viewToModelUpdate=function(e){this.viewModel=e,this.update.emit(e)},t.prototype._setUpControl=function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},t.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)},t.prototype._isStandalone=function(){return!this._parent||!(!this.options||!this.options.standalone)},t.prototype._setUpStandalone=function(){Ei(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})},t.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},t.prototype._checkParentType=function(){!(this._parent instanceof Xi)&&this._parent instanceof Ii?Ki.formGroupNameException():this._parent instanceof Xi||this._parent instanceof Ui||Ki.modelParentException()},t.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Ki.missingNameException()},t.prototype._updateValue=function(e){var t=this;Zi.then(function(){t.control.setValue(e,{emitViewToModelChange:!1})})},t.prototype._updateDisabled=function(e){var t=this,o=e.isDisabled.currentValue,r=""===o||o&&"false"!==o;Zi.then(function(){r&&!t.control.disabled?t.control.disable():!r&&t.control.disabled&&t.control.enable()})},t}(ci),zi=function(){function e(){}return e.controlParentException=function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+Bi)},e.ngModelGroupException=function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '+Wi+"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        "+Yi)},e.missingFormException=function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+Bi)},e.groupParentException=function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+Wi)},e.arrayParentException=function(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')},e.disabledAttrWarning=function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")},e}(),Ji=function(e){function t(t,o){var n=e.call(this)||this;return n._validators=t,n._asyncValidators=o,n.submitted=!1,n.directives=[],n.form=null,n.ngSubmit=new r.EventEmitter,n}return Object(c.__extends)(t,e),t.prototype.ngOnChanges=function(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())},Object.defineProperty(t.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),t.prototype.addControl=function(e){var t=this.form.get(e.path);return Ei(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t},t.prototype.getControl=function(e){return this.form.get(e.path)},t.prototype.removeControl=function(e){Oi(this.directives,e)},t.prototype.addFormGroup=function(e){var t=this.form.get(e.path);bi(t,e),t.updateValueAndValidity({emitEvent:!1})},t.prototype.removeFormGroup=function(e){},t.prototype.getFormGroup=function(e){return this.form.get(e.path)},t.prototype.addFormArray=function(e){var t=this.form.get(e.path);bi(t,e),t.updateValueAndValidity({emitEvent:!1})},t.prototype.removeFormArray=function(e){},t.prototype.getFormArray=function(e){return this.form.get(e.path)},t.prototype.updateModel=function(e,t){this.form.get(e.path).setValue(t)},t.prototype.onSubmit=function(e){return this.submitted=!0,Li(this.form,this.directives),this.ngSubmit.emit(e),!1},t.prototype.onReset=function(){this.resetForm()},t.prototype.resetForm=function(e){void 0===e&&(e=void 0),this.form.reset(e),this.submitted=!1},t.prototype._updateDomValue=function(){var e=this;this.directives.forEach(function(t){var o=e.form.get(t.path);t.control!==o&&(function(e,t){t.valueAccessor.registerOnChange(function(){return Ti(t)}),t.valueAccessor.registerOnTouched(function(){return Ti(t)}),t._rawValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),t._rawAsyncValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),e&&e._clearChangeFns()}(t.control,t),o&&Ei(o,t),t.control=o)}),this.form._updateTreeValidity({emitEvent:!1})},t.prototype._updateRegistrations=function(){var e=this;this.form._registerOnCollectionChange(function(){return e._updateDomValue()}),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){}),this._oldForm=this.form},t.prototype._updateValidators=function(){var e=Ri(this._validators);this.form.validator=$n.compose([this.form.validator,e]);var t=wi(this._asyncValidators);this.form.asyncValidator=$n.composeAsync([this.form.asyncValidator,t])},t.prototype._checkFormPresent=function(){this.form||zi.missingFormException()},t}(Hn),Qi=function(){},$i=function(){},el=function(){};function tl(e){return Error("A hint was already declared for 'align=\""+e+"\"'.")}var ol=function(){},rl=0,nl=function(e){function t(t,o,r){var n=e.call(this,t)||this;return n._elementRef=t,n._changeDetectorRef=o,n._showAlwaysAnimate=!1,n._subscriptAnimationState="",n._hintLabel="",n._hintLabelId="mat-hint-"+rl++,n._labelOptions=r||{},n.floatLabel=n._labelOptions.float||"auto",n}return Object(c.__extends)(t,e),Object.defineProperty(t.prototype,"dividerColor",{get:function(){return this.color},set:function(e){this.color=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideRequiredMarker",{get:function(){return this._hideRequiredMarker},set:function(e){this._hideRequiredMarker=Ke(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_shouldAlwaysFloat",{get:function(){return"always"===this._floatLabel&&!this._showAlwaysAnimate},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_canLabelFloat",{get:function(){return"never"!==this._floatLabel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hintLabel",{get:function(){return this._hintLabel},set:function(e){this._hintLabel=e,this._processHints()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"floatPlaceholder",{get:function(){return this._floatLabel},set:function(e){this.floatLabel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"floatLabel",{get:function(){return this._floatLabel},set:function(e){e!==this._floatLabel&&(this._floatLabel=e||this._labelOptions.float||"auto",this._changeDetectorRef.markForCheck())},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentInit=function(){var e=this;this._validateControlChild(),this._control.controlType&&this._elementRef.nativeElement.classList.add("mat-form-field-type-"+this._control.controlType),this._control.stateChanges.pipe(yn(null)).subscribe(function(){e._validatePlaceholders(),e._syncDescribedByIds(),e._changeDetectorRef.markForCheck()});var t=this._control.ngControl;t&&t.valueChanges&&t.valueChanges.subscribe(function(){e._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(yn(null)).subscribe(function(){e._processHints(),e._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(yn(null)).subscribe(function(){e._syncDescribedByIds(),e._changeDetectorRef.markForCheck()})},t.prototype.ngAfterContentChecked=function(){this._validateControlChild()},t.prototype.ngAfterViewInit=function(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()},t.prototype._shouldForward=function(e){var t=this._control?this._control.ngControl:null;return t&&t[e]},t.prototype._hasPlaceholder=function(){return!(!this._control.placeholder&&!this._placeholderChild)},t.prototype._hasLabel=function(){return!!this._labelChild},t.prototype._shouldLabelFloat=function(){return this._canLabelFloat&&(this._control.shouldLabelFloat||this._control.shouldPlaceholderFloat||this._shouldAlwaysFloat)},t.prototype._hideControlPlaceholder=function(){return!this._hasLabel()||!this._shouldLabelFloat()},t.prototype._hasFloatingLabel=function(){return this._hasLabel()||this._hasPlaceholder()},t.prototype._getDisplayedMessages=function(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"},t.prototype._animateAndLockLabel=function(){var e=this;this._hasFloatingLabel()&&this._canLabelFloat&&(this._showAlwaysAnimate=!0,this._floatLabel="always",pe(this._label.nativeElement,"transitionend").pipe(Be(1)).subscribe(function(){e._showAlwaysAnimate=!1}),this._changeDetectorRef.markForCheck())},t.prototype._validatePlaceholders=function(){if(this._control.placeholder&&this._placeholderChild)throw Error("Placeholder attribute and child element were both specified.")},t.prototype._processHints=function(){this._validateHints(),this._syncDescribedByIds()},t.prototype._validateHints=function(){var e,t,o=this;this._hintChildren&&this._hintChildren.forEach(function(r){if("start"===r.align){if(e||o.hintLabel)throw tl("start");e=r}else if("end"===r.align){if(t)throw tl("end");t=r}})},t.prototype._syncDescribedByIds=function(){if(this._control){var e=[];if("hint"===this._getDisplayedMessages()){var t=this._hintChildren?this._hintChildren.find(function(e){return"start"===e.align}):null,o=this._hintChildren?this._hintChildren.find(function(e){return"end"===e.align}):null;t?e.push(t.id):this._hintLabel&&e.push(this._hintLabelId),o&&e.push(o.id)}else this._errorChildren&&(e=this._errorChildren.map(function(e){return e.id}));this._control.setDescribedByIds(e)}},t.prototype._validateControlChild=function(){if(!this._control)throw Error("mat-form-field must contain a MatFormFieldControl.")},t}(xr(function(e){this._elementRef=e},"primary")),il=function(){},ll=new r.InjectionToken("MAT_INPUT_VALUE_ACCESSOR"),al=["button","checkbox","file","hidden","image","radio","range","reset","submit"],sl=0,pl=function(e){function t(t,o,r,n,i,l,a){var s=e.call(this,l,n,i,r)||this;return s._elementRef=t,s._platform=o,s.ngControl=r,s._uid="mat-input-"+sl++,s._isServer=!1,s.focused=!1,s.stateChanges=new ee.a,s.controlType="mat-input",s._disabled=!1,s.placeholder="",s._required=!1,s._type="text",s._readonly=!1,s._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(function(e){return Q().has(e)}),s._inputValueAccessor=a||s._elementRef.nativeElement,s._previousNativeValue=s.value,s.id=s.id,o.IOS&&t.nativeElement.addEventListener("keyup",function(e){var t=e.target;t.value||t.selectionStart||t.selectionEnd||(t.setSelectionRange(1,1),t.setSelectionRange(0,0))}),s._isServer=!s._platform.isBrowser,s}return Object(c.__extends)(t,e),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled},set:function(e){this._disabled=Ke(e),this.focused&&(this.focused=!1,this.stateChanges.next())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},set:function(e){this._id=e||this._uid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(e){this._required=Ke(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(e){this._type=e||"text",this._validateType(),!this._isTextarea()&&Q().has(this._type)&&(this._elementRef.nativeElement.type=this._type)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._inputValueAccessor.value},set:function(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readonly",{get:function(){return this._readonly},set:function(e){this._readonly=Ke(e)},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(){this.stateChanges.next()},t.prototype.ngOnDestroy=function(){this.stateChanges.complete()},t.prototype.ngDoCheck=function(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue()},t.prototype.focus=function(){this._elementRef.nativeElement.focus()},t.prototype._focusChanged=function(e){e===this.focused||this.readonly||(this.focused=e,this.stateChanges.next())},t.prototype._onInput=function(){},t.prototype._dirtyCheckNativeValue=function(){var e=this.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())},t.prototype._validateType=function(){if(al.indexOf(this._type)>-1)throw Error('Input type "'+this._type+"\" isn't supported by matInput.")},t.prototype._isNeverEmpty=function(){return this._neverEmptyInputTypes.indexOf(this._type)>-1},t.prototype._isBadInput=function(){var e=this._elementRef.nativeElement.validity;return e&&e.badInput},t.prototype._isTextarea=function(){var e=this._elementRef.nativeElement,t=this._platform.isBrowser?e.nodeName:e.name;return!!t&&"textarea"===t.toLowerCase()},Object.defineProperty(t.prototype,"empty",{get:function(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shouldLabelFloat",{get:function(){return this.focused||!this.empty},enumerable:!0,configurable:!0}),t.prototype.setDescribedByIds=function(e){this._ariaDescribedby=e.join(" ")},t.prototype.onContainerClick=function(){this.focus()},t}(function(e){return function(e){function t(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var r=e.apply(this,t)||this;return r.errorState=!1,r.stateChanges=new ee.a,r}return Object(c.__extends)(t,e),t.prototype.updateErrorState=function(){var e=this.errorState,t=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);t!==e&&(this.errorState=t,this.stateChanges.next())},t}(function(e,t,o,r){this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=o,this.ngControl=r})}()),ul=function(){};function cl(e){return Error("MatDatepicker: No provider found for "+e+". You must import one of the following modules at your application root: MatNativeDateModule, MatMomentDateModule, or provide a custom implementation.")}var gl=function(){return function(){this.changes=new ee.a,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 20 years",this.nextMultiYearLabel="Next 20 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}}(),dl=function(e,t,o,r){this.value=e,this.displayValue=t,this.ariaLabel=o,this.enabled=r},hl=function(){function e(){this.numCols=7,this.allowDisabledSelection=!1,this.activeCell=0,this.cellAspectRatio=1,this.selectedValueChange=new r.EventEmitter}return e.prototype._cellClicked=function(e){(this.allowDisabledSelection||e.enabled)&&this.selectedValueChange.emit(e.value)},Object.defineProperty(e.prototype,"_firstRowOffset",{get:function(){return this.rows&&this.rows.length&&this.rows[0].length?this.numCols-this.rows[0].length:0},enumerable:!0,configurable:!0}),e.prototype._isActiveCell=function(e,t){var o=e*this.numCols+t;return e&&(o-=this._firstRowOffset),o==this.activeCell},e}(),yl=function(){function e(e,t,o){if(this._dateAdapter=e,this._dateFormats=t,this._changeDetectorRef=o,this.selectedChange=new r.EventEmitter,this._userSelection=new r.EventEmitter,!this._dateAdapter)throw cl("DateAdapter");if(!this._dateFormats)throw cl("MAT_DATE_FORMATS");var n=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow"),l=this._dateAdapter.getDayOfWeekNames("long").map(function(e,t){return{long:e,narrow:i[t]}});this._weekdays=l.slice(n).concat(l.slice(0,n)),this._activeDate=this._dateAdapter.today()}return Object.defineProperty(e.prototype,"activeDate",{get:function(){return this._activeDate},set:function(e){var t=this._activeDate;this._activeDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today(),this._hasSameMonthAndYear(t,this._activeDate)||this._init()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(e){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._selectedDate=this._getDateInCurrentMonth(this._selected)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minDate",{get:function(){return this._minDate},set:function(e){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxDate",{get:function(){return this._maxDate},set:function(e){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){this._init()},e.prototype._dateSelected=function(e){if(this._selectedDate!=e){var t=this._dateAdapter.getYear(this.activeDate),o=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.createDate(t,o,e);this.selectedChange.emit(r)}this._userSelection.emit()},e.prototype._init=function(){this._selectedDate=this._getDateInCurrentMonth(this.selected),this._todayDate=this._getDateInCurrentMonth(this._dateAdapter.today()),this._monthLabel=this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();var e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._createWeekCells(),this._changeDetectorRef.markForCheck()},e.prototype._createWeekCells=function(){var e=this._dateAdapter.getNumDaysInMonth(this.activeDate),t=this._dateAdapter.getDateNames();this._weeks=[[]];for(var o=0,r=this._firstWeekOffset;o<e;o++,r++){7==r&&(this._weeks.push([]),r=0);var n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),o+1),i=this._shouldEnableDate(n),l=this._dateAdapter.format(n,this._dateFormats.display.dateA11yLabel);this._weeks[this._weeks.length-1].push(new dl(o+1,t[o],l,i))}},e.prototype._shouldEnableDate=function(e){return!!e&&(!this.dateFilter||this.dateFilter(e))&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)},e.prototype._getDateInCurrentMonth=function(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null},e.prototype._hasSameMonthAndYear=function(e,t){return!(!e||!t||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(t)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(t))},e.prototype._getValidDateOrNull=function(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null},e}(),fl=function(){function e(e,t){if(this._dateAdapter=e,this._changeDetectorRef=t,this.selectedChange=new r.EventEmitter,!this._dateAdapter)throw cl("DateAdapter");this._activeDate=this._dateAdapter.today()}return Object.defineProperty(e.prototype,"activeDate",{get:function(){return this._activeDate},set:function(e){var t=this._activeDate;this._activeDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today(),Math.floor(this._dateAdapter.getYear(t)/24)!=Math.floor(this._dateAdapter.getYear(this._activeDate)/24)&&this._init()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(e){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._selectedYear=this._selected&&this._dateAdapter.getYear(this._selected)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minDate",{get:function(){return this._minDate},set:function(e){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxDate",{get:function(){return this._maxDate},set:function(e){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){this._init()},e.prototype._init=function(){var e=this;this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());var t=this._dateAdapter.getYear(this._activeDate),o=t%24;this._years=[];for(var r=0,n=[];r<24;r++)n.push(t-o+r),4==n.length&&(this._years.push(n.map(function(t){return e._createCellForYear(t)})),n=[]);this._changeDetectorRef.markForCheck()},e.prototype._yearSelected=function(e){var t=this._dateAdapter.getMonth(this.activeDate),o=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,t,1));this.selectedChange.emit(this._dateAdapter.createDate(e,t,Math.min(this._dateAdapter.getDate(this.activeDate),o)))},e.prototype._getActiveCell=function(){return this._dateAdapter.getYear(this.activeDate)%24},e.prototype._createCellForYear=function(e){var t=this._dateAdapter.getYearName(this._dateAdapter.createDate(e,0,1));return new dl(e,t,t,this._shouldEnableYear(e))},e.prototype._shouldEnableYear=function(e){if(void 0===e||null===e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(var t=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(t)==e;t=this._dateAdapter.addCalendarDays(t,1))if(this.dateFilter(t))return!0;return!1},e.prototype._getValidDateOrNull=function(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null},e}(),ml=function(){function e(e,t,o){if(this._dateAdapter=e,this._dateFormats=t,this._changeDetectorRef=o,this.selectedChange=new r.EventEmitter,!this._dateAdapter)throw cl("DateAdapter");if(!this._dateFormats)throw cl("MAT_DATE_FORMATS");this._activeDate=this._dateAdapter.today()}return Object.defineProperty(e.prototype,"activeDate",{get:function(){return this._activeDate},set:function(e){var t=this._activeDate;this._activeDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today(),this._dateAdapter.getYear(t)!=this._dateAdapter.getYear(this._activeDate)&&this._init()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(e){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._selectedMonth=this._getMonthInCurrentYear(this._selected)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minDate",{get:function(){return this._minDate},set:function(e){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxDate",{get:function(){return this._maxDate},set:function(e){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){this._init()},e.prototype._monthSelected=function(e){var t=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1));this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),t)))},e.prototype._init=function(){var e=this;this._selectedMonth=this._getMonthInCurrentYear(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);var t=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(function(o){return o.map(function(o){return e._createCellForMonth(o,t[o])})}),this._changeDetectorRef.markForCheck()},e.prototype._getMonthInCurrentYear=function(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null},e.prototype._createCellForMonth=function(e,t){var o=this._dateAdapter.format(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),this._dateFormats.display.monthYearA11yLabel);return new dl(e,t.toLocaleUpperCase(),o,this._shouldEnableMonth(e))},e.prototype._shouldEnableMonth=function(e){var t=this._dateAdapter.getYear(this.activeDate);if(void 0===e||null===e||this._isYearAndMonthAfterMaxDate(t,e)||this._isYearAndMonthBeforeMinDate(t,e))return!1;if(!this.dateFilter)return!0;for(var o=this._dateAdapter.createDate(t,e,1);this._dateAdapter.getMonth(o)==e;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1},e.prototype._isYearAndMonthAfterMaxDate=function(e,t){if(this.maxDate){var o=this._dateAdapter.getYear(this.maxDate),r=this._dateAdapter.getMonth(this.maxDate);return e>o||e===o&&t>r}return!1},e.prototype._isYearAndMonthBeforeMinDate=function(e,t){if(this.minDate){var o=this._dateAdapter.getYear(this.minDate),r=this._dateAdapter.getMonth(this.minDate);return e<o||e===o&&t<r}return!1},e.prototype._getValidDateOrNull=function(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null},e}(),vl=function(){function e(e,t,o,n,i,l,a){if(this._elementRef=e,this._intl=t,this._ngZone=o,this._dateAdapter=n,this._dateFormats=i,this._dir=a,this.startView="month",this.selectedChange=new r.EventEmitter,this._userSelection=new r.EventEmitter,!this._dateAdapter)throw cl("DateAdapter");if(!this._dateFormats)throw cl("MAT_DATE_FORMATS");this._intlChanges=t.changes.subscribe(function(){return l.markForCheck()})}return Object.defineProperty(e.prototype,"startAt",{get:function(){return this._startAt},set:function(e){this._startAt=this._getValidDateOrNull(this._dateAdapter.deserialize(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(e){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minDate",{get:function(){return this._minDate},set:function(e){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxDate",{get:function(){return this._maxDate},set:function(e){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_activeDate",{get:function(){return this._clampedActiveDate},set:function(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_periodButtonText",{get:function(){if("month"==this._currentView)return this._dateAdapter.format(this._activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this._currentView)return this._dateAdapter.getYearName(this._activeDate);var e=this._dateAdapter.getYear(this._activeDate);return this._dateAdapter.getYearName(this._dateAdapter.createDate(e-e%24,0,1))+" \u2013 "+this._dateAdapter.getYearName(this._dateAdapter.createDate(e+24-1-e%24,0,1))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_periodButtonLabel",{get:function(){return"month"==this._currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_prevButtonLabel",{get:function(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this._currentView]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_nextButtonLabel",{get:function(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this._currentView]},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){this._activeDate=this.startAt||this._dateAdapter.today(),this._focusActiveCell(),this._currentView=this.startView},e.prototype.ngOnDestroy=function(){this._intlChanges.unsubscribe()},e.prototype.ngOnChanges=function(e){var t=e.minDate||e.maxDate||e.dateFilter;if(t&&!t.firstChange){var o=this.monthView||this.yearView||this.multiYearView;o&&o._init()}},e.prototype._dateSelected=function(e){this._dateAdapter.sameDate(e,this.selected)||this.selectedChange.emit(e)},e.prototype._userSelected=function(){this._userSelection.emit()},e.prototype._goToDateInView=function(e,t){this._activeDate=e,this._currentView=t},e.prototype._currentPeriodClicked=function(){this._currentView="month"==this._currentView?"multi-year":"month"},e.prototype._previousClicked=function(){this._activeDate="month"==this._currentView?this._dateAdapter.addCalendarMonths(this._activeDate,-1):this._dateAdapter.addCalendarYears(this._activeDate,"year"==this._currentView?-1:-24)},e.prototype._nextClicked=function(){this._activeDate="month"==this._currentView?this._dateAdapter.addCalendarMonths(this._activeDate,1):this._dateAdapter.addCalendarYears(this._activeDate,"year"==this._currentView?1:24)},e.prototype._previousEnabled=function(){return!this.minDate||!this.minDate||!this._isSameView(this._activeDate,this.minDate)},e.prototype._nextEnabled=function(){return!this.maxDate||!this._isSameView(this._activeDate,this.maxDate)},e.prototype._handleCalendarBodyKeydown=function(e){"month"==this._currentView?this._handleCalendarBodyKeydownInMonthView(e):"year"==this._currentView?this._handleCalendarBodyKeydownInYearView(e):this._handleCalendarBodyKeydownInMultiYearView(e)},e.prototype._focusActiveCell=function(){var e=this;this._ngZone.runOutsideAngular(function(){e._ngZone.onStable.asObservable().pipe(Be(1)).subscribe(function(){e._elementRef.nativeElement.querySelector(".mat-calendar-body-active").focus()})})},e.prototype._isSameView=function(e,t){return"month"==this._currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(t):"year"==this._currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t):Math.floor(this._dateAdapter.getYear(e)/24)==Math.floor(this._dateAdapter.getYear(t)/24)},e.prototype._handleCalendarBodyKeydownInMonthView=function(e){var t=this._isRtl();switch(e.keyCode){case 37:this._activeDate=this._dateAdapter.addCalendarDays(this._activeDate,t?1:-1);break;case 39:this._activeDate=this._dateAdapter.addCalendarDays(this._activeDate,t?-1:1);break;case 38:this._activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this._activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this._activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this._activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this._activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this._activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:return void(this.dateFilter&&!this.dateFilter(this._activeDate)||(this._dateSelected(this._activeDate),this._userSelected(),e.preventDefault()));default:return}this._focusActiveCell(),e.preventDefault()},e.prototype._handleCalendarBodyKeydownInYearView=function(e){var t=this._isRtl();switch(e.keyCode){case 37:this._activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,t?1:-1);break;case 39:this._activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,t?-1:1);break;case 38:this._activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this._activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this._activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this._activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this._activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this._activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:this._goToDateInView(this._activeDate,"month");break;default:return}this._focusActiveCell(),e.preventDefault()},e.prototype._handleCalendarBodyKeydownInMultiYearView=function(e){switch(e.keyCode){case 37:this._activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-1);break;case 39:this._activeDate=this._dateAdapter.addCalendarYears(this._activeDate,1);break;case 38:this._activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this._activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this._activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-this._dateAdapter.getYear(this._activeDate)%24);break;case 35:this._activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-this._dateAdapter.getYear(this._activeDate)%24-1);break;case 33:this._activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case 34:this._activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:24);break;case 13:this._goToDateInView(this._activeDate,"year");break;default:return}this._focusActiveCell(),e.preventDefault()},e.prototype._getValidDateOrNull=function(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null},e.prototype._isRtl=function(){return this._dir&&"rtl"===this._dir.value},e}(),_l=0,Sl=new r.InjectionToken("mat-datepicker-scroll-strategy");function xl(e){return function(){return e.scrollStrategies.reposition()}}var El=function(){function e(){}return e.prototype.ngAfterContentInit=function(){this._calendar._focusActiveCell()},e}(),Pl=function(){function e(e,t,o,n,i,l,a,s){if(this._dialog=e,this._overlay=t,this._ngZone=o,this._viewContainerRef=n,this._scrollStrategy=i,this._dateAdapter=l,this._dir=a,this._document=s,this.startView="month",this._touchUi=!1,this.selectedChanged=new r.EventEmitter,this.openedStream=new r.EventEmitter,this.closedStream=new r.EventEmitter,this._opened=!1,this.id="mat-datepicker-"+_l++,this._validSelected=null,this._focusedElementBeforeOpen=null,this._inputSubscription=ae.a.EMPTY,this._disabledChange=new ee.a,!this._dateAdapter)throw cl("DateAdapter")}return Object.defineProperty(e.prototype,"startAt",{get:function(){return this._startAt||(this._datepickerInput?this._datepickerInput.value:null)},set:function(e){this._startAt=this._getValidDateOrNull(this._dateAdapter.deserialize(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"touchUi",{get:function(){return this._touchUi},set:function(e){this._touchUi=Ke(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return void 0===this._disabled&&this._datepickerInput?this._datepickerInput.disabled:!!this._disabled},set:function(e){var t=Ke(e);t!==this._disabled&&(this._disabled=t,this._disabledChange.next(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opened",{get:function(){return this._opened},set:function(e){e?this.open():this.close()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_selected",{get:function(){return this._validSelected},set:function(e){this._validSelected=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_minDate",{get:function(){return this._datepickerInput&&this._datepickerInput.min},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_maxDate",{get:function(){return this._datepickerInput&&this._datepickerInput.max},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_dateFilter",{get:function(){return this._datepickerInput&&this._datepickerInput._dateFilter},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this.close(),this._inputSubscription.unsubscribe(),this._disabledChange.complete(),this._popupRef&&this._popupRef.dispose()},e.prototype._select=function(e){var t=this._selected;this._selected=e,this._dateAdapter.sameDate(t,this._selected)||this.selectedChanged.emit(e)},e.prototype._registerInput=function(e){var t=this;if(this._datepickerInput)throw Error("A MatDatepicker can only be associated with a single input.");this._datepickerInput=e,this._inputSubscription=this._datepickerInput._valueChange.subscribe(function(e){return t._selected=e})},e.prototype.open=function(){if(!this._opened&&!this.disabled){if(!this._datepickerInput)throw Error("Attempted to open an MatDatepicker with no associated input.");this._document&&(this._focusedElementBeforeOpen=this._document.activeElement),this.touchUi?this._openAsDialog():this._openAsPopup(),this._opened=!0,this.openedStream.emit()}},e.prototype.close=function(){var e=this;if(this._opened){this._popupRef&&this._popupRef.hasAttached()&&this._popupRef.detach(),this._dialogRef&&(this._dialogRef.close(),this._dialogRef=null),this._calendarPortal&&this._calendarPortal.isAttached&&this._calendarPortal.detach();var t=function(){e._opened&&(e._opened=!1,e.closedStream.emit(),e._focusedElementBeforeOpen=null)};this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(t)):t()}},e.prototype._openAsDialog=function(){var e=this;this._dialogRef=this._dialog.open(El,{direction:this._dir?this._dir.value:"ltr",viewContainerRef:this._viewContainerRef,panelClass:"mat-datepicker-dialog"}),this._dialogRef.afterClosed().subscribe(function(){return e.close()}),this._dialogRef.componentInstance.datepicker=this},e.prototype._openAsPopup=function(){var e=this;this._calendarPortal||(this._calendarPortal=new Ae(El,this._viewContainerRef)),this._popupRef||this._createPopup(),this._popupRef.hasAttached()||(this._popupRef.attach(this._calendarPortal).instance.datepicker=this,this._ngZone.onStable.asObservable().pipe(Be(1)).subscribe(function(){e._popupRef.updatePosition()}))},e.prototype._createPopup=function(){var e=this,t=new He({positionStrategy:this._createPopupPositionStrategy(),hasBackdrop:!0,backdropClass:"mat-overlay-transparent-backdrop",direction:this._dir?this._dir.value:"ltr",scrollStrategy:this._scrollStrategy(),panelClass:"mat-datepicker-popup"});this._popupRef=this._overlay.create(t),Object(Ee.a)(this._popupRef.backdropClick(),this._popupRef.detachments(),this._popupRef.keydownEvents().pipe(Object(xe.a)(function(e){return e.keyCode===Xe}))).subscribe(function(){return e.close()})},e.prototype._createPopupPositionStrategy=function(){var e=this._datepickerInput._getPopupFallbackOffset();return this._overlay.position().connectedTo(this._datepickerInput.getPopupConnectionElementRef(),{originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}).withFallbackPosition({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"},void 0,e).withFallbackPosition({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"}).withFallbackPosition({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"},void 0,e)},e.prototype._getValidDateOrNull=function(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null},e}(),bl=function(e,t){this.target=e,this.targetElement=t,this.value=this.target.value},Tl=function(){function e(e,t,o,n){var i=this;if(this._elementRef=e,this._dateAdapter=t,this._dateFormats=o,this._formField=n,this.dateChange=new r.EventEmitter,this.dateInput=new r.EventEmitter,this._valueChange=new r.EventEmitter,this._disabledChange=new r.EventEmitter,this._onTouched=function(){},this._cvaOnChange=function(){},this._validatorOnChange=function(){},this._datepickerSubscription=ae.a.EMPTY,this._localeSubscription=ae.a.EMPTY,this._parseValidator=function(){return i._lastValueValid?null:{matDatepickerParse:{text:i._elementRef.nativeElement.value}}},this._minValidator=function(e){var t=i._getValidDateOrNull(i._dateAdapter.deserialize(e.value));return!i.min||!t||i._dateAdapter.compareDate(i.min,t)<=0?null:{matDatepickerMin:{min:i.min,actual:t}}},this._maxValidator=function(e){var t=i._getValidDateOrNull(i._dateAdapter.deserialize(e.value));return!i.max||!t||i._dateAdapter.compareDate(i.max,t)>=0?null:{matDatepickerMax:{max:i.max,actual:t}}},this._filterValidator=function(e){var t=i._getValidDateOrNull(i._dateAdapter.deserialize(e.value));return i._dateFilter&&t&&!i._dateFilter(t)?{matDatepickerFilter:!0}:null},this._validator=$n.compose([this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]),this._lastValueValid=!1,!this._dateAdapter)throw cl("DateAdapter");if(!this._dateFormats)throw cl("MAT_DATE_FORMATS");this._localeSubscription=t.localeChanges.subscribe(function(){i.value=i.value})}return Object.defineProperty(e.prototype,"matDatepicker",{set:function(e){this.registerDatepicker(e)},enumerable:!0,configurable:!0}),e.prototype.registerDatepicker=function(e){e&&(this._datepicker=e,this._datepicker._registerInput(this))},Object.defineProperty(e.prototype,"matDatepickerFilter",{set:function(e){this._dateFilter=e,this._validatorOnChange()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=!e||this._dateAdapter.isValid(e),e=this._getValidDateOrNull(e);var t=this.value;this._value=e,this._elementRef.nativeElement.value=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):"",this._dateAdapter.sameDate(t,e)||this._valueChange.emit(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this._min},set:function(e){this._min=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._validatorOnChange()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._max},set:function(e){this._max=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._validatorOnChange()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return!!this._disabled},set:function(e){var t=Ke(e);this._disabled!==t&&(this._disabled=t,this._disabledChange.emit(t)),t&&this._elementRef.nativeElement.blur()},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){var e=this;this._datepicker&&(this._datepickerSubscription=this._datepicker.selectedChanged.subscribe(function(t){e.value=t,e._cvaOnChange(t),e._onTouched(),e.dateInput.emit(new bl(e,e._elementRef.nativeElement)),e.dateChange.emit(new bl(e,e._elementRef.nativeElement))}))},e.prototype.ngOnDestroy=function(){this._datepickerSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this._valueChange.complete(),this._disabledChange.complete()},e.prototype.registerOnValidatorChange=function(e){this._validatorOnChange=e},e.prototype.validate=function(e){return this._validator?this._validator(e):null},e.prototype.getPopupConnectionElementRef=function(){return this._formField?this._formField.underlineRef:this._elementRef},e.prototype._getPopupFallbackOffset=function(){return this._formField?-this._formField._inputContainerRef.nativeElement.clientHeight:0},e.prototype.writeValue=function(e){this.value=e},e.prototype.registerOnChange=function(e){this._cvaOnChange=e},e.prototype.registerOnTouched=function(e){this._onTouched=e},e.prototype.setDisabledState=function(e){this.disabled=e},e.prototype._onKeydown=function(e){e.altKey&&40===e.keyCode&&(this._datepicker.open(),e.preventDefault())},e.prototype._onInput=function(e){var t=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=!t||this._dateAdapter.isValid(t),t=this._getValidDateOrNull(t),this._value=t,this._cvaOnChange(t),this._valueChange.emit(t),this.dateInput.emit(new bl(this,this._elementRef.nativeElement))},e.prototype._onChange=function(){this.dateChange.emit(new bl(this,this._elementRef.nativeElement))},e.prototype._getValidDateOrNull=function(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null},e}(),Cl=function(){function e(e,t){this._intl=e,this._changeDetectorRef=t,this._stateChanges=ae.a.EMPTY}return Object.defineProperty(e.prototype,"disabled",{get:function(){return void 0===this._disabled?this.datepicker.disabled:!!this._disabled},set:function(e){this._disabled=Ke(e)},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(e){e.datepicker&&this._watchStateChanges()},e.prototype.ngOnDestroy=function(){this._stateChanges.unsubscribe()},e.prototype.ngAfterContentInit=function(){this._watchStateChanges()},e.prototype._open=function(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())},e.prototype._watchStateChanges=function(){var e=this,t=this.datepicker?this.datepicker._disabledChange:re(),o=this.datepicker&&this.datepicker._datepickerInput?this.datepicker._datepickerInput._disabledChange:re(),r=this.datepicker?Object(Ee.a)(this.datepicker.openedStream,this.datepicker.closedStream):re();this._stateChanges.unsubscribe(),this._stateChanges=Object(Ee.a)(this._intl.changes,t,o,r).subscribe(function(){return e._changeDetectorRef.markForCheck()})},e}(),Rl=function(){},wl=r["\u0275crt"]({encapsulation:2,styles:[".mat-button,.mat-flat-button,.mat-icon-button,.mat-stroked-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:88px;line-height:36px;padding:0 16px;border-radius:2px}.mat-button[disabled],.mat-flat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay{opacity:1}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{transition:none;opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:1}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:88px;line-height:36px;padding:0 16px;border-radius:2px;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:1}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.mat-raised-button:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mat-raised-button[disabled]{box-shadow:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button:not([class*=mat-elevation-z]){box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}.mat-flat-button:not([class*=mat-elevation-z]){box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:88px;line-height:36px;padding:0 16px;border-radius:2px;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:1}.mat-fab::-moz-focus-inner{border:0}.mat-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.mat-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mat-fab[disabled]{box-shadow:none}.mat-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.mat-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:88px;line-height:36px;padding:0 16px;border-radius:2px;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:1}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.mat-mini-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mat-mini-fab[disabled]{box-shadow:none}.mat-mini-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.mat-mini-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button .mat-icon,.mat-icon-button i{line-height:24px}.mat-button,.mat-fab,.mat-icon-button,.mat-mini-fab,.mat-raised-button{color:currentColor}.mat-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*{vertical-align:middle}.mat-button-focus-overlay,.mat-button-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-focus-overlay{background-color:rgba(0,0,0,.12);border-radius:inherit;opacity:0;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1)}@media screen and (-ms-high-contrast:active){.mat-button-focus-overlay{background-color:rgba(255,255,255,.5)}}.mat-button-ripple-round{border-radius:50%;z-index:1}@media screen and (-ms-high-contrast:active){.mat-button,.mat-fab,.mat-flat-button,.mat-icon-button,.mat-mini-fab,.mat-raised-button{outline:solid 1px}}"],data:{}});function Ml(e){return r["\u0275vid"](2,[r["\u0275qud"](402653184,1,{ripple:0}),(e()(),r["\u0275eld"](1,0,null,null,1,"span",[["class","mat-button-wrapper"]],null,null,null,null,null)),r["\u0275ncd"](null,0),(e()(),r["\u0275eld"](3,0,null,null,1,"div",[["class","mat-button-ripple mat-ripple"],["matRipple",""]],[[2,"mat-button-ripple-round",null],[2,"mat-ripple-unbounded",null]],null,null,null,null)),r["\u0275did"](4,212992,[[1,4]],0,Ur,[r.ElementRef,r.NgZone,H,[2,Vr]],{centered:[0,"centered"],disabled:[1,"disabled"],trigger:[2,"trigger"]},null),(e()(),r["\u0275eld"](5,0,null,null,0,"div",[["class","mat-button-focus-overlay"]],null,null,null,null,null))],function(e,t){var o=t.component;e(t,4,0,o._isIconButton,o._isRippleDisabled(),o._getHostElement())},function(e,t){var o=t.component;e(t,3,0,o._isRoundButton||o._isIconButton,r["\u0275nov"](t,4).unbounded)})}var Ll=r["\u0275crt"]({encapsulation:2,styles:[".mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:0}.mat-calendar-controls{display:flex;margin:5% calc(33% / 7 - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top-width:5px;border-top-style:solid;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.mat-calendar-next-button,.mat-calendar-previous-button{position:relative}.mat-calendar-next-button::after,.mat-calendar-previous-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:'';margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-next-button,[dir=rtl] .mat-calendar-previous-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:'';position:absolute;top:0;left:-8px;right:-8px;height:1px}"],data:{}});function Ol(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"mat-month-view",[],null,[[null,"selectedChange"],[null,"_userSelection"]],function(e,t,o){var r=!0,n=e.component;return"selectedChange"===t&&(r=!1!==n._dateSelected(o)&&r),"_userSelection"===t&&(r=!1!==n._userSelected()&&r),r},Jl,Hl)),r["\u0275did"](1,1097728,[[1,4]],0,yl,[[2,Pr],[2,br],r.ChangeDetectorRef],{activeDate:[0,"activeDate"],selected:[1,"selected"],minDate:[2,"minDate"],maxDate:[3,"maxDate"],dateFilter:[4,"dateFilter"]},{selectedChange:"selectedChange",_userSelection:"_userSelection"})],function(e,t){var o=t.component;e(t,1,0,o._activeDate,o.selected,o.minDate,o.maxDate,o.dateFilter)},null)}function Il(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"mat-year-view",[],null,[[null,"selectedChange"]],function(e,t,o){var r=!0;return"selectedChange"===t&&(r=!1!==e.component._goToDateInView(o,"month")&&r),r},$l,Ql)),r["\u0275did"](1,1097728,[[2,4]],0,ml,[[2,Pr],[2,br],r.ChangeDetectorRef],{activeDate:[0,"activeDate"],selected:[1,"selected"],minDate:[2,"minDate"],maxDate:[3,"maxDate"],dateFilter:[4,"dateFilter"]},{selectedChange:"selectedChange"})],function(e,t){var o=t.component;e(t,1,0,o._activeDate,o.selected,o.minDate,o.maxDate,o.dateFilter)},null)}function Al(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"mat-multi-year-view",[],null,[[null,"selectedChange"]],function(e,t,o){var r=!0;return"selectedChange"===t&&(r=!1!==e.component._goToDateInView(o,"year")&&r),r},ta,ea)),r["\u0275did"](1,1097728,[[3,4]],0,fl,[[2,Pr],r.ChangeDetectorRef],{activeDate:[0,"activeDate"],selected:[1,"selected"],minDate:[2,"minDate"],maxDate:[3,"maxDate"],dateFilter:[4,"dateFilter"]},{selectedChange:"selectedChange"})],function(e,t){var o=t.component;e(t,1,0,o._activeDate,o.selected,o.minDate,o.maxDate,o.dateFilter)},null)}function Dl(e){return r["\u0275vid"](2,[r["\u0275qud"](671088640,1,{monthView:0}),r["\u0275qud"](671088640,2,{yearView:0}),r["\u0275qud"](671088640,3,{multiYearView:0}),(e()(),r["\u0275eld"](3,0,null,null,10,"div",[["class","mat-calendar-header"]],null,null,null,null,null)),(e()(),r["\u0275eld"](4,0,null,null,9,"div",[["class","mat-calendar-controls"]],null,null,null,null,null)),(e()(),r["\u0275eld"](5,0,null,null,3,"button",[["class","mat-calendar-period-button"],["mat-button",""]],[[1,"aria-label",0],[8,"disabled",0]],[[null,"click"]],function(e,t,o){var r=!0;return"click"===t&&(r=!1!==e.component._currentPeriodClicked()&&r),r},Ml,wl)),r["\u0275did"](6,180224,null,0,Vn,[r.ElementRef,H,Ft],null,null),(e()(),r["\u0275ted"](7,0,["",""])),(e()(),r["\u0275eld"](8,0,null,0,0,"div",[["class","mat-calendar-arrow"]],[[2,"mat-calendar-invert",null]],null,null,null,null)),(e()(),r["\u0275eld"](9,0,null,null,0,"div",[["class","mat-calendar-spacer"]],null,null,null,null,null)),(e()(),r["\u0275eld"](10,0,null,null,1,"button",[["class","mat-calendar-previous-button"],["mat-icon-button",""]],[[1,"aria-label",0],[8,"disabled",0]],[[null,"click"]],function(e,t,o){var r=!0;return"click"===t&&(r=!1!==e.component._previousClicked()&&r),r},Ml,wl)),r["\u0275did"](11,180224,null,0,Vn,[r.ElementRef,H,Ft],{disabled:[0,"disabled"]},null),(e()(),r["\u0275eld"](12,0,null,null,1,"button",[["class","mat-calendar-next-button"],["mat-icon-button",""]],[[1,"aria-label",0],[8,"disabled",0]],[[null,"click"]],function(e,t,o){var r=!0;return"click"===t&&(r=!1!==e.component._nextClicked()&&r),r},Ml,wl)),r["\u0275did"](13,180224,null,0,Vn,[r.ElementRef,H,Ft],{disabled:[0,"disabled"]},null),(e()(),r["\u0275eld"](14,0,null,null,8,"div",[["cdkMonitorSubtreeFocus",""],["class","mat-calendar-content"],["tabindex","-1"]],null,[[null,"keydown"]],function(e,t,o){var r=!0;return"keydown"===t&&(r=!1!==e.component._handleCalendarBodyKeydown(o)&&r),r},null,null)),r["\u0275did"](15,16384,null,0,j,[],{ngSwitch:[0,"ngSwitch"]},null),r["\u0275did"](16,147456,null,0,Gt,[r.ElementRef,Ft],null,null),(e()(),r["\u0275and"](16777216,null,null,1,null,Ol)),r["\u0275did"](18,278528,null,0,q,[r.ViewContainerRef,r.TemplateRef,j],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),r["\u0275and"](16777216,null,null,1,null,Il)),r["\u0275did"](20,278528,null,0,q,[r.ViewContainerRef,r.TemplateRef,j],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),r["\u0275and"](16777216,null,null,1,null,Al)),r["\u0275did"](22,278528,null,0,q,[r.ViewContainerRef,r.TemplateRef,j],{ngSwitchCase:[0,"ngSwitchCase"]},null)],function(e,t){var o=t.component;e(t,11,0,!o._previousEnabled()),e(t,13,0,!o._nextEnabled()),e(t,15,0,o._currentView),e(t,18,0,"month"),e(t,20,0,"year"),e(t,22,0,"multi-year")},function(e,t){var o=t.component;e(t,5,0,o._periodButtonLabel,r["\u0275nov"](t,6).disabled||null),e(t,7,0,o._periodButtonText),e(t,8,0,"month"!=o._currentView),e(t,10,0,o._prevButtonLabel,r["\u0275nov"](t,11).disabled||null),e(t,12,0,o._nextButtonLabel,r["\u0275nov"](t,13).disabled||null)})}var Nl=r["\u0275crt"]({encapsulation:2,styles:[".mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.71429%;padding-right:4.71429%}.mat-calendar-body-cell{position:relative;height:0;line-height:0;text-align:center;outline:0;cursor:pointer}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-cell-content{position:absolute;top:5%;left:5%;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}[dir=rtl] .mat-calendar-body-label{text-align:right}"],data:{}});function Fl(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,2,"tr",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),r["\u0275eld"](1,0,null,null,1,"td",[["class","mat-calendar-body-label"]],[[1,"colspan",0],[4,"paddingTop","%"],[4,"paddingBottom","%"]],null,null,null,null)),(e()(),r["\u0275ted"](2,null,["",""]))],null,function(e,t){var o=t.component;e(t,1,0,o.numCols,50*o.cellAspectRatio/o.numCols,50*o.cellAspectRatio/o.numCols),e(t,2,0,o.label)})}function Gl(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"td",[["aria-hidden","true"],["class","mat-calendar-body-label"]],[[1,"colspan",0],[4,"paddingTop","%"],[4,"paddingBottom","%"]],null,null,null,null)),(e()(),r["\u0275ted"](1,null,["",""]))],null,function(e,t){var o=t.component;e(t,0,0,o._firstRowOffset,50*o.cellAspectRatio/o.numCols,50*o.cellAspectRatio/o.numCols),e(t,1,0,o._firstRowOffset>=o.labelMinRequiredCells?o.label:"")})}function kl(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,2,"td",[["class","mat-calendar-body-cell"],["role","gridcell"]],[[8,"tabIndex",0],[2,"mat-calendar-body-disabled",null],[2,"mat-calendar-body-active",null],[1,"aria-label",0],[1,"aria-disabled",0],[4,"width","%"],[4,"paddingTop","%"],[4,"paddingBottom","%"]],[[null,"click"]],function(e,t,o){var r=!0;return"click"===t&&(r=!1!==e.component._cellClicked(e.context.$implicit)&&r),r},null,null)),(e()(),r["\u0275eld"](1,0,null,null,1,"div",[["class","mat-calendar-body-cell-content"]],[[2,"mat-calendar-body-selected",null],[2,"mat-calendar-body-today",null]],null,null,null,null)),(e()(),r["\u0275ted"](2,null,["",""]))],null,function(e,t){var o=t.component;e(t,0,0,o._isActiveCell(t.parent.context.index,t.context.index)?0:-1,!t.context.$implicit.enabled,o._isActiveCell(t.parent.context.index,t.context.index),t.context.$implicit.ariaLabel,!t.context.$implicit.enabled||null,100/o.numCols,50*o.cellAspectRatio/o.numCols,50*o.cellAspectRatio/o.numCols),e(t,1,0,o.selectedValue===t.context.$implicit.value,o.todayValue===t.context.$implicit.value),e(t,2,0,t.context.$implicit.displayValue)})}function jl(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,4,"tr",[["role","row"]],null,null,null,null,null)),(e()(),r["\u0275and"](16777216,null,null,1,null,Gl)),r["\u0275did"](2,16384,null,0,F,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275and"](16777216,null,null,1,null,kl)),r["\u0275did"](4,802816,null,0,D,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,0===t.context.index&&t.component._firstRowOffset),e(t,4,0,t.context.$implicit)},null)}function ql(e){return r["\u0275vid"](2,[(e()(),r["\u0275and"](16777216,null,null,1,null,Fl)),r["\u0275did"](1,16384,null,0,F,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275and"](16777216,null,null,1,null,jl)),r["\u0275did"](3,802816,null,0,D,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,t){var o=t.component;e(t,1,0,o._firstRowOffset<o.labelMinRequiredCells),e(t,3,0,o.rows)},null)}var Vl=r["\u0275crt"]({encapsulation:2,styles:[".mat-datepicker-content{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);display:block;border-radius:2px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content-touch{box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12);display:block;max-height:80vh;overflow:auto;margin:-24px}.mat-datepicker-content-touch .mat-calendar{min-width:250px;min-height:312px;max-width:750px;max-height:788px}@media all and (orientation:landscape){.mat-datepicker-content-touch .mat-calendar{width:64vh;height:80vh}}@media all and (orientation:portrait){.mat-datepicker-content-touch .mat-calendar{width:80vw;height:100vw}}"],data:{}});function Ul(e){return r["\u0275vid"](2,[r["\u0275qud"](402653184,1,{_calendar:0}),(e()(),r["\u0275eld"](1,0,null,null,3,"mat-calendar",[["cdkTrapFocus",""],["class","mat-calendar"]],[[8,"id",0]],[[null,"selectedChange"],[null,"_userSelection"]],function(e,t,o){var r=!0,n=e.component;return"selectedChange"===t&&(r=!1!==n.datepicker._select(o)&&r),"_userSelection"===t&&(r=!1!==n.datepicker.close()&&r),r},Dl,Ll)),r["\u0275did"](2,278528,null,0,I,[r.IterableDiffers,r.KeyValueDiffers,r.ElementRef,r.Renderer2],{ngClass:[0,"ngClass"]},null),r["\u0275did"](3,1196032,null,0,Ct,[r.ElementRef,Tt,X],{enabled:[0,"enabled"]},null),r["\u0275did"](4,1753088,[[1,4]],0,vl,[r.ElementRef,gl,r.NgZone,[2,Pr],[2,br],r.ChangeDetectorRef,[2,Me]],{startAt:[0,"startAt"],startView:[1,"startView"],selected:[2,"selected"],minDate:[3,"minDate"],maxDate:[4,"maxDate"],dateFilter:[5,"dateFilter"]},{selectedChange:"selectedChange",_userSelection:"_userSelection"})],function(e,t){var o=t.component;e(t,2,0,o.datepicker.panelClass),e(t,3,0,""),e(t,4,0,o.datepicker.startAt,o.datepicker.startView,o.datepicker._selected,o.datepicker._minDate,o.datepicker._maxDate,o.datepicker._dateFilter)},function(e,t){e(t,1,0,t.component.datepicker.id)})}var Bl=r["\u0275ccf"]("mat-datepicker-content",El,function(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"mat-datepicker-content",[["class","mat-datepicker-content"]],[[2,"mat-datepicker-content-touch",null]],null,null,Ul,Vl)),r["\u0275did"](1,1097728,null,0,El,[],null,null)],null,function(e,t){e(t,0,0,r["\u0275nov"](t,1).datepicker.touchUi)})},{},{},[]),Wl=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Yl(e){return r["\u0275vid"](2,[],null,null)}var Kl=r["\u0275crt"]({encapsulation:2,styles:[".mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}"],data:{}});function Xl(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,2,":svg:svg",[["class","mat-datepicker-toggle-default-icon"],["fill","currentColor"],["focusable","false"],["height","24px"],["viewBox","0 0 24 24"],["width","24px"]],null,null,null,null,null)),(e()(),r["\u0275eld"](1,0,null,null,0,":svg:path",[["d","M0 0h24v24H0z"],["fill","none"]],null,null,null,null,null)),(e()(),r["\u0275eld"](2,0,null,null,0,":svg:path",[["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],null,null,null,null,null))],null,null)}function Zl(e){return r["\u0275vid"](2,[(e()(),r["\u0275eld"](0,0,null,null,4,"button",[["mat-icon-button",""],["type","button"]],[[1,"aria-label",0],[8,"disabled",0]],[[null,"click"]],function(e,t,o){var r=!0;return"click"===t&&(r=!1!==e.component._open(o)&&r),r},Ml,wl)),r["\u0275did"](1,180224,null,0,Vn,[r.ElementRef,H,Ft],{disabled:[0,"disabled"]},null),(e()(),r["\u0275and"](16777216,null,0,1,null,Xl)),r["\u0275did"](3,16384,null,0,F,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),r["\u0275ncd"](0,0)],function(e,t){var o=t.component;e(t,1,0,o.disabled),e(t,3,0,!o._customIcon)},function(e,t){e(t,0,0,t.component._intl.openCalendarLabel,r["\u0275nov"](t,1).disabled||null)})}var Hl=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function zl(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"th",[],[[1,"aria-label",0]],null,null,null,null)),(e()(),r["\u0275ted"](1,null,["",""]))],null,function(e,t){e(t,0,0,t.context.$implicit.long),e(t,1,0,t.context.$implicit.narrow)})}function Jl(e){return r["\u0275vid"](2,[(e()(),r["\u0275eld"](0,0,null,null,8,"table",[["class","mat-calendar-table"]],null,null,null,null,null)),(e()(),r["\u0275eld"](1,0,null,null,5,"thead",[["class","mat-calendar-table-header"]],null,null,null,null,null)),(e()(),r["\u0275eld"](2,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),r["\u0275and"](16777216,null,null,1,null,zl)),r["\u0275did"](4,802816,null,0,D,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),r["\u0275eld"](5,0,null,null,1,"tr",[],null,null,null,null,null)),(e()(),r["\u0275eld"](6,0,null,null,0,"th",[["aria-hidden","true"],["class","mat-calendar-table-header-divider"],["colspan","7"]],null,null,null,null,null)),(e()(),r["\u0275eld"](7,0,null,null,1,"tbody",[["attr.aria-readonly","true"],["class","mat-calendar-body"],["mat-calendar-body",""],["role","grid"]],null,[[null,"selectedValueChange"]],function(e,t,o){var r=!0;return"selectedValueChange"===t&&(r=!1!==e.component._dateSelected(o)&&r),r},ql,Nl)),r["\u0275did"](8,49152,null,0,hl,[],{label:[0,"label"],rows:[1,"rows"],todayValue:[2,"todayValue"],selectedValue:[3,"selectedValue"],labelMinRequiredCells:[4,"labelMinRequiredCells"],activeCell:[5,"activeCell"]},{selectedValueChange:"selectedValueChange"})],function(e,t){var o=t.component;e(t,4,0,o._weekdays),e(t,8,0,o._monthLabel,o._weeks,o._todayDate,o._selectedDate,3,o._dateAdapter.getDate(o.activeDate)-1)},null)}var Ql=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function $l(e){return r["\u0275vid"](2,[(e()(),r["\u0275eld"](0,0,null,null,5,"table",[["class","mat-calendar-table"]],null,null,null,null,null)),(e()(),r["\u0275eld"](1,0,null,null,2,"thead",[["class","mat-calendar-table-header"]],null,null,null,null,null)),(e()(),r["\u0275eld"](2,0,null,null,1,"tr",[],null,null,null,null,null)),(e()(),r["\u0275eld"](3,0,null,null,0,"th",[["class","mat-calendar-table-header-divider"],["colspan","4"]],null,null,null,null,null)),(e()(),r["\u0275eld"](4,0,null,null,1,"tbody",[["allowDisabledSelection","true"],["attr.aria-readonly","true"],["class","mat-calendar-body"],["mat-calendar-body",""],["role","grid"]],null,[[null,"selectedValueChange"]],function(e,t,o){var r=!0;return"selectedValueChange"===t&&(r=!1!==e.component._monthSelected(o)&&r),r},ql,Nl)),r["\u0275did"](5,49152,null,0,hl,[],{label:[0,"label"],rows:[1,"rows"],todayValue:[2,"todayValue"],selectedValue:[3,"selectedValue"],labelMinRequiredCells:[4,"labelMinRequiredCells"],numCols:[5,"numCols"],allowDisabledSelection:[6,"allowDisabledSelection"],activeCell:[7,"activeCell"],cellAspectRatio:[8,"cellAspectRatio"]},{selectedValueChange:"selectedValueChange"})],function(e,t){var o=t.component;e(t,5,0,o._yearLabel,o._months,o._todayMonth,o._selectedMonth,2,4,"true",o._dateAdapter.getMonth(o.activeDate),4/7)},null)}var ea=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function ta(e){return r["\u0275vid"](2,[(e()(),r["\u0275eld"](0,0,null,null,5,"table",[["class","mat-calendar-table"]],null,null,null,null,null)),(e()(),r["\u0275eld"](1,0,null,null,2,"thead",[["class","mat-calendar-table-header"]],null,null,null,null,null)),(e()(),r["\u0275eld"](2,0,null,null,1,"tr",[],null,null,null,null,null)),(e()(),r["\u0275eld"](3,0,null,null,0,"th",[["class","mat-calendar-table-header-divider"],["colspan","4"]],null,null,null,null,null)),(e()(),r["\u0275eld"](4,0,null,null,1,"tbody",[["allowDisabledSelection","true"],["attr.aria-readonly","true"],["class","mat-calendar-body"],["mat-calendar-body",""],["role","grid"]],null,[[null,"selectedValueChange"]],function(e,t,o){var r=!0;return"selectedValueChange"===t&&(r=!1!==e.component._yearSelected(o)&&r),r},ql,Nl)),r["\u0275did"](5,49152,null,0,hl,[],{rows:[0,"rows"],todayValue:[1,"todayValue"],selectedValue:[2,"selectedValue"],numCols:[3,"numCols"],allowDisabledSelection:[4,"allowDisabledSelection"],activeCell:[5,"activeCell"],cellAspectRatio:[6,"cellAspectRatio"]},{selectedValueChange:"selectedValueChange"})],function(e,t){var o=t.component;e(t,5,0,o._years,o._todayYear,o._selectedYear,4,"true",o._getActiveCell(),4/7)},null)}var oa=o("EF/a"),ra=o("Qnch");function na(e,t){return function(e,t){return Object(ra.a)(e,t,1)}(e,t)(this)}var ia=o("Uw6n"),la=function(){},aa=function(){},sa=function(){function e(e){var t=this;this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?function(){t.headers=new Map,e.split("\n").forEach(function(e){var o=e.indexOf(":");if(o>0){var r=e.slice(0,o),n=r.toLowerCase(),i=e.slice(o+1).trim();t.maybeSetNormalizedName(r,n),t.headers.has(n)?t.headers.get(n).push(i):t.headers.set(n,[i])}})}:function(){t.headers=new Map,Object.keys(e).forEach(function(o){var r=e[o],n=o.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(t.headers.set(n,r),t.maybeSetNormalizedName(o,n))})}:this.headers=new Map}return e.prototype.has=function(e){return this.init(),this.headers.has(e.toLowerCase())},e.prototype.get=function(e){this.init();var t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null},e.prototype.keys=function(){return this.init(),Array.from(this.normalizedNames.values())},e.prototype.getAll=function(e){return this.init(),this.headers.get(e.toLowerCase())||null},e.prototype.append=function(e,t){return this.clone({name:e,value:t,op:"a"})},e.prototype.set=function(e,t){return this.clone({name:e,value:t,op:"s"})},e.prototype.delete=function(e,t){return this.clone({name:e,value:t,op:"d"})},e.prototype.maybeSetNormalizedName=function(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)},e.prototype.init=function(){var t=this;this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(e){return t.applyUpdate(e)}),this.lazyUpdate=null))},e.prototype.copyFrom=function(e){var t=this;e.init(),Array.from(e.headers.keys()).forEach(function(o){t.headers.set(o,e.headers.get(o)),t.normalizedNames.set(o,e.normalizedNames.get(o))})},e.prototype.clone=function(t){var o=new e;return o.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,o.lazyUpdate=(this.lazyUpdate||[]).concat([t]),o},e.prototype.applyUpdate=function(e){var t=e.name.toLowerCase();switch(e.op){case"a":case"s":var o=e.value;if("string"==typeof o&&(o=[o]),0===o.length)return;this.maybeSetNormalizedName(e.name,t);var r=("a"===e.op?this.headers.get(t):void 0)||[];r.push.apply(r,o),this.headers.set(t,r);break;case"d":var n=e.value;if(n){var i=this.headers.get(t);if(!i)return;0===(i=i.filter(function(e){return-1===n.indexOf(e)})).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,i)}else this.headers.delete(t),this.normalizedNames.delete(t)}},e.prototype.forEach=function(e){var t=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(o){return e(t.normalizedNames.get(o),t.headers.get(o))})},e}(),pa=function(){function e(){}return e.prototype.encodeKey=function(e){return ua(e)},e.prototype.encodeValue=function(e){return ua(e)},e.prototype.decodeKey=function(e){return decodeURIComponent(e)},e.prototype.decodeValue=function(e){return decodeURIComponent(e)},e}();function ua(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var ca=function(){function e(e){void 0===e&&(e={});var t,o,r,n=this;if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new pa,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=(t=e.fromString,o=this.encoder,r=new Map,t.length>0&&t.split("&").forEach(function(e){var t=e.indexOf("="),n=-1==t?[o.decodeKey(e),""]:[o.decodeKey(e.slice(0,t)),o.decodeValue(e.slice(t+1))],i=n[0],l=n[1],a=r.get(i)||[];a.push(l),r.set(i,a)}),r)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(function(t){var o=e.fromObject[t];n.map.set(t,Array.isArray(o)?o:[o])})):this.map=null}return e.prototype.has=function(e){return this.init(),this.map.has(e)},e.prototype.get=function(e){this.init();var t=this.map.get(e);return t?t[0]:null},e.prototype.getAll=function(e){return this.init(),this.map.get(e)||null},e.prototype.keys=function(){return this.init(),Array.from(this.map.keys())},e.prototype.append=function(e,t){return this.clone({param:e,value:t,op:"a"})},e.prototype.set=function(e,t){return this.clone({param:e,value:t,op:"s"})},e.prototype.delete=function(e,t){return this.clone({param:e,value:t,op:"d"})},e.prototype.toString=function(){var e=this;return this.init(),this.keys().map(function(t){var o=e.encoder.encodeKey(t);return e.map.get(t).map(function(t){return o+"="+e.encoder.encodeValue(t)}).join("&")}).join("&")},e.prototype.clone=function(t){var o=new e({encoder:this.encoder});return o.cloneFrom=this.cloneFrom||this,o.updates=(this.updates||[]).concat([t]),o},e.prototype.init=function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(t){return e.map.set(t,e.cloneFrom.map.get(t))}),this.updates.forEach(function(t){switch(t.op){case"a":case"s":var o=("a"===t.op?e.map.get(t.param):void 0)||[];o.push(t.value),e.map.set(t.param,o);break;case"d":if(void 0===t.value){e.map.delete(t.param);break}var r=e.map.get(t.param)||[],n=r.indexOf(t.value);-1!==n&&r.splice(n,1),r.length>0?e.map.set(t.param,r):e.map.delete(t.param)}}),this.cloneFrom=null)},e}();function ga(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function da(e){return"undefined"!=typeof Blob&&e instanceof Blob}function ha(e){return"undefined"!=typeof FormData&&e instanceof FormData}var ya=function(){function e(e,t,o,r){var n;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==o?o:null,n=r):n=o,n&&(this.reportProgress=!!n.reportProgress,this.withCredentials=!!n.withCredentials,n.responseType&&(this.responseType=n.responseType),n.headers&&(this.headers=n.headers),n.params&&(this.params=n.params)),this.headers||(this.headers=new sa),this.params){var i=this.params.toString();if(0===i.length)this.urlWithParams=t;else{var l=t.indexOf("?");this.urlWithParams=t+(-1===l?"?":l<t.length-1?"&":"")+i}}else this.params=new ca,this.urlWithParams=t}return e.prototype.serializeBody=function(){return null===this.body?null:ga(this.body)||da(this.body)||ha(this.body)||"string"==typeof this.body?this.body:this.body instanceof ca?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()},e.prototype.detectContentTypeHeader=function(){return null===this.body?null:ha(this.body)?null:da(this.body)?this.body.type||null:ga(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ca?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null},e.prototype.clone=function(t){void 0===t&&(t={});var o=t.method||this.method,r=t.url||this.url,n=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,l=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress,s=t.headers||this.headers,p=t.params||this.params;return void 0!==t.setHeaders&&(s=Object.keys(t.setHeaders).reduce(function(e,o){return e.set(o,t.setHeaders[o])},s)),t.setParams&&(p=Object.keys(t.setParams).reduce(function(e,o){return e.set(o,t.setParams[o])},p)),new e(o,r,i,{params:p,headers:s,reportProgress:a,responseType:n,withCredentials:l})},e}(),fa=function(){var e={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return e[e.Sent]="Sent",e[e.UploadProgress]="UploadProgress",e[e.ResponseHeader]="ResponseHeader",e[e.DownloadProgress]="DownloadProgress",e[e.Response]="Response",e[e.User]="User",e}(),ma=function(){return function(e,t,o){void 0===t&&(t=200),void 0===o&&(o="OK"),this.headers=e.headers||new sa,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||o,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}(),va=function(e){function t(t){void 0===t&&(t={});var o=e.call(this,t)||this;return o.type=fa.ResponseHeader,o}return Object(c.__extends)(t,e),t.prototype.clone=function(e){return void 0===e&&(e={}),new t({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})},t}(ma),_a=function(e){function t(t){void 0===t&&(t={});var o=e.call(this,t)||this;return o.type=fa.Response,o.body=void 0!==t.body?t.body:null,o}return Object(c.__extends)(t,e),t.prototype.clone=function(e){return void 0===e&&(e={}),new t({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})},t}(ma),Sa=function(e){function t(t){var o=e.call(this,t,0,"Unknown Error")||this;return o.name="HttpErrorResponse",o.ok=!1,o.message=o.status>=200&&o.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):"Http failure response for "+(t.url||"(unknown url)")+": "+t.status+" "+t.statusText,o.error=t.error||null,o}return Object(c.__extends)(t,e),t}(ma);function xa(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}var Ea=function(){function e(e){this.handler=e}return e.prototype.request=function(e,t,o){var r,n=this;if(void 0===o&&(o={}),e instanceof ya)r=e;else{var i;i=o.headers instanceof sa?o.headers:new sa(o.headers);var l=void 0;o.params&&(l=o.params instanceof ca?o.params:new ca({fromObject:o.params})),r=new ya(e,t,void 0!==o.body?o.body:null,{headers:i,params:l,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}var a=na.call(re(r),function(e){return n.handler.handle(e)});if(e instanceof ya||"events"===o.observe)return a;var s=ia.a.call(a,function(e){return e instanceof _a});switch(o.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return Xn.a.call(s,function(e){if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body});case"blob":return Xn.a.call(s,function(e){if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body});case"text":return Xn.a.call(s,function(e){if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body});case"json":default:return Xn.a.call(s,function(e){return e.body})}case"response":return s;default:throw new Error("Unreachable: unhandled observe type "+o.observe+"}")}},e.prototype.delete=function(e,t){return void 0===t&&(t={}),this.request("DELETE",e,t)},e.prototype.get=function(e,t){return void 0===t&&(t={}),this.request("GET",e,t)},e.prototype.head=function(e,t){return void 0===t&&(t={}),this.request("HEAD",e,t)},e.prototype.jsonp=function(e,t){return this.request("JSONP",e,{params:(new ca).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})},e.prototype.options=function(e,t){return void 0===t&&(t={}),this.request("OPTIONS",e,t)},e.prototype.patch=function(e,t,o){return void 0===o&&(o={}),this.request("PATCH",e,xa(o,t))},e.prototype.post=function(e,t,o){return void 0===o&&(o={}),this.request("POST",e,xa(o,t))},e.prototype.put=function(e,t,o){return void 0===o&&(o={}),this.request("PUT",e,xa(o,t))},e}(),Pa=function(){function e(e,t){this.next=e,this.interceptor=t}return e.prototype.handle=function(e){return this.interceptor.intercept(e,this.next)},e}(),ba=new r.InjectionToken("HTTP_INTERCEPTORS"),Ta=function(){function e(){}return e.prototype.intercept=function(e,t){return t.handle(e)},e}(),Ca=/^\)\]\}',?\n/,Ra=function(){},wa=function(){function e(){}return e.prototype.build=function(){return new XMLHttpRequest},e}(),Ma=function(){function e(e){this.xhrFactory=e}return e.prototype.handle=function(e){var t=this;if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new te.Observable(function(o){var r=t.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach(function(e,t){return r.setRequestHeader(e,t.join(","))}),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){var n=e.detectContentTypeHeader();null!==n&&r.setRequestHeader("Content-Type",n)}if(e.responseType){var i=e.responseType.toLowerCase();r.responseType="json"!==i?i:"text"}var l=e.serializeBody(),a=null,s=function(){if(null!==a)return a;var t=1223===r.status?204:r.status,o=r.statusText||"OK",n=new sa(r.getAllResponseHeaders()),i=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(r)||e.url;return a=new va({headers:n,status:t,statusText:o,url:i})},p=function(){var t=s(),n=t.headers,i=t.status,l=t.statusText,a=t.url,p=null;204!==i&&(p="undefined"==typeof r.response?r.responseText:r.response),0===i&&(i=p?200:0);var u=i>=200&&i<300;if("json"===e.responseType&&"string"==typeof p){var c=p;p=p.replace(Ca,"");try{p=""!==p?JSON.parse(p):null}catch(e){p=c,u&&(u=!1,p={error:e,text:p})}}u?(o.next(new _a({body:p,headers:n,status:i,statusText:l,url:a||void 0})),o.complete()):o.error(new Sa({error:p,headers:n,status:i,statusText:l,url:a||void 0}))},u=function(e){var t=new Sa({error:e,status:r.status||0,statusText:r.statusText||"Unknown Error"});o.error(t)},c=!1,g=function(t){c||(o.next(s()),c=!0);var n={type:fa.DownloadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),"text"===e.responseType&&r.responseText&&(n.partialText=r.responseText),o.next(n)},d=function(e){var t={type:fa.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),o.next(t)};return r.addEventListener("load",p),r.addEventListener("error",u),e.reportProgress&&(r.addEventListener("progress",g),null!==l&&r.upload&&r.upload.addEventListener("progress",d)),r.send(l),o.next({type:fa.Sent}),function(){r.removeEventListener("error",u),r.removeEventListener("load",p),e.reportProgress&&(r.removeEventListener("progress",g),null!==l&&r.upload&&r.upload.removeEventListener("progress",d)),r.abort()}})},e}(),La=new r.InjectionToken("XSRF_COOKIE_NAME"),Oa=new r.InjectionToken("XSRF_HEADER_NAME"),Ia=function(){},Aa=function(){function e(e,t,o){this.doc=e,this.platform=t,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return e.prototype.getToken=function(){if("server"===this.platform)return null;var e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=M(e,this.cookieName),this.lastCookieString=e),this.lastToken},e}(),Da=function(){function e(e,t){this.tokenService=e,this.headerName=t}return e.prototype.intercept=function(e,t){var o=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||o.startsWith("http://")||o.startsWith("https://"))return t.handle(e);var r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)},e}(),Na=function(){function e(e,t){this.backend=e,this.injector=t,this.chain=null}return e.prototype.handle=function(e){if(null===this.chain){var t=this.injector.get(ba,[]);this.chain=t.reduceRight(function(e,t){return new Pa(e,t)},this.backend)}return this.chain.handle(e)},e}(),Fa=function(){function e(){}return e.disable=function(){return{ngModule:e,providers:[{provide:Da,useClass:Ta}]}},e.withOptions=function(t){return void 0===t&&(t={}),{ngModule:e,providers:[t.cookieName?{provide:La,useValue:t.cookieName}:[],t.headerName?{provide:Oa,useValue:t.headerName}:[]]}},e}(),Ga=function(){},ka=function(){function e(e){this.http=e,this.accessToken="pk.eyJ1IjoiYnJhbWphbnNzZW4iLCJhIjoiY2o4dnlpdGt5MTZrbTMzcnB2amJxcmRzdyJ9.WQfT2IF5Ij15-jTxbgMWRw",this.baseUrl="https://api.mapbox.com"}return e.prototype.reverseGeocode=function(e,t){return console.log("REVERSE GEOCODE"),this.http.get(this.baseUrl+"/geocoding/v5/mapbox.places/"+e+","+t+".json?access_token="+this.accessToken).map(function(e){return e})},e.prototype.search=function(e,t){void 0===t&&(t="en");var o="https://api.mapbox.com/geocoding/v5/mapbox.places/"+e+".json";return this.http.get(o+="?autocomplete=true&language="+t+"&types=place,address&access_token="+this.accessToken)},e}(),ja=function(){function e(){}return e.prototype.formatArea=function(e){var t=e.getArea();return t>1e4?Math.round(t/1e6*100)/100+" km<sup>2</sup>":Math.round(100*t)/100+" m<sup>2</sup>"},e.prototype.formatCircleArea=function(e){var t=e.getRadius(),o=Math.PI*Math.pow(t,2);return o>1e4?Math.round(o/1e6*100)/100+" km<sup>2</sup>":Math.round(100*o)/100+" m<sup>2</sup>"},e.prototype.formatLength=function(e){var t=i.Sphere.getLength(e);return t>100?Math.round(t/1e3*100)/100+" km":Math.round(100*t)/100+" m"},e.prototype.formatRadius=function(e){var t=e.getRadius();return t>100?Math.round(t/1e3*100)/100+" km":Math.round(100*t)/100+" m"},e}(),qa=function(){function e(e,t,o){this.ngRedux=e,this.mapboxService=t,this.utilService=o}return e.prototype.ngOnInit=function(){this.zoom=this.zoom||4,this.initMap()},e.prototype.ngOnChanges=function(e){var t=[];e.layers&&!e.layers.isFirstChange()&&(e.layers.currentValue.forEach(function(o){e.layers.previousValue.find(function(e){return e.url===o.url})||t.push(o)}),this.addLayers(t)),e.interaction&&!e.interaction.isFirstChange()&&(this.removeInteraction(e.interaction.previousValue),this.addInteraction(e.interaction.currentValue)),e.viewExtent&&!e.viewExtent.isFirstChange()&&this.zoomToExtent(this.viewExtent),e.features&&!e.features.isFirstChange()&&(this.vectorLayer.getSource().clear(),this.vectorLayer.getSource().addFeatures(this.features)),e.activeFeature&&!e.activeFeature.isFirstChange()&&e.activeFeature.previousValue!==e.activeFeature.currentValue&&this.zoomToExtent(this.activeFeature.getGeometry().getExtent())},e.prototype.initMap=function(){var e=i.proj.transformExtent(this.extent,"EPSG:4326","EPSG:3857"),t=i.extent.getCenter(e);this.vectorLayer=new i.layer.Vector({source:new i.source.Vector({features:this.features,wrapX:!1}),zIndex:99}),this.map=new i.Map({layers:[this.vectorLayer],controls:i.control.defaults({attribution:!1,rotate:!1}).extend([new i.control.ZoomToExtent({extent:e}),new i.control.ScaleLine]),view:new i.View({projection:"EPSG:3857",center:t,zoom:this.zoom}),target:"map"});var o=this.ngRedux;this.map.on("movestart",function(e){o.dispatch({type:"RESET_PROGRESS",body:{}})}),this.setBackgroundLayers(),this.initInteractions()},e.prototype.setBackgroundLayers=function(){var e=this;this.backgroundLayers.forEach(function(t){e.map.addLayer(t.layer)})},e.prototype.initInteractions=function(){var e=this;this.interactions=[],this.interactions.push({type:"bbox",interaction:new i.interaction.Draw({source:this.vectorLayer.getSource(),type:"Circle",geometryFunction:i.interaction.Draw.createBox()})}),this.interactions.push({type:"polygon",interaction:new i.interaction.Draw({source:this.vectorLayer.getSource(),type:"Polygon"})}),this.interactions.push({type:"point",interaction:new i.interaction.Draw({source:this.vectorLayer.getSource(),type:"Point"})}),this.interactions.push({type:"circle",interaction:new i.interaction.Draw({source:this.vectorLayer.getSource(),type:"Circle"})}),this.createMeasureTooltip(),this.interactions.forEach(function(t){t.interaction.on("drawend",function(t){e.drawEnd(t.feature)}),t.interaction.on("drawstart",function(t){t.feature.getGeometry().on("change",function(e){var t,o,r=e.target;r instanceof i.geom.Polygon?(t="<table><tr><th>Area:</th><td>"+this.utilService.formatArea(r)+"</td></tr><tr><th>Perimeter:</th><td>"+this.utilService.formatLength(new i.geom.LineString(r.getLinearRing(0).getCoordinates()))+"</td></tr></table>",o=r.getInteriorPoint().getCoordinates()):r instanceof i.geom.LineString?(t="<table><tr><th>Distance:</th><td>"+this.utilService.formatLength(r)+"</td></tr></table>",o=r.getLastCoordinate()):r instanceof i.geom.Circle&&(t="<table><tr><th>Radius:</th><td>"+this.utilService.formatRadius(r)+"</td></tr><tr><th>Area:</th><td>"+this.utilService.formatCircleArea(r)+"</td></tr></table>",o=r.getCenter()),this.measureTooltipElement.innerHTML=t,this.measureTooltip.setPosition(o)},e)},e)})},e.prototype.createMeasureTooltip=function(){this.measureTooltipElement&&this.measureTooltipElement.parentNode.removeChild(this.measureTooltipElement),this.measureTooltipElement=document.createElement("div"),this.measureTooltipElement.className="tooltip tooltip-measure",this.measureTooltip=new i.Overlay({element:this.measureTooltipElement,offset:[0,-15],positioning:"bottom-center",stopEvent:!1}),this.map.addOverlay(this.measureTooltip)},e.prototype.drawEnd=function(e){var t=this;if("point"==this.interaction){var o=e.getGeometry().getCoordinates();o=i.proj.transform(o,"EPSG:3857","EPSG:4326"),this.mapboxService.reverseGeocode(o[0],o[1]).subscribe(function(o){var r={};o.features.forEach(function(e){r[t.capitalizeFirstLetter(e.place_type[0])]=e.place_name}),e.setProperties({Address:r})})}this.ngRedux.dispatch({type:"ADD_FEATURE",body:{feature:e,type:this.interaction}})},e.prototype.stopActionKey=function(e){27===e.keyCode&&this.stopDrawing()},e.prototype.stopDrawing=function(){this.ngRedux.dispatch({type:"STOP_ACTION",body:{}})},e.prototype.capitalizeFirstLetter=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},e.prototype.removeInteraction=function(e){if(null!==e&&""!==e){var t=this.interactions.find(function(t){return t.type===e});t&&this.map.removeInteraction(t.interaction)}},e.prototype.addInteraction=function(e){if(null!==e&&""!==e){var t=this.interactions.find(function(t){return t.type===e});t&&this.map.addInteraction(t.interaction)}},e.prototype.zoomToExtent=function(e){null!=e&&this.map.getView().fit(e,{size:this.map.getSize(),maxZoom:16})},e.prototype.addLayers=function(e){var t=this;e.forEach(function(e){e.layers.forEach(function(e){t.map.addLayer(e.layer)})})},e}(),Va=r["\u0275crt"]({encapsulation:0,styles:[["#map[_ngcontent-%COMP%]{width:100%;height:100%}"]],data:{}});function Ua(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"div",[["id","map"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n"])),(e()(),r["\u0275ted"](-1,null,["\n"]))],null,null)}var Ba=r["\u0275crt"]({encapsulation:2,styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none}.mat-form-field-prefix .mat-icon,.mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-prefix .mat-icon-button,.mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform:perspective(100px);-ms-transform:none;transform-origin:0 0;transition:transform .4s cubic-bezier(.25,.8,.25,1),color .4s cubic-bezier(.25,.8,.25,1),width .4s cubic-bezier(.25,.8,.25,1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-empty.mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-placeholder-wrapper .mat-form-field-placeholder,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-placeholder-wrapper .mat-form-field-placeholder{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-placeholder-wrapper .mat-form-field-placeholder,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-placeholder-wrapper .mat-form-field-placeholder{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;height:1px;width:100%}.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.mat-form-field-underline .mat-form-field-ripple{position:absolute;top:0;left:0;width:100%;height:2px;transform-origin:50%;transform:scaleX(.5);visibility:hidden;opacity:0;transition:background-color .3s cubic-bezier(.55,0,.55,.2)}.mat-form-field-invalid:not(.mat-focused) .mat-form-field-underline .mat-form-field-ripple{height:1px}.mat-focused .mat-form-field-underline .mat-form-field-ripple,.mat-form-field-invalid .mat-form-field-underline .mat-form-field-ripple{visibility:visible;opacity:1;transform:scaleX(1);transition:transform .3s cubic-bezier(.25,.8,.25,1),opacity .1s cubic-bezier(.25,.8,.25,1),background-color .3s cubic-bezier(.25,.8,.25,1)}.mat-form-field-subscript-wrapper{position:absolute;width:100%;overflow:hidden}.mat-form-field-label-wrapper .mat-icon,.mat-form-field-subscript-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}",".mat-input-element{font:inherit;background:0 0;color:currentColor;border:none;outline:0;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element[type=date]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=month]::after,.mat-input-element[type=time]::after,.mat-input-element[type=week]::after{content:' ';white-space:pre;width:1px}.mat-input-element::placeholder{transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::-moz-placeholder{transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::-webkit-input-placeholder{transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element:-ms-input-placeholder{transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent!important;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent!important;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent!important;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent!important;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-autosize{resize:none}"],data:{animation:[{type:7,name:"transitionMessages",definitions:[{type:0,name:"enter",styles:{type:6,styles:{opacity:1,transform:"translateY(0%)"},offset:null},options:void 0},{type:1,expr:"void => enter",animation:[{type:6,styles:{opacity:0,transform:"translateY(-100%)"},offset:null},{type:4,styles:null,timings:"300ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}]}});function Wa(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"div",[["class","mat-input-prefix mat-form-field-prefix"]],null,null,null,null,null)),r["\u0275ncd"](null,0)],null,null)}function Ya(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),r["\u0275ncd"](null,2),(e()(),r["\u0275ted"](2,null,["",""]))],null,function(e,t){e(t,2,0,t.component._control.placeholder)})}function Ka(e){return r["\u0275vid"](0,[r["\u0275ncd"](null,3),(e()(),r["\u0275and"](0,null,null,0))],null,null)}function Xa(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"span",[["aria-hidden","true"],["class","mat-placeholder-required mat-form-field-required-marker"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\xa0*"]))],null,null)}function Za(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,[[4,0],["label",1]],null,7,"label",[["class","mat-form-field-label mat-input-placeholder mat-form-field-placeholder"]],[[1,"for",0],[1,"aria-owns",0],[2,"mat-empty",null],[2,"mat-form-field-empty",null],[2,"mat-accent",null],[2,"mat-warn",null]],null,null,null,null)),r["\u0275did"](1,16384,null,0,j,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),r["\u0275and"](16777216,null,null,1,null,Ya)),r["\u0275did"](3,278528,null,0,q,[r.ViewContainerRef,r.TemplateRef,j],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),r["\u0275and"](16777216,null,null,1,null,Ka)),r["\u0275did"](5,278528,null,0,q,[r.ViewContainerRef,r.TemplateRef,j],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),r["\u0275and"](16777216,null,null,1,null,Xa)),r["\u0275did"](7,16384,null,0,F,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var o=t.component;e(t,1,0,o._hasLabel()),e(t,3,0,!1),e(t,5,0,!0),e(t,7,0,!o.hideRequiredMarker&&o._control.required&&!o._control.disabled)},function(e,t){var o=t.component;e(t,0,0,o._control.id,o._control.id,o._control.empty&&!o._shouldAlwaysFloat,o._control.empty&&!o._shouldAlwaysFloat,"accent"==o.color,"warn"==o.color)})}function Ha(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"div",[["class","mat-input-suffix mat-form-field-suffix"]],null,null,null,null,null)),r["\u0275ncd"](null,4)],null,null)}function za(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"div",[],[[24,"@transitionMessages",0]],null,null,null,null)),r["\u0275ncd"](null,5)],null,function(e,t){e(t,0,0,t.component._subscriptAnimationState)})}function Ja(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"div",[["class","mat-hint"]],[[8,"id",0]],null,null,null,null)),(e()(),r["\u0275ted"](1,null,["",""]))],null,function(e,t){var o=t.component;e(t,0,0,o._hintLabelId),e(t,1,0,o.hintLabel)})}function Qa(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,5,"div",[["class","mat-input-hint-wrapper mat-form-field-hint-wrapper"]],[[24,"@transitionMessages",0]],null,null,null,null)),(e()(),r["\u0275and"](16777216,null,null,1,null,Ja)),r["\u0275did"](2,16384,null,0,F,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),r["\u0275ncd"](null,6),(e()(),r["\u0275eld"](4,0,null,null,0,"div",[["class","mat-input-hint-spacer mat-form-field-hint-spacer"]],null,null,null,null,null)),r["\u0275ncd"](null,7)],function(e,t){e(t,2,0,t.component.hintLabel)},function(e,t){e(t,0,0,t.component._subscriptAnimationState)})}function $a(e){return r["\u0275vid"](2,[r["\u0275qud"](402653184,1,{underlineRef:0}),r["\u0275qud"](402653184,2,{_connectionContainerRef:0}),r["\u0275qud"](402653184,3,{_inputContainerRef:0}),r["\u0275qud"](671088640,4,{_label:0}),(e()(),r["\u0275eld"](4,0,null,null,18,"div",[["class","mat-input-wrapper mat-form-field-wrapper"]],null,null,null,null,null)),(e()(),r["\u0275eld"](5,0,[[2,0],["connectionContainer",1]],null,9,"div",[["class","mat-input-flex mat-form-field-flex"]],null,[[null,"click"]],function(e,t,o){var r=!0,n=e.component;return"click"===t&&(r=!1!==(n._control.onContainerClick&&n._control.onContainerClick(o))&&r),r},null,null)),(e()(),r["\u0275and"](16777216,null,null,1,null,Wa)),r["\u0275did"](7,16384,null,0,F,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275eld"](8,0,[[3,0],["inputContainer",1]],null,4,"div",[["class","mat-input-infix mat-form-field-infix"]],null,null,null,null,null)),r["\u0275ncd"](null,1),(e()(),r["\u0275eld"](10,0,null,null,2,"span",[["class","mat-form-field-label-wrapper mat-input-placeholder-wrapper mat-form-field-placeholder-wrapper"]],null,null,null,null,null)),(e()(),r["\u0275and"](16777216,null,null,1,null,Za)),r["\u0275did"](12,16384,null,0,F,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275and"](16777216,null,null,1,null,Ha)),r["\u0275did"](14,16384,null,0,F,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275eld"](15,0,[[1,0],["underline",1]],null,1,"div",[["class","mat-input-underline mat-form-field-underline"]],null,null,null,null,null)),(e()(),r["\u0275eld"](16,0,null,null,0,"span",[["class","mat-input-ripple mat-form-field-ripple"]],[[2,"mat-accent",null],[2,"mat-warn",null]],null,null,null,null)),(e()(),r["\u0275eld"](17,0,null,null,5,"div",[["class","mat-input-subscript-wrapper mat-form-field-subscript-wrapper"]],null,null,null,null,null)),r["\u0275did"](18,16384,null,0,j,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),r["\u0275and"](16777216,null,null,1,null,za)),r["\u0275did"](20,278528,null,0,q,[r.ViewContainerRef,r.TemplateRef,j],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),r["\u0275and"](16777216,null,null,1,null,Qa)),r["\u0275did"](22,278528,null,0,q,[r.ViewContainerRef,r.TemplateRef,j],{ngSwitchCase:[0,"ngSwitchCase"]},null)],function(e,t){var o=t.component;e(t,7,0,o._prefixChildren.length),e(t,12,0,o._hasFloatingLabel()),e(t,14,0,o._suffixChildren.length),e(t,18,0,o._getDisplayedMessages()),e(t,20,0,"error"),e(t,22,0,"hint")},function(e,t){var o=t.component;e(t,16,0,"accent"==o.color,"warn"==o.color)})}var es=function(){function e(e){var t=this;this.ngRedux=e,this.dateFilter=function(e){var o=e.getMonth()+1,r=e.getDate(),n=e.getFullYear()+"-"+(o<10?"0":"")+o+"-"+(r<10?"0":"")+r;return t.dateranges.indexOf(n)>=0}}return e.prototype.ngOnInit=function(){this.dateidx=this.dateranges.length-1,this.date=this.dateranges[this.dateidx]},e.prototype.ngOnChanges=function(e){e.dateranges&&!e.dateranges.isFirstChange()&&this.selectNearestDate()},e.prototype.selectDate=function(e){var t=new Date(e),o=new Date(t),r=o.getMonth()+1,n=o.getDate(),i=o.getFullYear()+"-"+(r<10?"0":"")+r+"-"+(n<10?"0":"")+n;this.dateidx=this.dateranges.indexOf(i),this.date=this.dateranges[this.dateidx],this.ngRedux.dispatch({type:"SELECT_DATE",body:{date:this.date}})},e.prototype.selectNextDay=function(){this.dateidx=++this.dateidx==this.dateranges.length?0:this.dateidx,this.date=this.dateranges[this.dateidx],this.ngRedux.dispatch({type:"SELECT_DATE",body:{date:this.date}})},e.prototype.selectPreviousDay=function(){this.dateidx=--this.dateidx<0?this.dateranges.length-1:this.dateidx,this.date=this.dateranges[this.dateidx],this.ngRedux.dispatch({type:"SELECT_DATE",body:{date:this.date}})},e.prototype.selectNearestDate=function(){var e=this,t=this.dateranges.indexOf(this.date),o=999999999,r=!1;if(t>=0)this.dateidx=t,this.date=this.dateranges[this.dateidx];else{var n=new Date(this.date);this.dateranges.forEach(function(t){var i=new Date(t);if(i>=n){var l=n.getTime()-i.getTime();l<o&&(o=l,r=!0,e.date=t)}}),r||(this.date=this.dateranges[this.dateranges.length-1]),this.dateidx=this.dateranges.indexOf(this.date)}this.ngRedux.dispatch({type:"SELECT_DATE",body:{date:this.date}})},e}(),ts=r["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.action-left[_ngcontent-%COMP%]{margin-right:2.5rem;cursor:pointer}.action-right[_ngcontent-%COMP%]{margin-left:2.5rem;cursor:pointer}"]],data:{}});function os(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,3,"div",[["class","action-left"]],null,[[null,"click"]],function(e,t,o){var r=!0;return"click"===t&&(r=!1!==e.component.selectPreviousDay()&&r),r},null,null)),(e()(),r["\u0275ted"](-1,null,["\n  "])),(e()(),r["\u0275eld"](2,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-chevron-left fa-2x"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n"])),(e()(),r["\u0275ted"](-1,null,["\n"])),(e()(),r["\u0275eld"](5,0,null,null,28,"div",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n  "])),(e()(),r["\u0275eld"](7,0,null,null,25,"mat-form-field",[["class","mat-input-container mat-form-field"]],[[2,"mat-input-invalid",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-focused",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,$a,Ba)),r["\u0275did"](8,7389184,null,7,nl,[r.ElementRef,r.ChangeDetectorRef,[2,Wr]],null,null),r["\u0275qud"](335544320,1,{_control:0}),r["\u0275qud"](335544320,2,{_placeholderChild:0}),r["\u0275qud"](335544320,3,{_labelChild:0}),r["\u0275qud"](603979776,4,{_errorChildren:1}),r["\u0275qud"](603979776,5,{_hintChildren:1}),r["\u0275qud"](603979776,6,{_prefixChildren:1}),r["\u0275qud"](603979776,7,{_suffixChildren:1}),(e()(),r["\u0275ted"](-1,1,["\n    "])),(e()(),r["\u0275eld"](17,0,null,1,6,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["placeholder","Choose a date"]],[[1,"aria-haspopup",0],[1,"aria-owns",0],[1,"min",0],[1,"max",0],[8,"disabled",0],[2,"mat-input-server",null],[1,"id",0],[8,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"dateChange"],[null,"input"],[null,"change"],[null,"blur"],[null,"keydown"],[null,"focus"]],function(e,t,o){var n=!0,i=e.component;return"input"===t&&(n=!1!==r["\u0275nov"](e,20)._onInput(o.target.value)&&n),"change"===t&&(n=!1!==r["\u0275nov"](e,20)._onChange()&&n),"blur"===t&&(n=!1!==r["\u0275nov"](e,20)._onTouched()&&n),"keydown"===t&&(n=!1!==r["\u0275nov"](e,20)._onKeydown(o)&&n),"blur"===t&&(n=!1!==r["\u0275nov"](e,22)._focusChanged(!1)&&n),"focus"===t&&(n=!1!==r["\u0275nov"](e,22)._focusChanged(!0)&&n),"input"===t&&(n=!1!==r["\u0275nov"](e,22)._onInput()&&n),"dateChange"===t&&(n=!1!==i.selectDate(o.target.value)&&n),n},null,null)),r["\u0275prd"](5120,null,ri,function(e){return[e]},[Tl]),r["\u0275prd"](5120,null,Jn,function(e){return[e]},[Tl]),r["\u0275did"](20,1196032,null,0,Tl,[r.ElementRef,[2,Pr],[2,br],[2,nl]],{matDatepicker:[0,"matDatepicker"],matDatepickerFilter:[1,"matDatepickerFilter"],value:[2,"value"]},{dateChange:"dateChange"}),r["\u0275prd"](2048,null,ll,null,[Tl]),r["\u0275did"](22,933888,null,0,pl,[r.ElementRef,H,[8,null],[2,Ui],[2,Ji],Nr,[2,ll]],{placeholder:[0,"placeholder"],value:[1,"value"]},null),r["\u0275prd"](2048,[[1,4]],el,null,[pl]),(e()(),r["\u0275ted"](-1,1,["\n    "])),(e()(),r["\u0275eld"](25,0,null,4,3,"mat-datepicker-toggle",[["class","mat-datepicker-toggle"],["matSuffix",""]],[[2,"mat-datepicker-toggle-active",null]],null,null,Zl,Kl)),r["\u0275did"](26,1753088,null,1,Cl,[gl,r.ChangeDetectorRef],{datepicker:[0,"datepicker"]},null),r["\u0275qud"](335544320,8,{_customIcon:0}),r["\u0275did"](28,16384,[[7,4]],0,ol,[],null,null),(e()(),r["\u0275ted"](-1,1,["\n    "])),(e()(),r["\u0275eld"](30,16777216,null,1,1,"mat-datepicker",[],null,null,null,Yl,Wl)),r["\u0275did"](31,180224,[["picker",4]],0,Pl,[In,dt,r.NgZone,r.ViewContainerRef,Sl,[2,Pr],[2,Me],[2,X]],null,null),(e()(),r["\u0275ted"](-1,1,["\n  "])),(e()(),r["\u0275ted"](-1,null,["\n"])),(e()(),r["\u0275ted"](-1,null,["\n"])),(e()(),r["\u0275eld"](35,0,null,null,3,"div",[["class","action-right"]],null,[[null,"click"]],function(e,t,o){var r=!0;return"click"===t&&(r=!1!==e.component.selectNextDay()&&r),r},null,null)),(e()(),r["\u0275ted"](-1,null,["\n  "])),(e()(),r["\u0275eld"](37,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-chevron-right fa-2x"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n"])),(e()(),r["\u0275ted"](-1,null,["\n"]))],function(e,t){var o=t.component;e(t,20,0,r["\u0275nov"](t,31),o.dateFilter,o.date),e(t,22,0,"Choose a date",o.date),e(t,26,0,r["\u0275nov"](t,31))},function(e,t){e(t,7,1,[r["\u0275nov"](t,8)._control.errorState,r["\u0275nov"](t,8)._control.errorState,r["\u0275nov"](t,8)._canLabelFloat,r["\u0275nov"](t,8)._shouldLabelFloat(),r["\u0275nov"](t,8)._hideControlPlaceholder(),r["\u0275nov"](t,8)._control.disabled,r["\u0275nov"](t,8)._control.focused,r["\u0275nov"](t,8)._shouldForward("untouched"),r["\u0275nov"](t,8)._shouldForward("touched"),r["\u0275nov"](t,8)._shouldForward("pristine"),r["\u0275nov"](t,8)._shouldForward("dirty"),r["\u0275nov"](t,8)._shouldForward("valid"),r["\u0275nov"](t,8)._shouldForward("invalid"),r["\u0275nov"](t,8)._shouldForward("pending")]),e(t,17,1,[!0,(null==r["\u0275nov"](t,20)._datepicker?null:r["\u0275nov"](t,20)._datepicker.opened)&&r["\u0275nov"](t,20)._datepicker.id||null,r["\u0275nov"](t,20).min?r["\u0275nov"](t,20)._dateAdapter.toIso8601(r["\u0275nov"](t,20).min):null,r["\u0275nov"](t,20).max?r["\u0275nov"](t,20)._dateAdapter.toIso8601(r["\u0275nov"](t,20).max):null,r["\u0275nov"](t,20).disabled,r["\u0275nov"](t,22)._isServer,r["\u0275nov"](t,22).id,r["\u0275nov"](t,22).placeholder,r["\u0275nov"](t,22).disabled,r["\u0275nov"](t,22).required,r["\u0275nov"](t,22).readonly,r["\u0275nov"](t,22)._ariaDescribedby||null,r["\u0275nov"](t,22).errorState,r["\u0275nov"](t,22).required.toString()]),e(t,25,0,r["\u0275nov"](t,26).datepicker&&r["\u0275nov"](t,26).datepicker.opened)})}function rs(e){return void 0!==e&&null!==e}var ns=function(){function e(e){this.name=e}return e.COPY=new e("copy"),e.LINK=new e("link"),e.MOVE=new e("move"),e.NONE=new e("none"),e}(),is=function(){return function(){this.onDragStartClass="dnd-drag-start",this.onDragEnterClass="dnd-drag-enter",this.onDragOverClass="dnd-drag-over",this.onSortableDragClass="dnd-sortable-drag",this.dragEffect=ns.MOVE,this.dropEffect=ns.MOVE,this.dragCursor="move",this.defaultCursor="pointer"}}(),ls=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,l=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(l=(i<3?n(l):i>3?n(t,o,l):n(t,o))||l);return i>3&&l&&Object.defineProperty(t,o,l),l};function as(){return new ss}var ss=function(){this.allowedDropZones=[]};function ps(e){return new us(e)}ss=ls([Object(r.Injectable)()],ss);var us=function(){function e(e){this._config=e}return Object.defineProperty(e.prototype,"elem",{get:function(){return this._elem},enumerable:!0,configurable:!0}),e.prototype.markSortable=function(e){rs(this._elem)&&this._elem.classList.remove(this._config.onSortableDragClass),rs(e)&&(this._elem=e,this._elem.classList.add(this._config.onSortableDragClass))},e}();us=ls([Object(r.Injectable)(),Object(c.__metadata)("design:paramtypes",[is])],us);var cs=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,l=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(l=(i<3?n(l):i>3?n(t,o,l):n(t,o))||l);return i>3&&l&&Object.defineProperty(t,o,l),l},gs=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ds=function(){function e(e,t,o,r){var n=this;this._dragDropService=t,this._config=o,this._cdr=r,this._dragEnabled=!1,this.dropEnabled=!1,this.dropZones=[],this.cloneItem=!1,this._defaultCursor=o.defaultCursor,this._elem=e.nativeElement,this._elem.style.cursor=this._defaultCursor,this._elem.ondragenter=function(e){n._onDragEnter(e)},this._elem.ondragover=function(e){return n._onDragOver(e),null!=e.dataTransfer&&(e.dataTransfer.dropEffect=n._config.dropEffect.name),!1},this._elem.ondragleave=function(e){n._onDragLeave(e)},this._elem.ondrop=function(e){n._onDrop(e)},this._elem.onmousedown=function(e){n._target=e.target},this._elem.ondragstart=function(e){if(!n._dragHandle||n._dragHandle.contains(n._target)){if(n._onDragStart(e),null!=e.dataTransfer){if(e.dataTransfer.setData("text",""),e.dataTransfer.effectAllowed=n.effectAllowed||n._config.dragEffect.name,rs(n.dragImage))if("string"==typeof n.dragImage)e.dataTransfer.setDragImage(function(e){var t=new HTMLImageElement;return t.src=e,t}(n.dragImage));else if("function"==typeof n.dragImage)e.dataTransfer.setDragImage((0,n.dragImage)());else{var t=n.dragImage;e.dataTransfer.setDragImage(t.imageElement,t.x_offset,t.y_offset)}else if(rs(n._config.dragImage)){var o=n._config.dragImage;e.dataTransfer.setDragImage(o.imageElement,o.x_offset,o.y_offset)}else n.cloneItem&&(n._dragHelper=n._elem.cloneNode(!0),n._dragHelper.classList.add("dnd-drag-item"),n._dragHelper.style.position="absolute",n._dragHelper.style.top="0px",n._dragHelper.style.left="-1000px",n._elem.parentElement.appendChild(n._dragHelper),e.dataTransfer.setDragImage(n._dragHelper,e.offsetX,e.offsetY));(n._dragHandle?n._dragHandle:n._elem).style.cursor=n._dragEnabled?n.effectCursor?n.effectCursor:n._config.dragCursor:n._defaultCursor}}else e.preventDefault()},this._elem.ondragend=function(e){n._elem.parentElement&&n._dragHelper&&n._elem.parentElement.removeChild(n._dragHelper),n._onDragEnd(e),(n._dragHandle?n._dragHandle:n._elem).style.cursor=n._defaultCursor}}return Object.defineProperty(e.prototype,"dragEnabled",{get:function(){return this._dragEnabled},set:function(e){this._dragEnabled=!!e,this._elem.draggable=this._dragEnabled},enumerable:!0,configurable:!0}),e.prototype.setDragHandle=function(e){this._dragHandle=e},e.prototype.detectChanges=function(){var e=this;setTimeout(function(){e._cdr&&!e._cdr.destroyed&&e._cdr.detectChanges()},250)},e.prototype._onDragEnter=function(e){this._isDropAllowed(e)&&this._onDragEnterCallback(e)},e.prototype._onDragOver=function(e){this._isDropAllowed(e)&&(e.preventDefault&&e.preventDefault(),this._onDragOverCallback(e))},e.prototype._onDragLeave=function(e){this._isDropAllowed(e)&&this._onDragLeaveCallback(e)},e.prototype._onDrop=function(e){this._isDropAllowed(e)&&(this._preventAndStop(e),this._onDropCallback(e),this.detectChanges())},e.prototype._isDropAllowed=function(e){if((this._dragDropService.isDragged||e.dataTransfer&&e.dataTransfer.files)&&this.dropEnabled){if(this.allowDrop)return this.allowDrop(this._dragDropService.dragData);if(0===this.dropZones.length&&0===this._dragDropService.allowedDropZones.length)return!0;for(var t=0;t<this._dragDropService.allowedDropZones.length;t++)if(-1!==this.dropZones.indexOf(this._dragDropService.allowedDropZones[t]))return!0}return!1},e.prototype._preventAndStop=function(e){e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()},e.prototype._onDragStart=function(e){this._dragEnabled&&(this._dragDropService.allowedDropZones=this.dropZones,this._onDragStartCallback(e))},e.prototype._onDragEnd=function(e){this._dragDropService.allowedDropZones=[],this._onDragEndCallback(e)},e.prototype._onDragEnterCallback=function(e){},e.prototype._onDragOverCallback=function(e){},e.prototype._onDragLeaveCallback=function(e){},e.prototype._onDropCallback=function(e){},e.prototype._onDragStartCallback=function(e){},e.prototype._onDragEndCallback=function(e){},e}();ds=cs([Object(r.Injectable)(),gs("design:paramtypes",[r.ElementRef,ss,is,r.ChangeDetectorRef])],ds);var hs=function(e,t,o,r,n){this._dragDropService=t,this._config=o,this._Component=r,this._cdr=n,this._elem=e.nativeElement,this._Component.setDragHandle(this._elem)},ys=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,l=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(l=(i<3?n(l):i>3?n(t,o,l):n(t,o))||l);return i>3&&l&&Object.defineProperty(t,o,l),l},fs=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ms=function(e){function t(t,o,n,i){var l=e.call(this,t,o,n,i)||this;return l.onDragStart=new r.EventEmitter,l.onDragEnd=new r.EventEmitter,l.onDragSuccessCallback=new r.EventEmitter,l._defaultCursor=l._elem.style.cursor,l.dragEnabled=!0,l}return Object(c.__extends)(t,e),Object.defineProperty(t.prototype,"draggable",{set:function(e){this.dragEnabled=!!e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropzones",{set:function(e){this.dropZones=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"effectallowed",{set:function(e){this.effectAllowed=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"effectcursor",{set:function(e){this.effectCursor=e},enumerable:!0,configurable:!0}),t.prototype._onDragStartCallback=function(e){this._dragDropService.isDragged=!0,this._dragDropService.dragData=this.dragData,this._dragDropService.onDragSuccessCallback=this.onDragSuccessCallback,this._elem.classList.add(this._config.onDragStartClass),this.onDragStart.emit({dragData:this.dragData,mouseEvent:e})},t.prototype._onDragEndCallback=function(e){this._dragDropService.isDragged=!1,this._dragDropService.dragData=null,this._dragDropService.onDragSuccessCallback=null,this._elem.classList.remove(this._config.onDragStartClass),this.onDragEnd.emit({dragData:this.dragData,mouseEvent:e})},t}(ds);ys([Object(r.Input)("dragEnabled"),fs("design:type",Boolean),fs("design:paramtypes",[Boolean])],ms.prototype,"draggable",null),ys([Object(r.Output)(),fs("design:type",r.EventEmitter)],ms.prototype,"onDragStart",void 0),ys([Object(r.Output)(),fs("design:type",r.EventEmitter)],ms.prototype,"onDragEnd",void 0),ys([Object(r.Input)(),fs("design:type",Object)],ms.prototype,"dragData",void 0),ys([Object(r.Output)("onDragSuccess"),fs("design:type",r.EventEmitter)],ms.prototype,"onDragSuccessCallback",void 0),ys([Object(r.Input)("dropZones"),fs("design:type",Array),fs("design:paramtypes",[Array])],ms.prototype,"dropzones",null),ys([Object(r.Input)("effectAllowed"),fs("design:type",String),fs("design:paramtypes",[String])],ms.prototype,"effectallowed",null),ys([Object(r.Input)("effectCursor"),fs("design:type",String),fs("design:paramtypes",[String])],ms.prototype,"effectcursor",null),ys([Object(r.Input)(),fs("design:type",Object)],ms.prototype,"dragImage",void 0),ys([Object(r.Input)(),fs("design:type",Boolean)],ms.prototype,"cloneItem",void 0),ms=ys([Object(r.Directive)({selector:"[dnd-draggable]"}),fs("design:paramtypes",[r.ElementRef,ss,is,r.ChangeDetectorRef])],ms);var vs=function(e){function t(t,o,r,n,i){return e.call(this,t,o,r,n,i)||this}return Object(c.__extends)(t,e),t}(hs);vs=ys([Object(r.Directive)({selector:"[dnd-draggable-handle]"}),fs("design:paramtypes",[r.ElementRef,ss,is,ms,r.ChangeDetectorRef])],vs);var _s=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,l=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(l=(i<3?n(l):i>3?n(t,o,l):n(t,o))||l);return i>3&&l&&Object.defineProperty(t,o,l),l},Ss=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},xs=function(e){function t(t,o,n,i){var l=e.call(this,t,o,n,i)||this;return l.onDropSuccess=new r.EventEmitter,l.onDragEnter=new r.EventEmitter,l.onDragOver=new r.EventEmitter,l.onDragLeave=new r.EventEmitter,l.dropEnabled=!0,l}return Object(c.__extends)(t,e),Object.defineProperty(t.prototype,"droppable",{set:function(e){this.dropEnabled=!!e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowdrop",{set:function(e){this.allowDrop=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropzones",{set:function(e){this.dropZones=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"effectallowed",{set:function(e){this.effectAllowed=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"effectcursor",{set:function(e){this.effectCursor=e},enumerable:!0,configurable:!0}),t.prototype._onDragEnterCallback=function(e){this._dragDropService.isDragged&&(this._elem.classList.add(this._config.onDragEnterClass),this.onDragEnter.emit({dragData:this._dragDropService.dragData,mouseEvent:e}))},t.prototype._onDragOverCallback=function(e){this._dragDropService.isDragged&&(this._elem.classList.add(this._config.onDragOverClass),this.onDragOver.emit({dragData:this._dragDropService.dragData,mouseEvent:e}))},t.prototype._onDragLeaveCallback=function(e){this._dragDropService.isDragged&&(this._elem.classList.remove(this._config.onDragOverClass),this._elem.classList.remove(this._config.onDragEnterClass),this.onDragLeave.emit({dragData:this._dragDropService.dragData,mouseEvent:e}))},t.prototype._onDropCallback=function(e){var t=e.dataTransfer;(this._dragDropService.isDragged||t&&t.files)&&(this.onDropSuccess.emit({dragData:this._dragDropService.dragData,mouseEvent:e}),this._dragDropService.onDragSuccessCallback&&this._dragDropService.onDragSuccessCallback.emit({dragData:this._dragDropService.dragData,mouseEvent:e}),this._elem.classList.remove(this._config.onDragOverClass),this._elem.classList.remove(this._config.onDragEnterClass))},t}(ds);_s([Object(r.Input)("dropEnabled"),Ss("design:type",Boolean),Ss("design:paramtypes",[Boolean])],xs.prototype,"droppable",null),_s([Object(r.Output)(),Ss("design:type",r.EventEmitter)],xs.prototype,"onDropSuccess",void 0),_s([Object(r.Output)(),Ss("design:type",r.EventEmitter)],xs.prototype,"onDragEnter",void 0),_s([Object(r.Output)(),Ss("design:type",r.EventEmitter)],xs.prototype,"onDragOver",void 0),_s([Object(r.Output)(),Ss("design:type",r.EventEmitter)],xs.prototype,"onDragLeave",void 0),_s([Object(r.Input)("allowDrop"),Ss("design:type",Function),Ss("design:paramtypes",[Function])],xs.prototype,"allowdrop",null),_s([Object(r.Input)("dropZones"),Ss("design:type",Array),Ss("design:paramtypes",[Array])],xs.prototype,"dropzones",null),_s([Object(r.Input)("effectAllowed"),Ss("design:type",String),Ss("design:paramtypes",[String])],xs.prototype,"effectallowed",null),_s([Object(r.Input)("effectCursor"),Ss("design:type",String),Ss("design:paramtypes",[String])],xs.prototype,"effectcursor",null),xs=_s([Object(r.Directive)({selector:"[dnd-droppable]"}),Ss("design:paramtypes",[r.ElementRef,ss,is,r.ChangeDetectorRef])],xs);var Es=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,l=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(l=(i<3?n(l):i>3?n(t,o,l):n(t,o))||l);return i>3&&l&&Object.defineProperty(t,o,l),l},Ps=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},bs=function(e){function t(t,o,r,n,i){var l=e.call(this,t,o,r,n)||this;return l._sortableDataService=i,l._sortableData=[],l.dragEnabled=!1,l}return Object(c.__extends)(t,e),Object.defineProperty(t.prototype,"draggable",{set:function(e){this.dragEnabled=!!e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortableData",{get:function(){return this._sortableData},set:function(e){this._sortableData=e,this.sortableHandler=e instanceof qi?new Cs:new Ts,this.dropEnabled=!!this._sortableData},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropzones",{set:function(e){this.dropZones=e},enumerable:!0,configurable:!0}),t.prototype._onDragEnterCallback=function(e){if(this._sortableDataService.isDragged){var t=this._sortableDataService.sortableContainer.getItemAt(this._sortableDataService.index);-1===this.indexOf(t)&&(this._sortableDataService.sortableContainer.removeItemAt(this._sortableDataService.index),0===this._sortableDataService.sortableContainer._sortableData.length&&(this._sortableDataService.sortableContainer.dropEnabled=!0),this.insertItemAt(t,0),this._sortableDataService.sortableContainer=this,this._sortableDataService.index=0),this.detectChanges()}},t.prototype.getItemAt=function(e){return this.sortableHandler.getItemAt(this._sortableData,e)},t.prototype.indexOf=function(e){return this.sortableHandler.indexOf(this._sortableData,e)},t.prototype.removeItemAt=function(e){this.sortableHandler.removeItemAt(this._sortableData,e)},t.prototype.insertItemAt=function(e,t){this.sortableHandler.insertItemAt(this._sortableData,e,t)},t}(ds);Es([Object(r.Input)("dragEnabled"),Ps("design:type",Boolean),Ps("design:paramtypes",[Boolean])],bs.prototype,"draggable",null),Es([Object(r.Input)(),Ps("design:type",Object),Ps("design:paramtypes",[Object])],bs.prototype,"sortableData",null),Es([Object(r.Input)("dropZones"),Ps("design:type",Array),Ps("design:paramtypes",[Array])],bs.prototype,"dropzones",null),bs=Es([Object(r.Directive)({selector:"[dnd-sortable-container]"}),Ps("design:paramtypes",[r.ElementRef,ss,is,r.ChangeDetectorRef,us])],bs);var Ts=function(){function e(){}return e.prototype.getItemAt=function(e,t){return e[t]},e.prototype.indexOf=function(e,t){return e.indexOf(t)},e.prototype.removeItemAt=function(e,t){e.splice(t,1)},e.prototype.insertItemAt=function(e,t,o){e.splice(o,0,t)},e}(),Cs=function(){function e(){}return e.prototype.getItemAt=function(e,t){return e.at(t)},e.prototype.indexOf=function(e,t){return e.controls.indexOf(t)},e.prototype.removeItemAt=function(e,t){e.removeAt(t)},e.prototype.insertItemAt=function(e,t,o){e.insert(o,t)},e}(),Rs=function(e){function t(t,o,n,i,l,a){var s=e.call(this,t,o,n,a)||this;return s._sortableContainer=i,s._sortableDataService=l,s.onDragSuccessCallback=new r.EventEmitter,s.onDragStartCallback=new r.EventEmitter,s.onDragOverCallback=new r.EventEmitter,s.onDragEndCallback=new r.EventEmitter,s.onDropSuccessCallback=new r.EventEmitter,s.dropZones=s._sortableContainer.dropZones,s.dragEnabled=!0,s.dropEnabled=!0,s}return Object(c.__extends)(t,e),Object.defineProperty(t.prototype,"draggable",{set:function(e){this.dragEnabled=!!e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"droppable",{set:function(e){this.dropEnabled=!!e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"effectallowed",{set:function(e){this.effectAllowed=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"effectcursor",{set:function(e){this.effectCursor=e},enumerable:!0,configurable:!0}),t.prototype._onDragStartCallback=function(e){this._sortableDataService.isDragged=!0,this._sortableDataService.sortableContainer=this._sortableContainer,this._sortableDataService.index=this.index,this._sortableDataService.markSortable(this._elem),this._dragDropService.isDragged=!0,this._dragDropService.dragData=this.dragData,this._dragDropService.onDragSuccessCallback=this.onDragSuccessCallback,this.onDragStartCallback.emit(this._dragDropService.dragData)},t.prototype._onDragOverCallback=function(e){this._sortableDataService.isDragged&&this._elem!==this._sortableDataService.elem&&(this._sortableDataService.sortableContainer=this._sortableContainer,this._sortableDataService.index=this.index,this._sortableDataService.markSortable(this._elem),this.onDragOverCallback.emit(this._dragDropService.dragData))},t.prototype._onDragEndCallback=function(e){this._sortableDataService.isDragged=!1,this._sortableDataService.sortableContainer=null,this._sortableDataService.index=null,this._sortableDataService.markSortable(null),this._dragDropService.isDragged=!1,this._dragDropService.dragData=null,this._dragDropService.onDragSuccessCallback=null,this.onDragEndCallback.emit(this._dragDropService.dragData)},t.prototype._onDragEnterCallback=function(e){if(this._sortableDataService.isDragged&&(this._sortableDataService.markSortable(this._elem),this.index!==this._sortableDataService.index||this._sortableDataService.sortableContainer.sortableData!==this._sortableContainer.sortableData)){var t=this._sortableDataService.sortableContainer.getItemAt(this._sortableDataService.index);this._sortableDataService.sortableContainer.removeItemAt(this._sortableDataService.index),0===this._sortableDataService.sortableContainer.sortableData.length&&(this._sortableDataService.sortableContainer.dropEnabled=!0),this._sortableContainer.insertItemAt(t,this.index),this._sortableContainer.dropEnabled&&(this._sortableContainer.dropEnabled=!1),this._sortableDataService.sortableContainer=this._sortableContainer,this._sortableDataService.index=this.index,this.detectChanges()}},t.prototype._onDropCallback=function(e){this._sortableDataService.isDragged&&(this.onDropSuccessCallback.emit(this._dragDropService.dragData),this._dragDropService.onDragSuccessCallback&&this._dragDropService.onDragSuccessCallback.emit(this._dragDropService.dragData),this._sortableContainer.detectChanges())},t}(ds);Es([Object(r.Input)("sortableIndex"),Ps("design:type",Number)],Rs.prototype,"index",void 0),Es([Object(r.Input)("dragEnabled"),Ps("design:type",Boolean),Ps("design:paramtypes",[Boolean])],Rs.prototype,"draggable",null),Es([Object(r.Input)("dropEnabled"),Ps("design:type",Boolean),Ps("design:paramtypes",[Boolean])],Rs.prototype,"droppable",null),Es([Object(r.Input)(),Ps("design:type",Object)],Rs.prototype,"dragData",void 0),Es([Object(r.Input)("effectAllowed"),Ps("design:type",String),Ps("design:paramtypes",[String])],Rs.prototype,"effectallowed",null),Es([Object(r.Input)("effectCursor"),Ps("design:type",String),Ps("design:paramtypes",[String])],Rs.prototype,"effectcursor",null),Es([Object(r.Output)("onDragSuccess"),Ps("design:type",r.EventEmitter)],Rs.prototype,"onDragSuccessCallback",void 0),Es([Object(r.Output)("onDragStart"),Ps("design:type",r.EventEmitter)],Rs.prototype,"onDragStartCallback",void 0),Es([Object(r.Output)("onDragOver"),Ps("design:type",r.EventEmitter)],Rs.prototype,"onDragOverCallback",void 0),Es([Object(r.Output)("onDragEnd"),Ps("design:type",r.EventEmitter)],Rs.prototype,"onDragEndCallback",void 0),Es([Object(r.Output)("onDropSuccess"),Ps("design:type",r.EventEmitter)],Rs.prototype,"onDropSuccessCallback",void 0),Rs=Es([Object(r.Directive)({selector:"[dnd-sortable]"}),Ps("design:paramtypes",[r.ElementRef,ss,is,bs,us,r.ChangeDetectorRef])],Rs);var ws=function(e){function t(t,o,r,n,i){return e.call(this,t,o,r,n,i)||this}return Object(c.__extends)(t,e),t}(hs);ws=Es([Object(r.Directive)({selector:"[dnd-sortable-handle]"}),Ps("design:paramtypes",[r.ElementRef,ss,is,Rs,r.ChangeDetectorRef])],ws);var Ms,Ls=[is,{provide:ss,useFactory:as},{provide:us,useFactory:ps,deps:[is]}],Os=Ms=function(){function e(){}return e.forRoot=function(){return{ngModule:Ms,providers:Ls}},e}(),Is=function(){function e(e){this.ngRedux=e}return e.prototype.ngOnInit=function(){this.activeLayers=[],this.baseIndex=1,this.zIndex=this.baseIndex,this.parseActiveLayers(this.layers)},e.prototype.ngOnChanges=function(e){this.parseActiveLayers(this.layers)},e.prototype.parseActiveLayers=function(e){var t=this;e.forEach(function(e){e.layers.forEach(function(e){e.layer.getVisible()&&t.activeLayers.indexOf(e)<0&&(e.layer.setZIndex(t.zIndex),t.activeLayers.push(e),t.zIndex++)})})},e.prototype.moveLayer=function(){var e=this.baseIndex;this.activeLayers.forEach(function(t){t.layer.setZIndex(e),e++})},e.prototype.removeLayer=function(e){this.toggleLayer(e,!1),this.activeLayers.splice(this.activeLayers.indexOf(e),1),this.moveLayer()},e.prototype.toggleLayer=function(e,t){void 0===t&&(t=null),this.ngRedux.dispatch({type:"TOGGLE_LAYER",body:{layer:e,visible:t}})},e}(),As=r["\u0275crt"]({encapsulation:0,styles:[["h3[_ngcontent-%COMP%]{margin-bottom:1rem}.layerList[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.layer[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;padding:.5rem;border-radius:.25rem;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:stretch;-ms-flex-pack:stretch;justify-content:stretch}.layer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:.5rem}.layer[_ngcontent-%COMP%]:hover{background-color:rgba(90,90,90,.9);color:#fff;cursor:pointer}.dnd[_ngcontent-%COMP%]{margin-right:1rem}.actions[_ngcontent-%COMP%]{margin-left:1rem}.layer[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover, .layer[_ngcontent-%COMP%]:hover > label[_ngcontent-%COMP%]{color:#fff;cursor:pointer}label[_ngcontent-%COMP%]{font-weight:400}"]],data:{}});function Ds(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,17,"li",[["dnd-sortable",""]],null,[[null,"onDropSuccess"]],function(e,t,o){var r=!0;return"onDropSuccess"===t&&(r=!1!==e.component.moveLayer()&&r),r},null,null)),r["\u0275did"](1,16384,null,0,Rs,[r.ElementRef,ss,is,bs,us,r.ChangeDetectorRef],{index:[0,"index"]},{onDropSuccessCallback:"onDropSuccess"}),(e()(),r["\u0275ted"](-1,null,["\n      "])),(e()(),r["\u0275eld"](3,0,null,null,13,"div",[["class","layer"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n        "])),(e()(),r["\u0275eld"](5,0,null,null,0,"i",[["class","dnd fa fa-bars"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n        "])),(e()(),r["\u0275eld"](7,0,null,null,0,"input",[["type","checkbox"]],[[8,"id",0],[8,"checked",0]],[[null,"change"]],function(e,t,o){var r=!0;return"change"===t&&(r=!1!==e.component.toggleLayer(e.context.$implicit)&&r),r},null,null)),(e()(),r["\u0275eld"](8,0,null,null,2,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(e()(),r["\u0275eld"](9,0,null,null,1,"span",[["class","title"]],null,null,null,null,null)),(e()(),r["\u0275ted"](10,null,["",""])),(e()(),r["\u0275ted"](-1,null,["\n        "])),(e()(),r["\u0275eld"](12,0,null,null,3,"div",[["class","actions"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n          "])),(e()(),r["\u0275eld"](14,0,null,null,0,"i",[["class","fa fa-remove"]],null,[[null,"click"]],function(e,t,o){var r=!0;return"click"===t&&(r=!1!==e.component.removeLayer(e.context.$implicit)&&r),r},null,null)),(e()(),r["\u0275ted"](-1,null,["\n        "])),(e()(),r["\u0275ted"](-1,null,["\n      "])),(e()(),r["\u0275ted"](-1,null,["\n    "]))],function(e,t){e(t,1,0,t.context.index)},function(e,t){e(t,7,0,r["\u0275inlineInterpolate"](1,"",t.context.$implicit.name+"_"+t.context.index,""),t.context.$implicit.layer.getVisible()),e(t,8,0,r["\u0275inlineInterpolate"](1,"",t.context.$implicit.name+"_"+t.context.index,"")),e(t,10,0,t.context.$implicit.name)})}function Ns(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Active layers"])),(e()(),r["\u0275ted"](-1,null,["\n"])),(e()(),r["\u0275eld"](3,0,null,null,8,"div",[["class","layerList"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n\n  "])),(e()(),r["\u0275eld"](5,0,null,null,5,"ul",[["dnd-sortable-container",""]],null,null,null,null,null)),r["\u0275did"](6,16384,null,0,bs,[r.ElementRef,ss,is,r.ChangeDetectorRef,us],{sortableData:[0,"sortableData"]},null),(e()(),r["\u0275ted"](-1,null,["\n    "])),(e()(),r["\u0275and"](16777216,null,null,1,null,Ds)),r["\u0275did"](9,802816,null,0,D,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),r["\u0275ted"](-1,null,["\n  "])),(e()(),r["\u0275ted"](-1,null,["\n\n\n"])),(e()(),r["\u0275ted"](-1,null,["\n"]))],function(e,t){var o=t.component;e(t,6,0,o.activeLayers),e(t,9,0,o.activeLayers)},null)}var Fs=function(){function e(){}return e.prototype.transform=function(e,t){return t?e.filter(function(e){return e.name.toUpperCase().includes(t.toUpperCase())}):e},e}(),Gs=function(){function e(){}return e.prototype.transform=function(e,t){return e.sort(function(e,t){return e.name<t.name?-1:e.name>t.name?1:0}),e},e}(),ks=[{name:"PROBA-V MEP (WMTS)",description:"The  PROBA-V Mission Exploitation Platform (MEP), as an ESA pathfinder project, complements the PROBA-V user segment by offering an operational Exploitation Platform on the PROBA-V data, correlative data and derived products. ",url:"https://proba-v-mep.esa.int/applications/geo-viewer/app/mapcache/wmts?service=WMTS&request=GetCapabilities",infoUrl:"https://proba-v-mep.esa.int/",imageUrl:"https://pbs.twimg.com/profile_images/641168186897858560/PI1QimyT_400x400.png"}],js=function(){function e(e,t){this.ngRedux=e,this.layerService=t}return e.prototype.ngOnInit=function(){var e=this;this.status="",this.searchFilter="",this.sources=ks,this.layers.subscribe(function(t){e.backgroundLayers=t.backgroundLayers,e.layerInfo=t.layers,e.ngRedux.dispatch({type:"SET_CALENDAR_DATES",body:{times:t.times}})})},e.prototype.selectBackgroundLayer=function(e){this.ngRedux.dispatch({type:"SELECT_BACKGROUND_LAYER",body:e})},e.prototype.addSource=function(e){var t=this;this.status="Loading source";var o=this.sources.find(function(t){return t.name===e});this.layerService.loadExternalLayers(o.url).subscribe(function(e){t.status="",t.ngRedux.dispatch({type:"ADD_LAYERS",body:{name:o.name,description:o.description,url:o.url,infoUrl:o.infoUrl,imageUrl:o.imageUrl,layers:e}})},function(e){t.status="An error occurred - "+e.message}),e.value=""},e.prototype.loadExternalSource=function(e){var t=this;this.status="Loading external source";var o=e.value;this.layerService.loadExternalLayers(o).subscribe(function(e){t.status="",t.ngRedux.dispatch({type:"ADD_LAYERS",body:{url:o,layers:e}})},function(e){t.status="An error occurred - "+e.message}),e.value=""},e.prototype.toggleLayer=function(e){this.ngRedux.dispatch({type:"TOGGLE_LAYER",body:{layer:e}})},Object(c.__decorate)([Object(n.select)(),Object(c.__metadata)("design:type",Object)],e.prototype,"layers",void 0),e}(),qs="pk.eyJ1IjoiYnJhbWphbnNzZW4iLCJhIjoiY2o4dnlpdGt5MTZrbTMzcnB2amJxcmRzdyJ9.WQfT2IF5Ij15-jTxbgMWRw",Vs=[{name:"Open Street Map",layer:new i.layer.Tile({source:new i.source.OSM,visible:!0})},{name:"Mapbox Streets",layer:new i.layer.Tile({source:new i.source.XYZ({url:"https://api.mapbox.com/v4/mapbox.streets/{z}/{x}/{y}@2x.png?access_token="+qs}),visible:!1})},{name:"Mapbox Light",layer:new i.layer.Tile({source:new i.source.XYZ({url:"https://api.mapbox.com/v4/mapbox.light/{z}/{x}/{y}@2x.png?access_token="+qs}),visible:!1})},{name:"Mapbox Dark",layer:new i.layer.Tile({source:new i.source.XYZ({url:"https://api.mapbox.com/v4/mapbox.dark/{z}/{x}/{y}@2x.png?access_token="+qs}),visible:!1})},{name:"Mapbox Satellite",layer:new i.layer.Tile({source:new i.source.XYZ({url:"https://api.mapbox.com/v4/mapbox.satellite/{z}/{x}/{y}@2x.png?access_token="+qs}),visible:!1})},{name:"Mapbox Streets Satellite",layer:new i.layer.Tile({source:new i.source.XYZ({url:"https://api.mapbox.com/v4/mapbox.streets-satellite/{z}/{x}/{y}@2x.png?access_token="+qs}),visible:!1})},{name:"Mapbox Outdoors",layer:new i.layer.Tile({source:new i.source.XYZ({url:"https://api.mapbox.com/v4/mapbox.outdoors/{z}/{x}/{y}@2x.png?access_token="+qs}),visible:!1})}],Us=function(){function e(e,t){this.http=e,this.ngRedux=t}return e.prototype.getLayers=function(){return this.getBackgroundLayers()},e.prototype.getBackgroundLayers=function(){return Vs},e.prototype.loadExternalLayers=function(e){var t=this,o=null,r="";return e.toLowerCase().indexOf("wms")>0?(o=new i.format.WMSCapabilities,r="WMS"):e.toLowerCase().indexOf("wmts")>0&&(o=new i.format.WMTSCapabilities,r="WMTS"),this.http.get(e,{responseType:"text"}).map(function(e){var n=o.read(e),i=[];return console.log(n),"WMS"===r?i=t.readWMSCapabilities(n):"WMTS"===r&&(i=t.readWMTSCapabilities(n)),i})},e.prototype.readWMTSCapabilities=function(e){var t=this,o=[];return console.log("RESULT",e),e.Contents.Layer.forEach(function(r){console.log(r);try{var n=r.Dimension?r.Dimension.find(function(e){return e.Identifier?"TIME"===e.Identifier.toUpperCase():Date.parse(e.Default)}):null,l=[];n&&(l=n.Value);var a=i.source.WMTS.optionsFromCapabilities(e,{layer:r.Identifier,matrixSet:"EPSG:3857"});if(a||(a=i.source.WMTS.optionsFromCapabilities(e,{layer:r.Identifier,matrixSet:"EPSG:4326"})),a){var s={name:r.Title,description:r.Abstract,layer:new i.layer.Tile({source:new i.source.WMTS(a),visible:!1}),times:l};t.setLayerEvents(s),o.push(s)}else console.error("Layer "+r.Title+" does not support EPSG:3857")}catch(e){console.error("Could not create WMTS layers for "+r.Title)}}),o},e.prototype.readWMSCapabilities=function(e){var t=this,o=e.Capability.Request.GetMap.DCPType[0].HTTP.Get.OnlineResource,r=[];return e.Capability.Layer.Layer.forEach(function(e){if(e.Layer)e.Layer.forEach(function(n){try{var l=n.Dimension?n.Dimension.find(function(e){return"TIME"===e.name.toUpperCase()}):null,a=[];l&&(a=l.values.split(","));var s={name:n.Name,description:n.Abstract,layer:new i.layer.Tile({extent:e.BoundingBox.find(function(e){return"EPSG:3857"===e.crs}).extent,source:new i.source.TileWMS({url:o,params:{LAYERS:n.Name,TILED:!0}}),visible:!1}),times:a};t.setLayerEvents(s),r.push(s)}catch(e){console.error("Could not create WMTS layers for "+n.Title)}});else try{var n=e.Dimension?e.Dimension.find(function(e){return"TIME"===e.name.toUpperCase()}):null,l=[];n&&(l=n.values.split(","));var a={name:e.Name,description:e.Abstract,layer:new i.layer.Tile({extent:e.BoundingBox.find(function(e){return"EPSG:3857"===e.crs}).extent,source:new i.source.TileWMS({url:o,params:{LAYERS:e.Name,TILED:!0}}),visible:!1}),times:l};t.setLayerEvents(a),r.push(a)}catch(t){console.error("Could not create WMTS layers for "+e.Title)}}),r},e.prototype.setLayerEvents=function(e){var t=this.ngRedux;e.layer.getSource().setTileLoadFunction(function(e,o){t.dispatch({type:"SET_PROGRESS",body:{tileLoading:!0}}),e.getImage().onload=function(){t.dispatch({type:"SET_PROGRESS",body:{tileLoaded:!0}})},e.getImage().onerror=function(){t.dispatch({type:"SET_PROGRESS",body:{tileLoaded:!0,tileError:!0}})},e.getImage().src=decodeURIComponent(o)})},e}(),Bs=r["\u0275crt"]({encapsulation:0,styles:[["h1[_ngcontent-%COMP%]{margin-bottom:1.5rem}h2[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:.5rem;margin-top:1rem}h3[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:1rem}.externalSource[_ngcontent-%COMP%]{margin:.5rem 0;background-color:rgba(230,230,230,.2);border:1px solid rgba(230,230,230,.5);padding:.5rem;border-radius:.25rem}.sourceHeader[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;margin-bottom:1.5rem}.sourceImage[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50px;height:40px;width:40px;margin-right:1rem;background-color:#fff;padding:.1rem;border:1px solid #dedede}.sourceInfo[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.sourceInfo[_ngcontent-%COMP%]   .sourceDescription[_ngcontent-%COMP%]{-webkit-box-flex:3;-ms-flex:3;flex:3}.sourceInfo[_ngcontent-%COMP%]   .sourceLink[_ngcontent-%COMP%]{text-align:right;padding-right:.5rem;margin-left:1rem}.layerInfo[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;padding:.5rem;border-radius:.25rem}.layerInfo[_ngcontent-%COMP%]:hover{background-color:rgba(90,90,90,.9);color:#fff;cursor:pointer}.description[_ngcontent-%COMP%]{font-size:.7rem}.info[_ngcontent-%COMP%]{margin-left:1rem}.toggle[_ngcontent-%COMP%]{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex}.status[_ngcontent-%COMP%]{padding:.75rem 1.25rem;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;margin:.5rem 0;background-color:rgba(230,230,230,.2);border:1px solid rgba(230,230,230,.5);border-radius:.25rem}.statusIcon[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.statusText[_ngcontent-%COMP%]{margin-left:1rem}.error[_ngcontent-%COMP%]{color:#d54057;background-color:#f2dede;border:1px solid #ebcccc;border-radius:.25rem}.icon-search[_ngcontent-%COMP%]{position:relative;z-index:1;left:.75rem;top:2.25rem;color:#7b7b7b;cursor:pointer;width:0}.search-input[_ngcontent-%COMP%]{padding-left:2.75rem}input[type=text][_ngcontent-%COMP%]{border-radius:.25rem}.filter-bar[_ngcontent-%COMP%]{margin-top:-1rem}"]],data:{}});function Ws(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),r["\u0275did"](1,147456,null,0,mi,[r.ElementRef,r.Renderer2,[8,null]],null,null),r["\u0275did"](2,147456,null,0,Si,[r.ElementRef,r.Renderer2,[8,null]],null,null),(e()(),r["\u0275ted"](3,null,["",""]))],null,function(e,t){e(t,3,0,t.context.$implicit.name)})}function Ys(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),r["\u0275did"](1,147456,null,0,mi,[r.ElementRef,r.Renderer2,[8,null]],null,null),r["\u0275did"](2,147456,null,0,Si,[r.ElementRef,r.Renderer2,[8,null]],null,null),(e()(),r["\u0275ted"](3,null,["",""]))],null,function(e,t){e(t,3,0,t.context.$implicit.name)})}function Ks(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,0,"i",[["class","fa fa-circle-o-notch fa-spin"]],null,null,null,null,null))],null,null)}function Xs(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,0,"i",[["class","fa fa-exclamation-circle"]],null,null,null,null,null))],null,null)}function Zs(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,12,"div",[],[[8,"className",0]],null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n  "])),(e()(),r["\u0275eld"](2,0,null,null,6,"div",[["class","statusIcon"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n    "])),(e()(),r["\u0275and"](16777216,null,null,1,null,Ks)),r["\u0275did"](5,16384,null,0,F,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275and"](16777216,null,null,1,null,Xs)),r["\u0275did"](7,16384,null,0,F,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275ted"](-1,null,["\n  "])),(e()(),r["\u0275ted"](-1,null,["\n  "])),(e()(),r["\u0275eld"](10,0,null,null,1,"div",[["class","statusText"]],null,null,null,null,null)),(e()(),r["\u0275ted"](11,null,["\n    ","\n  "])),(e()(),r["\u0275ted"](-1,null,["\n"]))],function(e,t){var o=t.component;e(t,5,0,o.status.indexOf("Loading")>=0),e(t,7,0,o.status.indexOf("error")>=0)},function(e,t){var o=t.component;e(t,0,0,r["\u0275inlineInterpolate"](1,"status ",o.status.indexOf("error")>=0?"error":"","")),e(t,11,0,o.status)})}function Hs(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"div",[["class","sourceDescription"]],null,null,null,null,null)),(e()(),r["\u0275ted"](1,null,["",""]))],null,function(e,t){e(t,1,0,t.parent.context.$implicit.description)})}function zs(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,2,"div",[["class","sourceLink"]],null,null,null,null,null)),(e()(),r["\u0275eld"](1,0,null,null,1,"a",[["target","_blank"]],[[8,"href",4]],null,null,null,null)),(e()(),r["\u0275eld"](2,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-info-circle fa-lg"]],null,null,null,null,null))],null,function(e,t){e(t,1,0,r["\u0275inlineInterpolate"](1,"",t.parent.context.$implicit.infoUrl,""))})}function Js(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,8,"div",[["class","layerInfo"]],null,[[null,"click"]],function(e,t,o){var r=!0;return"click"===t&&(r=!1!==e.component.toggleLayer(e.context.$implicit)&&r),r},null,null)),(e()(),r["\u0275eld"](1,0,null,null,1,"div",[["class","toggle"]],null,null,null,null,null)),(e()(),r["\u0275eld"](2,0,null,null,0,"input",[["type","checkbox"]],[[8,"checked",0]],null,null,null,null)),(e()(),r["\u0275eld"](3,0,null,null,5,"span",[["class","info"]],null,null,null,null,null)),(e()(),r["\u0275eld"](4,0,null,null,1,"span",[["class","title"]],null,null,null,null,null)),(e()(),r["\u0275ted"](5,null,["",""])),(e()(),r["\u0275eld"](6,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),r["\u0275eld"](7,0,null,null,1,"span",[["class","description"]],null,null,null,null,null)),(e()(),r["\u0275ted"](8,null,["",""]))],null,function(e,t){e(t,2,0,t.context.$implicit.layer.getVisible()),e(t,5,0,t.context.$implicit.name),e(t,8,0,t.context.$implicit.description)})}function Qs(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,32,"div",[["class","externalSource"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n  "])),(e()(),r["\u0275eld"](2,0,null,null,21,"div",[["class","sourceHeader"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n    "])),(e()(),r["\u0275eld"](4,0,null,null,3,"div",[["class","sourceImage"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n      "])),(e()(),r["\u0275eld"](6,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n    "])),(e()(),r["\u0275ted"](-1,null,["\n    "])),(e()(),r["\u0275eld"](9,0,null,null,13,"div",[["class","sourceData"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n      "])),(e()(),r["\u0275eld"](11,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),r["\u0275ted"](12,null,["",""])),(e()(),r["\u0275ted"](-1,null,["\n      "])),(e()(),r["\u0275eld"](14,0,null,null,7,"div",[["class","sourceInfo"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n        "])),(e()(),r["\u0275and"](16777216,null,null,1,null,Hs)),r["\u0275did"](17,16384,null,0,F,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275ted"](-1,null,["\n        "])),(e()(),r["\u0275and"](16777216,null,null,1,null,zs)),r["\u0275did"](20,16384,null,0,F,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275ted"](-1,null,["\n      "])),(e()(),r["\u0275ted"](-1,null,["\n    "])),(e()(),r["\u0275ted"](-1,null,["\n  "])),(e()(),r["\u0275ted"](-1,null,["\n  "])),(e()(),r["\u0275eld"](25,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Available layers"])),(e()(),r["\u0275ted"](-1,null,["\n  "])),(e()(),r["\u0275and"](16777216,null,null,3,null,Js)),r["\u0275did"](29,802816,null,0,D,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),r["\u0275ppd"](30,1),r["\u0275ppd"](31,2),(e()(),r["\u0275ted"](-1,null,["\n"]))],function(e,t){var o=t.component;e(t,17,0,t.context.$implicit.description),e(t,20,0,t.context.$implicit.infoUrl),e(t,29,0,r["\u0275unv"](t,29,0,e(t,31,0,r["\u0275nov"](t.parent,0),r["\u0275unv"](t,29,0,e(t,30,0,r["\u0275nov"](t.parent,1),t.context.$implicit.layers)),o.searchFilter)))},function(e,t){e(t,6,0,t.context.$implicit.imageUrl?t.context.$implicit.imageUrl:"/assets/images/default.png"),e(t,12,0,t.context.$implicit.name?t.context.$implicit.name:t.context.$implicit.url)})}function $s(e){return r["\u0275vid"](0,[r["\u0275pid"](0,Fs,[]),r["\u0275pid"](0,Gs,[]),(e()(),r["\u0275eld"](2,0,null,null,1,"h1",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Select layers"])),(e()(),r["\u0275ted"](-1,null,["\n\n"])),(e()(),r["\u0275eld"](5,0,null,null,1,"h2",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Background layer"])),(e()(),r["\u0275ted"](-1,null,["\n"])),(e()(),r["\u0275eld"](8,0,null,null,4,"select",[],null,[[null,"change"]],function(e,t,o){var r=!0;return"change"===t&&(r=!1!==e.component.selectBackgroundLayer(o.target.value)&&r),r},null,null)),(e()(),r["\u0275ted"](-1,null,["\n  "])),(e()(),r["\u0275and"](16777216,null,null,1,null,Ws)),r["\u0275did"](11,802816,null,0,D,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),r["\u0275ted"](-1,null,["\n"])),(e()(),r["\u0275ted"](-1,null,["\n\n"])),(e()(),r["\u0275eld"](14,0,null,null,1,"h2",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Predefined sources"])),(e()(),r["\u0275ted"](-1,null,["\n"])),(e()(),r["\u0275eld"](17,0,null,null,9,"select",[],null,[[null,"change"]],function(e,t,o){var r=!0;return"change"===t&&(r=!1!==e.component.addSource(o.target.value)&&r),r},null,null)),(e()(),r["\u0275ted"](-1,null,["\n  "])),(e()(),r["\u0275eld"](19,0,null,null,3,"option",[["disabled",""],["selected",""],["value",""]],null,null,null,null,null)),r["\u0275did"](20,147456,null,0,mi,[r.ElementRef,r.Renderer2,[8,null]],{value:[0,"value"]},null),r["\u0275did"](21,147456,null,0,Si,[r.ElementRef,r.Renderer2,[8,null]],{value:[0,"value"]},null),(e()(),r["\u0275ted"](-1,null,[" Select a source "])),(e()(),r["\u0275ted"](-1,null,["\n  "])),(e()(),r["\u0275and"](16777216,null,null,1,null,Ys)),r["\u0275did"](25,802816,null,0,D,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),r["\u0275ted"](-1,null,["\n"])),(e()(),r["\u0275ted"](-1,null,["\n\n\n"])),(e()(),r["\u0275eld"](28,0,null,null,1,"h2",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["External source:"])),(e()(),r["\u0275ted"](-1,null,["\n"])),(e()(),r["\u0275eld"](31,0,null,null,0,"input",[["placeholder","Capabilities URL"],["type","text"]],null,[[null,"change"]],function(e,t,o){var r=!0;return"change"===t&&(r=!1!==e.component.loadExternalSource(o.target)&&r),r},null,null)),(e()(),r["\u0275ted"](-1,null,["\n\n"])),(e()(),r["\u0275eld"](33,0,null,null,1,"h2",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Layers"])),(e()(),r["\u0275ted"](-1,null,["\n"])),(e()(),r["\u0275eld"](36,0,null,null,10,"div",[["class","filter-bar"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n  "])),(e()(),r["\u0275eld"](38,0,null,null,0,"i",[["class","icon-search fa fa-search fa-lg"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n  "])),(e()(),r["\u0275eld"](40,0,null,null,5,"input",[["class","search-input"],["placeholder","Filter layers"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,o){var n=!0,i=e.component;return"input"===t&&(n=!1!==r["\u0275nov"](e,41)._handleInput(o.target.value)&&n),"blur"===t&&(n=!1!==r["\u0275nov"](e,41).onTouched()&&n),"compositionstart"===t&&(n=!1!==r["\u0275nov"](e,41)._compositionStart()&&n),"compositionend"===t&&(n=!1!==r["\u0275nov"](e,41)._compositionEnd(o.target.value)&&n),"ngModelChange"===t&&(n=!1!==(i.searchFilter=o)&&n),n},null,null)),r["\u0275did"](41,16384,null,0,li,[r.Renderer2,r.ElementRef,[2,ii]],null,null),r["\u0275prd"](1024,null,ri,function(e){return[e]},[li]),r["\u0275did"](43,671744,null,0,Hi,[[8,null],[8,null],[8,null],[2,ri]],{model:[0,"model"]},{update:"ngModelChange"}),r["\u0275prd"](2048,null,ci,null,[Hi]),r["\u0275did"](45,16384,null,0,Ai,[ci],null,null),(e()(),r["\u0275ted"](-1,null,["\n"])),(e()(),r["\u0275ted"](-1,null,["\n"])),(e()(),r["\u0275and"](16777216,null,null,1,null,Zs)),r["\u0275did"](49,16384,null,0,F,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275ted"](-1,null,["\n"])),(e()(),r["\u0275and"](16777216,null,null,1,null,Qs)),r["\u0275did"](52,802816,null,0,D,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),r["\u0275ted"](-1,null,["\n"]))],function(e,t){var o=t.component;e(t,11,0,o.backgroundLayers),e(t,20,0,""),e(t,21,0,""),e(t,25,0,o.sources),e(t,43,0,o.searchFilter),e(t,49,0,""!=o.status),e(t,52,0,o.layerInfo)},function(e,t){e(t,40,0,r["\u0275nov"](t,45).ngClassUntouched,r["\u0275nov"](t,45).ngClassTouched,r["\u0275nov"](t,45).ngClassPristine,r["\u0275nov"](t,45).ngClassDirty,r["\u0275nov"](t,45).ngClassValid,r["\u0275nov"](t,45).ngClassInvalid,r["\u0275nov"](t,45).ngClassPending)})}var ep=function(){function e(){}return e.prototype.transform=function(e,t){return Object.keys(e)},e}(),tp=function(){function e(e,t,o){this.ngRedux=e,this.mapboxService=t,this.utilService=o}return e.prototype.ngOnInit=function(){var e=this;this.crs="EPSG:3857",this.featureList=[],this.layers.subscribe(function(t){e.crs=t.crs,t.features.forEach(function(t){e.featureList[t.type]=t.features})}),this.ui.subscribe(function(t){e.drawAction=t.activeSelection})},e.prototype.setDrawAction=function(e){this.drawAction=this.drawAction===e?"":e,this.ngRedux.dispatch({type:"SET_SELECTION_TYPE",body:{selection:this.drawAction}})},e.prototype.formatFeatureGeometry=function(e){return(new i.format.GeoJSON).writeFeature(e,{featureProjection:"EPSG:3857",dataProjection:this.crs})},e.prototype.getBoundingBox=function(e){return i.proj.transformExtent(e.getGeometry().getExtent(),"EPSG:3857",this.crs)},e.prototype.selectProjectionSystem=function(e){this.ngRedux.dispatch({type:"SET_PROJECTION_SYSTEM",body:{crs:e}})},e.prototype.addFeature=function(e){var t=(new i.format.GeoJSON).readFeatures(e,{featureProjection:"EPSG:3857",dataProjection:this.crs});this.ngRedux.dispatch({type:"ADD_FEATURE_LIST",body:{features:t,type:"custom"}})},e.prototype.selectFeature=function(e){this.ngRedux.dispatch({type:"SELECT_FEATURE",body:{feature:e,type:this.drawAction}})},e.prototype.formatLength=function(e){return this.utilService.formatLength(new i.geom.LineString(e.getGeometry().getLinearRing(0).getCoordinates()))},Object(c.__decorate)([Object(n.select)(),Object(c.__metadata)("design:type",Object)],e.prototype,"layers",void 0),Object(c.__decorate)([Object(n.select)(),Object(c.__metadata)("design:type",Object)],e.prototype,"ui",void 0),e}(),op=r["\u0275crt"]({encapsulation:0,styles:[['h1[_ngcontent-%COMP%]{margin-bottom:1.5rem;font-weight:700}h2[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;margin-bottom:1rem;margin-top:1rem}h3[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;margin-bottom:1rem;margin-top:1rem}.featureInfo[_ngcontent-%COMP%]{margin:.5rem 0;background-color:rgba(230,230,230,.2);border:1px solid rgba(230,230,230,.5);padding:.5rem;border-radius:.25rem;word-wrap:break-word}.active[_ngcontent-%COMP%], .featureInfo[_ngcontent-%COMP%]:hover{background-color:rgba(170,170,170,.2)}.projection[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:1.5rem}.projection[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem;font-size:1.5rem}.btn-group[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-bottom:1.5rem}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;border:1px solid rgba(230,230,230,.5);color:rgba(90,90,90,.9);padding:.5rem 1.5rem;cursor:pointer}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-child){border-right:none}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:.5rem;border-top-left-radius:.5rem}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:.5rem;border-top-right-radius:.5rem}.btn-group[_ngcontent-%COMP%]:after{content:"";clear:both;display:table}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:rgba(230,230,230,.2);color:rgba(90,90,90,.9)}.btn-group[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:rgba(90,90,90,.9);color:#fff}textarea[_ngcontent-%COMP%]{width:100%;height:57rem;border:none}th[_ngcontent-%COMP%]{font-weight:700;text-align:left}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding:.1rem .5rem}h3[_ngcontent-%COMP%] + p[_ngcontent-%COMP%]{padding-left:.5rem}']],data:{}});function rp(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,37,"div",[["class","featureInfo"]],null,[[null,"click"]],function(e,t,o){var r=!0;return"click"===t&&(r=!1!==e.component.selectFeature(e.context.$implicit)&&r),r},null,null)),(e()(),r["\u0275ted"](-1,null,["\n      "])),(e()(),r["\u0275eld"](2,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Bounding box"])),(e()(),r["\u0275ted"](-1,null,["\n      "])),(e()(),r["\u0275eld"](5,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),r["\u0275ted"](6,null,["",""])),(e()(),r["\u0275ted"](-1,null,["\n      "])),(e()(),r["\u0275eld"](8,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["GeoJSON"])),(e()(),r["\u0275ted"](-1,null,["\n      "])),(e()(),r["\u0275eld"](11,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),r["\u0275ted"](12,null,["\n        ","\n      "])),(e()(),r["\u0275ted"](-1,null,["\n      "])),(e()(),r["\u0275eld"](14,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Properties"])),(e()(),r["\u0275ted"](-1,null,["\n      "])),(e()(),r["\u0275eld"](17,0,null,null,19,"table",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n        "])),(e()(),r["\u0275eld"](19,0,null,null,17,"tbody",[],null,null,null,null,null)),(e()(),r["\u0275eld"](20,0,null,null,6,"tr",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n          "])),(e()(),r["\u0275eld"](22,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Area:"])),(e()(),r["\u0275ted"](-1,null,["\n          "])),(e()(),r["\u0275eld"](25,0,null,null,0,"td",[],[[8,"innerHTML",1]],null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n        "])),(e()(),r["\u0275ted"](-1,null,["\n        "])),(e()(),r["\u0275eld"](28,0,null,null,7,"tr",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n          "])),(e()(),r["\u0275eld"](30,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Perimeter:"])),(e()(),r["\u0275ted"](-1,null,["\n          "])),(e()(),r["\u0275eld"](33,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),r["\u0275ted"](34,null,["",""])),(e()(),r["\u0275ted"](-1,null,["\n        "])),(e()(),r["\u0275ted"](-1,null,["\n      "])),(e()(),r["\u0275ted"](-1,null,["\n    "]))],null,function(e,t){var o=t.component;e(t,6,0,o.getBoundingBox(t.context.$implicit)),e(t,12,0,o.formatFeatureGeometry(t.context.$implicit)),e(t,25,0,o.utilService.formatArea(t.context.$implicit.getGeometry())),e(t,34,0,o.formatLength(t.context.$implicit))})}function np(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n    "])),(e()(),r["\u0275and"](16777216,null,null,1,null,rp)),r["\u0275did"](3,802816,null,0,D,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),r["\u0275ted"](-1,null,["\n  "]))],function(e,t){e(t,3,0,t.component.featureList.bbox)},null)}function ip(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,7,"div",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n  "])),(e()(),r["\u0275eld"](2,0,null,null,1,"h1",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Bounding box"])),(e()(),r["\u0275ted"](-1,null,["\n  "])),(e()(),r["\u0275and"](16777216,null,null,1,null,np)),r["\u0275did"](6,16384,null,0,F,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275ted"](-1,null,["\n"]))],function(e,t){e(t,6,0,t.component.featureList.bbox)},null)}function lp(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,34,"div",[["class","featureInfo"]],null,[[null,"click"]],function(e,t,o){var r=!0;return"click"===t&&(r=!1!==e.component.selectFeature(e.context.$implicit)&&r),r},null,null)),(e()(),r["\u0275ted"](-1,null,["\n      "])),(e()(),r["\u0275eld"](2,0,null,null,1,"h2",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Feature"])),(e()(),r["\u0275ted"](-1,null,["\n      "])),(e()(),r["\u0275eld"](5,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["GeoJSON"])),(e()(),r["\u0275ted"](-1,null,["\n      "])),(e()(),r["\u0275eld"](8,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),r["\u0275ted"](9,null,["\n        ","\n      "])),(e()(),r["\u0275ted"](-1,null,["\n      "])),(e()(),r["\u0275eld"](11,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Properties"])),(e()(),r["\u0275ted"](-1,null,["\n      "])),(e()(),r["\u0275eld"](14,0,null,null,19,"table",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n        "])),(e()(),r["\u0275eld"](16,0,null,null,17,"tbody",[],null,null,null,null,null)),(e()(),r["\u0275eld"](17,0,null,null,6,"tr",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n          "])),(e()(),r["\u0275eld"](19,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Area:"])),(e()(),r["\u0275ted"](-1,null,["\n          "])),(e()(),r["\u0275eld"](22,0,null,null,0,"td",[],[[8,"innerHTML",1]],null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n        "])),(e()(),r["\u0275ted"](-1,null,["\n        "])),(e()(),r["\u0275eld"](25,0,null,null,7,"tr",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n          "])),(e()(),r["\u0275eld"](27,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Perimeter:"])),(e()(),r["\u0275ted"](-1,null,["\n          "])),(e()(),r["\u0275eld"](30,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),r["\u0275ted"](31,null,["",""])),(e()(),r["\u0275ted"](-1,null,["\n        "])),(e()(),r["\u0275ted"](-1,null,["\n      "])),(e()(),r["\u0275ted"](-1,null,["\n    "]))],null,function(e,t){var o=t.component;e(t,9,0,o.formatFeatureGeometry(t.context.$implicit)),e(t,22,0,o.utilService.formatArea(t.context.$implicit.getGeometry())),e(t,31,0,o.formatLength(t.context.$implicit))})}function ap(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n    "])),(e()(),r["\u0275and"](16777216,null,null,1,null,lp)),r["\u0275did"](3,802816,null,0,D,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),r["\u0275ted"](-1,null,["\n  "]))],function(e,t){e(t,3,0,t.component.featureList.polygon)},null)}function sp(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,7,"div",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n  "])),(e()(),r["\u0275eld"](2,0,null,null,1,"h1",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Polygon"])),(e()(),r["\u0275ted"](-1,null,["\n  "])),(e()(),r["\u0275and"](16777216,null,null,1,null,ap)),r["\u0275did"](6,16384,null,0,F,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275ted"](-1,null,["\n"]))],function(e,t){e(t,6,0,t.component.featureList.polygon)},null)}function pp(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,7,"tr",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n          "])),(e()(),r["\u0275eld"](2,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),r["\u0275ted"](3,null,["",":"])),(e()(),r["\u0275ted"](-1,null,["\n          "])),(e()(),r["\u0275eld"](5,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),r["\u0275ted"](6,null,["",""])),(e()(),r["\u0275ted"](-1,null,["\n        "]))],null,function(e,t){e(t,3,0,t.context.$implicit),e(t,6,0,t.parent.context.$implicit.getProperties().Address[t.context.$implicit])})}function up(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,18,"div",[["class","featureInfo"]],null,[[null,"click"]],function(e,t,o){var r=!0;return"click"===t&&(r=!1!==e.component.selectFeature(e.context.$implicit)&&r),r},null,null)),(e()(),r["\u0275ted"](-1,null,["\n      "])),(e()(),r["\u0275eld"](2,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Location"])),(e()(),r["\u0275ted"](-1,null,["\n      "])),(e()(),r["\u0275eld"](5,0,null,null,6,"table",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n        "])),(e()(),r["\u0275eld"](7,0,null,null,4,"tbody",[],null,null,null,null,null)),(e()(),r["\u0275and"](16777216,null,null,2,null,pp)),r["\u0275did"](9,802816,null,0,D,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),r["\u0275ppd"](10,1),(e()(),r["\u0275ted"](-1,null,["\n      "])),(e()(),r["\u0275ted"](-1,null,["\n      "])),(e()(),r["\u0275eld"](13,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["GeoJSON"])),(e()(),r["\u0275ted"](-1,null,["\n      "])),(e()(),r["\u0275eld"](16,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),r["\u0275ted"](17,null,["\n        ","\n      "])),(e()(),r["\u0275ted"](-1,null,["\n\n    "]))],function(e,t){e(t,9,0,r["\u0275unv"](t,9,0,e(t,10,0,r["\u0275nov"](t.parent.parent.parent,0),t.context.$implicit.getProperties().Address)))},function(e,t){e(t,17,0,t.component.formatFeatureGeometry(t.context.$implicit))})}function cp(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n    "])),(e()(),r["\u0275and"](16777216,null,null,1,null,up)),r["\u0275did"](3,802816,null,0,D,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),r["\u0275ted"](-1,null,["\n  "]))],function(e,t){e(t,3,0,t.component.featureList.point)},null)}function gp(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,7,"div",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n  "])),(e()(),r["\u0275eld"](2,0,null,null,1,"h1",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Point"])),(e()(),r["\u0275ted"](-1,null,["\n  "])),(e()(),r["\u0275and"](16777216,null,null,1,null,cp)),r["\u0275did"](6,16384,null,0,F,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275ted"](-1,null,["\n"]))],function(e,t){e(t,6,0,t.component.featureList.point)},null)}function dp(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,30,"div",[["class","featureInfo"]],null,[[null,"click"]],function(e,t,o){var r=!0;return"click"===t&&(r=!1!==e.component.selectFeature(e.context.$implicit)&&r),r},null,null)),(e()(),r["\u0275ted"](-1,null,["\n      "])),(e()(),r["\u0275eld"](2,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["GeoJSON"])),(e()(),r["\u0275ted"](-1,null,["\n      "])),(e()(),r["\u0275eld"](5,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),r["\u0275ted"](6,null,["\n        ","\n      "])),(e()(),r["\u0275ted"](-1,null,["\n      "])),(e()(),r["\u0275eld"](8,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Properties"])),(e()(),r["\u0275ted"](-1,null,["\n      "])),(e()(),r["\u0275eld"](11,0,null,null,18,"table",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n        "])),(e()(),r["\u0275eld"](13,0,null,null,16,"tbody",[],null,null,null,null,null)),(e()(),r["\u0275eld"](14,0,null,null,6,"tr",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n          "])),(e()(),r["\u0275eld"](16,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Radius:"])),(e()(),r["\u0275ted"](-1,null,["\n          "])),(e()(),r["\u0275eld"](19,0,null,null,0,"td",[],[[8,"innerHTML",1]],null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n        "])),(e()(),r["\u0275ted"](-1,null,["\n        "])),(e()(),r["\u0275eld"](22,0,null,null,6,"tr",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n          "])),(e()(),r["\u0275eld"](24,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Area:"])),(e()(),r["\u0275ted"](-1,null,["\n          "])),(e()(),r["\u0275eld"](27,0,null,null,0,"td",[],[[8,"innerHTML",1]],null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n        "])),(e()(),r["\u0275ted"](-1,null,["\n      "])),(e()(),r["\u0275ted"](-1,null,["\n    "]))],null,function(e,t){var o=t.component;e(t,6,0,o.formatFeatureGeometry(t.context.$implicit)),e(t,19,0,o.utilService.formatRadius(t.context.$implicit.getGeometry())),e(t,27,0,o.utilService.formatCircleArea(t.context.$implicit.getGeometry()))})}function hp(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n    "])),(e()(),r["\u0275and"](16777216,null,null,1,null,dp)),r["\u0275did"](3,802816,null,0,D,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),r["\u0275ted"](-1,null,["\n  "]))],function(e,t){e(t,3,0,t.component.featureList.circle)},null)}function yp(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,7,"div",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n  "])),(e()(),r["\u0275eld"](2,0,null,null,1,"h1",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Circle"])),(e()(),r["\u0275ted"](-1,null,["\n  "])),(e()(),r["\u0275and"](16777216,null,null,1,null,hp)),r["\u0275did"](6,16384,null,0,F,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275ted"](-1,null,["\n"]))],function(e,t){e(t,6,0,t.component.featureList.circle)},null)}function fp(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,12,"div",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n  "])),(e()(),r["\u0275eld"](2,0,null,null,1,"h1",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Custom GeoJSON"])),(e()(),r["\u0275ted"](-1,null,["\n  "])),(e()(),r["\u0275eld"](5,0,null,null,6,"div",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n    "])),(e()(),r["\u0275eld"](7,0,null,null,3,"div",[["class","featureInfo"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n      "])),(e()(),r["\u0275eld"](9,0,null,null,0,"textarea",[],null,[[null,"change"]],function(e,t,o){var r=!0;return"change"===t&&(r=!1!==e.component.addFeature(o.target.value)&&r),r},null,null)),(e()(),r["\u0275ted"](-1,null,["\n    "])),(e()(),r["\u0275ted"](-1,null,["\n  "])),(e()(),r["\u0275ted"](-1,null,["\n"]))],null,null)}function mp(e){return r["\u0275vid"](0,[r["\u0275pid"](0,ep,[]),(e()(),r["\u0275eld"](1,0,null,null,16,"div",[["class","btn-group actionlist"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n  "])),(e()(),r["\u0275eld"](3,0,null,null,1,"button",[["type","button"]],[[8,"className",0]],[[null,"click"]],function(e,t,o){var r=!0;return"click"===t&&(r=!1!==e.component.setDrawAction("bbox")&&r),r},null,null)),(e()(),r["\u0275eld"](4,0,null,null,0,"i",[["class","fa fa-square-o"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n  "])),(e()(),r["\u0275eld"](6,0,null,null,1,"button",[["type","button"]],[[8,"className",0]],[[null,"click"]],function(e,t,o){var r=!0;return"click"===t&&(r=!1!==e.component.setDrawAction("polygon")&&r),r},null,null)),(e()(),r["\u0275eld"](7,0,null,null,0,"i",[["class","fa fa-star-o"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n  "])),(e()(),r["\u0275eld"](9,0,null,null,1,"button",[["type","button"]],[[8,"className",0]],[[null,"click"]],function(e,t,o){var r=!0;return"click"===t&&(r=!1!==e.component.setDrawAction("circle")&&r),r},null,null)),(e()(),r["\u0275eld"](10,0,null,null,0,"i",[["class","fa fa-circle-o"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n  "])),(e()(),r["\u0275eld"](12,0,null,null,1,"button",[["type","button"]],[[8,"className",0]],[[null,"click"]],function(e,t,o){var r=!0;return"click"===t&&(r=!1!==e.component.setDrawAction("point")&&r),r},null,null)),(e()(),r["\u0275eld"](13,0,null,null,0,"i",[["class","fa fa-map-marker"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n  "])),(e()(),r["\u0275eld"](15,0,null,null,1,"button",[["type","button"]],[[8,"className",0]],[[null,"click"]],function(e,t,o){var r=!0;return"click"===t&&(r=!1!==e.component.setDrawAction("custom")&&r),r},null,null)),(e()(),r["\u0275eld"](16,0,null,null,0,"i",[["class","fa fa-pencil-square-o"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n\n"])),(e()(),r["\u0275ted"](-1,null,["\n\n"])),(e()(),r["\u0275eld"](19,0,null,null,12,"div",[["class","projection"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n  "])),(e()(),r["\u0275eld"](21,0,null,null,0,"i",[["class","fa fa-globe"]],null,null,null,null,null)),(e()(),r["\u0275eld"](22,0,null,null,8,"select",[],null,[[null,"change"]],function(e,t,o){var r=!0;return"change"===t&&(r=!1!==e.component.selectProjectionSystem(o.target.value)&&r),r},null,null)),(e()(),r["\u0275eld"](23,0,null,null,3,"option",[["value","EPSG:3857"]],null,null,null,null,null)),r["\u0275did"](24,147456,null,0,mi,[r.ElementRef,r.Renderer2,[8,null]],{value:[0,"value"]},null),r["\u0275did"](25,147456,null,0,Si,[r.ElementRef,r.Renderer2,[8,null]],{value:[0,"value"]},null),(e()(),r["\u0275ted"](-1,null,["EPSG:3857"])),(e()(),r["\u0275eld"](27,0,null,null,3,"option",[["value","EPSG:4326"]],null,null,null,null,null)),r["\u0275did"](28,147456,null,0,mi,[r.ElementRef,r.Renderer2,[8,null]],{value:[0,"value"]},null),r["\u0275did"](29,147456,null,0,Si,[r.ElementRef,r.Renderer2,[8,null]],{value:[0,"value"]},null),(e()(),r["\u0275ted"](-1,null,["EPSG:4326"])),(e()(),r["\u0275ted"](-1,null,["\n"])),(e()(),r["\u0275ted"](-1,null,["\n\n"])),(e()(),r["\u0275and"](16777216,null,null,1,null,ip)),r["\u0275did"](34,16384,null,0,F,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275ted"](-1,null,["\n\n"])),(e()(),r["\u0275and"](16777216,null,null,1,null,sp)),r["\u0275did"](37,16384,null,0,F,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275ted"](-1,null,["\n\n"])),(e()(),r["\u0275and"](16777216,null,null,1,null,gp)),r["\u0275did"](40,16384,null,0,F,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275ted"](-1,null,["\n\n"])),(e()(),r["\u0275and"](16777216,null,null,1,null,yp)),r["\u0275did"](43,16384,null,0,F,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275ted"](-1,null,["\n\n"])),(e()(),r["\u0275and"](16777216,null,null,1,null,fp)),r["\u0275did"](46,16384,null,0,F,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275ted"](-1,null,["\n"]))],function(e,t){var o=t.component;e(t,24,0,"EPSG:3857"),e(t,25,0,"EPSG:3857"),e(t,28,0,"EPSG:4326"),e(t,29,0,"EPSG:4326"),e(t,34,0,"bbox"==o.drawAction),e(t,37,0,"polygon"==o.drawAction),e(t,40,0,"point"==o.drawAction),e(t,43,0,"circle"==o.drawAction),e(t,46,0,"custom"==o.drawAction)},function(e,t){var o=t.component;e(t,3,0,r["\u0275inlineInterpolate"](1,"btn btn-primary ","bbox"===o.drawAction?"active":"","")),e(t,6,0,r["\u0275inlineInterpolate"](1,"btn btn-primary ","polygon"===o.drawAction?"active":"","")),e(t,9,0,r["\u0275inlineInterpolate"](1,"btn btn-primary ","circle"===o.drawAction?"active":"","")),e(t,12,0,r["\u0275inlineInterpolate"](1,"btn btn-primary ","point"===o.drawAction?"active":"","")),e(t,15,0,r["\u0275inlineInterpolate"](1,"btn btn-primary ","custom"===o.drawAction?"active":"",""))})}var vp=function(){function e(e,t,o){this._eref=e,this.mapboxService=t,this.ngRedux=o}return e.prototype.ngOnInit=function(){this.items=[]},e.prototype.onClick=function(e){this._eref.nativeElement.contains(e.target)||(this.showList=!1)},e.prototype.zoomToResult=function(e){this.ngRedux.dispatch({type:"SET_ACTIVE_FEATURE",body:{feature:new i.Feature({geometry:new i.geom.Point(i.proj.transform(e.geometry.coordinates,"EPSG:4326","EPSG:3857")),name:e.text})}}),this.selectedTerm=e.place_name,this.items=[],this.showList=!1},e.prototype.toggleList=function(){this.items.length>0&&!this.showList&&(this.showList=!0)},e.prototype.searchLocation=function(){var e=this;this.selectedTerm&&""!==this.selectedTerm?this.mapboxService.search(this.selectedTerm).subscribe(function(t){e.items=t.features,e.showList=!0},function(t){e.items=[],e.showList=!1}):(this.items=[],this.showList=!1)},e}(),_p=r["\u0275crt"]({encapsulation:0,styles:[["h1[_ngcontent-%COMP%]{margin-bottom:1.5rem}h2[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:.5rem;margin-top:1rem}h3[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:1rem}.searchResult[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;padding:.5rem;-webkit-box-pack:stretch;-ms-flex-pack:stretch;justify-content:stretch;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.searchResult[_ngcontent-%COMP%]:hover{cursor:pointer;border:1px solid #dedede}.searchResult[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem}input[type=text][_ngcontent-%COMP%]{border-radius:.25rem}"]],data:{}});function Sp(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,3,"li",[["class","searchResult"]],null,[[null,"click"]],function(e,t,o){var r=!0;return"click"===t&&(r=!1!==e.component.zoomToResult(e.context.$implicit)&&r),r},null,null)),(e()(),r["\u0275ted"](-1,null,["\n    "])),(e()(),r["\u0275eld"](2,0,null,null,0,"i",[["class","fa fa-map-marker"]],null,null,null,null,null)),(e()(),r["\u0275ted"](3,null,["\n    ","\n  "]))],null,function(e,t){e(t,3,0,t.context.$implicit.place_name)})}function xp(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,4,"ul",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n  "])),(e()(),r["\u0275and"](16777216,null,null,1,null,Sp)),r["\u0275did"](3,802816,null,0,D,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),r["\u0275ted"](-1,null,["\n"]))],function(e,t){e(t,3,0,t.component.items)},null)}function Ep(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"h1",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Search"])),(e()(),r["\u0275ted"](-1,null,["\n\n"])),(e()(),r["\u0275eld"](3,0,null,null,1,"h2",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["Location"])),(e()(),r["\u0275ted"](-1,null,["\n\n"])),(e()(),r["\u0275eld"](6,0,null,null,5,"input",[["placeholder","Search for a location"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"focus"],[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,o){var n=!0,i=e.component;return"input"===t&&(n=!1!==r["\u0275nov"](e,7)._handleInput(o.target.value)&&n),"blur"===t&&(n=!1!==r["\u0275nov"](e,7).onTouched()&&n),"compositionstart"===t&&(n=!1!==r["\u0275nov"](e,7)._compositionStart()&&n),"compositionend"===t&&(n=!1!==r["\u0275nov"](e,7)._compositionEnd(o.target.value)&&n),"ngModelChange"===t&&(n=!1!==(i.selectedTerm=o)&&n),"focus"===t&&(n=!1!==i.toggleList()&&n),"keyup"===t&&(n=!1!==i.searchLocation()&&n),n},null,null)),r["\u0275did"](7,16384,null,0,li,[r.Renderer2,r.ElementRef,[2,ii]],null,null),r["\u0275prd"](1024,null,ri,function(e){return[e]},[li]),r["\u0275did"](9,671744,null,0,Hi,[[8,null],[8,null],[8,null],[2,ri]],{model:[0,"model"]},{update:"ngModelChange"}),r["\u0275prd"](2048,null,ci,null,[Hi]),r["\u0275did"](11,16384,null,0,Ai,[ci],null,null),(e()(),r["\u0275ted"](-1,null,["\n"])),(e()(),r["\u0275and"](16777216,null,null,1,null,xp)),r["\u0275did"](14,16384,null,0,F,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275ted"](-1,null,["\n"]))],function(e,t){var o=t.component;e(t,9,0,o.selectedTerm),e(t,14,0,o.showList)},function(e,t){e(t,6,0,r["\u0275nov"](t,11).ngClassUntouched,r["\u0275nov"](t,11).ngClassTouched,r["\u0275nov"](t,11).ngClassPristine,r["\u0275nov"](t,11).ngClassDirty,r["\u0275nov"](t,11).ngClassValid,r["\u0275nov"](t,11).ngClassInvalid,r["\u0275nov"](t,11).ngClassPending)})}var Pp=function(){function e(){}return e.prototype.ngOnInit=function(){},e}(),bp=r["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{width:40rem;height:90vh;padding:2rem;background-color:#fff;color:rgba(90,90,90,.9);overflow:auto}"]],data:{}});function Tp(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"app-layerselection",[],null,null,null,$s,Bs)),r["\u0275did"](1,114688,null,0,js,[oa.NgRedux,Us],null,null)],function(e,t){e(t,1,0)},null)}function Cp(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"app-draw",[],null,null,null,mp,op)),r["\u0275did"](1,114688,null,0,tp,[oa.NgRedux,ka,ja],null,null)],function(e,t){e(t,1,0)},null)}function Rp(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"app-search",[],null,[["window","click"]],function(e,t,o){var n=!0;return"window:click"===t&&(n=!1!==r["\u0275nov"](e,1).onClick(o)&&n),n},Ep,_p)),r["\u0275did"](1,114688,null,0,vp,[r.ElementRef,ka,oa.NgRedux],null,null)],function(e,t){e(t,1,0)},null)}function wp(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,10,"div",[],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n  "])),(e()(),r["\u0275and"](16777216,null,null,1,null,Tp)),r["\u0275did"](3,16384,null,0,F,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275ted"](-1,null,["\n  "])),(e()(),r["\u0275and"](16777216,null,null,1,null,Cp)),r["\u0275did"](6,16384,null,0,F,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275ted"](-1,null,["\n  "])),(e()(),r["\u0275and"](16777216,null,null,1,null,Rp)),r["\u0275did"](9,16384,null,0,F,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275ted"](-1,null,["\n"])),(e()(),r["\u0275ted"](-1,null,["\n"]))],function(e,t){var o=t.component;e(t,3,0,"SELECT_LAYERS"===o.action),e(t,6,0,"DRAW"===o.action),e(t,9,0,"SEARCH"===o.action)},null)}var Mp=0,Lp=function(e){function t(t){var o=e.call(this,t)||this;return o._elementRef=t,o._value=0,o._bufferValue=0,o.mode="determinate",o.progressbarId="mat-progress-bar-"+Mp++,o}return Object(c.__extends)(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){this._value=Op(e||0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bufferValue",{get:function(){return this._bufferValue},set:function(e){this._bufferValue=Op(e||0)},enumerable:!0,configurable:!0}),t.prototype._primaryTransform=function(){return{transform:"scaleX("+this.value/100+")"}},t.prototype._bufferTransform=function(){if("buffer"===this.mode)return{transform:"scaleX("+this.bufferValue/100+")"}},t}(xr(function(e){this._elementRef=e},"primary"));function Op(e,t,o){return void 0===t&&(t=0),void 0===o&&(o=100),Math.max(t,Math.min(o,e))}var Ip=function(){},Ap=r["\u0275crt"]({encapsulation:2,styles:[".mat-progress-bar{display:block;height:5px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:'';display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2s infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2s infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2s infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2s infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(.5,0,.70173,.49582);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(.30244,.38135,.55,.95635);transform:translateX(83.67142%)}100%{transform:translateX(200.61106%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(.08)}36.65%{animation-timing-function:cubic-bezier(.33473,.12482,.78584,1);transform:scaleX(.08)}69.15%{animation-timing-function:cubic-bezier(.06,.11,.6,1);transform:scaleX(.66148)}100%{transform:scaleX(.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(.15,0,.51506,.40969);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(.31033,.28406,.8,.73371);transform:translateX(37.65191%)}48.35%{animation-timing-function:cubic-bezier(.4,.62704,.6,.90203);transform:translateX(84.38617%)}100%{transform:translateX(160.27778%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(.15,0,.51506,.40969);transform:scaleX(.08)}19.15%{animation-timing-function:cubic-bezier(.31033,.28406,.8,.73371);transform:scaleX(.4571)}44.15%{animation-timing-function:cubic-bezier(.4,.62704,.6,.90203);transform:scaleX(.72796)}100%{transform:scaleX(.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-10px)}}"],data:{}});function Dp(e){return r["\u0275vid"](2,[(e()(),r["\u0275eld"](0,0,null,null,4,":svg:svg",[["class","mat-progress-bar-background mat-progress-bar-element"],["focusable","false"],["height","5"],["width","100%"]],null,null,null,null,null)),(e()(),r["\u0275eld"](1,0,null,null,2,":svg:defs",[],null,null,null,null,null)),(e()(),r["\u0275eld"](2,0,null,null,1,":svg:pattern",[["height","5"],["patternUnits","userSpaceOnUse"],["width","10"],["x","5"],["y","0"]],[[8,"id",0]],null,null,null,null)),(e()(),r["\u0275eld"](3,0,null,null,0,":svg:circle",[["cx","2.5"],["cy","2.5"],["r","2.5"]],null,null,null,null,null)),(e()(),r["\u0275eld"](4,0,null,null,0,":svg:rect",[["height","100%"],["width","100%"]],[[1,"fill",0]],null,null,null,null)),(e()(),r["\u0275eld"](5,0,null,null,1,"div",[["class","mat-progress-bar-buffer mat-progress-bar-element"]],null,null,null,null,null)),r["\u0275did"](6,278528,null,0,V,[r.KeyValueDiffers,r.ElementRef,r.Renderer2],{ngStyle:[0,"ngStyle"]},null),(e()(),r["\u0275eld"](7,0,null,null,1,"div",[["class","mat-progress-bar-primary mat-progress-bar-fill mat-progress-bar-element"]],null,null,null,null,null)),r["\u0275did"](8,278528,null,0,V,[r.KeyValueDiffers,r.ElementRef,r.Renderer2],{ngStyle:[0,"ngStyle"]},null),(e()(),r["\u0275eld"](9,0,null,null,0,"div",[["class","mat-progress-bar-secondary mat-progress-bar-fill mat-progress-bar-element"]],null,null,null,null,null))],function(e,t){var o=t.component;e(t,6,0,o._bufferTransform()),e(t,8,0,o._primaryTransform())},function(e,t){var o=t.component;e(t,2,0,o.progressbarId),e(t,4,0,"url(#"+o.progressbarId+")")})}var Np=function(){function e(){}return e.prototype.ngOnInit=function(){this.calculateProgress()},e.prototype.ngOnChanges=function(e){this.calculateProgress()},e.prototype.calculateProgress=function(){this.progress=this.loadedCount/this.loadingCount*100},e}(),Fp=r["\u0275crt"]({encapsulation:0,styles:[["mat-progress-bar[_ngcontent-%COMP%]{height:.75rem}"]],data:{}});function Gp(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"mat-progress-bar",[["aria-valuemax","100"],["aria-valuemin","0"],["class","mat-progress-bar"],["mode","determinate"],["role","progressbar"]],[[1,"aria-valuenow",0],[1,"mode",0]],null,null,Dp,Ap)),r["\u0275did"](1,49152,null,0,Lp,[r.ElementRef],{value:[0,"value"],mode:[1,"mode"]},null),(e()(),r["\u0275ted"](-1,null,["\n"]))],function(e,t){e(t,1,0,r["\u0275inlineInterpolate"](1,"",t.component.progress,""),"determinate")},function(e,t){e(t,0,0,r["\u0275nov"](t,1).value,r["\u0275nov"](t,1).mode)})}var kp=function(){function e(e){this.ngRedux=e}return e.prototype.ngOnInit=function(){},e.prototype.selectAction=function(){this.ngRedux.dispatch({type:"SELECT_ACTION",body:{action:this.isActive?"":this.action}})},e}(),jp=r["\u0275crt"]({encapsulation:0,styles:[["div[_ngcontent-%COMP%]{background-color:rgba(90,90,90,.9);color:#fff;-webkit-border-top-right-radius:.5rem;-webkit-border-bottom-right-radius:.5rem;-moz-border-radius-topright:.5rem;-moz-border-radius-bottomright:.5rem;border-top-right-radius:.5rem;border-bottom-right-radius:.5rem;padding:1rem;cursor:pointer;-webkit-box-shadow:4px 4px 5px rgba(100,100,100,.2);box-shadow:4px 4px 5px rgba(100,100,100,.2);margin-bottom:.2rem}.active[_ngcontent-%COMP%]{background-color:#fff;color:rgba(90,90,90,.9)}i[_ngcontent-%COMP%]{font-size:1.5rem}"]],data:{}});function qp(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,3,"div",[],[[8,"className",0]],[[null,"click"]],function(e,t,o){var r=!0;return"click"===t&&(r=!1!==e.component.selectAction()&&r),r},null,null)),(e()(),r["\u0275ted"](-1,null,["\n  "])),(e()(),r["\u0275eld"](2,0,null,null,0,"i",[["aria-hidden","true"]],[[8,"className",0]],null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n"])),(e()(),r["\u0275ted"](-1,null,["\n"]))],null,function(e,t){var o=t.component;e(t,0,0,r["\u0275inlineInterpolate"](1,"",o.isActive?"active":"","")),e(t,2,0,r["\u0275inlineInterpolate"](1,"fa ",o.icon," "))})}var Vp=[{id:"SELECT_LAYERS",text:"Select layers to display",icon:"fa-map-o"},{id:"DRAW",text:"Draw a geometry on the map",icon:"fa-pencil"},{id:"SEARCH",text:"Perform a search on the map",icon:"fa-search"}],Up=function(){function e(){}return e.prototype.ngOnInit=function(){var e=this;this.actions=Vp,this.ui.subscribe(function(t){e.activeAction=t.activeAction,console.log(e.activeAction)})},Object(c.__decorate)([Object(n.select)(),Object(c.__metadata)("design:type",Object)],e.prototype,"ui",void 0),e}(),Bp=r["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}"]],data:{}});function Wp(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"app-toolboxaction",[],null,null,null,qp,jp)),r["\u0275did"](1,114688,null,0,kp,[oa.NgRedux],{icon:[0,"icon"],action:[1,"action"],isActive:[2,"isActive"]},null)],function(e,t){e(t,1,0,t.context.$implicit.icon,t.context.$implicit.id,t.context.$implicit.id===t.component.activeAction)},null)}function Yp(e){return r["\u0275vid"](0,[(e()(),r["\u0275and"](16777216,null,null,1,null,Wp)),r["\u0275did"](1,802816,null,0,D,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),r["\u0275ted"](-1,null,["\n"]))],function(e,t){e(t,1,0,t.component.actions)},null)}var Kp=r["\u0275crt"]({encapsulation:0,styles:[[".sidebar[_ngcontent-%COMP%]{position:absolute;top:2rem;left:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.calendar[_ngcontent-%COMP%]{position:absolute;top:0;left:39%;background-color:#fff;color:rgba(90,90,90,.9);-webkit-border-bottom-left-radius:.5rem;-webkit-border-bottom-right-radius:.5rem;-moz-border-radius-bottomleft:.5rem;-moz-border-radius-bottomright:.5rem;border-bottom-left-radius:.5rem;border-bottom-right-radius:.5rem;padding:1.5rem 3rem .5rem;-webkit-box-shadow:4px 4px 5px rgba(100,100,100,.2);box-shadow:4px 4px 5px rgba(100,100,100,.2)}.legend[_ngcontent-%COMP%]{position:absolute;top:2rem;right:0;background-color:#fff;color:rgba(90,90,90,.9);-webkit-border-bottom-left-radius:.5rem;-webkit-border-top-left-radius:.5rem;-moz-border-radius-bottomleft:.5rem;-moz-border-radius-topleft:.5rem;border-bottom-left-radius:.5rem;border-top-left-radius:.5rem;padding:1rem 2rem;-webkit-box-shadow:4px 4px 5px rgba(100,100,100,.2);box-shadow:4px 4px 5px rgba(100,100,100,.2)}.progress-bar[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100vw}"]],data:{animation:[{type:7,name:"sidebarOpen",definitions:[{type:0,name:"open",styles:{type:6,styles:{transform:"translate3d(0, 0, 0)"},offset:null},options:void 0},{type:0,name:"close",styles:{type:6,styles:{transform:"translate3d(100%, 0, 0)"},offset:null},options:void 0},{type:1,expr:"open => close",animation:{type:4,styles:null,timings:"400ms ease-in-out"},options:null},{type:1,expr:"close => open",animation:{type:4,styles:null,timings:"400ms ease-in-out"},options:null}],options:{}}]}});function Xp(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,7,"app-map",[],null,[["document","keydown"]],function(e,t,o){var n=!0;return"document:keydown"===t&&(n=!1!==r["\u0275nov"](e,1).stopActionKey(o)&&n),n},Ua,Va)),r["\u0275did"](1,638976,null,0,qa,[oa.NgRedux,ka,ja],{extent:[0,"extent"],backgroundLayers:[1,"backgroundLayers"],layers:[2,"layers"],viewExtent:[3,"viewExtent"],interaction:[4,"interaction"],activeFeature:[5,"activeFeature"],features:[6,"features"]},null),r["\u0275pad"](2,4),r["\u0275pid"](131072,Y,[r.ChangeDetectorRef]),r["\u0275pid"](131072,Y,[r.ChangeDetectorRef]),r["\u0275pid"](131072,Y,[r.ChangeDetectorRef]),r["\u0275pid"](131072,Y,[r.ChangeDetectorRef]),r["\u0275pid"](131072,Y,[r.ChangeDetectorRef])],function(e,t){var o=t.component;e(t,1,0,e(t,2,0,-46.933594,16.636192,85.78125,72.86793),r["\u0275unv"](t,1,1,r["\u0275nov"](t,3).transform(o.layers)).backgroundLayers,r["\u0275unv"](t,1,2,r["\u0275nov"](t,4).transform(o.layers)).layers,r["\u0275unv"](t,1,3,r["\u0275nov"](t,5).transform(o.layers)).extent,r["\u0275unv"](t,1,4,r["\u0275nov"](t,6).transform(o.ui)).activeSelection,r["\u0275unv"](t,1,5,r["\u0275nov"](t,7).transform(o.layers)).activeFeature,o.features)},null)}function Zp(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,5,"div",[["class","calendar"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n  "])),(e()(),r["\u0275eld"](2,0,null,null,2,"app-calendar",[],null,null,null,os,ts)),r["\u0275did"](3,638976,null,0,es,[oa.NgRedux],{dateranges:[0,"dateranges"]},null),r["\u0275pid"](131072,Y,[r.ChangeDetectorRef]),(e()(),r["\u0275ted"](-1,null,["\n"]))],function(e,t){var o=t.component;e(t,3,0,r["\u0275unv"](t,3,0,r["\u0275nov"](t,4).transform(o.ui)).calendarDates)},null)}function Hp(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,5,"div",[["class","legend"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n  "])),(e()(),r["\u0275eld"](2,0,null,null,2,"app-legend",[],null,null,null,Ns,As)),r["\u0275did"](3,638976,null,0,Is,[oa.NgRedux],{layers:[0,"layers"]},null),r["\u0275pid"](131072,Y,[r.ChangeDetectorRef]),(e()(),r["\u0275ted"](-1,null,["\n"]))],function(e,t){var o=t.component;e(t,3,0,r["\u0275unv"](t,3,0,r["\u0275nov"](t,4).transform(o.layers)).layers)},null)}function zp(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,2,"app-sidebar",[],null,null,null,wp,bp)),r["\u0275did"](1,114688,null,0,Pp,[],{action:[0,"action"]},null),r["\u0275pid"](131072,Y,[r.ChangeDetectorRef])],function(e,t){var o=t.component;e(t,1,0,r["\u0275unv"](t,1,0,r["\u0275nov"](t,2).transform(o.ui)).activeAction)},null)}function Jp(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,6,"div",[["class","progress-bar"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n  "])),(e()(),r["\u0275eld"](2,0,null,null,3,"app-progressbar",[],null,null,null,Gp,Fp)),r["\u0275did"](3,638976,null,0,Np,[],{loadingCount:[0,"loadingCount"],loadedCount:[1,"loadedCount"]},null),r["\u0275pid"](131072,Y,[r.ChangeDetectorRef]),r["\u0275pid"](131072,Y,[r.ChangeDetectorRef]),(e()(),r["\u0275ted"](-1,null,["\n"]))],function(e,t){var o=t.component;e(t,3,0,r["\u0275unv"](t,3,0,r["\u0275nov"](t,4).transform(o.ui)).loadingTiles,r["\u0275unv"](t,3,1,r["\u0275nov"](t,5).transform(o.ui)).loadedTiles)},null)}function Qp(e){return r["\u0275vid"](0,[(e()(),r["\u0275and"](16777216,null,null,2,null,Xp)),r["\u0275did"](1,16384,null,0,F,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),r["\u0275pid"](131072,Y,[r.ChangeDetectorRef]),(e()(),r["\u0275ted"](-1,null,["\n\n"])),(e()(),r["\u0275and"](16777216,null,null,2,null,Zp)),r["\u0275did"](5,16384,null,0,F,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),r["\u0275pid"](131072,Y,[r.ChangeDetectorRef]),(e()(),r["\u0275ted"](-1,null,["\n"])),(e()(),r["\u0275and"](16777216,null,null,2,null,Hp)),r["\u0275did"](9,16384,null,0,F,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),r["\u0275pid"](131072,Y,[r.ChangeDetectorRef]),(e()(),r["\u0275ted"](-1,null,["\n"])),(e()(),r["\u0275eld"](12,0,null,null,8,"div",[["class","sidebar"]],null,null,null,null,null)),(e()(),r["\u0275ted"](-1,null,["\n  "])),(e()(),r["\u0275and"](16777216,null,null,2,null,zp)),r["\u0275did"](15,16384,null,0,F,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),r["\u0275pid"](131072,Y,[r.ChangeDetectorRef]),(e()(),r["\u0275ted"](-1,null,["\n  "])),(e()(),r["\u0275eld"](18,0,null,null,1,"app-toolbox",[],null,null,null,Yp,Bp)),r["\u0275did"](19,114688,null,0,Up,[],null,null),(e()(),r["\u0275ted"](-1,null,["\n"])),(e()(),r["\u0275ted"](-1,null,["\n"])),(e()(),r["\u0275and"](16777216,null,null,3,null,Jp)),r["\u0275did"](23,16384,null,0,F,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),r["\u0275pid"](131072,Y,[r.ChangeDetectorRef]),r["\u0275pid"](131072,Y,[r.ChangeDetectorRef]),(e()(),r["\u0275ted"](-1,null,["\n"]))],function(e,t){var o=t.component;e(t,1,0,r["\u0275unv"](t,1,0,r["\u0275nov"](t,2).transform(o.layers)).backgroundLayers.length>0),e(t,5,0,r["\u0275unv"](t,5,0,r["\u0275nov"](t,6).transform(o.ui)).calendarDates.length>0),e(t,9,0,r["\u0275unv"](t,9,0,r["\u0275nov"](t,10).transform(o.layers)).layers.length>0),e(t,15,0,r["\u0275unv"](t,15,0,r["\u0275nov"](t,16).transform(o.ui)).activeAction),e(t,19,0),e(t,23,0,r["\u0275unv"](t,23,0,r["\u0275nov"](t,24).transform(o.ui)).loadingTiles!==r["\u0275unv"](t,23,0,r["\u0275nov"](t,25).transform(o.ui)).loadedTiles)},null)}var $p=r["\u0275ccf"]("app-main",g,function(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"app-main",[],null,null,null,Qp,Kp)),r["\u0275did"](1,114688,null,0,g,[oa.NgRedux,Us],null,null)],function(e,t){e(t,1,0)},null)},{},{},[]),eu=o("4zOZ");function tu(e,t,o){return void 0===o&&(o=Number.POSITIVE_INFINITY),Object(ra.a)(e,t,o)(this)}function ou(e){return function(t){var o=new ru(e),r=t.lift(o);return o.caught=r}}var ru=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new nu(e,this.selector,this.caught))},e}(),nu=function(e){function t(t,o,r){e.call(this,t),this.selector=o,this.caught=r}return Object(c.__extends)(t,e),t.prototype.error=function(t){if(!this.isStopped){var o=void 0;try{o=this.selector(t,this.caught)}catch(t){return void e.prototype.error.call(this,t)}this._unsubscribeAndRecycle(),this.add(Object(he.a)(this,o))}},t}(de.a);function iu(e){return ou(e)(this)}function lu(){return hn()(this)}var au=function(e){function t(){var t=e.call(this,"no elements in sequence");this.name=t.name="EmptyError",this.stack=t.stack,this.message=t.message}return Object(c.__extends)(t,e),t}(Error),su=function(){function e(e,t,o,r){this.predicate=e,this.resultSelector=t,this.defaultValue=o,this.source=r}return e.prototype.call=function(e,t){return t.subscribe(new pu(e,this.predicate,this.resultSelector,this.defaultValue,this.source))},e}(),pu=function(e){function t(t,o,r,n,i){e.call(this,t),this.predicate=o,this.resultSelector=r,this.defaultValue=n,this.source=i,this.index=0,this.hasCompleted=!1,this._emitted=!1}return Object(c.__extends)(t,e),t.prototype._next=function(e){var t=this.index++;this.predicate?this._tryPredicate(e,t):this._emit(e,t)},t.prototype._tryPredicate=function(e,t){var o;try{o=this.predicate(e,t,this.source)}catch(e){return void this.destination.error(e)}o&&this._emit(e,t)},t.prototype._emit=function(e,t){this.resultSelector?this._tryResultSelector(e,t):this._emitFinal(e)},t.prototype._tryResultSelector=function(e,t){var o;try{o=this.resultSelector(e,t)}catch(e){return void this.destination.error(e)}this._emitFinal(o)},t.prototype._emitFinal=function(e){var t=this.destination;this._emitted||(this._emitted=!0,t.next(e),t.complete(),this.hasCompleted=!0)},t.prototype._complete=function(){var e=this.destination;this.hasCompleted||"undefined"==typeof this.defaultValue?this.hasCompleted||e.error(new au):(e.next(this.defaultValue),e.complete())},t}(qe.a);function uu(e,t,o){return function(e,t,o){return function(r){return r.lift(new su(e,t,o,r))}}(e,t,o)(this)}var cu=function(){function e(e,t,o){this.predicate=e,this.thisArg=t,this.source=o}return e.prototype.call=function(e,t){return t.subscribe(new gu(e,this.predicate,this.thisArg,this.source))},e}(),gu=function(e){function t(t,o,r,n){e.call(this,t),this.predicate=o,this.thisArg=r,this.source=n,this.index=0,this.thisArg=r||this}return Object(c.__extends)(t,e),t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(qe.a);function du(e,t){return function(e,t){return function(o){return o.lift(new cu(e,t,o))}}(e,t)(this)}var hu=function(){function e(e,t,o,r){this.predicate=e,this.resultSelector=t,this.defaultValue=o,this.source=r}return e.prototype.call=function(e,t){return t.subscribe(new yu(e,this.predicate,this.resultSelector,this.defaultValue,this.source))},e}(),yu=function(e){function t(t,o,r,n,i){e.call(this,t),this.predicate=o,this.resultSelector=r,this.defaultValue=n,this.source=i,this.hasValue=!1,this.index=0,"undefined"!=typeof n&&(this.lastValue=n,this.hasValue=!0)}return Object(c.__extends)(t,e),t.prototype._next=function(e){var t=this.index++;if(this.predicate)this._tryPredicate(e,t);else{if(this.resultSelector)return void this._tryResultSelector(e,t);this.lastValue=e,this.hasValue=!0}},t.prototype._tryPredicate=function(e,t){var o;try{o=this.predicate(e,t,this.source)}catch(e){return void this.destination.error(e)}if(o){if(this.resultSelector)return void this._tryResultSelector(e,t);this.lastValue=e,this.hasValue=!0}},t.prototype._tryResultSelector=function(e,t){var o;try{o=this.resultSelector(e,t)}catch(e){return void this.destination.error(e)}this.lastValue=o,this.hasValue=!0},t.prototype._complete=function(){var e=this.destination;this.hasValue?(e.next(this.lastValue),e.complete()):e.error(new au)},t}(qe.a);function fu(e,t,o){return function(e,t,o){return function(r){return r.lift(new hu(e,t,o,r))}}(e,t,o)(this)}function mu(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),Object(dn.a)(e)(this)}function vu(e,t){var o=!1;return arguments.length>=2&&(o=!0),function(r){return r.lift(new _u(e,t,o))}}var _u=function(){function e(e,t,o){void 0===o&&(o=!1),this.accumulator=e,this.seed=t,this.hasSeed=o}return e.prototype.call=function(e,t){return t.subscribe(new Su(e,this.accumulator,this.seed,this.hasSeed))},e}(),Su=function(e){function t(t,o,r,n){e.call(this,t),this.accumulator=o,this._seed=r,this.hasSeed=n,this.index=0}return Object(c.__extends)(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},t.prototype._tryNext=function(e){var t,o=this.index++;try{t=this.accumulator(this.seed,e,o)}catch(e){this.destination.error(e)}this.seed=t,this.destination.next(t)},t}(qe.a);function xu(e){return function(t){return 0===e?new Ue.a:t.lift(new Eu(e))}}var Eu=function(){function e(e){if(this.total=e,this.total<0)throw new Ve}return e.prototype.call=function(e,t){return t.subscribe(new Pu(e,this.total))},e}(),Pu=function(e){function t(t,o){e.call(this,t),this.total=o,this.ring=new Array,this.count=0}return Object(c.__extends)(t,e),t.prototype._next=function(e){var t=this.ring,o=this.total,r=this.count++;t.length<o?t.push(e):t[r%o]=e},t.prototype._complete=function(){var e=this.destination,t=this.count;if(t>0)for(var o=this.count>=this.total?this.total:this.count,r=this.ring,n=0;n<o;n++){var i=t++%o;e.next(r[i])}e.complete()},t}(qe.a),bu=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new Tu(e,this.defaultValue))},e}(),Tu=function(e){function t(t,o){e.call(this,t),this.defaultValue=o,this.isEmpty=!0}return Object(c.__extends)(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(qe.a),Cu=o("f9aG");function Ru(e,t){return arguments.length>=2?function(o){return Object(Cu.a)(vu(e,t),xu(1),(void 0===(r=t)&&(r=null),function(e){return e.lift(new bu(r))}))(o);var r}:function(t){return Object(Cu.a)(vu(function(t,o,r){return e(t,o,r+1)}),xu(1))(t)}}var wu=function(e,t){this.id=e,this.url=t},Mu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(c.__extends)(t,e),t.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},t}(wu),Lu=function(e){function t(t,o,r){var n=e.call(this,t,o)||this;return n.urlAfterRedirects=r,n}return Object(c.__extends)(t,e),t.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},t}(wu),Ou=function(e){function t(t,o,r){var n=e.call(this,t,o)||this;return n.reason=r,n}return Object(c.__extends)(t,e),t.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},t}(wu),Iu=function(e){function t(t,o,r){var n=e.call(this,t,o)||this;return n.error=r,n}return Object(c.__extends)(t,e),t.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},t}(wu),Au=function(e){function t(t,o,r,n){var i=e.call(this,t,o)||this;return i.urlAfterRedirects=r,i.state=n,i}return Object(c.__extends)(t,e),t.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},t}(wu),Du=function(e){function t(t,o,r,n){var i=e.call(this,t,o)||this;return i.urlAfterRedirects=r,i.state=n,i}return Object(c.__extends)(t,e),t.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},t}(wu),Nu=function(e){function t(t,o,r,n,i){var l=e.call(this,t,o)||this;return l.urlAfterRedirects=r,l.state=n,l.shouldActivate=i,l}return Object(c.__extends)(t,e),t.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},t}(wu),Fu=function(e){function t(t,o,r,n){var i=e.call(this,t,o)||this;return i.urlAfterRedirects=r,i.state=n,i}return Object(c.__extends)(t,e),t.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},t}(wu),Gu=function(e){function t(t,o,r,n){var i=e.call(this,t,o)||this;return i.urlAfterRedirects=r,i.state=n,i}return Object(c.__extends)(t,e),t.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},t}(wu),ku=function(){function e(e){this.route=e}return e.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},e}(),ju=function(){function e(e){this.route=e}return e.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},e}(),qu=function(){function e(e){this.snapshot=e}return e.prototype.toString=function(){return"ChildActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},e}(),Vu=function(){function e(e){this.snapshot=e}return e.prototype.toString=function(){return"ChildActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},e}(),Uu=function(){function e(e){this.snapshot=e}return e.prototype.toString=function(){return"ActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},e}(),Bu=function(){function e(e){this.snapshot=e}return e.prototype.toString=function(){return"ActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},e}(),Wu="primary",Yu=function(){function e(e){this.params=e||{}}return e.prototype.has=function(e){return this.params.hasOwnProperty(e)},e.prototype.get=function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null},e.prototype.getAll=function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]},Object.defineProperty(e.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),e}();function Ku(e){return new Yu(e)}function Xu(e,t,o){var r=o.path.split("/");if(r.length>e.length)return null;if("full"===o.pathMatch&&(t.hasChildren()||r.length<e.length))return null;for(var n={},i=0;i<r.length;i++){var l=r[i],a=e[i];if(l.startsWith(":"))n[l.substring(1)]=a;else if(l!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:n}}var Zu=function(e,t){this.routes=e,this.module=t};function Hu(e,t){void 0===t&&(t="");for(var o=0;o<e.length;o++){var r=e[o];zu(r,Ju(t,r))}}function zu(e,t){if(!e)throw new Error("\n      Invalid configuration of route '"+t+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(e))throw new Error("Invalid configuration of route '"+t+"': Array cannot be specified");if(!e.component&&e.outlet&&e.outlet!==Wu)throw new Error("Invalid configuration of route '"+t+"': a componentless route cannot have a named outlet set");if(e.redirectTo&&e.children)throw new Error("Invalid configuration of route '"+t+"': redirectTo and children cannot be used together");if(e.redirectTo&&e.loadChildren)throw new Error("Invalid configuration of route '"+t+"': redirectTo and loadChildren cannot be used together");if(e.children&&e.loadChildren)throw new Error("Invalid configuration of route '"+t+"': children and loadChildren cannot be used together");if(e.redirectTo&&e.component)throw new Error("Invalid configuration of route '"+t+"': redirectTo and component cannot be used together");if(e.path&&e.matcher)throw new Error("Invalid configuration of route '"+t+"': path and matcher cannot be used together");if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error("Invalid configuration of route '"+t+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===e.path&&void 0===e.matcher)throw new Error("Invalid configuration of route '"+t+"': routes must have either a path or a matcher specified");if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error("Invalid configuration of route '"+t+"': path cannot start with a slash");if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error("Invalid configuration of route '{path: \""+t+'", redirectTo: "'+e.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.");if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error("Invalid configuration of route '"+t+"': pathMatch can only be set to 'prefix' or 'full'");e.children&&Hu(e.children,t)}function Ju(e,t){return t?e||t.path?e&&!t.path?e+"/":!e&&t.path?t.path:e+"/"+t.path:"":e}function Qu(e,t){var o,r=Object.keys(e),n=Object.keys(t);if(r.length!=n.length)return!1;for(var i=0;i<r.length;i++)if(e[o=r[i]]!==t[o])return!1;return!0}function $u(e){return Array.prototype.concat.apply([],e)}function ec(e){return e.length>0?e[e.length-1]:null}function tc(e,t){for(var o in e)e.hasOwnProperty(o)&&t(e[o],o)}function oc(e){var t=mu.call(e);return du.call(t,function(e){return!0===e})}function rc(e){return Object(r["\u0275isObservable"])(e)?e:Object(r["\u0275isPromise"])(e)?Kn(Promise.resolve(e)):re(e)}function nc(e,t,o){return o?function(e,t){return Qu(e,t)}(e.queryParams,t.queryParams)&&function e(t,o){if(!sc(t.segments,o.segments))return!1;if(t.numberOfChildren!==o.numberOfChildren)return!1;for(var r in o.children){if(!t.children[r])return!1;if(!e(t.children[r],o.children[r]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(function(o){return t[o]===e[o]})}(e.queryParams,t.queryParams)&&function e(t,o){return function t(o,r,n){if(o.segments.length>n.length)return!!sc(l=o.segments.slice(0,n.length),n)&&!r.hasChildren();if(o.segments.length===n.length){if(!sc(o.segments,n))return!1;for(var i in r.children){if(!o.children[i])return!1;if(!e(o.children[i],r.children[i]))return!1}return!0}var l=n.slice(0,o.segments.length),a=n.slice(o.segments.length);return!!sc(o.segments,l)&&!!o.children[Wu]&&t(o.children[Wu],r,a)}(t,o,o.segments)}(e.root,t.root)}var ic=function(){function e(e,t,o){this.root=e,this.queryParams=t,this.fragment=o}return Object.defineProperty(e.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=Ku(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return gc.serialize(this)},e}(),lc=function(){function e(e,t){var o=this;this.segments=e,this.children=t,this.parent=null,tc(t,function(e,t){return e.parent=o})}return e.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(e.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return dc(this)},e}(),ac=function(){function e(e,t){this.path=e,this.parameters=t}return Object.defineProperty(e.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=Ku(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return fc(this)},e}();function sc(e,t){return e.length===t.length&&e.every(function(e,o){return e.path===t[o].path})}function pc(e,t){var o=[];return tc(e.children,function(e,r){r===Wu&&(o=o.concat(t(e,r)))}),tc(e.children,function(e,r){r!==Wu&&(o=o.concat(t(e,r)))}),o}var uc=function(){},cc=function(){function e(){}return e.prototype.parse=function(e){var t=new xc(e);return new ic(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())},e.prototype.serialize=function(e){var t,o;return"/"+function e(t,o){if(!t.hasChildren())return dc(t);if(o){var r=t.children[Wu]?e(t.children[Wu],!1):"",n=[];return tc(t.children,function(t,o){o!==Wu&&n.push(o+":"+e(t,!1))}),n.length>0?r+"("+n.join("//")+")":r}var i=pc(t,function(o,r){return r===Wu?[e(t.children[Wu],!1)]:[r+":"+e(o,!1)]});return dc(t)+"/("+i.join("//")+")"}(e.root,!0)+(t=e.queryParams,(o=Object.keys(t).map(function(e){var o=t[e];return Array.isArray(o)?o.map(function(t){return hc(e)+"="+hc(t)}).join("&"):hc(e)+"="+hc(o)})).length?"?"+o.join("&"):"")+("string"==typeof e.fragment?"#"+encodeURI(e.fragment):"")},e}(),gc=new cc;function dc(e){return e.segments.map(function(e){return fc(e)}).join("/")}function hc(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";")}function yc(e){return decodeURIComponent(e)}function fc(e){return""+hc(e.path)+(t=e.parameters,Object.keys(t).map(function(e){return";"+hc(e)+"="+hc(t[e])}).join(""));var t}var mc=/^[^\/()?;=&#]+/;function vc(e){var t=e.match(mc);return t?t[0]:""}var _c=/^[^=?&#]+/,Sc=/^[^?&#]+/,xc=function(){function e(e){this.url=e,this.remaining=e}return e.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new lc([],{}):new lc([],this.parseChildren())},e.prototype.parseQueryParams=function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e},e.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURI(this.remaining):null},e.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(o[Wu]=new lc(e,t)),o},e.prototype.parseSegment=function(){var e=vc(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(e),new ac(yc(e),this.parseMatrixParams())},e.prototype.parseMatrixParams=function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e},e.prototype.parseParam=function(e){var t=vc(this.remaining);if(t){this.capture(t);var o="";if(this.consumeOptional("=")){var r=vc(this.remaining);r&&this.capture(o=r)}e[yc(t)]=yc(o)}},e.prototype.parseQueryParam=function(e){var t,o=(t=this.remaining.match(_c))?t[0]:"";if(o){this.capture(o);var r="";if(this.consumeOptional("=")){var n=function(e){var t=e.match(Sc);return t?t[0]:""}(this.remaining);n&&this.capture(r=n)}var i=yc(o),l=yc(r);if(e.hasOwnProperty(i)){var a=e[i];Array.isArray(a)||(e[i]=a=[a]),a.push(l)}else e[i]=l}},e.prototype.parseParens=function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var o=vc(this.remaining),r=this.remaining[o.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '"+this.url+"'");var n=void 0;o.indexOf(":")>-1?(n=o.substr(0,o.indexOf(":")),this.capture(n),this.capture(":")):e&&(n=Wu);var i=this.parseChildren();t[n]=1===Object.keys(i).length?i[Wu]:new lc([],i),this.consumeOptional("//")}return t},e.prototype.peekStartsWith=function(e){return this.remaining.startsWith(e)},e.prototype.consumeOptional=function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)},e.prototype.capture=function(e){if(!this.consumeOptional(e))throw new Error('Expected "'+e+'".')},e}(),Ec=function(e){this.segmentGroup=e||null},Pc=function(e){this.urlTree=e};function bc(e){return new te.Observable(function(t){return t.error(new Ec(e))})}function Tc(e){return new te.Observable(function(t){return t.error(new Pc(e))})}function Cc(e){return new te.Observable(function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+e+"'"))})}var Rc=function(){function e(e,t,o,n,i){this.configLoader=t,this.urlSerializer=o,this.urlTree=n,this.config=i,this.allowRedirects=!0,this.ngModule=e.get(r.NgModuleRef)}return e.prototype.apply=function(){var e=this,t=this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Wu),o=Xn.a.call(t,function(t){return e.createUrlTree(t,e.urlTree.queryParams,e.urlTree.fragment)});return iu.call(o,function(t){if(t instanceof Pc)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof Ec)throw e.noMatchError(t);throw t})},e.prototype.match=function(e){var t=this,o=this.expandSegmentGroup(this.ngModule,this.config,e.root,Wu),r=Xn.a.call(o,function(o){return t.createUrlTree(o,e.queryParams,e.fragment)});return iu.call(r,function(e){if(e instanceof Ec)throw t.noMatchError(e);throw e})},e.prototype.noMatchError=function(e){return new Error("Cannot match any routes. URL Segment: '"+e.segmentGroup+"'")},e.prototype.createUrlTree=function(e,t,o){var r,n=e.segments.length>0?new lc([],((r={})[Wu]=e,r)):e;return new ic(n,t,o)},e.prototype.expandSegmentGroup=function(e,t,o,r){return 0===o.segments.length&&o.hasChildren()?Xn.a.call(this.expandChildren(e,t,o),function(e){return new lc([],e)}):this.expandSegment(e,o,t,o.segments,r,!0)},e.prototype.expandChildren=function(e,t,o){var r=this;return function(o,n){if(0===Object.keys(o).length)return re({});var i=[],l=[],a={};tc(o,function(o,n){var s=Xn.a.call(r.expandSegmentGroup(e,t,o,n),function(e){return a[n]=e});n===Wu?i.push(s):l.push(s)});var s=lu.call(re.apply(void 0,i.concat(l))),p=fu.call(s);return Xn.a.call(p,function(){return a})}(o.children)},e.prototype.expandSegment=function(e,t,o,r,n,i){var l=this,a=re.apply(void 0,o),s=Xn.a.call(a,function(a){var s=l.expandSegmentAgainstRoute(e,t,o,a,r,n,i);return iu.call(s,function(e){if(e instanceof Ec)return re(null);throw e})}),p=lu.call(s),u=uu.call(p,function(e){return!!e});return iu.call(u,function(e,o){if(e instanceof au||"EmptyError"===e.name){if(l.noLeftoversInUrl(t,r,n))return re(new lc([],{}));throw new Ec(t)}throw e})},e.prototype.noLeftoversInUrl=function(e,t,o){return 0===t.length&&!e.children[o]},e.prototype.expandSegmentAgainstRoute=function(e,t,o,r,n,i,l){return Oc(r)!==i?bc(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,n):l&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,o,r,n,i):bc(t)},e.prototype.expandSegmentAgainstRouteUsingRedirect=function(e,t,o,r,n,i){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,o,r,i):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,o,r,n,i)},e.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(e,t,o,r){var n=this,i=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?Tc(i):tu.call(this.lineralizeSegments(o,i),function(o){var i=new lc(o,{});return n.expandSegment(e,i,t,o,r,!1)})},e.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(e,t,o,r,n,i){var l=this,a=wc(t,r,n),s=a.consumedSegments,p=a.lastChild,u=a.positionalParamSegments;if(!a.matched)return bc(t);var c=this.applyRedirectCommands(s,r.redirectTo,u);return r.redirectTo.startsWith("/")?Tc(c):tu.call(this.lineralizeSegments(r,c),function(r){return l.expandSegment(e,t,o,r.concat(n.slice(p)),i,!1)})},e.prototype.matchSegmentAgainstRoute=function(e,t,o,r){var n=this;if("**"===o.path)return o.loadChildren?Xn.a.call(this.configLoader.load(e.injector,o),function(e){return o._loadedConfig=e,new lc(r,{})}):re(new lc(r,{}));var i=wc(t,o,r),l=i.consumedSegments,a=i.lastChild;if(!i.matched)return bc(t);var s=r.slice(a),p=this.getChildConfig(e,o);return tu.call(p,function(e){var o=e.module,r=e.routes,i=function(e,t,o,r){return o.length>0&&function(e,t,o){return r.some(function(o){return Lc(e,t,o)&&Oc(o)!==Wu})}(e,o)?{segmentGroup:Mc(new lc(t,function(e,t){var o={};o[Wu]=t;for(var r=0,n=e;r<n.length;r++){var i=n[r];""===i.path&&Oc(i)!==Wu&&(o[Oc(i)]=new lc([],{}))}return o}(r,new lc(o,e.children)))),slicedSegments:[]}:0===o.length&&function(e,t,o){return r.some(function(o){return Lc(e,t,o)})}(e,o)?{segmentGroup:Mc(new lc(e.segments,function(e,t,o,n){for(var i={},l=0,a=r;l<a.length;l++){var s=a[l];Lc(e,t,s)&&!n[Oc(s)]&&(i[Oc(s)]=new lc([],{}))}return Object(c.__assign)({},n,i)}(e,o,0,e.children))),slicedSegments:o}:{segmentGroup:e,slicedSegments:o}}(t,l,s,r),a=i.segmentGroup,p=i.slicedSegments;if(0===p.length&&a.hasChildren()){var u=n.expandChildren(o,r,a);return Xn.a.call(u,function(e){return new lc(l,e)})}if(0===r.length&&0===p.length)return re(new lc(l,{}));var g=n.expandSegment(o,a,r,p,Wu,!0);return Xn.a.call(g,function(e){return new lc(l.concat(e.segments),e.children)})})},e.prototype.getChildConfig=function(e,t){var o=this;return t.children?re(new Zu(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?re(t._loadedConfig):tu.call(function(e,t){var o=t.canLoad;return o&&0!==o.length?oc(Xn.a.call(gn(o),function(o){var r=e.get(o);return rc(r.canLoad?r.canLoad(t):r(t))})):re(!0)}(e.injector,t),function(r){return r?Xn.a.call(o.configLoader.load(e.injector,t),function(e){return t._loadedConfig=e,e}):function(e){return new te.Observable(function(t){return t.error(((o=Error("NavigationCancelingError: Cannot load children because the guard of the route \"path: '"+e.path+"'\" returned false")).ngNavigationCancelingError=!0,o));var o})}(t)}):re(new Zu([],e))},e.prototype.lineralizeSegments=function(e,t){for(var o=[],r=t.root;;){if(o=o.concat(r.segments),0===r.numberOfChildren)return re(o);if(r.numberOfChildren>1||!r.children[Wu])return Cc(e.redirectTo);r=r.children[Wu]}},e.prototype.applyRedirectCommands=function(e,t,o){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,o)},e.prototype.applyRedirectCreatreUrlTree=function(e,t,o,r){var n=this.createSegmentGroup(e,t.root,o,r);return new ic(n,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)},e.prototype.createQueryParams=function(e,t){var o={};return tc(e,function(e,r){if("string"==typeof e&&e.startsWith(":")){var n=e.substring(1);o[r]=t[n]}else o[r]=e}),o},e.prototype.createSegmentGroup=function(e,t,o,r){var n=this,i=this.createSegments(e,t.segments,o,r),l={};return tc(t.children,function(t,i){l[i]=n.createSegmentGroup(e,t,o,r)}),new lc(i,l)},e.prototype.createSegments=function(e,t,o,r){var n=this;return t.map(function(t){return t.path.startsWith(":")?n.findPosParam(e,t,r):n.findOrReturn(t,o)})},e.prototype.findPosParam=function(e,t,o){var r=o[t.path.substring(1)];if(!r)throw new Error("Cannot redirect to '"+e+"'. Cannot find '"+t.path+"'.");return r},e.prototype.findOrReturn=function(e,t){for(var o=0,r=0,n=t;r<n.length;r++){var i=n[r];if(i.path===e.path)return t.splice(o),i;o++}return e},e}();function wc(e,t,o){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||o.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(t.matcher||Xu)(o,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Mc(e){if(1===e.numberOfChildren&&e.children[Wu]){var t=e.children[Wu];return new lc(e.segments.concat(t.segments),t.children)}return e}function Lc(e,t,o){return(!(e.hasChildren()||t.length>0)||"full"!==o.pathMatch)&&""===o.path&&void 0!==o.redirectTo}function Oc(e){return e.outlet||Wu}var Ic=function(){function e(e){this._root=e}return Object.defineProperty(e.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),e.prototype.parent=function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null},e.prototype.children=function(e){var t=Ac(e,this._root);return t?t.children.map(function(e){return e.value}):[]},e.prototype.firstChild=function(e){var t=Ac(e,this._root);return t&&t.children.length>0?t.children[0].value:null},e.prototype.siblings=function(e){var t=Dc(e,this._root);return t.length<2?[]:t[t.length-2].children.map(function(e){return e.value}).filter(function(t){return t!==e})},e.prototype.pathFromRoot=function(e){return Dc(e,this._root).map(function(e){return e.value})},e}();function Ac(e,t){if(e===t.value)return t;for(var o=0,r=t.children;o<r.length;o++){var n=Ac(e,r[o]);if(n)return n}return null}function Dc(e,t){if(e===t.value)return[t];for(var o=0,r=t.children;o<r.length;o++){var n=Dc(e,r[o]);if(n.length)return n.unshift(t),n}return[]}var Nc=function(){function e(e,t){this.value=e,this.children=t}return e.prototype.toString=function(){return"TreeNode("+this.value+")"},e}();function Fc(e){var t={};return e&&e.children.forEach(function(e){return t[e.value.outlet]=e}),t}var Gc=function(e){function t(t,o){var r=e.call(this,t)||this;return r.snapshot=o,Bc(r,t),r}return Object(c.__extends)(t,e),t.prototype.toString=function(){return this.snapshot.toString()},t}(Ic);function kc(e,t){var o=function(e,t){var o=new Vc([],{},{},"",{},Wu,t,null,e.root,-1,{});return new Uc("",new Nc(o,[]))}(e,t),r=new eu.BehaviorSubject([new ac("",{})]),n=new eu.BehaviorSubject({}),i=new eu.BehaviorSubject({}),l=new eu.BehaviorSubject({}),a=new eu.BehaviorSubject(""),s=new jc(r,n,l,a,i,Wu,t,o.root);return s.snapshot=o.root,new Gc(new Nc(s,[]),o)}var jc=function(){function e(e,t,o,r,n,i,l,a){this.url=e,this.params=t,this.queryParams=o,this.fragment=r,this.data=n,this.outlet=i,this.component=l,this._futureSnapshot=a}return Object.defineProperty(e.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=Xn.a.call(this.params,function(e){return Ku(e)})),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=Xn.a.call(this.queryParams,function(e){return Ku(e)})),this._queryParamMap},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},e}();function qc(e,t){void 0===t&&(t="emptyOnly");var o=e.pathFromRoot,r=0;if("always"!==t)for(r=o.length-1;r>=1;){var n=o[r],i=o[r-1];if(n.routeConfig&&""===n.routeConfig.path)r--;else{if(i.component)break;r--}}return function(e){return e.reduce(function(e,t){return{params:Object(c.__assign)({},e.params,t.params),data:Object(c.__assign)({},e.data,t.data),resolve:Object(c.__assign)({},e.resolve,t._resolvedData)}},{params:{},data:{},resolve:{}})}(o.slice(r))}var Vc=function(){function e(e,t,o,r,n,i,l,a,s,p,u){this.url=e,this.params=t,this.queryParams=o,this.fragment=r,this.data=n,this.outlet=i,this.component=l,this.routeConfig=a,this._urlSegment=s,this._lastPathIndex=p,this._resolve=u}return Object.defineProperty(e.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=Ku(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=Ku(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return"Route(url:'"+this.url.map(function(e){return e.toString()}).join("/")+"', path:'"+(this.routeConfig?this.routeConfig.path:"")+"')"},e}(),Uc=function(e){function t(t,o){var r=e.call(this,o)||this;return r.url=t,Bc(r,o),r}return Object(c.__extends)(t,e),t.prototype.toString=function(){return Wc(this._root)},t}(Ic);function Bc(e,t){t.value._routerState=e,t.children.forEach(function(t){return Bc(e,t)})}function Wc(e){var t=e.children.length>0?" { "+e.children.map(Wc).join(", ")+" } ":"";return""+e.value+t}function Yc(e){if(e.snapshot){var t=e.snapshot,o=e._futureSnapshot;e.snapshot=o,Qu(t.queryParams,o.queryParams)||e.queryParams.next(o.queryParams),t.fragment!==o.fragment&&e.fragment.next(o.fragment),Qu(t.params,o.params)||e.params.next(o.params),function(e,t){if(e.length!==t.length)return!1;for(var o=0;o<e.length;++o)if(!Qu(e[o],t[o]))return!1;return!0}(t.url,o.url)||e.url.next(o.url),Qu(t.data,o.data)||e.data.next(o.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Kc(e,t){var o,r;return Qu(e.params,t.params)&&sc(o=e.url,r=t.url)&&o.every(function(e,t){return Qu(e.parameters,r[t].parameters)})&&!(!e.parent!=!t.parent)&&(!e.parent||Kc(e.parent,t.parent))}function Xc(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Zc(e,t,o,r,n){var i={};return r&&tc(r,function(e,t){i[t]=Array.isArray(e)?e.map(function(e){return""+e}):""+e}),new ic(o.root===e?t:function e(t,o,r){var n={};return tc(t.children,function(t,i){n[i]=t===o?r:e(t,o,r)}),new lc(t.segments,n)}(o.root,e,t),i,n)}var Hc=function(){function e(e,t,o){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=o,e&&o.length>0&&Xc(o[0]))throw new Error("Root segment cannot have matrix parameters");var r=o.find(function(e){return"object"==typeof e&&null!=e&&e.outlets});if(r&&r!==ec(o))throw new Error("{outlets:{}} has to be the last command")}return e.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},e}(),zc=function(e,t,o){this.segmentGroup=e,this.processChildren=t,this.index=o};function Jc(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets[Wu]:""+e}function Qc(e,t,o){if(e||(e=new lc([],{})),0===e.segments.length&&e.hasChildren())return $c(e,t,o);var r=function(e,t,o){for(var r=0,n=t,i={match:!1,pathIndex:0,commandIndex:0};n<e.segments.length;){if(r>=o.length)return i;var l=e.segments[n],a=Jc(o[r]),s=r<o.length-1?o[r+1]:null;if(n>0&&void 0===a)break;if(a&&s&&"object"==typeof s&&void 0===s.outlets){if(!rg(a,s,l))return i;r+=2}else{if(!rg(a,{},l))return i;r++}n++}return{match:!0,pathIndex:n,commandIndex:r}}(e,t,o),n=o.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){var i=new lc(e.segments.slice(0,r.pathIndex),{});return i.children[Wu]=new lc(e.segments.slice(r.pathIndex),e.children),$c(i,0,n)}return r.match&&0===n.length?new lc(e.segments,{}):r.match&&!e.hasChildren()?eg(e,t,o):r.match?$c(e,0,n):eg(e,t,o)}function $c(e,t,o){if(0===o.length)return new lc(e.segments,{});var r=function(e){return"object"!=typeof e[0]?((t={})[Wu]=e,t):void 0===e[0].outlets?((o={})[Wu]=e,o):e[0].outlets;var t,o}(o),n={};return tc(r,function(o,r){null!==o&&(n[r]=Qc(e.children[r],t,o))}),tc(e.children,function(e,t){void 0===r[t]&&(n[t]=e)}),new lc(e.segments,n)}function eg(e,t,o){for(var r=e.segments.slice(0,t),n=0;n<o.length;){if("object"==typeof o[n]&&void 0!==o[n].outlets){var i=tg(o[n].outlets);return new lc(r,i)}if(0===n&&Xc(o[0]))r.push(new ac(e.segments[t].path,o[0])),n++;else{var l=Jc(o[n]),a=n<o.length-1?o[n+1]:null;l&&a&&Xc(a)?(r.push(new ac(l,og(a))),n+=2):(r.push(new ac(l,{})),n++)}}return new lc(r,{})}function tg(e){var t={};return tc(e,function(e,o){null!==e&&(t[o]=eg(new lc([],{}),0,e))}),t}function og(e){var t={};return tc(e,function(e,o){return t[o]=""+e}),t}function rg(e,t,o){return e==o.path&&Qu(t,o.parameters)}var ng=function(e){this.path=e,this.route=this.path[this.path.length-1]},ig=function(e,t){this.component=e,this.route=t},lg=function(){function e(e,t,o,r){this.future=e,this.curr=t,this.moduleInjector=o,this.forwardEvent=r,this.canActivateChecks=[],this.canDeactivateChecks=[]}return e.prototype.initialize=function(e){var t=this.future._root;this.setupChildRouteGuards(t,this.curr?this.curr._root:null,e,[t.value])},e.prototype.checkGuards=function(){var e=this;if(!this.isDeactivating()&&!this.isActivating())return re(!0);var t=this.runCanDeactivateChecks();return tu.call(t,function(t){return t?e.runCanActivateChecks():re(!1)})},e.prototype.resolveData=function(e){var t=this;if(!this.isActivating())return re(null);var o=gn(this.canActivateChecks),r=na.call(o,function(o){return t.runResolve(o.route,e)});return(function(e,t){return arguments.length>=2?Ru(e,t)(this):Ru(e)(this)}).call(r,function(e,t){return e})},e.prototype.isDeactivating=function(){return 0!==this.canDeactivateChecks.length},e.prototype.isActivating=function(){return 0!==this.canActivateChecks.length},e.prototype.setupChildRouteGuards=function(e,t,o,r){var n=this,i=Fc(t);e.children.forEach(function(e){n.setupRouteGuards(e,i[e.value.outlet],o,r.concat([e.value])),delete i[e.value.outlet]}),tc(i,function(e,t){return n.deactivateRouteAndItsChildren(e,o.getContext(t))})},e.prototype.setupRouteGuards=function(e,t,o,r){var n=e.value,i=t?t.value:null,l=o?o.getContext(e.value.outlet):null;if(i&&n.routeConfig===i.routeConfig){var a=this.shouldRunGuardsAndResolvers(i,n,n.routeConfig.runGuardsAndResolvers);a?this.canActivateChecks.push(new ng(r)):(n.data=i.data,n._resolvedData=i._resolvedData),this.setupChildRouteGuards(e,t,n.component?l?l.children:null:o,r),a&&this.canDeactivateChecks.push(new ig(l.outlet.component,i))}else i&&this.deactivateRouteAndItsChildren(t,l),this.canActivateChecks.push(new ng(r)),this.setupChildRouteGuards(e,null,n.component?l?l.children:null:o,r)},e.prototype.shouldRunGuardsAndResolvers=function(e,t,o){switch(o){case"always":return!0;case"paramsOrQueryParamsChange":return!Kc(e,t)||!Qu(e.queryParams,t.queryParams);case"paramsChange":default:return!Kc(e,t)}},e.prototype.deactivateRouteAndItsChildren=function(e,t){var o=this,r=Fc(e),n=e.value;tc(r,function(e,r){o.deactivateRouteAndItsChildren(e,n.component?t?t.children.getContext(r):null:t)}),this.canDeactivateChecks.push(new ig(n.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,n))},e.prototype.runCanDeactivateChecks=function(){var e=this,t=gn(this.canDeactivateChecks),o=tu.call(t,function(t){return e.runCanDeactivate(t.component,t.route)});return du.call(o,function(e){return!0===e})},e.prototype.runCanActivateChecks=function(){var e=this,t=gn(this.canActivateChecks),o=na.call(t,function(t){return oc(gn([e.fireChildActivationStart(t.route.parent),e.fireActivationStart(t.route),e.runCanActivateChild(t.path),e.runCanActivate(t.route)]))});return du.call(o,function(e){return!0===e})},e.prototype.fireActivationStart=function(e){return null!==e&&this.forwardEvent&&this.forwardEvent(new Uu(e)),re(!0)},e.prototype.fireChildActivationStart=function(e){return null!==e&&this.forwardEvent&&this.forwardEvent(new qu(e)),re(!0)},e.prototype.runCanActivate=function(e){var t=this,o=e.routeConfig?e.routeConfig.canActivate:null;return o&&0!==o.length?oc(Xn.a.call(gn(o),function(o){var r,n=t.getToken(o,e);return r=rc(n.canActivate?n.canActivate(e,t.future):n(e,t.future)),uu.call(r)})):re(!0)},e.prototype.runCanActivateChild=function(e){var t=this,o=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(function(e){return t.extractCanActivateChild(e)}).filter(function(e){return null!==e});return oc(Xn.a.call(gn(r),function(e){return oc(Xn.a.call(gn(e.guards),function(r){var n,i=t.getToken(r,e.node);return n=rc(i.canActivateChild?i.canActivateChild(o,t.future):i(o,t.future)),uu.call(n)}))}))},e.prototype.extractCanActivateChild=function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null},e.prototype.runCanDeactivate=function(e,t){var o=this,r=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!r||0===r.length)return re(!0);var n=tu.call(gn(r),function(r){var n,i=o.getToken(r,t);return n=rc(i.canDeactivate?i.canDeactivate(e,t,o.curr,o.future):i(e,t,o.curr,o.future)),uu.call(n)});return du.call(n,function(e){return!0===e})},e.prototype.runResolve=function(e,t){return Xn.a.call(this.resolveNode(e._resolve,e),function(o){return e._resolvedData=o,e.data=Object(c.__assign)({},e.data,qc(e,t).resolve),null})},e.prototype.resolveNode=function(e,t){var o=this,r=Object.keys(e);if(0===r.length)return re({});if(1===r.length){var n=r[0];return Xn.a.call(this.getResolver(e[n],t),function(e){return(t={})[n]=e,t;var t})}var i={},l=tu.call(gn(r),function(r){return Xn.a.call(o.getResolver(e[r],t),function(e){return i[r]=e,e})});return Xn.a.call(fu.call(l),function(){return i})},e.prototype.getResolver=function(e,t){var o=this.getToken(e,t);return rc(o.resolve?o.resolve(t,this.future):o(t,this.future))},e.prototype.getToken=function(e,t){var o=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var o=t.routeConfig;if(o&&o._loadedConfig)return o._loadedConfig}return null}(t);return(o?o.module.injector:this.moduleInjector).get(e)},e}(),ag=function(){},sg=function(){function e(e,t,o,r,n){this.rootComponentType=e,this.config=t,this.urlTree=o,this.url=r,this.paramsInheritanceStrategy=n}return e.prototype.recognize=function(){try{var e=cg(this.urlTree.root,[],[],this.config).segmentGroup,t=this.processSegmentGroup(this.config,e,Wu),o=new Vc([],Object.freeze({}),Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,{},Wu,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Nc(o,t),n=new Uc(this.url,r);return this.inheritParamsAndData(n._root),re(n)}catch(e){return new te.Observable(function(t){return t.error(e)})}},e.prototype.inheritParamsAndData=function(e){var t=this,o=e.value,r=qc(o,this.paramsInheritanceStrategy);o.params=Object.freeze(r.params),o.data=Object.freeze(r.data),e.children.forEach(function(e){return t.inheritParamsAndData(e)})},e.prototype.processSegmentGroup=function(e,t,o){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,o)},e.prototype.processChildren=function(e,t){var o,r=this,n=pc(t,function(t,o){return r.processSegmentGroup(e,t,o)});return o={},n.forEach(function(e){var t=o[e.value.outlet];if(t){var r=t.url.map(function(e){return e.toString()}).join("/"),n=e.value.url.map(function(e){return e.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+r+"' and '"+n+"'.")}o[e.value.outlet]=e.value}),n.sort(function(e,t){return e.value.outlet===Wu?-1:t.value.outlet===Wu?1:e.value.outlet.localeCompare(t.value.outlet)}),n},e.prototype.processSegment=function(e,t,o,r){for(var n=0,i=e;n<i.length;n++){var l=i[n];try{return this.processSegmentAgainstRoute(l,t,o,r)}catch(e){if(!(e instanceof ag))throw e}}if(this.noLeftoversInUrl(t,o,r))return[];throw new ag},e.prototype.noLeftoversInUrl=function(e,t,o){return 0===t.length&&!e.children[o]},e.prototype.processSegmentAgainstRoute=function(e,t,o,r){if(e.redirectTo)throw new ag;if((e.outlet||Wu)!==r)throw new ag;var n,i=[],l=[];if("**"===e.path){var a=o.length>0?ec(o).parameters:{};n=new Vc(o,a,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,hg(e),r,e.component,e,pg(t),ug(t)+o.length,yg(e))}else{var s=function(e,t,o){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||o.length>0))throw new ag;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(t.matcher||Xu)(o,e,t);if(!r)throw new ag;var n={};tc(r.posParams,function(e,t){n[t]=e.path});var i=r.consumed.length>0?Object(c.__assign)({},n,r.consumed[r.consumed.length-1].parameters):n;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:i}}(t,e,o);i=s.consumedSegments,l=o.slice(s.lastChild),n=new Vc(i,s.parameters,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,hg(e),r,e.component,e,pg(t),ug(t)+i.length,yg(e))}var p=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),u=cg(t,i,l,p),g=u.segmentGroup,d=u.slicedSegments;if(0===d.length&&g.hasChildren()){var h=this.processChildren(p,g);return[new Nc(n,h)]}if(0===p.length&&0===d.length)return[new Nc(n,[])];var y=this.processSegment(p,g,d,Wu);return[new Nc(n,y)]},e}();function pg(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function ug(e){for(var t=e,o=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)o+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return o-1}function cg(e,t,o,r){if(o.length>0&&function(e,t,o){return r.some(function(o){return gg(e,t,o)&&dg(o)!==Wu})}(e,o)){var n=new lc(t,function(e,t,o,r){var n={};n[Wu]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(var i=0,l=o;i<l.length;i++){var a=l[i];if(""===a.path&&dg(a)!==Wu){var s=new lc([],{});s._sourceSegment=e,s._segmentIndexShift=t.length,n[dg(a)]=s}}return n}(e,t,r,new lc(o,e.children)));return n._sourceSegment=e,n._segmentIndexShift=t.length,{segmentGroup:n,slicedSegments:[]}}if(0===o.length&&function(e,t,o){return r.some(function(o){return gg(e,t,o)})}(e,o)){var i=new lc(e.segments,function(e,t,o,n){for(var i={},l=0,a=r;l<a.length;l++){var s=a[l];if(gg(e,t,s)&&!n[dg(s)]){var p=new lc([],{});p._sourceSegment=e,p._segmentIndexShift=e.segments.length,i[dg(s)]=p}}return Object(c.__assign)({},n,i)}(e,o,0,e.children));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:o}}var l=new lc(e.segments,e.children);return l._sourceSegment=e,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:o}}function gg(e,t,o){return(!(e.hasChildren()||t.length>0)||"full"!==o.pathMatch)&&""===o.path&&void 0===o.redirectTo}function dg(e){return e.outlet||Wu}function hg(e){return e.data||{}}function yg(e){return e.resolve||{}}var fg=function(){},mg=function(){function e(){}return e.prototype.shouldDetach=function(e){return!1},e.prototype.store=function(e,t){},e.prototype.shouldAttach=function(e){return!1},e.prototype.retrieve=function(e){return null},e.prototype.shouldReuseRoute=function(e,t){return e.routeConfig===t.routeConfig},e}(),vg=new r.InjectionToken("ROUTES"),_g=function(){function e(e,t,o,r){this.loader=e,this.compiler=t,this.onLoadStartListener=o,this.onLoadEndListener=r}return e.prototype.load=function(e,t){var o=this;this.onLoadStartListener&&this.onLoadStartListener(t);var r=this.loadModuleFactory(t.loadChildren);return Xn.a.call(r,function(r){o.onLoadEndListener&&o.onLoadEndListener(t);var n=r.create(e);return new Zu($u(n.injector.get(vg)),n)})},e.prototype.loadModuleFactory=function(e){var t=this;return"string"==typeof e?Kn(this.loader.load(e)):tu.call(rc(e()),function(e){return e instanceof r.NgModuleFactory?re(e):Kn(t.compiler.compileModuleAsync(e))})},e}(),Sg=function(){},xg=function(){function e(){}return e.prototype.shouldProcessUrl=function(e){return!0},e.prototype.extract=function(e){return e},e.prototype.merge=function(e,t){return e},e}();function Eg(e){throw e}function Pg(e){return re(null)}var bg=function(){function e(e,t,o,n,i,l,a,s){var p=this;this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=o,this.location=n,this.config=s,this.navigations=new eu.BehaviorSubject(null),this.navigationId=0,this.events=new ee.a,this.errorHandler=Eg,this.navigated=!1,this.hooks={beforePreactivation:Pg,afterPreactivation:Pg},this.urlHandlingStrategy=new xg,this.routeReuseStrategy=new mg,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.ngModule=i.get(r.NgModuleRef),this.resetConfig(s),this.currentUrlTree=new ic(new lc([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.configLoader=new _g(l,a,function(e){return p.triggerEvent(new ku(e))},function(e){return p.triggerEvent(new ju(e))}),this.routerState=kc(this.currentUrlTree,this.rootComponentType),this.processNavigations()}return e.prototype.resetRootComponentType=function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType},e.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},e.prototype.setUpLocationChangeListener=function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(t){var o=e.urlSerializer.parse(t.url),r="popstate"===t.type?"popstate":"hashchange";setTimeout(function(){e.scheduleNavigation(o,r,{replaceUrl:!0})},0)}))},Object.defineProperty(e.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),e.prototype.triggerEvent=function(e){this.events.next(e)},e.prototype.resetConfig=function(e){Hu(e),this.config=e,this.navigated=!1},e.prototype.ngOnDestroy=function(){this.dispose()},e.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},e.prototype.createUrlTree=function(e,t){void 0===t&&(t={});var o=t.relativeTo,n=t.queryParams,i=t.fragment,l=t.preserveQueryParams,a=t.queryParamsHandling,s=t.preserveFragment;Object(r.isDevMode)()&&l&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var p=o||this.routerState.root,u=s?this.currentUrlTree.fragment:i,g=null;if(a)switch(a){case"merge":g=Object(c.__assign)({},this.currentUrlTree.queryParams,n);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=n||null}else g=l?this.currentUrlTree.queryParams:n||null;return null!==g&&(g=this.removeEmptyProps(g)),function(e,t,o,r,n){if(0===o.length)return Zc(t.root,t.root,t,r,n);var i=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Hc(!0,0,e);var t=0,o=!1,r=e.reduce(function(e,r,n){if("object"==typeof r&&null!=r){if(r.outlets){var i={};return tc(r.outlets,function(e,t){i[t]="string"==typeof e?e.split("/"):e}),e.concat([{outlets:i}])}if(r.segmentPath)return e.concat([r.segmentPath])}return"string"!=typeof r?e.concat([r]):0===n?(r.split("/").forEach(function(r,n){0==n&&"."===r||(0==n&&""===r?o=!0:".."===r?t++:""!=r&&e.push(r))}),e):e.concat([r])},[]);return new Hc(o,t,r)}(o);if(i.toRoot())return Zc(t.root,new lc([],{}),t,r,n);var l=function(e,o,r){if(e.isAbsolute)return new zc(t.root,!0,0);if(-1===r.snapshot._lastPathIndex)return new zc(r.snapshot._urlSegment,!0,0);var n=Xc(e.commands[0])?0:1;return function(t,o,i){for(var l=r.snapshot._urlSegment,a=r.snapshot._lastPathIndex+n,s=e.numberOfDoubleDots;s>a;){if(s-=a,!(l=l.parent))throw new Error("Invalid number of '../'");a=l.segments.length}return new zc(l,!1,a-s)}()}(i,0,e),a=l.processChildren?$c(l.segmentGroup,l.index,i.commands):Qc(l.segmentGroup,l.index,i.commands);return Zc(l.segmentGroup,a,t,r,n)}(p,this.currentUrlTree,e,g,u)},e.prototype.navigateByUrl=function(e,t){void 0===t&&(t={skipLocationChange:!1});var o=e instanceof ic?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",t)},e.prototype.navigate=function(e,t){return void 0===t&&(t={skipLocationChange:!1}),function(e){for(var t=0;t<e.length;t++){var o=e[t];if(null==o)throw new Error("The requested path contains "+o+" segment at index "+t)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)},e.prototype.serializeUrl=function(e){return this.urlSerializer.serialize(e)},e.prototype.parseUrl=function(e){return this.urlSerializer.parse(e)},e.prototype.isActive=function(e,t){if(e instanceof ic)return nc(this.currentUrlTree,e,t);var o=this.urlSerializer.parse(e);return nc(this.currentUrlTree,o,t)},e.prototype.removeEmptyProps=function(e){return Object.keys(e).reduce(function(t,o){var r=e[o];return null!==r&&void 0!==r&&(t[o]=r),t},{})},e.prototype.processNavigations=function(){var e=this;na.call(this.navigations,function(t){return t?(e.executeScheduledNavigation(t),t.promise.catch(function(){})):re(null)}).subscribe(function(){})},e.prototype.scheduleNavigation=function(e,t,o){var r=this.navigations.value;if(r&&"imperative"!==t&&"imperative"===r.source&&r.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(r&&"hashchange"==t&&"popstate"===r.source&&r.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(r&&"popstate"==t&&"hashchange"===r.source&&r.rawUrl.toString()===e.toString())return Promise.resolve(!0);var n=null,i=null,l=new Promise(function(e,t){n=e,i=t}),a=++this.navigationId;return this.navigations.next({id:a,source:t,rawUrl:e,extras:o,resolve:n,reject:i,promise:l}),l.catch(function(e){return Promise.reject(e)})},e.prototype.executeScheduledNavigation=function(e){var t=this,o=e.id,r=e.rawUrl,n=e.extras,i=e.resolve,l=e.reject,a=this.urlHandlingStrategy.extract(r),s=!this.navigated||a.toString()!==this.currentUrlTree.toString();("reload"===this.onSameUrlNavigation||s)&&this.urlHandlingStrategy.shouldProcessUrl(r)?(this.events.next(new Mu(o,this.serializeUrl(a))),Promise.resolve().then(function(e){return t.runNavigate(a,r,!!n.skipLocationChange,!!n.replaceUrl,o,null)}).then(i,l)):s&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)?(this.events.next(new Mu(o,this.serializeUrl(a))),Promise.resolve().then(function(e){return t.runNavigate(a,r,!1,!1,o,kc(a,t.rootComponentType).snapshot)}).then(i,l)):(this.rawUrlTree=r,i(null))},e.prototype.runNavigate=function(e,t,o,r,n,i){var l=this;return n!==this.navigationId?(this.events.next(new Ou(n,this.serializeUrl(e),"Navigation ID "+n+" is not equal to the current navigation id "+this.navigationId)),Promise.resolve(!1)):new Promise(function(a,s){var p;if(i)p=re({appliedUrl:e,snapshot:i});else{var u=new Rc(l.ngModule.injector,l.configLoader,l.urlSerializer,e,l.config).apply();p=tu.call(u,function(t){return Xn.a.call(function(e,t,o,r,n){return void 0===n&&(n="emptyOnly"),new sg(e,t,o,r,n).recognize()}(l.rootComponentType,l.config,t,l.serializeUrl(t),l.paramsInheritanceStrategy),function(o){return l.events.next(new Au(n,l.serializeUrl(e),l.serializeUrl(t),o)),{appliedUrl:t,snapshot:o}})})}var c,g=tu.call(p,function(e){return Xn.a.call(l.hooks.beforePreactivation(e.snapshot),function(){return e})}),d=Xn.a.call(g,function(e){var t=e.appliedUrl,o=e.snapshot;return(c=new lg(o,l.routerState.snapshot,l.ngModule.injector,function(e){return l.triggerEvent(e)})).initialize(l.rootContexts),{appliedUrl:t,snapshot:o}}),h=tu.call(d,function(t){var o=t.appliedUrl,r=t.snapshot;return l.navigationId!==n?re(!1):(l.triggerEvent(new Du(n,l.serializeUrl(e),o,r)),Xn.a.call(c.checkGuards(),function(t){return l.triggerEvent(new Nu(n,l.serializeUrl(e),o,r,t)),{appliedUrl:o,snapshot:r,shouldActivate:t}}))}),y=tu.call(h,function(t){return l.navigationId!==n?re(!1):t.shouldActivate&&c.isActivating()?(l.triggerEvent(new Fu(n,l.serializeUrl(e),t.appliedUrl,t.snapshot)),Xn.a.call(c.resolveData(l.paramsInheritanceStrategy),function(){return l.triggerEvent(new Gu(n,l.serializeUrl(e),t.appliedUrl,t.snapshot)),t})):re(t)}),f=tu.call(y,function(e){return Xn.a.call(l.hooks.afterPreactivation(e.snapshot),function(){return e})}),m=Xn.a.call(f,function(e){var t,o,r,n=e.appliedUrl,i=e.shouldActivate;return i?{appliedUrl:n,state:(r=function e(t,o,r){if(r&&t.shouldReuseRoute(o.value,r.value.snapshot)){(a=r.value)._futureSnapshot=o.value;var n=function(t,o,r){return o.children.map(function(o){for(var n=0,i=r.children;n<i.length;n++){var l=i[n];if(t.shouldReuseRoute(l.value.snapshot,o.value))return e(t,o,l)}return e(t,o)})}(t,o,r);return new Nc(a,n)}if(t.retrieve(o.value)){var i=t.retrieve(o.value).route;return function e(t,o){if(t.value.routeConfig!==o.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==o.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");o.value._futureSnapshot=t.value;for(var r=0;r<t.children.length;++r)e(t.children[r],o.children[r])}(o,i),i}var l,a=new jc(new eu.BehaviorSubject((l=o.value).url),new eu.BehaviorSubject(l.params),new eu.BehaviorSubject(l.queryParams),new eu.BehaviorSubject(l.fragment),new eu.BehaviorSubject(l.data),l.outlet,l.component,l);return n=o.children.map(function(o){return e(t,o)}),new Nc(a,n)}(l.routeReuseStrategy,(t=e.snapshot)._root,(o=l.routerState)?o._root:void 0),new Gc(r,t)),shouldActivate:i}:{appliedUrl:n,state:null,shouldActivate:i}});l.activateRoutes(m,l.routerState,l.currentUrlTree,n,e,t,o,r,a,s)})},e.prototype.activateRoutes=function(e,t,o,r,n,i,l,a,s,p){var u,c=this;e.forEach(function(e){var o=e.state;if(e.shouldActivate&&r===c.navigationId){if(c.currentUrlTree=e.appliedUrl,c.rawUrlTree=c.urlHandlingStrategy.merge(c.currentUrlTree,i),c.routerState=o,!l){var n=c.urlSerializer.serialize(c.rawUrlTree);c.location.isCurrentPathEqualTo(n)||a?c.location.replaceState(n):c.location.go(n)}new Tg(c.routeReuseStrategy,o,t,function(e){return c.triggerEvent(e)}).activate(c.rootContexts),u=!0}else u=!1}).then(function(){u?(c.navigated=!0,c.events.next(new Lu(r,c.serializeUrl(n),c.serializeUrl(c.currentUrlTree))),s(!0)):(c.resetUrlToCurrentUrlTree(),c.events.next(new Ou(r,c.serializeUrl(n),"")),s(!1))},function(e){if((l=e)&&l.ngNavigationCancelingError)c.navigated=!0,c.resetStateAndUrl(t,o,i),c.events.next(new Ou(r,c.serializeUrl(n),e.message)),s(!1);else{c.resetStateAndUrl(t,o,i),c.events.next(new Iu(r,c.serializeUrl(n),e));try{s(c.errorHandler(e))}catch(e){p(e)}}var l})},e.prototype.resetStateAndUrl=function(e,t,o){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,o),this.resetUrlToCurrentUrlTree()},e.prototype.resetUrlToCurrentUrlTree=function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree))},e}(),Tg=function(){function e(e,t,o,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=o,this.forwardEvent=r}return e.prototype.activate=function(e){var t=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,o,e),Yc(this.futureState.root),this.activateChildRoutes(t,o,e)},e.prototype.deactivateChildRoutes=function(e,t,o){var r=this,n=Fc(t);e.children.forEach(function(e){var t=e.value.outlet;r.deactivateRoutes(e,n[t],o),delete n[t]}),tc(n,function(e,t){r.deactivateRouteAndItsChildren(e,o)})},e.prototype.deactivateRoutes=function(e,t,o){var r=e.value,n=t?t.value:null;if(r===n)if(r.component){var i=o.getContext(r.outlet);i&&this.deactivateChildRoutes(e,t,i.children)}else this.deactivateChildRoutes(e,t,o);else n&&this.deactivateRouteAndItsChildren(t,o)},e.prototype.deactivateRouteAndItsChildren=function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)},e.prototype.detachAndStoreRouteSubtree=function(e,t){var o=t.getContext(e.value.outlet);if(o&&o.outlet){var r=o.outlet.detach(),n=o.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:n})}},e.prototype.deactivateRouteAndOutlet=function(e,t){var o=this,r=t.getContext(e.value.outlet);if(r){var n=Fc(e),i=e.value.component?r.children:t;tc(n,function(e,t){return o.deactivateRouteAndItsChildren(e,i)}),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}},e.prototype.activateChildRoutes=function(e,t,o){var r=this,n=Fc(t);e.children.forEach(function(e){r.activateRoutes(e,n[e.value.outlet],o),r.forwardEvent(new Bu(e.value.snapshot))}),e.children.length&&this.forwardEvent(new Vu(e.value.snapshot))},e.prototype.activateRoutes=function(e,t,o){var r=e.value,n=t?t.value:null;if(Yc(r),r===n)if(r.component){var i=o.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,i.children)}else this.activateChildRoutes(e,t,o);else if(r.component)if(i=o.getOrCreateContext(r.outlet),this.routeReuseStrategy.shouldAttach(r.snapshot)){var l=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),i.children.onOutletReAttached(l.contexts),i.attachRef=l.componentRef,i.route=l.route.value,i.outlet&&i.outlet.attach(l.componentRef,l.route.value),Cg(l.route)}else{var a=function(e){for(var t=r.snapshot.parent;t;t=t.parent){var o=t.routeConfig;if(o&&o._loadedConfig)return o._loadedConfig;if(o&&o.component)return null}return null}(),s=a?a.module.componentFactoryResolver:null;i.route=r,i.resolver=s,i.outlet&&i.outlet.activateWith(r,s),this.activateChildRoutes(e,null,i.children)}else this.activateChildRoutes(e,null,o)},e}();function Cg(e){Yc(e.value),e.children.forEach(Cg)}var Rg=function(){return function(){this.outlet=null,this.route=null,this.resolver=null,this.children=new wg,this.attachRef=null}}(),wg=function(){function e(){this.contexts=new Map}return e.prototype.onChildOutletCreated=function(e,t){var o=this.getOrCreateContext(e);o.outlet=t,this.contexts.set(e,o)},e.prototype.onChildOutletDestroyed=function(e){var t=this.getContext(e);t&&(t.outlet=null)},e.prototype.onOutletDeactivated=function(){var e=this.contexts;return this.contexts=new Map,e},e.prototype.onOutletReAttached=function(e){this.contexts=e},e.prototype.getOrCreateContext=function(e){var t=this.getContext(e);return t||(t=new Rg,this.contexts.set(e,t)),t},e.prototype.getContext=function(e){return this.contexts.get(e)||null},e}(),Mg=function(){function e(e,t,o,n,i){this.parentContexts=e,this.location=t,this.resolver=o,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.EventEmitter,this.deactivateEvents=new r.EventEmitter,this.name=n||Wu,e.onChildOutletCreated(this.name,this)}return e.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},e.prototype.ngOnInit=function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}},Object.defineProperty(e.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),e.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e},e.prototype.attach=function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)},e.prototype.deactivate=function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}},e.prototype.activateWith=function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var o=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,n=new Lg(e,r,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,n),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},e}(),Lg=function(){function e(e,t,o){this.route=e,this.childContexts=t,this.parent=o}return e.prototype.get=function(e,t){return e===jc?this.route:e===wg?this.childContexts:this.parent.get(e,t)},e}(),Og=function(){},Ig=function(){function e(){}return e.prototype.preload=function(e,t){return iu.call(t(),function(){return re(null)})},e}(),Ag=function(){function e(){}return e.prototype.preload=function(e,t){return re(null)},e}(),Dg=function(){function e(e,t,o,r,n){this.router=e,this.injector=r,this.preloadingStrategy=n,this.loader=new _g(t,o,function(t){return e.triggerEvent(new ku(t))},function(t){return e.triggerEvent(new ju(t))})}return e.prototype.setUpPreloading=function(){var e=this,t=ia.a.call(this.router.events,function(e){return e instanceof Lu});this.subscription=na.call(t,function(){return e.preload()}).subscribe(function(){})},e.prototype.preload=function(){var e=this.injector.get(r.NgModuleRef);return this.processRoutes(e,this.router.config)},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},e.prototype.processRoutes=function(e,t){for(var o=[],r=0,n=t;r<n.length;r++){var i=n[r];if(i.loadChildren&&!i.canLoad&&i._loadedConfig){var l=i._loadedConfig;o.push(this.processRoutes(l.module,l.routes))}else i.loadChildren&&!i.canLoad?o.push(this.preloadConfig(e,i)):i.children&&o.push(this.processRoutes(e,i.children))}return mu.call(gn(o))},e.prototype.preloadConfig=function(e,t){var o=this;return this.preloadingStrategy.preload(t,function(){var r=o.loader.load(e.injector,t);return tu.call(r,function(e){return t._loadedConfig=e,o.processRoutes(e.module,e.routes)})})},e}(),Ng=new r.InjectionToken("ROUTER_CONFIGURATION"),Fg=new r.InjectionToken("ROUTER_FORROOT_GUARD"),Gg=[_,{provide:uc,useClass:cc},{provide:bg,useFactory:Bg,deps:[r.ApplicationRef,uc,wg,_,r.Injector,r.NgModuleFactoryLoader,r.Compiler,vg,Ng,[Sg,new r.Optional],[fg,new r.Optional]]},wg,{provide:jc,useFactory:Wg,deps:[bg]},{provide:r.NgModuleFactoryLoader,useClass:r.SystemJsNgModuleLoader},Dg,Ag,Ig,{provide:Ng,useValue:{enableTracing:!1}}];function kg(){return new r.NgProbeToken("Router",bg)}var jg=function(){function e(e,t){}return e.forRoot=function(t,o){return{ngModule:e,providers:[Gg,Ug(t),{provide:Fg,useFactory:Vg,deps:[[bg,new r.Optional,new r.SkipSelf]]},{provide:Ng,useValue:o||{}},{provide:m,useFactory:qg,deps:[y,[new r.Inject(v),new r.Optional],Ng]},{provide:Og,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:Ag},{provide:r.NgProbeToken,multi:!0,useFactory:kg},[Yg,{provide:r.APP_INITIALIZER,multi:!0,useFactory:Kg,deps:[Yg]},{provide:Zg,useFactory:Xg,deps:[Yg]},{provide:r.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:Zg}]]}},e.forChild=function(t){return{ngModule:e,providers:[Ug(t)]}},e}();function qg(e,t,o){return void 0===o&&(o={}),o.useHash?new x(e,t):new E(e,t)}function Vg(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Ug(e){return[{provide:r.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:e},{provide:vg,multi:!0,useValue:e}]}function Bg(e,t,o,r,n,i,l,a,s,p,u){void 0===s&&(s={});var c=new bg(null,t,o,r,n,i,l,$u(a));if(p&&(c.urlHandlingStrategy=p),u&&(c.routeReuseStrategy=u),s.errorHandler&&(c.errorHandler=s.errorHandler),s.enableTracing){var g=Vt();c.events.subscribe(function(e){g.logGroup("Router Event: "+e.constructor.name),g.log(e.toString()),g.log(e),g.logGroupEnd()})}return s.onSameUrlNavigation&&(c.onSameUrlNavigation=s.onSameUrlNavigation),s.paramsInheritanceStrategy&&(c.paramsInheritanceStrategy=s.paramsInheritanceStrategy),c}function Wg(e){return e.routerState.root}var Yg=function(){function e(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new ee.a}return e.prototype.appInitializer=function(){var e=this;return this.injector.get(f,Promise.resolve(null)).then(function(){var t=null,o=new Promise(function(e){return t=e}),r=e.injector.get(bg),n=e.injector.get(Ng);if(e.isLegacyDisabled(n)||e.isLegacyEnabled(n))t(!0);else if("disabled"===n.initialNavigation)r.setUpLocationChangeListener(),t(!0);else{if("enabled"!==n.initialNavigation)throw new Error("Invalid initialNavigation options: '"+n.initialNavigation+"'");r.hooks.afterPreactivation=function(){return e.initNavigation?re(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},r.initialNavigation()}return o})},e.prototype.bootstrapListener=function(e){var t=this.injector.get(Ng),o=this.injector.get(Dg),n=this.injector.get(bg),i=this.injector.get(r.ApplicationRef);e===i.components[0]&&(this.isLegacyEnabled(t)?n.initialNavigation():this.isLegacyDisabled(t)&&n.setUpLocationChangeListener(),o.setUpPreloading(),n.resetRootComponentType(i.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},e.prototype.isLegacyEnabled=function(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation},e.prototype.isLegacyDisabled=function(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation},e}();function Kg(e){return e.appInitializer.bind(e)}function Xg(e){return e.bootstrapListener.bind(e)}var Zg=new r.InjectionToken("Router Initializer"),Hg=r["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function zg(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r["\u0275did"](1,212992,null,0,Mg,[wg,r.ViewContainerRef,r.ComponentFactoryResolver,[8,null],r.ChangeDetectorRef],null,null),(e()(),r["\u0275ted"](-1,null,["\n"]))],function(e,t){e(t,1,0)},null)}var Jg=r["\u0275ccf"]("app-root",h,function(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"app-root",[],null,null,null,zg,Hg)),r["\u0275did"](1,49152,null,0,h,[],null,null)],null,null)},{},{},[]);function Qg(e){switch(e.length){case 0:return new xn;case 1:return e[0];default:return new En(e)}}function $g(e,t,o,r,n,i){void 0===n&&(n={}),void 0===i&&(i={});var l=[],a=[],s=-1,p=null;if(r.forEach(function(e){var o=e.offset,r=o==s,u=r&&p||{};Object.keys(e).forEach(function(o){var r=o,a=e[o];if("offset"!==o)switch(r=t.normalizePropertyName(r,l),a){case Pn:a=n[o];break;case mn:a=i[o];break;default:a=t.normalizeStyleValue(o,r,a,l)}u[r]=a}),r||a.push(u),p=u,s=o}),l.length)throw new Error("Unable to animate due to the following errors:\n - "+l.join("\n - "));return a}function ed(e,t,o,r){switch(t){case"start":e.onStart(function(){return r(o&&td(o,"start",e.totalTime))});break;case"done":e.onDone(function(){return r(o&&td(o,"done",e.totalTime))});break;case"destroy":e.onDestroy(function(){return r(o&&td(o,"destroy",e.totalTime))})}}function td(e,t,o){var r=od(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,void 0==o?e.totalTime:o),n=e._data;return null!=n&&(r._data=n),r}function od(e,t,o,r,n,i){return void 0===n&&(n=""),void 0===i&&(i=0),{element:e,triggerName:t,fromState:o,toState:r,phaseName:n,totalTime:i}}function rd(e,t,o){var r;return e instanceof Map?(r=e.get(t))||e.set(t,r=o):(r=e[t])||(r=e[t]=o),r}function nd(e){var t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}var id=function(e,t){return!1},ld=function(e,t){return!1},ad=function(e,t,o){return[]};if("undefined"!=typeof Element){if(id=function(e,t){return e.contains(t)},Element.prototype.matches)ld=function(e,t){return e.matches(t)};else{var sd=Element.prototype,pd=sd.matchesSelector||sd.mozMatchesSelector||sd.msMatchesSelector||sd.oMatchesSelector||sd.webkitMatchesSelector;pd&&(ld=function(e,t){return pd.apply(e,[t])})}ad=function(e,t,o){var r=[];if(o)r.push.apply(r,e.querySelectorAll(t));else{var n=e.querySelector(t);n&&r.push(n)}return r}}var ud=null,cd=!1;function gd(e){ud||(ud=dd()||{},cd=!!ud.style&&"WebkitAppearance"in ud.style);var t=!0;return ud.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&!(t=e in ud.style)&&cd&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in ud.style),t}function dd(){return"undefined"!=typeof document?document.body:null}var hd=ld,yd=id,fd=ad,md=function(){function e(){}return e.prototype.validateStyleProperty=function(e){return gd(e)},e.prototype.matchesElement=function(e,t){return hd(e,t)},e.prototype.containsElement=function(e,t){return yd(e,t)},e.prototype.query=function(e,t,o){return fd(e,t,o)},e.prototype.computeStyle=function(e,t,o){return o||""},e.prototype.animate=function(e,t,o,r,n,i){return void 0===i&&(i=[]),new xn},e}(),vd=function(){function e(){}return e.NOOP=new md,e}(),_d=1e3;function Sd(e){if("number"==typeof e)return e;var t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:xd(parseFloat(t[1]),t[2])}function xd(e,t){switch(t){case"s":return e*_d;default:return e}}function Ed(e,t,o){return e.hasOwnProperty("duration")?e:function(e,t,o){var r,n=0,i="";if("string"==typeof e){var l=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===l)return t.push('The provided timing value "'+e+'" is invalid.'),{duration:0,delay:0,easing:""};r=xd(parseFloat(l[1]),l[2]);var a=l[3];null!=a&&(n=xd(Math.floor(parseFloat(a)),l[4]));var s=l[5];s&&(i=s)}else r=e;if(!o){var p=!1,u=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),p=!0),n<0&&(t.push("Delay values below 0 are not allowed for this animation step."),p=!0),p&&t.splice(u,0,'The provided timing value "'+e+'" is invalid.')}return{duration:r,delay:n,easing:i}}(e,t,o)}function Pd(e,t){return void 0===t&&(t={}),Object.keys(e).forEach(function(o){t[o]=e[o]}),t}function bd(e,t,o){if(void 0===o&&(o={}),t)for(var r in e)o[r]=e[r];else Pd(e,o);return o}function Td(e,t){e.style&&Object.keys(t).forEach(function(o){var r=Ad(o);e.style[r]=t[o]})}function Cd(e,t){e.style&&Object.keys(t).forEach(function(t){var o=Ad(t);e.style[o]=""})}function Rd(e){return Array.isArray(e)?1==e.length?e[0]:vn(e):e}var wd=new RegExp("{{\\s*(.+?)\\s*}}","g");function Md(e){var t=[];if("string"==typeof e){for(var o=e.toString(),r=void 0;r=wd.exec(o);)t.push(r[1]);wd.lastIndex=0}return t}function Ld(e,t,o){var r=e.toString(),n=r.replace(wd,function(e,r){var n=t[r];return t.hasOwnProperty(r)||(o.push("Please provide a value for the animation param "+r),n=""),n.toString()});return n==r?e:n}function Od(e){for(var t=[],o=e.next();!o.done;)t.push(o.value),o=e.next();return t}var Id=/-+([a-z0-9])/g;function Ad(e){return e.replace(Id,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e[1].toUpperCase()})}function Dd(e,t,o){switch(t.type){case 7:return e.visitTrigger(t,o);case 0:return e.visitState(t,o);case 1:return e.visitTransition(t,o);case 2:return e.visitSequence(t,o);case 3:return e.visitGroup(t,o);case 4:return e.visitAnimate(t,o);case 5:return e.visitKeyframes(t,o);case 6:return e.visitStyle(t,o);case 8:return e.visitReference(t,o);case 9:return e.visitAnimateChild(t,o);case 10:return e.visitAnimateRef(t,o);case 11:return e.visitQuery(t,o);case 12:return e.visitStagger(t,o);default:throw new Error("Unable to resolve animation metadata node #"+t.type)}}var Nd="*",Fd=new Set(["true","1"]),Gd=new Set(["false","0"]);function kd(e,t){var o=Fd.has(e)||Gd.has(e),r=Fd.has(t)||Gd.has(t);return function(n,i){var l=e==Nd||e==n,a=t==Nd||t==i;return!l&&o&&"boolean"==typeof n&&(l=n?Fd.has(e):Gd.has(e)),!a&&r&&"boolean"==typeof i&&(a=i?Fd.has(t):Gd.has(t)),l&&a}}var jd=new RegExp("s*:selfs*,?","g");function qd(e,t,o){return new Vd(e).build(t,o)}var Vd=function(){function e(e){this._driver=e}return e.prototype.build=function(e,t){var o=new Ud(t);return this._resetContextStyleTimingState(o),Dd(this,Rd(e),o)},e.prototype._resetContextStyleTimingState=function(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0},e.prototype.visitTrigger=function(e,t){var o=this,r=t.queryCount=0,n=t.depCount=0,i=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(function(e){if(o._resetContextStyleTimingState(t),0==e.type){var a=e,s=a.name;s.split(/\s*,\s*/).forEach(function(e){a.name=e,i.push(o.visitState(a,t))}),a.name=s}else if(1==e.type){var p=o.visitTransition(e,t);r+=p.queryCount,n+=p.depCount,l.push(p)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:i,transitions:l,queryCount:r,depCount:n,options:null}},e.prototype.visitState=function(e,t){var o=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(o.containsDynamicStyles){var n=new Set,i=r||{};if(o.styles.forEach(function(e){if(Bd(e)){var t=e;Object.keys(t).forEach(function(e){Md(t[e]).forEach(function(e){i.hasOwnProperty(e)||n.add(e)})})}}),n.size){var l=Od(n.values());t.errors.push('state("'+e.name+'", ...) must define default values for all the following style substitutions: '+l.join(", "))}}return{type:0,name:e.name,style:o,options:r?{params:r}:null}},e.prototype.visitTransition=function(e,t){t.queryCount=0,t.depCount=0;var o,r,n,i=Dd(this,Rd(e.animation),t);return{type:1,matchers:(o=e.expr,r=t.errors,n=[],"string"==typeof o?o.split(/\s*,\s*/).forEach(function(e){return function(e,t,o){if(":"==e[0]){var r=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(e,t){return parseFloat(t)>parseFloat(e)};case":decrement":return function(e,t){return parseFloat(t)<parseFloat(e)};default:return t.push('The transition alias value "'+e+'" is not supported'),"* => *"}}(e,o);if("function"==typeof r)return void t.push(r);e=r}var n=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return o.push('The provided transition expression "'+e+'" is not supported'),t;var i=n[1],l=n[2],a=n[3];t.push(kd(i,a)),"<"!=l[0]||i==Nd&&a==Nd||t.push(kd(a,i))}(e,n,r)}):n.push(o),n),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Wd(e.options)}},e.prototype.visitSequence=function(e,t){var o=this;return{type:2,steps:e.steps.map(function(e){return Dd(o,e,t)}),options:Wd(e.options)}},e.prototype.visitGroup=function(e,t){var o=this,r=t.currentTime,n=0,i=e.steps.map(function(e){t.currentTime=r;var i=Dd(o,e,t);return n=Math.max(n,t.currentTime),i});return t.currentTime=n,{type:3,steps:i,options:Wd(e.options)}},e.prototype.visitAnimate=function(e,t){var o,r=function(e,t){var o=null;if(e.hasOwnProperty("duration"))o=e;else if("number"==typeof e)return Yd(Ed(e,t).duration,0,"");var r=e;if(r.split(/\s+/).some(function(e){return"{"==e.charAt(0)&&"{"==e.charAt(1)})){var n=Yd(0,0,"");return n.dynamic=!0,n.strValue=r,n}return Yd((o=o||Ed(r,t)).duration,o.delay,o.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;var n=e.styles?e.styles:_n({});if(5==n.type)o=this.visitKeyframes(n,t);else{var i=e.styles,l=!1;if(!i){l=!0;var a={};r.easing&&(a.easing=r.easing),i=_n(a)}t.currentTime+=r.duration+r.delay;var s=this.visitStyle(i,t);s.isEmptyStep=l,o=s}return t.currentAnimateTimings=null,{type:4,timings:r,style:o,options:null}},e.prototype.visitStyle=function(e,t){var o=this._makeStyleAst(e,t);return this._validateStyleAst(o,t),o},e.prototype._makeStyleAst=function(e,t){var o=[];Array.isArray(e.styles)?e.styles.forEach(function(e){"string"==typeof e?e==mn?o.push(e):t.errors.push("The provided style string value "+e+" is not allowed."):o.push(e)}):o.push(e.styles);var r=!1,n=null;return o.forEach(function(e){if(Bd(e)){var t=e,o=t.easing;if(o&&(n=o,delete t.easing),!r)for(var i in t)if(t[i].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:o,easing:n,offset:e.offset,containsDynamicStyles:r,options:null}},e.prototype._validateStyleAst=function(e,t){var o=this,r=t.currentAnimateTimings,n=t.currentTime,i=t.currentTime;r&&i>0&&(i-=r.duration+r.delay),e.styles.forEach(function(e){"string"!=typeof e&&Object.keys(e).forEach(function(r){if(o._driver.validateStyleProperty(r)){var l,a,s,p=t.collectedStyles[t.currentQuerySelector],u=p[r],c=!0;u&&(i!=n&&i>=u.startTime&&n<=u.endTime&&(t.errors.push('The CSS property "'+r+'" that exists between the times of "'+u.startTime+'ms" and "'+u.endTime+'ms" is also being animated in a parallel animation between the times of "'+i+'ms" and "'+n+'ms"'),c=!1),i=u.startTime),c&&(p[r]={startTime:i,endTime:n}),t.options&&(l=t.errors,a=t.options.params||{},(s=Md(e[r])).length&&s.forEach(function(e){a.hasOwnProperty(e)||l.push("Unable to resolve the local animation param "+e+" in the given list of values")}))}else t.errors.push('The provided animation property "'+r+'" is not a supported CSS property for animations')})})},e.prototype.visitKeyframes=function(e,t){var o=this,r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;var n=0,i=[],l=!1,a=!1,s=0,p=e.steps.map(function(e){var r=o._makeStyleAst(e,t),p=null!=r.offset?r.offset:function(e){if("string"==typeof e)return null;var t=null;if(Array.isArray(e))e.forEach(function(e){if(Bd(e)&&e.hasOwnProperty("offset")){var o=e;t=parseFloat(o.offset),delete o.offset}});else if(Bd(e)&&e.hasOwnProperty("offset")){var o=e;t=parseFloat(o.offset),delete o.offset}return t}(r.styles),u=0;return null!=p&&(n++,u=r.offset=p),a=a||u<0||u>1,l=l||u<s,s=u,i.push(u),r});a&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),l&&t.errors.push("Please ensure that all keyframe offsets are in order");var u=e.steps.length,c=0;n>0&&n<u?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==n&&(c=1/(u-1));var g=u-1,d=t.currentTime,h=t.currentAnimateTimings,y=h.duration;return p.forEach(function(e,n){var l=c>0?n==g?1:c*n:i[n],a=l*y;t.currentTime=d+h.delay+a,h.duration=a,o._validateStyleAst(e,t),e.offset=l,r.styles.push(e)}),r},e.prototype.visitReference=function(e,t){return{type:8,animation:Dd(this,Rd(e.animation),t),options:Wd(e.options)}},e.prototype.visitAnimateChild=function(e,t){return t.depCount++,{type:9,options:Wd(e.options)}},e.prototype.visitAnimateRef=function(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Wd(e.options)}},e.prototype.visitQuery=function(e,t){var o=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;var n=function(e){var t=!!e.split(/\s*,\s*/).find(function(e){return":self"==e});return t&&(e=e.replace(jd,"")),[e=e.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,function(e){return".ng-trigger-"+e.substr(1)}).replace(/:animating/g,".ng-animating"),t]}(e.selector),i=n[0],l=n[1];t.currentQuerySelector=o.length?o+" "+i:i,rd(t.collectedStyles,t.currentQuerySelector,{});var a=Dd(this,Rd(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=o,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:l,animation:a,originalSelector:e.selector,options:Wd(e.options)}},e.prototype.visitStagger=function(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");var o="full"===e.timings?{duration:0,delay:0,easing:"full"}:Ed(e.timings,t.errors,!0);return{type:12,animation:Dd(this,Rd(e.animation),t),timings:o,options:null}},e}(),Ud=function(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function Bd(e){return!Array.isArray(e)&&"object"==typeof e}function Wd(e){var t;return e?(e=Pd(e)).params&&(e.params=(t=e.params)?Pd(t):null):e={},e}function Yd(e,t,o){return{duration:e,delay:t,easing:o}}function Kd(e,t,o,r,n,i,l,a){return void 0===l&&(l=null),void 0===a&&(a=!1),{type:1,element:e,keyframes:t,preStyleProps:o,postStyleProps:r,duration:n,delay:i,totalTime:n+i,easing:l,subTimeline:a}}var Xd=function(){function e(){this._map=new Map}return e.prototype.consume=function(e){var t=this._map.get(e);return t?this._map.delete(e):t=[],t},e.prototype.append=function(e,t){var o=this._map.get(e);o||this._map.set(e,o=[]),o.push.apply(o,t)},e.prototype.has=function(e){return this._map.has(e)},e.prototype.clear=function(){this._map.clear()},e}(),Zd=new RegExp(":enter","g"),Hd=new RegExp(":leave","g");function zd(e,t,o,r,n,i,l,a,s,p){return void 0===i&&(i={}),void 0===l&&(l={}),void 0===p&&(p=[]),(new Jd).buildKeyframes(e,t,o,r,n,i,l,a,s,p)}var Jd=function(){function e(){}return e.prototype.buildKeyframes=function(e,t,o,r,n,i,l,a,s,p){void 0===p&&(p=[]),s=s||new Xd;var u=new $d(e,t,s,r,n,p,[]);u.options=a,u.currentTimeline.setStyles([i],null,u.errors,a),Dd(this,o,u);var c=u.timelines.filter(function(e){return e.containsAnimation()});if(c.length&&Object.keys(l).length){var g=c[c.length-1];g.allowOnlyTimelineStyles()||g.setStyles([l],null,u.errors,a)}return c.length?c.map(function(e){return e.buildKeyframes()}):[Kd(t,[],[],[],0,0,"",!1)]},e.prototype.visitTrigger=function(e,t){},e.prototype.visitState=function(e,t){},e.prototype.visitTransition=function(e,t){},e.prototype.visitAnimateChild=function(e,t){var o=t.subInstructions.consume(t.element);if(o){var r=t.createSubContext(e.options),n=t.currentTimeline.currentTime,i=this._visitSubInstructions(o,r,r.options);n!=i&&t.transformIntoNewTimeline(i)}t.previousNode=e},e.prototype.visitAnimateRef=function(e,t){var o=t.createSubContext(e.options);o.transformIntoNewTimeline(),this.visitReference(e.animation,o),t.transformIntoNewTimeline(o.currentTimeline.currentTime),t.previousNode=e},e.prototype._visitSubInstructions=function(e,t,o){var r=t.currentTimeline.currentTime,n=null!=o.duration?Sd(o.duration):null,i=null!=o.delay?Sd(o.delay):null;return 0!==n&&e.forEach(function(e){var o=t.appendInstructionToTimeline(e,n,i);r=Math.max(r,o.duration+o.delay)}),r},e.prototype.visitReference=function(e,t){t.updateOptions(e.options,!0),Dd(this,e.animation,t),t.previousNode=e},e.prototype.visitSequence=function(e,t){var o=this,r=t.subContextCount,n=t,i=e.options;if(i&&(i.params||i.delay)&&((n=t.createSubContext(i)).transformIntoNewTimeline(),null!=i.delay)){6==n.previousNode.type&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Qd);var l=Sd(i.delay);n.delayNextStep(l)}e.steps.length&&(e.steps.forEach(function(e){return Dd(o,e,n)}),n.currentTimeline.applyStylesToKeyframe(),n.subContextCount>r&&n.transformIntoNewTimeline()),t.previousNode=e},e.prototype.visitGroup=function(e,t){var o=this,r=[],n=t.currentTimeline.currentTime,i=e.options&&e.options.delay?Sd(e.options.delay):0;e.steps.forEach(function(l){var a=t.createSubContext(e.options);i&&a.delayNextStep(i),Dd(o,l,a),n=Math.max(n,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(function(e){return t.currentTimeline.mergeTimelineCollectedStyles(e)}),t.transformIntoNewTimeline(n),t.previousNode=e},e.prototype._visitTiming=function(e,t){if(e.dynamic){var o=e.strValue;return Ed(t.params?Ld(o,t.params,t.errors):o,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}},e.prototype.visitAnimate=function(e,t){var o=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;o.delay&&(t.incrementTime(o.delay),r.snapshotCurrentStyles());var n=e.style;5==n.type?this.visitKeyframes(n,t):(t.incrementTime(o.duration),this.visitStyle(n,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e},e.prototype.visitStyle=function(e,t){var o=t.currentTimeline,r=t.currentAnimateTimings;!r&&o.getCurrentStyleProperties().length&&o.forwardFrame();var n=r&&r.easing||e.easing;e.isEmptyStep?o.applyEmptyStep(n):o.setStyles(e.styles,n,t.errors,t.options),t.previousNode=e},e.prototype.visitKeyframes=function(e,t){var o=t.currentAnimateTimings,r=t.currentTimeline.duration,n=o.duration,i=t.createSubContext().currentTimeline;i.easing=o.easing,e.styles.forEach(function(e){i.forwardTime((e.offset||0)*n),i.setStyles(e.styles,e.easing,t.errors,t.options),i.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(i),t.transformIntoNewTimeline(r+n),t.previousNode=e},e.prototype.visitQuery=function(e,t){var o=this,r=t.currentTimeline.currentTime,n=e.options||{},i=n.delay?Sd(n.delay):0;i&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Qd);var l=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!n.optional,t.errors);t.currentQueryTotal=a.length;var s=null;a.forEach(function(r,n){t.currentQueryIndex=n;var a=t.createSubContext(e.options,r);i&&a.delayNextStep(i),r===t.element&&(s=a.currentTimeline),Dd(o,e.animation,a),a.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,a.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),s&&(t.currentTimeline.mergeTimelineCollectedStyles(s),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e},e.prototype.visitStagger=function(e,t){var o=t.parentContext,r=t.currentTimeline,n=e.timings,i=Math.abs(n.duration),l=i*(t.currentQueryTotal-1),a=i*t.currentQueryIndex;switch(n.duration<0?"reverse":n.easing){case"reverse":a=l-a;break;case"full":a=o.currentStaggerTime}var s=t.currentTimeline;a&&s.delayNextStep(a);var p=s.currentTime;Dd(this,e.animation,t),t.previousNode=e,o.currentStaggerTime=r.currentTime-p+(r.startTime-o.currentTimeline.startTime)},e}(),Qd={},$d=function(){function e(e,t,o,r,n,i,l,a){this._driver=e,this.element=t,this.subInstructions=o,this._enterClassName=r,this._leaveClassName=n,this.errors=i,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Qd,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new eh(this._driver,t,0),l.push(this.currentTimeline)}return Object.defineProperty(e.prototype,"params",{get:function(){return this.options.params},enumerable:!0,configurable:!0}),e.prototype.updateOptions=function(e,t){var o=this;if(e){var r=e,n=this.options;null!=r.duration&&(n.duration=Sd(r.duration)),null!=r.delay&&(n.delay=Sd(r.delay));var i=r.params;if(i){var l=n.params;l||(l=this.options.params={}),Object.keys(i).forEach(function(e){t&&l.hasOwnProperty(e)||(l[e]=Ld(i[e],l,o.errors))})}}},e.prototype._copyOptions=function(){var e={};if(this.options){var t=this.options.params;if(t){var o=e.params={};Object.keys(t).forEach(function(e){o[e]=t[e]})}}return e},e.prototype.createSubContext=function(t,o,r){void 0===t&&(t=null);var n=o||this.element,i=new e(this._driver,n,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(n,r||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i},e.prototype.transformIntoNewTimeline=function(e){return this.previousNode=Qd,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline},e.prototype.appendInstructionToTimeline=function(e,t,o){var r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=o?o:0)+e.delay,easing:""},n=new th(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(n),r},e.prototype.incrementTime=function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)},e.prototype.delayNextStep=function(e){e>0&&this.currentTimeline.delayNextStep(e)},e.prototype.invokeQuery=function(e,t,o,r,n,i){var l=[];if(r&&l.push(this.element),e.length>0){e=(e=e.replace(Zd,"."+this._enterClassName)).replace(Hd,"."+this._leaveClassName);var a=this._driver.query(this.element,e,1!=o);0!==o&&(a=o<0?a.slice(a.length+o,a.length):a.slice(0,o)),l.push.apply(l,a)}return n||0!=l.length||i.push('`query("'+t+'")` returned zero elements. (Use `query("'+t+'", { optional: true })` if you wish to allow this.)'),l},e}(),eh=function(){function e(e,t,o,r){this._driver=e,this.element=t,this.startTime=o,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}return e.prototype.containsAnimation=function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}},e.prototype.getCurrentStyleProperties=function(){return Object.keys(this._currentKeyframe)},Object.defineProperty(e.prototype,"currentTime",{get:function(){return this.startTime+this.duration},enumerable:!0,configurable:!0}),e.prototype.delayNextStep=function(e){var t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e},e.prototype.fork=function(t,o){return this.applyStylesToKeyframe(),new e(this._driver,t,o||this.currentTime,this._elementTimelineStylesLookup)},e.prototype._loadKeyframe=function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))},e.prototype.forwardFrame=function(){this.duration+=1,this._loadKeyframe()},e.prototype.forwardTime=function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()},e.prototype._updateStyle=function(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}},e.prototype.allowOnlyTimelineStyles=function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe},e.prototype.applyEmptyStep=function(e){var t=this;e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(function(e){t._backFill[e]=t._globalTimelineStyles[e]||mn,t._currentKeyframe[e]=mn}),this._currentEmptyStepKeyframe=this._currentKeyframe},e.prototype.setStyles=function(e,t,o,r){var n=this;t&&(this._previousKeyframe.easing=t);var i=r&&r.params||{},l=function(e,t){var o,r={};return e.forEach(function(e){"*"===e?(o=o||Object.keys(t)).forEach(function(e){r[e]=mn}):bd(e,!1,r)}),r}(e,this._globalTimelineStyles);Object.keys(l).forEach(function(e){var t=Ld(l[e],i,o);n._pendingStyles[e]=t,n._localTimelineStyles.hasOwnProperty(e)||(n._backFill[e]=n._globalTimelineStyles.hasOwnProperty(e)?n._globalTimelineStyles[e]:mn),n._updateStyle(e,t)})},e.prototype.applyStylesToKeyframe=function(){var e=this,t=this._pendingStyles,o=Object.keys(t);0!=o.length&&(this._pendingStyles={},o.forEach(function(o){e._currentKeyframe[o]=t[o]}),Object.keys(this._localTimelineStyles).forEach(function(t){e._currentKeyframe.hasOwnProperty(t)||(e._currentKeyframe[t]=e._localTimelineStyles[t])}))},e.prototype.snapshotCurrentStyles=function(){var e=this;Object.keys(this._localTimelineStyles).forEach(function(t){var o=e._localTimelineStyles[t];e._pendingStyles[t]=o,e._updateStyle(t,o)})},e.prototype.getFinalKeyframe=function(){return this._keyframes.get(this.duration)},Object.defineProperty(e.prototype,"properties",{get:function(){var e=[];for(var t in this._currentKeyframe)e.push(t);return e},enumerable:!0,configurable:!0}),e.prototype.mergeTimelineCollectedStyles=function(e){var t=this;Object.keys(e._styleSummary).forEach(function(o){var r=t._styleSummary[o],n=e._styleSummary[o];(!r||n.time>r.time)&&t._updateStyle(o,n.value)})},e.prototype.buildKeyframes=function(){var e=this;this.applyStylesToKeyframe();var t=new Set,o=new Set,r=1===this._keyframes.size&&0===this.duration,n=[];this._keyframes.forEach(function(i,l){var a=bd(i,!0);Object.keys(a).forEach(function(e){var r=a[e];r==Pn?t.add(e):r==mn&&o.add(e)}),r||(a.offset=l/e.duration),n.push(a)});var i=t.size?Od(t.values()):[],l=o.size?Od(o.values()):[];if(r){var a=n[0],s=Pd(a);a.offset=0,s.offset=1,n=[a,s]}return Kd(this.element,n,i,l,this.duration,this.startTime,this.easing,!1)},e}(),th=function(e){function t(t,o,r,n,i,l,a){void 0===a&&(a=!1);var s=e.call(this,t,o,l.delay)||this;return s.element=o,s.keyframes=r,s.preStyleProps=n,s.postStyleProps=i,s._stretchStartingKeyframe=a,s.timings={duration:l.duration,delay:l.delay,easing:l.easing},s}return Object(c.__extends)(t,e),t.prototype.containsAnimation=function(){return this.keyframes.length>1},t.prototype.buildKeyframes=function(){var e=this.keyframes,t=this.timings,o=t.delay,r=t.duration,n=t.easing;if(this._stretchStartingKeyframe&&o){var i=[],l=r+o,a=o/l,s=bd(e[0],!1);s.offset=0,i.push(s);var p=bd(e[0],!1);p.offset=oh(a),i.push(p);for(var u=e.length-1,c=1;c<=u;c++){var g=bd(e[c],!1);g.offset=oh((o+g.offset*r)/l),i.push(g)}r=l,o=0,n="",e=i}return Kd(this.element,e,this.preStyleProps,this.postStyleProps,r,o,n,!0)},t}(eh);function oh(e,t){void 0===t&&(t=3);var o=Math.pow(10,t-1);return Math.round(e*o)/o}var rh=function(){},nh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(c.__extends)(t,e),t.prototype.normalizePropertyName=function(e,t){return Ad(e)},t.prototype.normalizeStyleValue=function(e,t,o,r){var n="",i=o.toString().trim();if(ih[t]&&0!==o&&"0"!==o)if("number"==typeof o)n="px";else{var l=o.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&0==l[1].length&&r.push("Please provide a CSS unit value for "+e+":"+o)}return i+n},t}(rh),ih=function(e){var t={};return"width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",").forEach(function(e){return t[e]=!0}),t}();function lh(e,t,o,r,n,i,l,a,s,p,u,c){return{type:0,element:e,triggerName:t,isRemovalTransition:n,fromState:o,fromStyles:i,toState:r,toStyles:l,timelines:a,queriedElements:s,preStyleProps:p,postStyleProps:u,errors:c}}var ah={},sh=function(){function e(e,t,o){this._triggerName=e,this.ast=t,this._stateStyles=o}return e.prototype.match=function(e,t){return function(e,t,o){return e.some(function(e){return e(t,o)})}(this.ast.matchers,e,t)},e.prototype.buildStyles=function(e,t,o){var r=this._stateStyles["*"],n=this._stateStyles[e],i=r?r.buildStyles(t,o):{};return n?n.buildStyles(t,o):i},e.prototype.build=function(e,t,o,r,n,i,l,a,s){var p=[],u=this.ast.options&&this.ast.options.params||ah,g=this.buildStyles(o,l&&l.params||ah,p),d=a&&a.params||ah,h=this.buildStyles(r,d,p),y=new Set,f=new Map,m=new Map,v="void"===r,_={params:Object(c.__assign)({},u,d)},S=zd(e,t,this.ast.animation,n,i,g,h,_,s,p);if(p.length)return lh(t,this._triggerName,o,r,v,g,h,[],[],f,m,p);S.forEach(function(e){var o=e.element,r=rd(f,o,{});e.preStyleProps.forEach(function(e){return r[e]=!0});var n=rd(m,o,{});e.postStyleProps.forEach(function(e){return n[e]=!0}),o!==t&&y.add(o)});var x=Od(y.values());return lh(t,this._triggerName,o,r,v,g,h,S,x,f,m)},e}(),ph=function(){function e(e,t){this.styles=e,this.defaultParams=t}return e.prototype.buildStyles=function(e,t){var o={},r=Pd(this.defaultParams);return Object.keys(e).forEach(function(t){var o=e[t];null!=o&&(r[t]=o)}),this.styles.styles.forEach(function(e){if("string"!=typeof e){var n=e;Object.keys(n).forEach(function(e){var i=n[e];i.length>1&&(i=Ld(i,r,t)),o[e]=i})}}),o},e}(),uh=function(){function e(e,t){var o=this;this.name=e,this.ast=t,this.transitionFactories=[],this.states={},t.states.forEach(function(e){o.states[e.name]=new ph(e.style,e.options&&e.options.params||{})}),ch(this.states,"true","1"),ch(this.states,"false","0"),t.transitions.forEach(function(t){o.transitionFactories.push(new sh(e,t,o.states))}),this.fallbackTransition=new sh(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(e,t){return!0}],options:null,queryCount:0,depCount:0},this.states)}return Object.defineProperty(e.prototype,"containsQueries",{get:function(){return this.ast.queryCount>0},enumerable:!0,configurable:!0}),e.prototype.matchTransition=function(e,t){return this.transitionFactories.find(function(o){return o.match(e,t)})||null},e.prototype.matchStyles=function(e,t,o){return this.fallbackTransition.buildStyles(e,t,o)},e}();function ch(e,t,o){e.hasOwnProperty(t)?e.hasOwnProperty(o)||(e[o]=e[t]):e.hasOwnProperty(o)&&(e[t]=e[o])}var gh=new Xd,dh=function(){function e(e,t){this._driver=e,this._normalizer=t,this._animations={},this._playersById={},this.players=[]}return e.prototype.register=function(e,t){var o=[],r=qd(this._driver,t,o);if(o.length)throw new Error("Unable to build the animation due to the following errors: "+o.join("\n"));this._animations[e]=r},e.prototype._buildPlayer=function(e,t,o){var r=e.element,n=$g(0,this._normalizer,0,e.keyframes,t,o);return this._driver.animate(r,n,e.duration,e.delay,e.easing,[])},e.prototype.create=function(e,t,o){var r=this;void 0===o&&(o={});var n,i=[],l=this._animations[e],a=new Map;if(l?(n=zd(this._driver,t,l,"ng-enter","ng-leave",{},{},o,gh,i)).forEach(function(e){var t=rd(a,e.element,{});e.postStyleProps.forEach(function(e){return t[e]=null})}):(i.push("The requested animation doesn't exist or has already been destroyed"),n=[]),i.length)throw new Error("Unable to create the animation due to the following errors: "+i.join("\n"));a.forEach(function(e,t){Object.keys(e).forEach(function(o){e[o]=r._driver.computeStyle(t,o,mn)})});var s=Qg(n.map(function(e){var t=a.get(e.element);return r._buildPlayer(e,{},t)}));return this._playersById[e]=s,s.onDestroy(function(){return r.destroy(e)}),this.players.push(s),s},e.prototype.destroy=function(e){var t=this._getPlayer(e);t.destroy(),delete this._playersById[e];var o=this.players.indexOf(t);o>=0&&this.players.splice(o,1)},e.prototype._getPlayer=function(e){var t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by "+e);return t},e.prototype.listen=function(e,t,o,r){var n=od(t,"","","");return ed(this._getPlayer(e),o,n,r),function(){}},e.prototype.command=function(e,t,o,r){if("register"!=o)if("create"!=o){var n=this._getPlayer(e);switch(o){case"play":n.play();break;case"pause":n.pause();break;case"reset":n.reset();break;case"restart":n.restart();break;case"finish":n.finish();break;case"init":n.init();break;case"setPosition":n.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}else this.create(e,t,r[0]||{});else this.register(e,r[0])},e}(),hh=[],yh={namespaceId:"",setForRemoval:null,hasAnimation:!1,removedBeforeQueried:!1},fh={namespaceId:"",setForRemoval:null,hasAnimation:!1,removedBeforeQueried:!0},mh="__ng_removed",vh=function(){function e(e,t){void 0===t&&(t=""),this.namespaceId=t;var o=e&&e.hasOwnProperty("value");if(this.value=function(e){return null!=e?e:null}(o?e.value:e),o){var r=Pd(e);delete r.value,this.options=r}else this.options={};this.options.params||(this.options.params={})}return Object.defineProperty(e.prototype,"params",{get:function(){return this.options.params},enumerable:!0,configurable:!0}),e.prototype.absorbOptions=function(e){var t=e.params;if(t){var o=this.options.params;Object.keys(t).forEach(function(e){null==o[e]&&(o[e]=t[e])})}},e}(),_h=new vh("void"),Sh=new vh("DELETED"),xh=function(){function e(e,t,o){this.id=e,this.hostElement=t,this._engine=o,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Mh(t,this._hostClassName)}return e.prototype.listen=function(e,t,o,r){var n,i=this;if(!this._triggers.hasOwnProperty(t))throw new Error('Unable to listen on the animation trigger event "'+o+'" because the animation trigger "'+t+"\" doesn't exist!");if(null==o||0==o.length)throw new Error('Unable to listen on the animation trigger "'+t+'" because the provided event is undefined!');if("start"!=(n=o)&&"done"!=n)throw new Error('The provided animation trigger event "'+o+'" for the animation trigger "'+t+'" is not supported!');var l=rd(this._elementListeners,e,[]),a={name:t,phase:o,callback:r};l.push(a);var s=rd(this._engine.statesByElement,e,{});return s.hasOwnProperty(t)||(Mh(e,"ng-trigger"),Mh(e,"ng-trigger-"+t),s[t]=_h),function(){i._engine.afterFlush(function(){var e=l.indexOf(a);e>=0&&l.splice(e,1),i._triggers[t]||delete s[t]})}},e.prototype.register=function(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)},e.prototype._getTrigger=function(e){var t=this._triggers[e];if(!t)throw new Error('The provided animation trigger "'+e+'" has not been registered!');return t},e.prototype.trigger=function(e,t,o,r){var n=this;void 0===r&&(r=!0);var i=this._getTrigger(t),l=new Ph(this.id,t,e),a=this._engine.statesByElement.get(e);a||(Mh(e,"ng-trigger"),Mh(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,a={}));var s=a[t],p=new vh(o,this.id);if(!(o&&o.hasOwnProperty("value"))&&s&&p.absorbOptions(s.options),a[t]=p,s){if(s===Sh)return l}else s=_h;if("void"===p.value||s.value!==p.value){var u=rd(this._engine.playersByElement,e,[]);u.forEach(function(e){e.namespaceId==n.id&&e.triggerName==t&&e.queued&&e.destroy()});var c=i.matchTransition(s.value,p.value),g=!1;if(!c){if(!r)return;c=i.fallbackTransition,g=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:c,fromState:s,toState:p,player:l,isFallbackTransition:g}),g||(Mh(e,"ng-animate-queued"),l.onStart(function(){Lh(e,"ng-animate-queued")})),l.onDone(function(){var t=n.players.indexOf(l);t>=0&&n.players.splice(t,1);var o=n._engine.playersByElement.get(e);if(o){var r=o.indexOf(l);r>=0&&o.splice(r,1)}}),this.players.push(l),u.push(l),l}if(!function(e,t){var o=Object.keys(e),r=Object.keys(t);if(o.length!=r.length)return!1;for(var n=0;n<o.length;n++){var i=o[n];if(!t.hasOwnProperty(i)||e[i]!==t[i])return!1}return!0}(s.params,p.params)){var d=[],h=i.matchStyles(s.value,s.params,d),y=i.matchStyles(p.value,p.params,d);d.length?this._engine.reportError(d):this._engine.afterFlush(function(){Cd(e,h),Td(e,y)})}},e.prototype.deregister=function(e){var t=this;delete this._triggers[e],this._engine.statesByElement.forEach(function(t,o){delete t[e]}),this._elementListeners.forEach(function(o,r){t._elementListeners.set(r,o.filter(function(t){return t.name!=e}))})},e.prototype.clearElementCache=function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var t=this._engine.playersByElement.get(e);t&&(t.forEach(function(e){return e.destroy()}),this._engine.playersByElement.delete(e))},e.prototype._signalRemovalForInnerTriggers=function(e,t,o){var r=this;void 0===o&&(o=!1),this._engine.driver.query(e,".ng-trigger",!0).forEach(function(e){if(!e[mh]){var o=r._engine.fetchNamespacesByElement(e);o.size?o.forEach(function(o){return o.triggerLeaveAnimation(e,t,!1,!0)}):r.clearElementCache(e)}})},e.prototype.triggerLeaveAnimation=function(e,t,o,r){var n=this,i=this._engine.statesByElement.get(e);if(i){var l=[];if(Object.keys(i).forEach(function(t){if(n._triggers[t]){var o=n.trigger(e,t,"void",r);o&&l.push(o)}}),l.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),o&&Qg(l).onDone(function(){return n._engine.processLeaveNode(e)}),!0}return!1},e.prototype.prepareLeaveAnimationListeners=function(e){var t=this,o=this._elementListeners.get(e);if(o){var r=new Set;o.forEach(function(o){var n=o.name;if(!r.has(n)){r.add(n);var i=t._triggers[n].fallbackTransition,l=t._engine.statesByElement.get(e)[n]||_h,a=new vh("void"),s=new Ph(t.id,n,e);t._engine.totalQueuedPlayers++,t._queue.push({element:e,triggerName:n,transition:i,fromState:l,toState:a,player:s,isFallbackTransition:!0})}})}},e.prototype.removeNode=function(e,t){var o=this,r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t,!0),!this.triggerLeaveAnimation(e,t,!0)){var n=!1;if(r.totalAnimations){var i=r.players.length?r.playersByQueriedElement.get(e):[];if(i&&i.length)n=!0;else for(var l=e;l=l.parentNode;)if(r.statesByElement.get(l)){n=!0;break}}this.prepareLeaveAnimationListeners(e),n?r.markElementAsRemoved(this.id,e,!1,t):(r.afterFlush(function(){return o.clearElementCache(e)}),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}},e.prototype.insertNode=function(e,t){Mh(e,this._hostClassName)},e.prototype.drainQueuedTransitions=function(e){var t=this,o=[];return this._queue.forEach(function(r){var n=r.player;if(!n.destroyed){var i=r.element,l=t._elementListeners.get(i);l&&l.forEach(function(t){if(t.name==r.triggerName){var o=od(i,r.triggerName,r.fromState.value,r.toState.value);o._data=e,ed(r.player,t.phase,o,t.callback)}}),n.markedForDestroy?t._engine.afterFlush(function(){n.destroy()}):o.push(r)}}),this._queue=[],o.sort(function(e,o){var r=e.transition.ast.depCount,n=o.transition.ast.depCount;return 0==r||0==n?r-n:t._engine.driver.containsElement(e.element,o.element)?1:-1})},e.prototype.destroy=function(e){this.players.forEach(function(e){return e.destroy()}),this._signalRemovalForInnerTriggers(this.hostElement,e)},e.prototype.elementContainsData=function(e){var t=!1;return this._elementListeners.has(e)&&(t=!0),!!this._queue.find(function(t){return t.element===e})||t},e}(),Eh=function(){function e(e,t){this.driver=e,this._normalizer=t,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(e,t){}}return e.prototype._onRemovalComplete=function(e,t){this.onRemovalComplete(e,t)},Object.defineProperty(e.prototype,"queuedPlayers",{get:function(){var e=[];return this._namespaceList.forEach(function(t){t.players.forEach(function(t){t.queued&&e.push(t)})}),e},enumerable:!0,configurable:!0}),e.prototype.createNamespace=function(e,t){var o=new xh(e,t,this);return t.parentNode?this._balanceNamespaceList(o,t):(this.newHostElements.set(t,o),this.collectEnterElement(t)),this._namespaceLookup[e]=o},e.prototype._balanceNamespaceList=function(e,t){var o=this._namespaceList.length-1;if(o>=0){for(var r=!1,n=o;n>=0;n--)if(this.driver.containsElement(this._namespaceList[n].hostElement,t)){this._namespaceList.splice(n+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e},e.prototype.register=function(e,t){var o=this._namespaceLookup[e];return o||(o=this.createNamespace(e,t)),o},e.prototype.registerTrigger=function(e,t,o){var r=this._namespaceLookup[e];r&&r.register(t,o)&&this.totalAnimations++},e.prototype.destroy=function(e,t){var o=this;if(e){var r=this._fetchNamespace(e);this.afterFlush(function(){o.namespacesByHostElement.delete(r.hostElement),delete o._namespaceLookup[e];var t=o._namespaceList.indexOf(r);t>=0&&o._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(function(){return r.destroy(t)})}},e.prototype._fetchNamespace=function(e){return this._namespaceLookup[e]},e.prototype.fetchNamespacesByElement=function(e){var t=new Set,o=this.statesByElement.get(e);if(o)for(var r=Object.keys(o),n=0;n<r.length;n++){var i=o[r[n]].namespaceId;if(i){var l=this._fetchNamespace(i);l&&t.add(l)}}return t},e.prototype.trigger=function(e,t,o,r){return!!bh(t)&&(this._fetchNamespace(e).trigger(t,o,r),!0)},e.prototype.insertNode=function(e,t,o,r){if(bh(t)){var n=t[mh];if(n&&n.setForRemoval&&(n.setForRemoval=!1),e){var i=this._fetchNamespace(e);i&&i.insertNode(t,o)}r&&this.collectEnterElement(t)}},e.prototype.collectEnterElement=function(e){this.collectedEnterElements.push(e)},e.prototype.markElementAsDisabled=function(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Mh(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Lh(e,"ng-animate-disabled"))},e.prototype.removeNode=function(e,t,o){if(bh(t)){var r=e?this._fetchNamespace(e):null;r?r.removeNode(t,o):this.markElementAsRemoved(e,t,!1,o)}else this._onRemovalComplete(t,o)},e.prototype.markElementAsRemoved=function(e,t,o,r){this.collectedLeaveElements.push(t),t[mh]={namespaceId:e,setForRemoval:r,hasAnimation:o,removedBeforeQueried:!1}},e.prototype.listen=function(e,t,o,r,n){return bh(t)?this._fetchNamespace(e).listen(t,o,r,n):function(){}},e.prototype._buildInstruction=function(e,t,o,r){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,o,r,e.fromState.options,e.toState.options,t)},e.prototype.destroyInnerAnimations=function(e){var t=this,o=this.driver.query(e,".ng-trigger",!0);o.forEach(function(e){return t.destroyActiveAnimationsForElement(e)}),0!=this.playersByQueriedElement.size&&(o=this.driver.query(e,".ng-animating",!0)).forEach(function(e){return t.finishActiveQueriedAnimationOnElement(e)})},e.prototype.destroyActiveAnimationsForElement=function(e){var t=this.playersByElement.get(e);t&&t.forEach(function(e){e.queued?e.markedForDestroy=!0:e.destroy()});var o=this.statesByElement.get(e);o&&Object.keys(o).forEach(function(e){return o[e]=Sh})},e.prototype.finishActiveQueriedAnimationOnElement=function(e){var t=this.playersByQueriedElement.get(e);t&&t.forEach(function(e){return e.finish()})},e.prototype.whenRenderingDone=function(){var e=this;return new Promise(function(t){if(e.players.length)return Qg(e.players).onDone(function(){return t()});t()})},e.prototype.processLeaveNode=function(e){var t=this,o=e[mh];if(o&&o.setForRemoval){if(e[mh]=yh,o.namespaceId){this.destroyInnerAnimations(e);var r=this._fetchNamespace(o.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,o.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(function(o){t.markElementAsDisabled(e,!1)})},e.prototype.flush=function(e){var t=this;void 0===e&&(e=-1);var o=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(e,o){return t._balanceNamespaceList(e,o)}),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)Mh(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var n=[];try{o=this._flushAnimations(n,e)}finally{for(r=0;r<n.length;r++)n[r]()}}else for(r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(e){return e()}),this._flushFns=[],this._whenQuietFns.length){var i=this._whenQuietFns;this._whenQuietFns=[],o.length?Qg(o).onDone(function(){i.forEach(function(e){return e()})}):i.forEach(function(e){return e()})}},e.prototype.reportError=function(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+e.join("\n"))},e.prototype._flushAnimations=function(e,t){var o=this,r=new Xd,n=[],i=new Map,l=[],a=new Map,s=new Map,p=new Map,u=new Set;this.disabledNodes.forEach(function(e){u.add(e);for(var t=o.driver.query(e,".ng-animate-queued",!0),r=0;r<t.length;r++)u.add(t[r])});var g=dd(),d=Array.from(this.statesByElement.keys()),h=Rh(d,this.collectedEnterElements),y=new Map,f=0;h.forEach(function(e,t){var o="ng-enter"+f++;y.set(t,o),e.forEach(function(e){return Mh(e,o)})});for(var m=[],v=new Set,_=new Set,S=0;S<this.collectedLeaveElements.length;S++)(G=(F=this.collectedLeaveElements[S])[mh])&&G.setForRemoval&&(m.push(F),v.add(F),G.hasAnimation?this.driver.query(F,".ng-star-inserted",!0).forEach(function(e){return v.add(e)}):_.add(F));var x=new Map,E=Rh(d,Array.from(v));E.forEach(function(e,t){var o="ng-leave"+f++;x.set(t,o),e.forEach(function(e){return Mh(e,o)})}),e.push(function(){h.forEach(function(e,t){var o=y.get(t);e.forEach(function(e){return Lh(e,o)})}),E.forEach(function(e,t){var o=x.get(t);e.forEach(function(e){return Lh(e,o)})}),m.forEach(function(e){o.processLeaveNode(e)})});for(var P=[],b=[],T=this._namespaceList.length-1;T>=0;T--)this._namespaceList[T].drainQueuedTransitions(t).forEach(function(e){var t=e.player;P.push(t);var i=e.element;if(g&&o.driver.containsElement(g,i)){var u=x.get(i),c=y.get(i),d=o._buildInstruction(e,r,c,u);if(d.errors&&d.errors.length)b.push(d);else{if(e.isFallbackTransition)return t.onStart(function(){return Cd(i,d.fromStyles)}),t.onDestroy(function(){return Td(i,d.toStyles)}),void n.push(t);d.timelines.forEach(function(e){return e.stretchStartingKeyframe=!0}),r.append(i,d.timelines),l.push({instruction:d,player:t,element:i}),d.queriedElements.forEach(function(e){return rd(a,e,[]).push(t)}),d.preStyleProps.forEach(function(e,t){var o=Object.keys(e);if(o.length){var r=s.get(t);r||s.set(t,r=new Set),o.forEach(function(e){return r.add(e)})}}),d.postStyleProps.forEach(function(e,t){var o=Object.keys(e),r=p.get(t);r||p.set(t,r=new Set),o.forEach(function(e){return r.add(e)})})}}else t.destroy()});if(b.length){var C=[];b.forEach(function(e){C.push("@"+e.triggerName+" has failed due to:\n"),e.errors.forEach(function(e){return C.push("- "+e+"\n")})}),P.forEach(function(e){return e.destroy()}),this.reportError(C)}var R=new Map,w=new Map;l.forEach(function(e){var t=e.element;r.has(t)&&(w.set(t,t),o._beforeAnimationBuild(e.player.namespaceId,e.instruction,R))}),n.forEach(function(e){var t=e.element;o._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(function(e){rd(R,t,[]).push(e),e.destroy()})});var M=m.filter(function(e){return Ih(e,s,p)}),L=new Map;Ch(L,this.driver,_,p,mn).forEach(function(e){Ih(e,s,p)&&M.push(e)});var O=new Map;h.forEach(function(e,t){Ch(O,o.driver,new Set(e),s,Pn)}),M.forEach(function(e){var t=L.get(e),o=O.get(e);L.set(e,Object(c.__assign)({},t,o))});var I=[],A=[],D={};l.forEach(function(e){var t=e.element,l=e.player,a=e.instruction;if(r.has(t)){if(u.has(t))return l.onDestroy(function(){return Td(t,a.toStyles)}),void n.push(l);var s=D;if(w.size>1){for(var p=t,c=[];p=p.parentNode;){var g=w.get(p);if(g){s=g;break}c.push(p)}c.forEach(function(e){return w.set(e,s)})}var d=o._buildAnimation(l.namespaceId,a,R,i,O,L);if(l.setRealPlayer(d),s===D)I.push(l);else{var h=o.playersByElement.get(s);h&&h.length&&(l.parentPlayer=Qg(h)),n.push(l)}}else Cd(t,a.fromStyles),l.onDestroy(function(){return Td(t,a.toStyles)}),A.push(l),u.has(t)&&n.push(l)}),A.forEach(function(e){var t=i.get(e.element);if(t&&t.length){var o=Qg(t);e.setRealPlayer(o)}}),n.forEach(function(e){e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(var N=0;N<m.length;N++){var F,G=(F=m[N])[mh];if(Lh(F,"ng-leave"),!G||!G.hasAnimation){var k=[];if(a.size){var j=a.get(F);j&&j.length&&k.push.apply(k,j);for(var q=this.driver.query(F,".ng-animating",!0),V=0;V<q.length;V++){var U=a.get(q[V]);U&&U.length&&k.push.apply(k,U)}}var B=k.filter(function(e){return!e.destroyed});B.length?Oh(this,F,B):this.processLeaveNode(F)}}return m.length=0,I.forEach(function(e){o.players.push(e),e.onDone(function(){e.destroy();var t=o.players.indexOf(e);o.players.splice(t,1)}),e.play()}),I},e.prototype.elementContainsData=function(e,t){var o=!1,r=t[mh];return r&&r.setForRemoval&&(o=!0),this.playersByElement.has(t)&&(o=!0),this.playersByQueriedElement.has(t)&&(o=!0),this.statesByElement.has(t)&&(o=!0),this._fetchNamespace(e).elementContainsData(t)||o},e.prototype.afterFlush=function(e){this._flushFns.push(e)},e.prototype.afterFlushAnimationsDone=function(e){this._whenQuietFns.push(e)},e.prototype._getPreviousPlayers=function(e,t,o,r,n){var i=[];if(t){var l=this.playersByQueriedElement.get(e);l&&(i=l)}else{var a=this.playersByElement.get(e);if(a){var s=!n||"void"==n;a.forEach(function(e){e.queued||(s||e.triggerName==r)&&i.push(e)})}}return(o||r)&&(i=i.filter(function(e){return!(o&&o!=e.namespaceId||r&&r!=e.triggerName)})),i},e.prototype._beforeAnimationBuild=function(e,t,o){for(var r=t.element,n=t.isRemovalTransition?void 0:e,i=t.isRemovalTransition?void 0:t.triggerName,l=function(e){var l=e.element,s=l!==r,p=rd(o,l,[]);a._getPreviousPlayers(l,s,n,i,t.toState).forEach(function(e){var t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),p.push(e)})},a=this,s=0,p=t.timelines;s<p.length;s++)l(p[s]);Cd(r,t.fromStyles)},e.prototype._buildAnimation=function(e,t,o,r,n,i){var l=this,a=t.triggerName,s=t.element,p=[],u=new Set,c=new Set,g=t.timelines.map(function(t){var g=t.element;u.add(g);var d=g[mh];if(d&&d.removedBeforeQueried)return new xn;var h,y,f=g!==s,m=(h=(o.get(g)||hh).map(function(e){return e.getRealPlayer()}),y=[],function e(t,o){for(var r=0;r<t.length;r++){var n=t[r];n instanceof En?e(n.players,o):o.push(n)}}(h,y),y).filter(function(e){return!!e.element&&e.element===g}),v=n.get(g),_=i.get(g),S=$g(0,l._normalizer,0,t.keyframes,v,_),x=l._buildPlayer(t,S,m);if(t.subTimeline&&r&&c.add(g),f){var E=new Ph(e,a,g);E.setRealPlayer(x),p.push(E)}return x});p.forEach(function(e){rd(l.playersByQueriedElement,e.element,[]).push(e),e.onDone(function(){return function(e,t,o){var r;if(e instanceof Map){if(r=e.get(t)){if(r.length){var n=r.indexOf(o);r.splice(n,1)}0==r.length&&e.delete(t)}}else(r=e[t])&&(r.length&&(n=r.indexOf(o),r.splice(n,1)),0==r.length&&delete e[t]);return r}(l.playersByQueriedElement,e.element,e)})}),u.forEach(function(e){return Mh(e,"ng-animating")});var d=Qg(g);return d.onDestroy(function(){u.forEach(function(e){return Lh(e,"ng-animating")}),Td(s,t.toStyles)}),c.forEach(function(e){rd(r,e,[]).push(d)}),d},e.prototype._buildPlayer=function(e,t,o){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,o):new xn},e}(),Ph=function(){function e(e,t,o){this.namespaceId=e,this.triggerName=t,this.element=o,this._player=new xn,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.queued=!0}return e.prototype.setRealPlayer=function(e){var t=this;this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(function(o){t._queuedCallbacks[o].forEach(function(t){return ed(e,o,void 0,t)})}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.queued=!1)},e.prototype.getRealPlayer=function(){return this._player},e.prototype.syncPlayerEvents=function(e){var t=this,o=this._player;o.triggerCallback&&e.onStart(function(){return o.triggerCallback("start")}),e.onDone(function(){return t.finish()}),e.onDestroy(function(){return t.destroy()})},e.prototype._queueEvent=function(e,t){rd(this._queuedCallbacks,e,[]).push(t)},e.prototype.onDone=function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)},e.prototype.onStart=function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)},e.prototype.onDestroy=function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)},e.prototype.init=function(){this._player.init()},e.prototype.hasStarted=function(){return!this.queued&&this._player.hasStarted()},e.prototype.play=function(){!this.queued&&this._player.play()},e.prototype.pause=function(){!this.queued&&this._player.pause()},e.prototype.restart=function(){!this.queued&&this._player.restart()},e.prototype.finish=function(){this._player.finish()},e.prototype.destroy=function(){this.destroyed=!0,this._player.destroy()},e.prototype.reset=function(){!this.queued&&this._player.reset()},e.prototype.setPosition=function(e){this.queued||this._player.setPosition(e)},e.prototype.getPosition=function(){return this.queued?0:this._player.getPosition()},Object.defineProperty(e.prototype,"totalTime",{get:function(){return this._player.totalTime},enumerable:!0,configurable:!0}),e.prototype.triggerCallback=function(e){var t=this._player;t.triggerCallback&&t.triggerCallback(e)},e}();function bh(e){return e&&1===e.nodeType}function Th(e,t){var o=e.style.display;return e.style.display=null!=t?t:"none",o}function Ch(e,t,o,r,n){var i=[];o.forEach(function(e){return i.push(Th(e))});var l=[];r.forEach(function(o,r){var i={};o.forEach(function(e){var o=i[e]=t.computeStyle(r,e,n);o&&0!=o.length||(r[mh]=fh,l.push(r))}),e.set(r,i)});var a=0;return o.forEach(function(e){return Th(e,i[a++])}),l}function Rh(e,t){var o=new Map;if(e.forEach(function(e){return o.set(e,[])}),0==t.length)return o;var r=new Set(t),n=new Map;return t.forEach(function(e){var t=function e(t){if(!t)return 1;var i=n.get(t);if(i)return i;var l=t.parentNode;return i=o.has(l)?l:r.has(l)?1:e(l),n.set(t,i),i}(e);1!==t&&o.get(t).push(e)}),o}var wh="$$classes";function Mh(e,t){if(e.classList)e.classList.add(t);else{var o=e[wh];o||(o=e[wh]={}),o[t]=!0}}function Lh(e,t){if(e.classList)e.classList.remove(t);else{var o=e[wh];o&&delete o[t]}}function Oh(e,t,o){Qg(o).onDone(function(){return e.processLeaveNode(t)})}function Ih(e,t,o){var r=o.get(e);if(!r)return!1;var n=t.get(e);return n?r.forEach(function(e){return n.add(e)}):t.set(e,r),o.delete(e),!0}var Ah=function(){function e(e,t){var o=this;this._driver=e,this._triggerCache={},this.onRemovalComplete=function(e,t){},this._transitionEngine=new Eh(e,t),this._timelineEngine=new dh(e,t),this._transitionEngine.onRemovalComplete=function(e,t){return o.onRemovalComplete(e,t)}}return e.prototype.registerTrigger=function(e,t,o,r,n){var i=e+"-"+r,l=this._triggerCache[i];if(!l){var a=[],s=qd(this._driver,n,a);if(a.length)throw new Error('The animation trigger "'+r+'" has failed to build due to the following errors:\n - '+a.join("\n - "));l=function(e,t){return new uh(e,t)}(r,s),this._triggerCache[i]=l}this._transitionEngine.registerTrigger(t,r,l)},e.prototype.register=function(e,t){this._transitionEngine.register(e,t)},e.prototype.destroy=function(e,t){this._transitionEngine.destroy(e,t)},e.prototype.onInsert=function(e,t,o,r){this._transitionEngine.insertNode(e,t,o,r)},e.prototype.onRemove=function(e,t,o){this._transitionEngine.removeNode(e,t,o)},e.prototype.disableAnimations=function(e,t){this._transitionEngine.markElementAsDisabled(e,t)},e.prototype.process=function(e,t,o,r){if("@"==o.charAt(0)){var n=nd(o);this._timelineEngine.command(n[0],t,n[1],r)}else this._transitionEngine.trigger(e,t,o,r)},e.prototype.listen=function(e,t,o,r,n){if("@"==o.charAt(0)){var i=nd(o);return this._timelineEngine.listen(i[0],t,i[1],n)}return this._transitionEngine.listen(e,t,o,r,n)},e.prototype.flush=function(e){void 0===e&&(e=-1),this._transitionEngine.flush(e)},Object.defineProperty(e.prototype,"players",{get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)},enumerable:!0,configurable:!0}),e.prototype.whenRenderingDone=function(){return this._transitionEngine.whenRenderingDone()},e}(),Dh=function(){function e(e,t,o,r){void 0===r&&(r=[]);var n=this;this.element=e,this.keyframes=t,this.options=o,this.previousPlayers=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.previousStyles={},this.currentSnapshot={},this._duration=o.duration,this._delay=o.delay||0,this.time=this._duration+this._delay,(0===this._duration||0===this._delay)&&r.forEach(function(e){var t=e.currentSnapshot;Object.keys(t).forEach(function(e){return n.previousStyles[e]=t[e]})})}return e.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])},e.prototype.init=function(){this._buildPlayer(),this._preparePlayerBeforeStart()},e.prototype._buildPlayer=function(){var e=this;if(!this._initialized){this._initialized=!0;var t=this.keyframes.map(function(e){return bd(e,!1)}),o=Object.keys(this.previousStyles);if(o.length&&t.length){var r=t[0],n=[];if(o.forEach(function(t){r.hasOwnProperty(t)||n.push(t),r[t]=e.previousStyles[t]}),n.length)for(var i=this,l=function(){var e=t[a];n.forEach(function(t){e[t]=Nh(i.element,t)})},a=1;a<t.length;a++)l()}this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",function(){return e._onFinish()})}},e.prototype._preparePlayerBeforeStart=function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()},e.prototype._triggerWebAnimation=function(e,t,o){return e.animate(t,o)},e.prototype.onStart=function(e){this._onStartFns.push(e)},e.prototype.onDone=function(e){this._onDoneFns.push(e)},e.prototype.onDestroy=function(e){this._onDestroyFns.push(e)},e.prototype.play=function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[],this._started=!0),this.domPlayer.play()},e.prototype.pause=function(){this.init(),this.domPlayer.pause()},e.prototype.finish=function(){this.init(),this._onFinish(),this.domPlayer.finish()},e.prototype.reset=function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1},e.prototype._resetDomPlayerState=function(){this.domPlayer&&this.domPlayer.cancel()},e.prototype.restart=function(){this.reset(),this.play()},e.prototype.hasStarted=function(){return this._started},e.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])},e.prototype.setPosition=function(e){this.domPlayer.currentTime=e*this.time},e.prototype.getPosition=function(){return this.domPlayer.currentTime/this.time},Object.defineProperty(e.prototype,"totalTime",{get:function(){return this._delay+this._duration},enumerable:!0,configurable:!0}),e.prototype.beforeDestroy=function(){var e=this,t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(function(o){"offset"!=o&&(t[o]=e._finished?e._finalKeyframe[o]:Nh(e.element,o))}),this.currentSnapshot=t},e.prototype.triggerCallback=function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0},e}();function Nh(e,t){return window.getComputedStyle(e)[t]}var Fh=function(){function e(){}return e.prototype.validateStyleProperty=function(e){return gd(e)},e.prototype.matchesElement=function(e,t){return hd(e,t)},e.prototype.containsElement=function(e,t){return yd(e,t)},e.prototype.query=function(e,t,o){return fd(e,t,o)},e.prototype.computeStyle=function(e,t,o){return window.getComputedStyle(e)[t]},e.prototype.animate=function(e,t,o,r,n,i){void 0===i&&(i=[]);var l={duration:o,delay:r,fill:0==r?"both":"forwards"};n&&(l.easing=n);var a=i.filter(function(e){return e instanceof Dh});return new Dh(e,t,l,a)},e}(),Gh=function(e){function t(t,o){var n=e.call(this)||this;return n._nextAnimationId=0,n._renderer=t.createRenderer(o.body,{id:"0",encapsulation:r.ViewEncapsulation.None,styles:[],data:{animation:[]}}),n}return Object(c.__extends)(t,e),t.prototype.build=function(e){var t=this._nextAnimationId.toString();this._nextAnimationId++;var o=Array.isArray(e)?vn(e):e;return qh(this._renderer,null,t,"register",[o]),new kh(t,this._renderer)},t}(fn),kh=function(e){function t(t,o){var r=e.call(this)||this;return r._id=t,r._renderer=o,r}return Object(c.__extends)(t,e),t.prototype.create=function(e,t){return new jh(this._id,e,t||{},this._renderer)},t}(function(){}),jh=function(){function e(e,t,o,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",o)}return e.prototype._listen=function(e,t){return this._renderer.listen(this.element,"@@"+this.id+":"+e,t)},e.prototype._command=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];return qh(this._renderer,this.element,this.id,e,t)},e.prototype.onDone=function(e){this._listen("done",e)},e.prototype.onStart=function(e){this._listen("start",e)},e.prototype.onDestroy=function(e){this._listen("destroy",e)},e.prototype.init=function(){this._command("init")},e.prototype.hasStarted=function(){return this._started},e.prototype.play=function(){this._command("play"),this._started=!0},e.prototype.pause=function(){this._command("pause")},e.prototype.restart=function(){this._command("restart")},e.prototype.finish=function(){this._command("finish")},e.prototype.destroy=function(){this._command("destroy")},e.prototype.reset=function(){this._command("reset")},e.prototype.setPosition=function(e){this._command("setPosition",e)},e.prototype.getPosition=function(){return 0},e}();function qh(e,t,o,r,n){return e.setProperty(t,"@@"+o+":"+r,n)}var Vh=function(){function e(e,t,o){this.delegate=e,this.engine=t,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=function(e,t){t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}return e.prototype.createRenderer=function(e,t){var o=this,r=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){var n=this._rendererCache.get(r);return n||(n=new Uh("",r,this.engine),this._rendererCache.set(r,n)),n}var i=t.id,l=t.id+"-"+this._currentId;return this._currentId++,this.engine.register(l,e),t.data.animation.forEach(function(t){return o.engine.registerTrigger(i,l,e,t.name,t)}),new Bh(this,l,r,this.engine)},e.prototype.begin=function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()},e.prototype._scheduleCountTask=function(){var e=this;this.promise.then(function(){e._microtaskId++})},e.prototype.scheduleListenerCallback=function(e,t,o){var r=this;e>=0&&e<this._microtaskId?this._zone.run(function(){return t(o)}):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(function(){r._zone.run(function(){r._animationCallbacksBuffer.forEach(function(e){(0,e[0])(e[1])}),r._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,o]))},e.prototype.end=function(){var e=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(function(){e._scheduleCountTask(),e.engine.flush(e._microtaskId)}),this.delegate.end&&this.delegate.end()},e.prototype.whenRenderingDone=function(){return this.engine.whenRenderingDone()},e}(),Uh=function(){function e(e,t,o){this.namespaceId=e,this.delegate=t,this.engine=o,this.destroyNode=this.delegate.destroyNode?function(e){return t.destroyNode(e)}:null}return Object.defineProperty(e.prototype,"data",{get:function(){return this.delegate.data},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()},e.prototype.createElement=function(e,t){return this.delegate.createElement(e,t)},e.prototype.createComment=function(e){return this.delegate.createComment(e)},e.prototype.createText=function(e){return this.delegate.createText(e)},e.prototype.appendChild=function(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)},e.prototype.insertBefore=function(e,t,o){this.delegate.insertBefore(e,t,o),this.engine.onInsert(this.namespaceId,t,e,!0)},e.prototype.removeChild=function(e,t){this.engine.onRemove(this.namespaceId,t,this.delegate)},e.prototype.selectRootElement=function(e){return this.delegate.selectRootElement(e)},e.prototype.parentNode=function(e){return this.delegate.parentNode(e)},e.prototype.nextSibling=function(e){return this.delegate.nextSibling(e)},e.prototype.setAttribute=function(e,t,o,r){this.delegate.setAttribute(e,t,o,r)},e.prototype.removeAttribute=function(e,t,o){this.delegate.removeAttribute(e,t,o)},e.prototype.addClass=function(e,t){this.delegate.addClass(e,t)},e.prototype.removeClass=function(e,t){this.delegate.removeClass(e,t)},e.prototype.setStyle=function(e,t,o,r){this.delegate.setStyle(e,t,o,r)},e.prototype.removeStyle=function(e,t,o){this.delegate.removeStyle(e,t,o)},e.prototype.setProperty=function(e,t,o){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!o):this.delegate.setProperty(e,t,o)},e.prototype.setValue=function(e,t){this.delegate.setValue(e,t)},e.prototype.listen=function(e,t,o){return this.delegate.listen(e,t,o)},e.prototype.disableAnimations=function(e,t){this.engine.disableAnimations(e,t)},e}(),Bh=function(e){function t(t,o,r,n){var i=e.call(this,o,r,n)||this;return i.factory=t,i.namespaceId=o,i}return Object(c.__extends)(t,e),t.prototype.setProperty=function(e,t,o){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,o=void 0===o||!!o):this.engine.process(this.namespaceId,e,t.substr(1),o):this.delegate.setProperty(e,t,o)},t.prototype.listen=function(e,t,o){var r,n,i,l=this;if("@"==t.charAt(0)){var a=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e),s=t.substr(1),p="";return"@"!=s.charAt(0)&&(s=(n=s,i=n.indexOf("."),r=[n.substring(0,i),n.substr(i+1)])[0],p=r[1]),this.engine.listen(this.namespaceId,a,s,p,function(e){l.factory.scheduleListenerCallback(e._data||-1,o,e)})}return this.delegate.listen(e,t,o)},t}(Uh),Wh=function(e){function t(t,o){return e.call(this,t,o)||this}return Object(c.__extends)(t,e),t}(Ah);function Yh(){return"undefined"!=typeof Element&&"function"==typeof Element.prototype.animate?new Fh:new md}function Kh(){return new nh}function Xh(e,t,o){return new Vh(e,t,o)}var Zh=function(){},Hh=o("MTKS"),zh=function(){function e(){}return e.prototype.build=function(){return new XMLHttpRequest},e}(),Jh=function(){var e={Get:0,Post:1,Put:2,Delete:3,Options:4,Head:5,Patch:6};return e[e.Get]="Get",e[e.Post]="Post",e[e.Put]="Put",e[e.Delete]="Delete",e[e.Options]="Options",e[e.Head]="Head",e[e.Patch]="Patch",e}(),Qh=function(){var e={Basic:0,Cors:1,Default:2,Error:3,Opaque:4};return e[e.Basic]="Basic",e[e.Cors]="Cors",e[e.Default]="Default",e[e.Error]="Error",e[e.Opaque]="Opaque",e}(),$h=function(){var e={NONE:0,JSON:1,FORM:2,FORM_DATA:3,TEXT:4,BLOB:5,ARRAY_BUFFER:6};return e[e.NONE]="NONE",e[e.JSON]="JSON",e[e.FORM]="FORM",e[e.FORM_DATA]="FORM_DATA",e[e.TEXT]="TEXT",e[e.BLOB]="BLOB",e[e.ARRAY_BUFFER]="ARRAY_BUFFER",e}(),ey=function(){var e={Text:0,Json:1,ArrayBuffer:2,Blob:3};return e[e.Text]="Text",e[e.Json]="Json",e[e.ArrayBuffer]="ArrayBuffer",e[e.Blob]="Blob",e}(),ty=function(){function e(t){var o=this;this._headers=new Map,this._normalizedNames=new Map,t&&(t instanceof e?t.forEach(function(e,t){e.forEach(function(e){return o.append(t,e)})}):Object.keys(t).forEach(function(e){var r=Array.isArray(t[e])?t[e]:[t[e]];o.delete(e),r.forEach(function(t){return o.append(e,t)})}))}return e.fromResponseHeaderString=function(t){var o=new e;return t.split("\n").forEach(function(e){var t=e.indexOf(":");if(t>0){var r=e.slice(0,t),n=e.slice(t+1).trim();o.set(r,n)}}),o},e.prototype.append=function(e,t){var o=this.getAll(e);null===o?this.set(e,t):o.push(t)},e.prototype.delete=function(e){var t=e.toLowerCase();this._normalizedNames.delete(t),this._headers.delete(t)},e.prototype.forEach=function(e){var t=this;this._headers.forEach(function(o,r){return e(o,t._normalizedNames.get(r),t._headers)})},e.prototype.get=function(e){var t=this.getAll(e);return null===t?null:t.length>0?t[0]:null},e.prototype.has=function(e){return this._headers.has(e.toLowerCase())},e.prototype.keys=function(){return Array.from(this._normalizedNames.values())},e.prototype.set=function(e,t){Array.isArray(t)?t.length&&this._headers.set(e.toLowerCase(),[t.join(",")]):this._headers.set(e.toLowerCase(),[t]),this.mayBeSetNormalizedName(e)},e.prototype.values=function(){return Array.from(this._headers.values())},e.prototype.toJSON=function(){var e=this,t={};return this._headers.forEach(function(o,r){var n=[];o.forEach(function(e){return n.push.apply(n,e.split(","))}),t[e._normalizedNames.get(r)]=n}),t},e.prototype.getAll=function(e){return this.has(e)&&this._headers.get(e.toLowerCase())||null},e.prototype.entries=function(){throw new Error('"entries" method is not implemented on Headers class')},e.prototype.mayBeSetNormalizedName=function(e){var t=e.toLowerCase();this._normalizedNames.has(t)||this._normalizedNames.set(t,e)},e}(),oy=function(){function e(e){void 0===e&&(e={});var t=e.body,o=e.status,r=e.headers,n=e.statusText,i=e.type,l=e.url;this.body=null!=t?t:null,this.status=null!=o?o:null,this.headers=null!=r?r:null,this.statusText=null!=n?n:null,this.type=null!=i?i:null,this.url=null!=l?l:null}return e.prototype.merge=function(t){return new e({body:t&&null!=t.body?t.body:this.body,status:t&&null!=t.status?t.status:this.status,headers:t&&null!=t.headers?t.headers:this.headers,statusText:t&&null!=t.statusText?t.statusText:this.statusText,type:t&&null!=t.type?t.type:this.type,url:t&&null!=t.url?t.url:this.url})},e}(),ry=function(e){function t(){return e.call(this,{status:200,statusText:"Ok",type:Qh.Default,headers:new ty})||this}return Object(c.__extends)(t,e),t}(oy),ny=function(){};function iy(e){if("string"!=typeof e)return e;switch(e.toUpperCase()){case"GET":return Jh.Get;case"POST":return Jh.Post;case"PUT":return Jh.Put;case"DELETE":return Jh.Delete;case"OPTIONS":return Jh.Options;case"HEAD":return Jh.Head;case"PATCH":return Jh.Patch}throw new Error('Invalid request method. The method "'+e+'" is not supported.')}var ly=function(e){return e>=200&&e<300},ay=function(){function e(){}return e.prototype.encodeKey=function(e){return sy(e)},e.prototype.encodeValue=function(e){return sy(e)},e}();function sy(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var py=function(){function e(e,t){void 0===e&&(e=""),void 0===t&&(t=new ay),this.rawParams=e,this.queryEncoder=t,this.paramsMap=function(e){void 0===e&&(e="");var t=new Map;return e.length>0&&e.split("&").forEach(function(e){var o=e.indexOf("="),r=-1==o?[e,""]:[e.slice(0,o),e.slice(o+1)],n=r[0],i=r[1],l=t.get(n)||[];l.push(i),t.set(n,l)}),t}(e)}return e.prototype.clone=function(){var t=new e("",this.queryEncoder);return t.appendAll(this),t},e.prototype.has=function(e){return this.paramsMap.has(e)},e.prototype.get=function(e){var t=this.paramsMap.get(e);return Array.isArray(t)?t[0]:null},e.prototype.getAll=function(e){return this.paramsMap.get(e)||[]},e.prototype.set=function(e,t){if(void 0!==t&&null!==t){var o=this.paramsMap.get(e)||[];o.length=0,o.push(t),this.paramsMap.set(e,o)}else this.delete(e)},e.prototype.setAll=function(e){var t=this;e.paramsMap.forEach(function(e,o){var r=t.paramsMap.get(o)||[];r.length=0,r.push(e[0]),t.paramsMap.set(o,r)})},e.prototype.append=function(e,t){if(void 0!==t&&null!==t){var o=this.paramsMap.get(e)||[];o.push(t),this.paramsMap.set(e,o)}},e.prototype.appendAll=function(e){var t=this;e.paramsMap.forEach(function(e,o){for(var r=t.paramsMap.get(o)||[],n=0;n<e.length;++n)r.push(e[n]);t.paramsMap.set(o,r)})},e.prototype.replaceAll=function(e){var t=this;e.paramsMap.forEach(function(e,o){var r=t.paramsMap.get(o)||[];r.length=0;for(var n=0;n<e.length;++n)r.push(e[n]);t.paramsMap.set(o,r)})},e.prototype.toString=function(){var e=this,t=[];return this.paramsMap.forEach(function(o,r){o.forEach(function(o){return t.push(e.queryEncoder.encodeKey(r)+"="+e.queryEncoder.encodeValue(o))})}),t.join("&")},e.prototype.delete=function(e){this.paramsMap.delete(e)},e}(),uy=function(){function e(){}return e.prototype.json=function(){return"string"==typeof this._body?JSON.parse(this._body):this._body instanceof ArrayBuffer?JSON.parse(this.text()):this._body},e.prototype.text=function(e){if(void 0===e&&(e="legacy"),this._body instanceof py)return this._body.toString();if(this._body instanceof ArrayBuffer)switch(e){case"legacy":return String.fromCharCode.apply(null,new Uint16Array(this._body));case"iso-8859":return String.fromCharCode.apply(null,new Uint8Array(this._body));default:throw new Error("Invalid value for encodingHint: "+e)}return null==this._body?"":"object"==typeof this._body?JSON.stringify(this._body,null,2):this._body.toString()},e.prototype.arrayBuffer=function(){return this._body instanceof ArrayBuffer?this._body:function(e){for(var t=new Uint16Array(e.length),o=0,r=e.length;o<r;o++)t[o]=e.charCodeAt(o);return t.buffer}(this.text())},e.prototype.blob=function(){if(this._body instanceof Blob)return this._body;if(this._body instanceof ArrayBuffer)return new Blob([this._body]);throw new Error("The request body isn't either a blob or an array buffer")},e}(),cy=function(e){function t(t){var o=e.call(this)||this;return o._body=t.body,o.status=t.status,o.ok=o.status>=200&&o.status<=299,o.statusText=t.statusText,o.headers=t.headers,o.type=t.type,o.url=t.url,o}return Object(c.__extends)(t,e),t.prototype.toString=function(){return"Response with status: "+this.status+" "+this.statusText+" for URL: "+this.url},t}(uy),gy=/^\)\]\}',?\n/,dy=function(){function e(e,t,o){var r=this;this.request=e,this.response=new te.Observable(function(n){var i=t.build();i.open(Jh[e.method].toUpperCase(),e.url),null!=e.withCredentials&&(i.withCredentials=e.withCredentials);var l=function(){var t=1223===i.status?204:i.status,r=null;204!==t&&"string"==typeof(r="undefined"==typeof i.response?i.responseText:i.response)&&(r=r.replace(gy,"")),0===t&&(t=r?200:0);var l,a=ty.fromResponseHeaderString(i.getAllResponseHeaders()),s=("responseURL"in(l=i)?l.responseURL:/^X-Request-URL:/m.test(l.getAllResponseHeaders())?l.getResponseHeader("X-Request-URL"):null)||e.url,p=new oy({body:r,status:t,headers:a,statusText:i.statusText||"OK",url:s});null!=o&&(p=o.merge(p));var u=new cy(p);if(u.ok=ly(t),u.ok)return n.next(u),void n.complete();n.error(u)},a=function(e){var t=new oy({body:e,type:Qh.Error,status:i.status,statusText:i.statusText});null!=o&&(t=o.merge(t)),n.error(new cy(t))};if(r.setDetectedContentType(e,i),null==e.headers&&(e.headers=new ty),e.headers.has("Accept")||e.headers.append("Accept","application/json, text/plain, */*"),e.headers.forEach(function(e,t){return i.setRequestHeader(t,e.join(","))}),null!=e.responseType&&null!=i.responseType)switch(e.responseType){case ey.ArrayBuffer:i.responseType="arraybuffer";break;case ey.Json:i.responseType="json";break;case ey.Text:i.responseType="text";break;case ey.Blob:i.responseType="blob";break;default:throw new Error("The selected responseType is not supported")}return i.addEventListener("load",l),i.addEventListener("error",a),i.send(r.request.getBody()),function(){i.removeEventListener("load",l),i.removeEventListener("error",a),i.abort()}})}return e.prototype.setDetectedContentType=function(e,t){if(null==e.headers||null==e.headers.get("Content-Type"))switch(e.contentType){case $h.NONE:break;case $h.JSON:t.setRequestHeader("content-type","application/json");break;case $h.FORM:t.setRequestHeader("content-type","application/x-www-form-urlencoded;charset=UTF-8");break;case $h.TEXT:t.setRequestHeader("content-type","text/plain");break;case $h.BLOB:var o=e.blob();o.type&&t.setRequestHeader("content-type",o.type)}},e}(),hy=function(){function e(e,t){void 0===e&&(e="XSRF-TOKEN"),void 0===t&&(t="X-XSRF-TOKEN"),this._cookieName=e,this._headerName=t}return e.prototype.configureRequest=function(e){var t=Vt().getCookie(this._cookieName);t&&e.headers.set(this._headerName,t)},e}(),yy=function(){function e(e,t,o){this._browserXHR=e,this._baseResponseOptions=t,this._xsrfStrategy=o}return e.prototype.createConnection=function(e){return this._xsrfStrategy.configureRequest(e),new dy(e,this._browserXHR,this._baseResponseOptions)},e}(),fy=function(){function e(e){void 0===e&&(e={});var t=e.method,o=e.headers,r=e.body,n=e.url,i=e.search,l=e.params,a=e.withCredentials,s=e.responseType;this.method=null!=t?iy(t):null,this.headers=null!=o?o:null,this.body=null!=r?r:null,this.url=null!=n?n:null,this.params=this._mergeSearchParams(l||i),this.withCredentials=null!=a?a:null,this.responseType=null!=s?s:null}return Object.defineProperty(e.prototype,"search",{get:function(){return this.params},set:function(e){this.params=e},enumerable:!0,configurable:!0}),e.prototype.merge=function(t){return new e({method:t&&null!=t.method?t.method:this.method,headers:t&&null!=t.headers?t.headers:new ty(this.headers),body:t&&null!=t.body?t.body:this.body,url:t&&null!=t.url?t.url:this.url,params:t&&this._mergeSearchParams(t.params||t.search),withCredentials:t&&null!=t.withCredentials?t.withCredentials:this.withCredentials,responseType:t&&null!=t.responseType?t.responseType:this.responseType})},e.prototype._mergeSearchParams=function(e){return e?e instanceof py?e.clone():"string"==typeof e?new py(e):this._parseParams(e):this.params},e.prototype._parseParams=function(e){var t=this;void 0===e&&(e={});var o=new py;return Object.keys(e).forEach(function(r){var n=e[r];Array.isArray(n)?n.forEach(function(e){return t._appendParam(r,e,o)}):t._appendParam(r,n,o)}),o},e.prototype._appendParam=function(e,t,o){"string"!=typeof t&&(t=JSON.stringify(t)),o.append(e,t)},e}(),my=function(e){function t(){return e.call(this,{method:Jh.Get,headers:new ty})||this}return Object(c.__extends)(t,e),t}(fy),vy=function(e){function t(t){var o=e.call(this)||this,r=t.url;o.url=t.url;var n,i=t.params||t.search;if(i&&(n="object"!=typeof i||i instanceof py?i.toString():function(e){var t=new py;return Object.keys(e).forEach(function(o){var r=e[o];r&&Array.isArray(r)?r.forEach(function(e){return t.append(o,e.toString())}):t.append(o,r.toString())}),t}(i).toString()).length>0){var l="?";-1!=o.url.indexOf("?")&&(l="&"==o.url[o.url.length-1]?"":"&"),o.url=r+l+n}return o._body=t.body,o.method=iy(t.method),o.headers=new ty(t.headers),o.contentType=o.detectContentType(),o.withCredentials=t.withCredentials,o.responseType=t.responseType,o}return Object(c.__extends)(t,e),t.prototype.detectContentType=function(){switch(this.headers.get("content-type")){case"application/json":return $h.JSON;case"application/x-www-form-urlencoded":return $h.FORM;case"multipart/form-data":return $h.FORM_DATA;case"text/plain":case"text/html":return $h.TEXT;case"application/octet-stream":return this._body instanceof Py?$h.ARRAY_BUFFER:$h.BLOB;default:return this.detectContentTypeFromBody()}},t.prototype.detectContentTypeFromBody=function(){return null==this._body?$h.NONE:this._body instanceof py?$h.FORM:this._body instanceof xy?$h.FORM_DATA:this._body instanceof Ey?$h.BLOB:this._body instanceof Py?$h.ARRAY_BUFFER:this._body&&"object"==typeof this._body?$h.JSON:$h.TEXT},t.prototype.getBody=function(){switch(this.contentType){case $h.JSON:case $h.FORM:return this.text();case $h.FORM_DATA:return this._body;case $h.TEXT:return this.text();case $h.BLOB:return this.blob();case $h.ARRAY_BUFFER:return this.arrayBuffer();default:return null}},t}(uy),_y=function(){},Sy="object"==typeof window?window:_y,xy=Sy.FormData||_y,Ey=Sy.Blob||_y,Py=Sy.ArrayBuffer||_y;function by(e,t){return e.createConnection(t).response}function Ty(e,t,o,r){return e.merge(new fy(t?{method:t.method||o,url:t.url||r,search:t.search,params:t.params,headers:t.headers,body:t.body,withCredentials:t.withCredentials,responseType:t.responseType}:{method:o,url:r}))}var Cy=function(){function e(e,t){this._backend=e,this._defaultOptions=t}return e.prototype.request=function(e,t){var o;if("string"==typeof e)o=by(this._backend,new vy(Ty(this._defaultOptions,t,Jh.Get,e)));else{if(!(e instanceof vy))throw new Error("First argument must be a url string or Request instance.");o=by(this._backend,e)}return o},e.prototype.get=function(e,t){return this.request(new vy(Ty(this._defaultOptions,t,Jh.Get,e)))},e.prototype.post=function(e,t,o){return this.request(new vy(Ty(this._defaultOptions.merge(new fy({body:t})),o,Jh.Post,e)))},e.prototype.put=function(e,t,o){return this.request(new vy(Ty(this._defaultOptions.merge(new fy({body:t})),o,Jh.Put,e)))},e.prototype.delete=function(e,t){return this.request(new vy(Ty(this._defaultOptions,t,Jh.Delete,e)))},e.prototype.patch=function(e,t,o){return this.request(new vy(Ty(this._defaultOptions.merge(new fy({body:t})),o,Jh.Patch,e)))},e.prototype.head=function(e,t){return this.request(new vy(Ty(this._defaultOptions,t,Jh.Head,e)))},e.prototype.options=function(e,t){return this.request(new vy(Ty(this._defaultOptions,t,Jh.Options,e)))},e}();function Ry(){return new hy}function wy(e,t){return new Cy(e,t)}var My=function(){},Ly=function(){function e(e){this.callback=e}return e.prototype.call=function(e,t){return t.subscribe(new Oy(e,this.callback))},e}(),Oy=function(e){function t(t,o){e.call(this,t),this.add(new ae.a(o))}return Object(c.__extends)(t,e),t}(qe.a),Iy=o("3a3m"),Ay=function(e){function t(t,o){e.call(this),this.error=t,this.scheduler=o}return Object(c.__extends)(t,e),t.create=function(e,o){return new t(e,o)},t.dispatch=function(e){e.subscriber.error(e.error)},t.prototype._subscribe=function(e){var o=this.error,r=this.scheduler;if(e.syncErrorThrowable=!0,r)return r.schedule(t.dispatch,0,{error:o,subscriber:e});e.error(o)},t}(te.Observable).create;function Dy(e){return Error('Unable to find icon with the name "'+e+'"')}function Ny(e){return Error("The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was \""+e+'".')}var Fy=function(e){this.url=e,this.svgElement=null},Gy=function(){function e(e,t,o){this._httpClient=e,this._sanitizer=t,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=o}return e.prototype.addSvgIcon=function(e,t){return this.addSvgIconInNamespace("",e,t)},e.prototype.addSvgIconInNamespace=function(e,t,o){var r=qy(e,t);return this._svgIconConfigs.set(r,new Fy(o)),this},e.prototype.addSvgIconSet=function(e){return this.addSvgIconSetInNamespace("",e)},e.prototype.addSvgIconSetInNamespace=function(e,t){var o=new Fy(t),r=this._iconSetConfigs.get(e);return r?r.push(o):this._iconSetConfigs.set(e,[o]),this},e.prototype.registerFontClassAlias=function(e,t){return void 0===t&&(t=e),this._fontCssClassesByAlias.set(e,t),this},e.prototype.classNameForFontAlias=function(e){return this._fontCssClassesByAlias.get(e)||e},e.prototype.setDefaultFontSetClass=function(e){return this._defaultFontSetClass=e,this},e.prototype.getDefaultFontSetClass=function(){return this._defaultFontSetClass},e.prototype.getSvgIconFromUrl=function(e){var t=this,o=this._sanitizer.sanitize(r.SecurityContext.RESOURCE_URL,e);if(!o)throw Ny(e);var n=this._cachedIconsByUrl.get(o);return n?re(jy(n)):this._loadSvgIconFromConfig(new Fy(e)).pipe(vt(function(e){return t._cachedIconsByUrl.set(o,e)}),Object(mt.a)(function(e){return jy(e)}))},e.prototype.getNamedSvgIcon=function(e,t){void 0===t&&(t="");var o=qy(t,e),r=this._svgIconConfigs.get(o);if(r)return this._getSvgFromConfig(r);var n=this._iconSetConfigs.get(t);return n?this._getSvgFromIconSetConfigs(e,n):Ay(Dy(o))},e.prototype._getSvgFromConfig=function(e){return e.svgElement?re(jy(e.svgElement)):this._loadSvgIconFromConfig(e).pipe(vt(function(t){return e.svgElement=t}),Object(mt.a)(function(e){return jy(e)}))},e.prototype._getSvgFromIconSetConfigs=function(e,t){var o=this,n=this._extractIconWithNameFromAnySet(e,t);if(n)return re(n);var i=t.filter(function(e){return!e.svgElement}).map(function(e){return o._loadSvgIconSetFromConfig(e).pipe(ou(function(t){var n=o._sanitizer.sanitize(r.SecurityContext.RESOURCE_URL,e.url);return console.log("Loading icon set URL: "+n+" failed: "+t),re(null)}))});return Yn(i).pipe(Object(mt.a)(function(){var r=o._extractIconWithNameFromAnySet(e,t);if(!r)throw Dy(e);return r}))},e.prototype._extractIconWithNameFromAnySet=function(e,t){for(var o=t.length-1;o>=0;o--){var r=t[o];if(r.svgElement){var n=this._extractSvgIconFromSet(r.svgElement,e);if(n)return n}}return null},e.prototype._loadSvgIconFromConfig=function(e){var t=this;return this._fetchUrl(e.url).pipe(Object(mt.a)(function(e){return t._createSvgElementForSingleIcon(e)}))},e.prototype._loadSvgIconSetFromConfig=function(e){var t=this;return e.svgElement?re(e.svgElement):this._fetchUrl(e.url).pipe(Object(mt.a)(function(o){return e.svgElement||(e.svgElement=t._svgElementFromString(o)),e.svgElement}))},e.prototype._createSvgElementForSingleIcon=function(e){var t=this._svgElementFromString(e);return this._setSvgAttributes(t),t},e.prototype._extractSvgIconFromSet=function(e,t){var o=e.querySelector("#"+t);if(!o)return null;var r=o.cloneNode(!0);if(r.id="","svg"===r.nodeName.toLowerCase())return this._setSvgAttributes(r);if("symbol"===r.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(r));var n=this._svgElementFromString("<svg></svg>");return n.appendChild(r),this._setSvgAttributes(n)},e.prototype._svgElementFromString=function(e){if(this._document||"undefined"!=typeof document){var t=(this._document||document).createElement("DIV");t.innerHTML=e;var o=t.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}throw new Error("MatIconRegistry could not resolve document.")},e.prototype._toSvgElement=function(e){for(var t=this._svgElementFromString("<svg></svg>"),o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&t.appendChild(e.childNodes[o].cloneNode(!0));return t},e.prototype._setSvgAttributes=function(e){return e.getAttribute("xmlns")||e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),e},e.prototype._fetchUrl=function(e){var t=this;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");var o=this._sanitizer.sanitize(r.SecurityContext.RESOURCE_URL,e);if(!o)throw Ny(e);var n=this._inProgressUrlFetches.get(o);if(n)return n;var i,l=this._httpClient.get(o,{responseType:"text"}).pipe((i=function(){return t._inProgressUrlFetches.delete(o)},function(e){return e.lift(new Ly(i))}),Object(Iy.a)());return this._inProgressUrlFetches.set(o,l),l},e}();function ky(e,t,o,r){return e||new Gy(t,o,r)}function jy(e){return e.cloneNode(!0)}function qy(e,t){return e+":"+t}var Vy=function(){},Uy=o("U/B2"),By=function(){},Wy=r["\u0275cmf"](d,[h],function(e){return r["\u0275mod"]([r["\u0275mpd"](512,r.ComponentFactoryResolver,r["\u0275CodegenComponentFactoryResolver"],[[8,[Gn,Bl,$p,Jg]],[3,r.ComponentFactoryResolver],r.NgModuleRef]),r["\u0275mpd"](5120,r.LOCALE_ID,r["\u0275q"],[[3,r.LOCALE_ID]]),r["\u0275mpd"](4608,R,w,[r.LOCALE_ID,[2,C]]),r["\u0275mpd"](5120,r.APP_ID,r["\u0275i"],[]),r["\u0275mpd"](5120,r.IterableDiffers,r["\u0275n"],[]),r["\u0275mpd"](5120,r.KeyValueDiffers,r["\u0275o"],[]),r["\u0275mpd"](4608,ar,sr,[X]),r["\u0275mpd"](6144,r.Sanitizer,null,[ar]),r["\u0275mpd"](4608,Do,No,[]),r["\u0275mpd"](5120,lo,function(e,t,o,r,n){return[new Io(e,t),new jo(o),new Fo(r,n)]},[X,r.NgZone,X,X,Do]),r["\u0275mpd"](4608,ao,ao,[lo,r.NgZone]),r["\u0275mpd"](135680,uo,uo,[X]),r["\u0275mpd"](4608,vo,vo,[ao,uo]),r["\u0275mpd"](5120,vd,Yh,[]),r["\u0275mpd"](5120,rh,Kh,[]),r["\u0275mpd"](4608,Ah,Wh,[vd,rh]),r["\u0275mpd"](5120,r.RendererFactory2,Xh,[vo,Ah,r.NgZone]),r["\u0275mpd"](6144,po,null,[uo]),r["\u0275mpd"](4608,r.Testability,r.Testability,[r.NgZone]),r["\u0275mpd"](4608,Qt,Qt,[X]),r["\u0275mpd"](4608,oo,oo,[X]),r["\u0275mpd"](4608,Hh.DevToolsExtension,Hh.DevToolsExtension,[r.ApplicationRef,oa.NgRedux]),r["\u0275mpd"](4608,gi,gi,[]),r["\u0275mpd"](4608,fn,Gh,[r.RendererFactory2,Ht]),r["\u0275mpd"](4608,Ia,Aa,[X,r.PLATFORM_ID,La]),r["\u0275mpd"](4608,Da,Da,[Ia,Oa]),r["\u0275mpd"](5120,ba,function(e){return[e]},[Da]),r["\u0275mpd"](4608,wa,wa,[]),r["\u0275mpd"](6144,Ra,null,[wa]),r["\u0275mpd"](4608,Ma,Ma,[Ra]),r["\u0275mpd"](6144,aa,null,[Ma]),r["\u0275mpd"](4608,la,Na,[aa,r.Injector]),r["\u0275mpd"](4608,Ea,Ea,[la]),r["\u0275mpd"](4608,zh,zh,[]),r["\u0275mpd"](4608,oy,ry,[]),r["\u0275mpd"](5120,ny,Ry,[]),r["\u0275mpd"](4608,yy,yy,[zh,oy,ny]),r["\u0275mpd"](4608,fy,my,[]),r["\u0275mpd"](5120,Cy,wy,[yy,fy]),r["\u0275mpd"](6144,we,null,[X]),r["\u0275mpd"](4608,Me,Me,[[2,we]]),r["\u0275mpd"](4608,H,H,[]),r["\u0275mpd"](4608,xt,xt,[H]),r["\u0275mpd"](4608,Tt,Tt,[xt,r.NgZone,X]),r["\u0275mpd"](136192,Ot,It,[[3,Ot],X]),r["\u0275mpd"](5120,Dt,Nt,[[3,Dt],[2,At],X]),r["\u0275mpd"](5120,Ft,kt,[[3,Ft],r.NgZone,H]),r["\u0275mpd"](5120,Pe,be,[[3,Pe],r.NgZone,H]),r["\u0275mpd"](5120,Te,Ce,[[3,Te],H,r.NgZone]),r["\u0275mpd"](4608,ot,ot,[Pe,Te,r.NgZone,X]),r["\u0275mpd"](5120,ut,ct,[[3,ut],X]),r["\u0275mpd"](4608,at,at,[Te,X]),r["\u0275mpd"](5120,st,pt,[[3,st],X]),r["\u0275mpd"](4608,dt,dt,[ot,ut,r.ComponentFactoryResolver,at,st,r.ApplicationRef,r.Injector,r.NgZone,X]),r["\u0275mpd"](5120,ht,yt,[dt]),r["\u0275mpd"](5120,Ln,On,[dt]),r["\u0275mpd"](4608,In,In,[dt,r.Injector,[2,_],[2,Mn],Ln,[3,In],ut]),r["\u0275mpd"](4608,gl,gl,[]),r["\u0275mpd"](5120,Sl,xl,[dt]),r["\u0275mpd"](5120,Gy,ky,[[3,Gy],[2,Ea],ar,[2,X]]),r["\u0275mpd"](4608,Nr,Nr,[]),r["\u0275mpd"](6144,Er,null,[r.LOCALE_ID]),r["\u0275mpd"](4608,Pr,Or,[[2,Er]]),r["\u0275mpd"](5120,jc,Wg,[bg]),r["\u0275mpd"](4608,Ag,Ag,[]),r["\u0275mpd"](6144,Og,null,[Ag]),r["\u0275mpd"](135680,Dg,Dg,[bg,r.NgModuleFactoryLoader,r.Compiler,r.Injector,Og]),r["\u0275mpd"](4608,Ig,Ig,[]),r["\u0275mpd"](5120,Zg,Xg,[Yg]),r["\u0275mpd"](5120,r.APP_BOOTSTRAP_LISTENER,function(e){return[e]},[Zg]),r["\u0275mpd"](4608,is,is,[]),r["\u0275mpd"](5120,ss,as,[]),r["\u0275mpd"](5120,us,ps,[is]),r["\u0275mpd"](4608,Us,Us,[Ea,oa.NgRedux]),r["\u0275mpd"](4608,ka,ka,[Ea]),r["\u0275mpd"](4608,ja,ja,[]),r["\u0275mpd"](512,K,K,[]),r["\u0275mpd"](1024,r.ErrorHandler,mr,[]),r["\u0275mpd"](1024,r.NgProbeToken,function(){return[kg()]},[]),r["\u0275mpd"](512,Yg,Yg,[r.Injector]),r["\u0275mpd"](1024,r.APP_INITIALIZER,function(e,t){return[(o=e,ro("probe",io),ro("coreTokens",Object(c.__assign)({},no,(o||[]).reduce(function(e,t){return e[t.name]=t.token,e},{}))),function(){return io}),Kg(t)];var o},[[2,r.NgProbeToken],Yg]),r["\u0275mpd"](512,r.ApplicationInitStatus,r.ApplicationInitStatus,[[2,r.APP_INITIALIZER]]),r["\u0275mpd"](131584,r.ApplicationRef,r.ApplicationRef,[r.NgZone,r["\u0275Console"],r.Injector,r.ErrorHandler,r.ComponentFactoryResolver,r.ApplicationInitStatus]),r["\u0275mpd"](512,r.ApplicationModule,r.ApplicationModule,[r.ApplicationRef]),r["\u0275mpd"](512,vr,vr,[[3,vr]]),r["\u0275mpd"](1024,Fg,Vg,[[3,bg]]),r["\u0275mpd"](512,uc,cc,[]),r["\u0275mpd"](512,wg,wg,[]),r["\u0275mpd"](256,Ng,{enableTracing:!0},[]),r["\u0275mpd"](1024,m,qg,[y,[2,v],Ng]),r["\u0275mpd"](512,_,_,[m]),r["\u0275mpd"](512,r.Compiler,r.Compiler,[]),r["\u0275mpd"](512,r.NgModuleFactoryLoader,r.SystemJsNgModuleLoader,[r.Compiler,[2,r.SystemJsNgModuleLoaderConfig]]),r["\u0275mpd"](1024,vg,function(){return[[{path:"main",component:g},{path:"",component:g,pathMatch:"full"}]]},[]),r["\u0275mpd"](1024,bg,Bg,[r.ApplicationRef,uc,wg,_,r.Injector,r.NgModuleFactoryLoader,r.Compiler,vg,Ng,[2,Sg],[2,fg]]),r["\u0275mpd"](512,jg,jg,[[2,Fg],[2,bg]]),r["\u0275mpd"](512,Uy.NgReduxModule,Uy.NgReduxModule,[]),r["\u0275mpd"](512,Qi,Qi,[]),r["\u0275mpd"](512,$i,$i,[]),r["\u0275mpd"](512,Zh,Zh,[]),r["\u0275mpd"](512,Fa,Fa,[]),r["\u0275mpd"](512,Ga,Ga,[]),r["\u0275mpd"](512,My,My,[]),r["\u0275mpd"](512,Le,Le,[]),r["\u0275mpd"](256,_r,!0,[]),r["\u0275mpd"](512,Sr,Sr,[[2,_r]]),r["\u0275mpd"](512,$,$,[]),r["\u0275mpd"](512,Br,Br,[]),r["\u0275mpd"](512,jt,jt,[]),r["\u0275mpd"](512,Un,Un,[]),r["\u0275mpd"](512,ke,ke,[]),r["\u0275mpd"](512,Re,Re,[]),r["\u0275mpd"](512,ft,ft,[]),r["\u0275mpd"](512,An,An,[]),r["\u0275mpd"](512,Rl,Rl,[]),r["\u0275mpd"](512,Vy,Vy,[]),r["\u0275mpd"](512,il,il,[]),r["\u0275mpd"](512,ul,ul,[]),r["\u0275mpd"](512,By,By,[]),r["\u0275mpd"](512,Ar,Ar,[]),r["\u0275mpd"](512,Dr,Dr,[]),r["\u0275mpd"](512,Ip,Ip,[]),r["\u0275mpd"](512,Os,Os,[]),r["\u0275mpd"](1024,oa.NgRedux,Uy._ngReduxFactory,[r.NgZone]),r["\u0275mpd"](512,d,d,[oa.NgRedux]),r["\u0275mpd"](256,La,"XSRF-TOKEN",[]),r["\u0275mpd"](256,Oa,"X-XSRF-TOKEN",[]),r["\u0275mpd"](256,br,Ir,[])])});Object(r.enableProdMode)(),fr().bootstrapModuleFactory(Wy).catch(function(e){return console.log(e)})},x6VL:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var r=o("TToO"),n=function(e){function t(){var t=e.call(this,"object unsubscribed");this.name=t.name="ObjectUnsubscribedError",this.stack=t.stack,this.message=t.message}return Object(r.__extends)(t,e),t}(Error)},yEmc:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o("EF/a");t.NgRedux=r.NgRedux;var n=o("MTKS");t.DevToolsExtension=n.DevToolsExtension;var i=o("1HBC");t.enableFractalReducers=i.enableFractalReducers;var l=o("kVHn");t.select=l.select,t.select$=l.select$;var a=o("c2wt");t.dispatch=a.dispatch;var s=o("eV2E");t.WithSubStore=s.WithSubStore;var p=o("U/B2");t.NgReduxModule=p.NgReduxModule},yJZY:function(e,t,o){"use strict";t.a=function(e){var t,o=e.Symbol;return"function"==typeof o?o.observable?t=o.observable:(t=o("observable"),o.observable=t):t="@@observable",t}}},[0]);