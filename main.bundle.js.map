{"version":3,"sources":["./src/$_lazy_route_resource lazy","./src/app/actions/layers.action.ts","./src/app/actions/toolbox.action.ts","./src/app/app.component.css","./src/app/app.component.html","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/components/main/main.component.html","./src/app/components/main/main.component.scss","./src/app/components/main/main.component.ts","./src/app/components/map/map.component.html","./src/app/components/map/map.component.scss","./src/app/components/map/map.component.ts","./src/app/components/sidebar/draw/draw.component.html","./src/app/components/sidebar/draw/draw.component.scss","./src/app/components/sidebar/draw/draw.component.ts","./src/app/components/sidebar/layerselection/layerselection.component.html","./src/app/components/sidebar/layerselection/layerselection.component.scss","./src/app/components/sidebar/layerselection/layerselection.component.ts","./src/app/components/sidebar/sidebar.component.html","./src/app/components/sidebar/sidebar.component.scss","./src/app/components/sidebar/sidebar.component.ts","./src/app/components/toolbox/toolbox.component.html","./src/app/components/toolbox/toolbox.component.scss","./src/app/components/toolbox/toolbox.component.ts","./src/app/components/toolbox/toolboxaction/toolboxaction.component.html","./src/app/components/toolbox/toolboxaction/toolboxaction.component.scss","./src/app/components/toolbox/toolboxaction/toolboxaction.component.ts","./src/app/config/backgroundlayers.config.ts","./src/app/config/toolboxactions.config.ts","./src/app/reducers/layer.reducer.ts","./src/app/reducers/root.reducer.ts","./src/app/reducers/ui.reducer.ts","./src/app/services/layer.service.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/$$_lazy_route_resource lazy\n// module id = ./src/$$_lazy_route_resource lazy recursive\n// module chunks = main","export const LayerActions = {\n  SET_BACKGROUND_LAYERS : 'SET_BACKGROUND_LAYERS',\n  SELECT_BACKGROUND_LAYER: 'SELECT_BACKGROUND_LAYER',\n  ADD_LAYERS: 'ADD_LAYERS',\n  SET_EXTENT: 'SET_EXTENT',\n  ADD_FEATURE: 'ADD_FEATURE',\n  ADD_FEATURE_LIST: 'ADD_FEATURE_LIST',\n  SET_PROJECTION_SYSTEM: 'SET_PROJECTION_SYSTEM'\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/actions/layers.action.ts","export const ToolBoxActions = {\n  SELECT_ACTION : 'SELECT_ACTION',\n  SELECT_LAYERS : 'SELECT_LAYERS',\n  SELECT_BBOX: 'SELECT_BBOX',\n  SET_SELECTION_TYPE: 'SET_SELECTION_TYPE'\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/actions/toolbox.action.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.css\n// module id = ./src/app/app.component.css\n// module chunks = main","module.exports = \"<router-outlet></router-outlet>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = ./src/app/app.component.html\n// module chunks = main","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'app';\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport {RouterModule, Routes} from '@angular/router';\nimport {NgRedux, NgReduxModule} from '@angular-redux/store';\n\nimport { AppComponent } from './app.component';\n\nimport {IAppState, rootReducer, INITIAL_STATE} from '../app/reducers/root.reducer';\nimport {AppResolver} from \"./app.resolver\";\nimport {MainComponent} from \"./components/main/main.component\";\nimport { MapComponent } from './components/map/map.component';\nimport {LayerService} from \"./services/layer.service\";\nimport { ActionsComponent } from './components/toolbox/toolbox.component';\nimport {\n  ToolboxActionComponent\n} from './components/toolbox/toolboxaction/toolboxaction.component';\nimport { SidebarComponent } from './components/sidebar/sidebar.component';\nimport { LayerselectionComponent } from './components/sidebar/layerselection/layerselection.component';\nimport {BrowserAnimationsModule} from \"@angular/platform-browser/animations\";\nimport {HttpClientModule} from \"@angular/common/http\";\nimport {HttpModule} from \"@angular/http\";\nimport { DrawComponent } from './components/sidebar/draw/draw.component';\n\n\nconst routes: Routes = [\n  {\n    path: 'main',\n    component: MainComponent\n  },\n  { path: '',\n    component: MainComponent,\n    pathMatch: 'full'\n  },\n];\n\n\n\n@NgModule({\n  declarations: [\n    MainComponent,\n    AppComponent,\n    MapComponent,\n    ActionsComponent,\n    ToolboxActionComponent,\n    SidebarComponent,\n    LayerselectionComponent,\n    DrawComponent\n  ],\n  imports: [\n    BrowserModule,\n    RouterModule.forRoot(routes, { enableTracing: true } ),\n    NgReduxModule,\n    BrowserAnimationsModule,\n    HttpClientModule,\n    HttpModule\n  ],\n  providers: [\n    LayerService\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {\n  constructor(ngRedux: NgRedux<IAppState>){\n    ngRedux.configureStore(rootReducer, INITIAL_STATE);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","module.exports = \"<app-map *ngIf=\\\"(layers | async).backgroundLayers.length > 0\\\" [interaction]=\\\"(ui | async).activeSelection\\\" [backgroundLayers]=\\\"(layers | async).backgroundLayers\\\" [layers]=\\\"(layers | async).layers\\\" [extent]=\\\"[-46.933594,16.636192,85.781250,72.867930]\\\" [viewExtent]=\\\"(layers | async ).extent\\\" [features]=\\\"features\\\"></app-map>\\n\\n<div class=\\\"sidebar\\\">\\n  <app-sidebar *ngIf=\\\"(ui | async).activeAction\\\" [action]=\\\"(ui | async).activeAction\\\"></app-sidebar>\\n  <app-toolbox></app-toolbox>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/main/main.component.html\n// module id = ./src/app/components/main/main.component.html\n// module chunks = main","module.exports = \".sidebar {\\n  position: absolute;\\n  top: 2rem;\\n  left: 0;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: horizontal;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: row;\\n          flex-direction: row; }\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/main/main.component.scss\n// module id = ./src/app/components/main/main.component.scss\n// module chunks = main","import { Component, OnInit } from '@angular/core';\nimport {select} from \"@angular-redux/store\";\nimport {LayerActions} from \"../../actions/layers.action\";\nimport {Observable} from \"rxjs/Observable\";\nimport {LayerService} from \"../../services/layer.service\";\nimport {NgRedux} from \"@angular-redux/store/lib/src/components/ng-redux\";\nimport {IAppState} from \"../../reducers/root.reducer\";\nimport {animate, keyframes, query, stagger, state, style, transition, trigger} from \"@angular/animations\";\n\n@Component({\n  selector: 'app-main',\n  templateUrl: './main.component.html',\n  styleUrls: ['./main.component.scss'],\n  animations: [\n    trigger('sidebarOpen', [\n      state('open', style({\n        transform: 'translate3d(0, 0, 0)'\n      })),\n      state('close', style({\n        transform: 'translate3d(100%, 0, 0)'\n      })),\n      transition('open => close', animate('400ms ease-in-out')),\n      transition('close => open', animate('400ms ease-in-out'))\n    ]),\n  ]\n})\nexport class MainComponent implements OnInit {\n\n  @select() layers;\n  @select() ui;\n\n  features: any[] = [];\n\n  constructor( private ngRedux: NgRedux<IAppState>, private layerService: LayerService) { }\n\n  ngOnInit() {\n\n    const layers = this.layerService.getLayers();\n\n    this.layers.subscribe(state => {\n      this.features = [];\n      state.features.forEach(feature => {this.features = this.features.concat(feature.features)});\n    })\n\n    this.ngRedux.dispatch({\n      type: LayerActions.SET_BACKGROUND_LAYERS, body: layers,\n    });\n\n  }\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/main/main.component.ts","module.exports = \"<div id=\\\"map\\\">\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/map/map.component.html\n// module id = ./src/app/components/map/map.component.html\n// module chunks = main","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/map/map.component.scss\n// module id = ./src/app/components/map/map.component.scss\n// module chunks = main","import {Component, Input, OnChanges, OnInit, SimpleChanges} from '@angular/core';\nimport * as ol from 'openlayers';\nimport {select} from \"@angular-redux/store\";\nimport {IAppState} from \"../../reducers/root.reducer\";\nimport {NgRedux} from \"@angular-redux/store/lib/src/components/ng-redux\";\nimport {LayerState} from \"../../reducers/layer.reducer\";\nimport {LayerActions} from \"../../actions/layers.action\";\n\n@Component({\n  selector: 'app-map',\n  templateUrl: './map.component.html',\n  styleUrls: ['./map.component.scss']\n})\nexport class MapComponent implements OnInit, OnChanges {\n\n  map: any;\n\n  @Input()\n  extent: number[];\n\n  @Input()\n  zoom: number;\n\n  @Input()\n  backgroundLayers: any[];\n\n  @Input()\n  layers: any[];\n\n  @Input()\n  viewExtent: number[];\n\n  @Input()\n  interaction: string;\n\n  @Input()\n  features: any[];\n\n  constructor( private ngRedux: NgRedux<IAppState>) { }\n\n  interactions: any[];\n  vectorLayer: any;\n\n\n  ngOnInit() {\n\n    this.zoom = this.zoom || 4;\n    this.initMap();\n\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n\n    let newLayers = [];\n    if(changes.layers && !changes.layers.isFirstChange()){\n       changes.layers.currentValue.forEach( layerInfo => {\n           const hit = changes.layers.previousValue.find(prevLayerInfo => prevLayerInfo.url === layerInfo.url);\n\n           if (!hit) {\n             newLayers.push(layerInfo);\n           }\n         }\n       );\n       this.addLayers(newLayers);\n    }\n\n    if(changes.interaction && !changes.interaction.isFirstChange()){\n      this.removeInteraction(changes.interaction.previousValue);\n      this.addInteraction(changes.interaction.currentValue);\n    }\n\n    if(changes.viewExten && !changes.viewExtent.isFirstChange()){\n      this.zoomToExtent(this.viewExtent);\n    }\n\n    if(changes.features && !changes.features.isFirstChange()){\n      this.vectorLayer.getSource().clear();\n      this.vectorLayer.getSource().addFeatures(this.features);\n    }\n\n  }\n\n\n  initMap(){\n    let extent = ol.proj.transformExtent(this.extent, /* WGS84 */ 'EPSG:4326', /* MERCATOR */ 'EPSG:3857');\n    let center = ol.extent.getCenter(extent);\n\n    this.vectorLayer = new ol.layer.Vector({\n      source: new ol.source.Vector({features: this.features, wrapX: false}),\n      zIndex: 99\n    });\n\n    this.map = new ol.Map({\n      layers: [this.vectorLayer],\n      controls: ol.control.defaults({\n        attribution: false,\n        rotate: false\n      }).extend([\n        new ol.control.ZoomToExtent({\n          extent: extent\n        }),\n        new ol.control.ScaleLine()\n      ]),\n      view: new ol.View({\n        projection: 'EPSG:3857',\n        center: center,\n        zoom: this.zoom\n      }),\n      target: 'map'\n    });\n    this.setBackgroundLayers();\n    this.initInteractions();\n  }\n  setBackgroundLayers(){\n\n    this.backgroundLayers.forEach(layer =>{\n        this.map.addLayer(layer.layer);\n    })\n\n  }\n\n  initInteractions(){\n\n    this.interactions = [];\n    this.interactions.push({\n      type: 'bbox',\n      interaction: new ol.interaction.Draw({\n        source: this.vectorLayer.getSource(),\n        type: 'Circle',\n        geometryFunction: ol.interaction.Draw.createBox()\n      })\n    });\n\n    this.interactions.push({\n      type: 'polygon',\n      interaction:   new ol.interaction.Draw({\n        source: this.vectorLayer.getSource(),\n        type: 'Polygon'\n      })\n    });\n\n    this.interactions.push({\n      type: 'point',\n      interaction:   new ol.interaction.Draw({\n        source: this.vectorLayer.getSource(),\n        type: 'Point'\n      })\n    });\n\n    this.interactions.push({\n      type: 'circle',\n      interaction:   new ol.interaction.Draw({\n        source: this.vectorLayer.getSource(),\n        type: 'Circle'\n      })\n    });\n\n    this.interactions.forEach(interaction =>{\n      interaction.interaction.on('drawend', feature => {\n        this.drawEnd(feature.feature);\n      })\n    });\n  }\n\n  drawEnd(feature: any){\n    console.log(feature);\n    this.ngRedux.dispatch({\n      type: LayerActions.ADD_FEATURE,\n      body:{\n        feature: feature,\n        type: this.interaction\n      }\n    })\n  }\n\n  removeInteraction(type: string){\n\n\n    if(type !== null && type !== ''){\n      const interaction = this.interactions.find(interaction => interaction.type === type);\n      if(interaction)\n        this.map.removeInteraction(interaction.interaction);\n    }\n  }\n\n  addInteraction(type: string){\n\n    if(type !== null && type !== '') {\n      const interaction = this.interactions.find(interaction => interaction.type === type);\n      if(interaction)\n        this.map.addInteraction(interaction.interaction);\n    }\n  }\n  zoomToExtent(extent: number[]){\n    if(extent != null)\n      this.map.getView().fit(extent, this.map.getSize());\n  }\n\n  addLayers(layers: any[]){\n    layers.forEach(layerInfo => {\n      layerInfo.layers.forEach(layer => {\n        this.map.addLayer(layer.layer);\n      })\n    });\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/map/map.component.ts","module.exports = \"<div class=\\\"btn-group actionlist\\\">\\n  <button type=\\\"button\\\" class=\\\"btn btn-primary {{drawAction === 'bbox' ? 'active' : ''}}\\\" (click)=\\\"setDrawAction('bbox')\\\"><i class=\\\"fa fa-square-o\\\"></i></button>\\n  <button type=\\\"button\\\" class=\\\"btn btn-primary {{drawAction === 'polygon' ? 'active' : ''}}\\\" (click)=\\\"setDrawAction('polygon')\\\"><i class=\\\"fa fa-star-o\\\"></i></button>\\n  <button type=\\\"button\\\" class=\\\"btn btn-primary {{drawAction === 'circle' ? 'active' : ''}}\\\" (click)=\\\"setDrawAction('circle')\\\"><i class=\\\"fa fa-circle-o\\\"></i></button>\\n  <button type=\\\"button\\\" class=\\\"btn btn-primary {{drawAction === 'point' ? 'active' : ''}}\\\" (click)=\\\"setDrawAction('point')\\\"><i class=\\\"fa fa-map-marker\\\"></i></button>\\n  <button type=\\\"button\\\" class=\\\"btn btn-primary {{drawAction === 'custom' ? 'active' : ''}}\\\" (click)=\\\"setDrawAction('custom')\\\"><i class=\\\"fa fa-pencil-square-o\\\"></i></button>\\n\\n</div>\\n\\n<div class=\\\"projection\\\">\\n  <i class=\\\"fa fa-globe\\\"></i><select (change)=\\\"selectProjectionSystem($event.target.value)\\\"><option value=\\\"EPSG:3857\\\">EPSG:3857</option><option value=\\\"EPSG:4326\\\">EPSG:4326</option></select>\\n</div>\\n\\n<div *ngIf=\\\"drawAction == 'bbox'\\\">\\n  <h1>Bounding box</h1>\\n  <div *ngIf=\\\"featureList['bbox']\\\">\\n    <div *ngFor=\\\"let feature of featureList['bbox']\\\" class=\\\"featureInfo\\\">\\n      <h2>Feature</h2>\\n      <h3>Bounding box</h3>\\n      <p>{{getBoundingBox(feature)}}</p>\\n      <h3>GeoJSON</h3>\\n      <p>\\n        {{formatFeatureGeometry(feature)}}\\n      </p>\\n    </div>\\n  </div>\\n</div>\\n\\n<div *ngIf=\\\"drawAction == 'polygon'\\\">\\n  <h1>Polygon</h1>\\n  <div *ngIf=\\\"featureList['polygon']\\\">\\n    <div *ngFor=\\\"let feature of featureList['polygon']\\\" class=\\\"featureInfo\\\">\\n      <h2>Feature</h2>\\n      <h3>GeoJSON</h3>\\n      <p>\\n        {{formatFeatureGeometry(feature)}}\\n      </p>\\n    </div>\\n  </div>\\n</div>\\n\\n<div *ngIf=\\\"drawAction == 'point'\\\">\\n  <h1>Point</h1>\\n  <div *ngIf=\\\"featureList['point']\\\">\\n    <div *ngFor=\\\"let feature of featureList['point']\\\" class=\\\"featureInfo\\\">\\n      <h2>Feature</h2>\\n      <h3>GeoJSON</h3>\\n      <p>\\n        {{formatFeatureGeometry(feature)}}\\n      </p>\\n    </div>\\n  </div>\\n</div>\\n\\n<div *ngIf=\\\"drawAction == 'circle'\\\">\\n  <h1>Circle</h1>\\n  <div *ngIf=\\\"featureList['circle']\\\">\\n    <div *ngFor=\\\"let feature of featureList['circle']\\\" class=\\\"featureInfo\\\">\\n      <h2>Feature</h2>\\n      <h3>GeoJSON</h3>\\n      <p>\\n        {{formatFeatureGeometry(feature)}}\\n      </p>\\n    </div>\\n  </div>\\n</div>\\n\\n<div *ngIf=\\\"drawAction == 'custom'\\\">\\n  <h1>Custom GeoJSON</h1>\\n  <div>\\n    <div class=\\\"featureInfo\\\">\\n      <textarea (change)=\\\"addFeature($event.target.value)\\\"></textarea>\\n    </div>\\n  </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/sidebar/draw/draw.component.html\n// module id = ./src/app/components/sidebar/draw/draw.component.html\n// module chunks = main","module.exports = \"h1 {\\n  margin-bottom: 1.5rem; }\\n\\nh2 {\\n  font-size: 1rem;\\n  margin-bottom: 1rem;\\n  margin-top: 1rem; }\\n\\nh3 {\\n  font-size: 0.9rem;\\n  margin-bottom: 1rem; }\\n\\n.featureInfo {\\n  margin: 0.5rem 0;\\n  background-color: rgba(230, 230, 230, 0.2);\\n  border: 1px solid rgba(230, 230, 230, 0.5);\\n  padding: 0.5rem;\\n  border-radius: 0.25rem;\\n  word-wrap: break-word; }\\n\\n.projection {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: horizontal;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: row;\\n          flex-direction: row;\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n  margin-bottom: 1.5rem; }\\n\\n.projection i {\\n  margin-right: 0.5rem;\\n  font-size: 1.5rem; }\\n\\n.btn-group {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: horizontal;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: row;\\n          flex-direction: row;\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n  margin-bottom: 1.5rem; }\\n\\n.btn-group button {\\n  background-color: white;\\n  border: 1px solid rgba(230, 230, 230, 0.5);\\n  color: rgba(90, 90, 90, 0.9);\\n  padding: .5rem 1.5rem;\\n  cursor: pointer; }\\n\\n.btn-group button:not(:last-child) {\\n  border-right: none; }\\n\\n.btn-group button:first-child {\\n  border-bottom-left-radius: .5rem;\\n  border-top-left-radius: .5rem; }\\n\\n.btn-group button:last-child {\\n  border-bottom-right-radius: .5rem;\\n  border-top-right-radius: .5rem; }\\n\\n.btn-group:after {\\n  content: \\\"\\\";\\n  clear: both;\\n  display: table; }\\n\\n.btn-group button:hover {\\n  background-color: rgba(230, 230, 230, 0.2);\\n  color: rgba(90, 90, 90, 0.9); }\\n\\n.btn-group button.active {\\n  background-color: rgba(90, 90, 90, 0.9);\\n  color: white; }\\n\\ntextarea {\\n  width: 100%;\\n  height: 57rem;\\n  border: none; }\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/sidebar/draw/draw.component.scss\n// module id = ./src/app/components/sidebar/draw/draw.component.scss\n// module chunks = main","import { Component, OnInit } from '@angular/core';\nimport {NgRedux} from \"@angular-redux/store/lib/src/components/ng-redux\";\nimport {IAppState} from \"../../../reducers/root.reducer\";\nimport {ToolBoxActions} from \"../../../actions/toolbox.action\";\nimport {select} from \"@angular-redux/store\";\nimport * as ol from 'openlayers';\nimport {LayerActions} from \"../../../actions/layers.action\";\n\n@Component({\n  selector: 'app-draw',\n  templateUrl: './draw.component.html',\n  styleUrls: ['./draw.component.scss']\n})\nexport class DrawComponent implements OnInit {\n\n  @select() layers;\n\n  constructor( private ngRedux: NgRedux<IAppState>) { }\n\n  drawAction: string;\n  featureList: any[];\n  crs: string;\n\n  ngOnInit() {\n\n    this.crs = 'EPSG:3857';\n\n    this.featureList = [];\n    this.layers.subscribe(state =>{\n      this.crs = state.crs;\n      state.features.forEach(featureInfo =>{\n        this.featureList[featureInfo.type] = featureInfo.features;\n      });\n    })\n  }\n\n  setDrawAction(action: string){\n\n    this.drawAction = (this.drawAction === action ? \"\" : action);\n\n    this.ngRedux.dispatch({\n      type: ToolBoxActions.SET_SELECTION_TYPE,\n      body: {\n        selection: this.drawAction\n      }\n    });\n  }\n\n  formatFeatureGeometry(feature: any){\n\n    const formatter = new ol.format.GeoJSON();\n    return formatter.writeFeature(feature, {\n      featureProjection: 'EPSG:3857',\n      dataProjection: this.crs\n    });\n  }\n\n  getBoundingBox(feature: any){\n    return ol.proj.transformExtent(feature.getGeometry().getExtent(), 'EPSG:3857', this.crs);\n  }\n\n  selectProjectionSystem(crs: string){\n    this.ngRedux.dispatch({\n      type: LayerActions.SET_PROJECTION_SYSTEM,\n      body: {\n        crs: crs\n      }\n    })\n  }\n\n  addFeature(feature: any){\n\n    const featureList = (new ol.format.GeoJSON()).readFeatures(feature, {\n      featureProjection: 'EPSG:3857',\n      dataProjection: this.crs\n    });\n\n\n    this.ngRedux.dispatch({\n      type: LayerActions.ADD_FEATURE_LIST,\n      body:{\n        features: featureList,\n        type: 'custom'\n      }\n    })\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/sidebar/draw/draw.component.ts","module.exports = \"<h1>Select layers</h1>\\n\\n<h2>Background layer</h2>\\n<select (change)=\\\"selectBackgroundLayer($event.target.value)\\\">\\n  <option *ngFor=\\\"let layer of backgroundLayers\\\">{{layer.name}}</option>\\n</select>\\n\\n<h2>External source:</h2>\\n<input type=\\\"text\\\" placeholder=\\\"Capabilities URL\\\" (change)=\\\"loadExternalSource($event.target)\\\">\\n<div *ngIf=\\\"status != ''\\\" class=\\\"status {{status.indexOf('error') >= 0 ? 'error' : ''}}\\\">\\n  <div class=\\\"statusIcon\\\">\\n    <i *ngIf=\\\"status.indexOf('Loading') >= 0\\\" class=\\\"fa fa-circle-o-notch fa-spin\\\"></i><i *ngIf=\\\"status.indexOf('error') >= 0\\\" class=\\\"fa fa-exclamation-circle\\\"></i>\\n  </div>\\n  <div class=\\\"statusText\\\">\\n    {{status}}\\n  </div>\\n</div>\\n<div *ngFor=\\\"let info of layerInfo\\\" class=\\\"externalSource\\\">\\n  <h3>{{info.url}}</h3>\\n  <div *ngFor=\\\"let layer of info.layers\\\" class=\\\"layerInfo\\\" (click)=\\\"toggleLayer(layer.layer)\\\"><div class=\\\"toggle\\\"><input type=\\\"checkbox\\\" [checked]=\\\"layer.layer.getVisible()\\\"></div><span class=\\\"info\\\"><span class=\\\"title\\\">{{layer.name}}</span><br/><span class=\\\"description\\\">{{layer.description}}</span></span></div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/sidebar/layerselection/layerselection.component.html\n// module id = ./src/app/components/sidebar/layerselection/layerselection.component.html\n// module chunks = main","module.exports = \"h1 {\\n  margin-bottom: 1.5rem; }\\n\\nh2 {\\n  font-size: 1rem;\\n  margin-bottom: 1rem;\\n  margin-top: 1rem; }\\n\\nh3 {\\n  font-size: 0.9rem;\\n  margin-bottom: 1rem; }\\n\\n.externalSource {\\n  margin: 0.5rem 0;\\n  background-color: rgba(230, 230, 230, 0.2);\\n  border: 1px solid rgba(230, 230, 230, 0.5);\\n  padding: 0.5rem;\\n  border-radius: 0.25rem; }\\n\\n.layerInfo {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: horizontal;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: row;\\n          flex-direction: row;\\n  padding: 0.5rem;\\n  border-radius: 0.25rem; }\\n\\n.layerInfo:hover {\\n  background-color: rgba(90, 90, 90, 0.9);\\n  color: white;\\n  cursor: pointer; }\\n\\n.description {\\n  font-size: 0.7rem; }\\n\\n.info {\\n  margin-left: 1rem; }\\n\\n.toggle {\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex; }\\n\\n.status {\\n  padding: .75rem 1.25rem;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: horizontal;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: row;\\n          flex-direction: row;\\n  margin: 0.5rem 0;\\n  background-color: rgba(230, 230, 230, 0.2);\\n  border: 1px solid rgba(230, 230, 230, 0.5);\\n  border-radius: 0.25rem; }\\n\\n.statusIcon {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center; }\\n\\n.statusText {\\n  margin-left: 1rem; }\\n\\n.error {\\n  color: #d54057;\\n  background-color: #f2dede;\\n  border: 1px solid #ebcccc;\\n  border-radius: 0.25rem; }\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/sidebar/layerselection/layerselection.component.scss\n// module id = ./src/app/components/sidebar/layerselection/layerselection.component.scss\n// module chunks = main","import { Component, OnInit } from '@angular/core';\nimport {select} from \"@angular-redux/store\";\nimport {NgRedux} from \"@angular-redux/store/lib/src/components/ng-redux\";\nimport {IAppState} from \"../../../reducers/root.reducer\";\nimport {LayerActions} from \"../../../actions/layers.action\";\nimport {LayerService} from \"../../../services/layer.service\";\n\n@Component({\n  selector: 'app-layerselection',\n  templateUrl: './layerselection.component.html',\n  styleUrls: ['./layerselection.component.scss']\n})\nexport class LayerselectionComponent implements OnInit {\n\n  @select() layers;\n\n  constructor(private ngRedux: NgRedux<IAppState>, private layerService: LayerService) { }\n\n  backgroundLayers: any[];\n  layerInfo: any[];\n  status: string;\n\n  ngOnInit() {\n    this.status = '';\n    this.layers.subscribe(state =>{\n      this.backgroundLayers =  state.backgroundLayers;\n      this.layerInfo = state.layers;\n    });\n  }\n\n  selectBackgroundLayer(layer : any){\n    this.ngRedux.dispatch({\n      type: LayerActions.SELECT_BACKGROUND_LAYER,\n      body: layer\n    })\n  }\n\n  loadExternalSource(event: any){\n    this.status = \"Loading external source\";\n    const url = event.value;\n    this.layerService.loadExternalLayers(url).subscribe(layers => {\n      this.status = \"\";\n      this.ngRedux.dispatch({\n        type: LayerActions.ADD_LAYERS,\n        body: {\n          url: url,\n          layers: layers\n        }\n      });\n      console.log(\"layers\", layers);\n    },\n      error => {\n          this.status = `An error occurred - ${error.message}`;\n      });\n\n    event.value = \"\";\n  }\n\n  toggleLayer(layer: any){\n    layer.setVisible(!layer.getVisible());\n\n    if(layer.getVisible()){\n      this.ngRedux.dispatch({\n        type: LayerActions.SET_EXTENT,\n        body: {\n          extent: layer.getExtent()\n        }\n      });\n    }\n\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/sidebar/layerselection/layerselection.component.ts","module.exports = \"<div>\\n  <app-layerselection *ngIf=\\\"action === 'SELECT_LAYERS'\\\"></app-layerselection>\\n  <app-draw *ngIf=\\\"action === 'DRAW'\\\"></app-draw>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/sidebar/sidebar.component.html\n// module id = ./src/app/components/sidebar/sidebar.component.html\n// module chunks = main","module.exports = \":host {\\n  width: 40rem;\\n  height: 75rem;\\n  padding: 2rem;\\n  background-color: white;\\n  color: rgba(90, 90, 90, 0.9);\\n  overflow: auto; }\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/sidebar/sidebar.component.scss\n// module id = ./src/app/components/sidebar/sidebar.component.scss\n// module chunks = main","import {Component, Input, OnInit} from '@angular/core';\n\n@Component({\n  selector: 'app-sidebar',\n  templateUrl: './sidebar.component.html',\n  styleUrls: ['./sidebar.component.scss']\n})\nexport class SidebarComponent implements OnInit {\n\n  @Input()\n  action: string;\n\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/sidebar/sidebar.component.ts","module.exports = \"<app-toolboxaction *ngFor=\\\"let action of actions\\\" [icon]=\\\"action.icon\\\" [action]=\\\"action.id\\\" [isActive]=\\\"action.id === activeAction\\\"></app-toolboxaction>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/toolbox/toolbox.component.html\n// module id = ./src/app/components/toolbox/toolbox.component.html\n// module chunks = main","module.exports = \":host {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: column;\\n          flex-direction: column; }\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/toolbox/toolbox.component.scss\n// module id = ./src/app/components/toolbox/toolbox.component.scss\n// module chunks = main","import { Component, OnInit } from '@angular/core';\nimport {select} from \"@angular-redux/store\";\nimport {TOOLBOX_ACTIONS} from \"../../config/toolboxactions.config\";\n\n@Component({\n  selector: 'app-toolbox',\n  templateUrl: './toolbox.component.html',\n  styleUrls: ['./toolbox.component.scss']\n})\nexport class ActionsComponent implements OnInit {\n\n  @select() ui;\n  constructor() { }\n\n  actions: any[];\n  activeAction: string;\n\n  ngOnInit() {\n\n    this.actions = TOOLBOX_ACTIONS;\n\n    this.ui.subscribe(state =>{\n      this.activeAction = state.activeAction;\n      console.log(this.activeAction);\n    })\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/toolbox/toolbox.component.ts","module.exports = \"<div (click)=\\\"selectAction()\\\" class=\\\"{{isActive? 'active' : ''}}\\\">\\n  <i class=\\\"fa {{icon}} \\\" aria-hidden=\\\"true\\\"></i>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/toolbox/toolboxaction/toolboxaction.component.html\n// module id = ./src/app/components/toolbox/toolboxaction/toolboxaction.component.html\n// module chunks = main","module.exports = \"div {\\n  background-color: rgba(90, 90, 90, 0.9);\\n  color: white;\\n  -webkit-border-top-right-radius: 0.5rem;\\n  -webkit-border-bottom-right-radius: 0.5rem;\\n  -moz-border-radius-topright: 0.5rem;\\n  -moz-border-radius-bottomright: 0.5rem;\\n  border-top-right-radius: 0.5rem;\\n  border-bottom-right-radius: 0.5rem;\\n  padding: 1rem;\\n  cursor: pointer;\\n  -webkit-box-shadow: 4px 4px 5px rgba(100, 100, 100, 0.2);\\n          box-shadow: 4px 4px 5px rgba(100, 100, 100, 0.2);\\n  margin-bottom: 0.2rem; }\\n\\n.active {\\n  background-color: white;\\n  color: rgba(90, 90, 90, 0.9); }\\n\\ni {\\n  font-size: 1.5rem; }\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/toolbox/toolboxaction/toolboxaction.component.scss\n// module id = ./src/app/components/toolbox/toolboxaction/toolboxaction.component.scss\n// module chunks = main","import {Component, Input, OnInit} from '@angular/core';\nimport {NgRedux} from \"@angular-redux/store/lib/src/components/ng-redux\";\nimport {IAppState} from \"../../../reducers/root.reducer\";\nimport {ToolBoxActions} from \"../../../actions/toolbox.action\";\n\n\n@Component({\n  selector: 'app-toolboxaction',\n  templateUrl: './toolboxaction.component.html',\n  styleUrls: ['./toolboxaction.component.scss']\n})\nexport class ToolboxActionComponent implements OnInit {\n\n  constructor( private ngRedux: NgRedux<IAppState>) { }\n\n  @Input()\n  icon: string;\n\n  @Input()\n  action: string;\n\n  @Input()\n  isActive: boolean;\n\n  ngOnInit() {\n\n  }\n\n  selectAction(){\n    const action = this.isActive ? '' : this.action;\n\n    this.ngRedux.dispatch({\n      type: ToolBoxActions.SELECT_ACTION,\n      body: {\n        action: action\n      }\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/toolbox/toolboxaction/toolboxaction.component.ts","import * as ol from 'openlayers';\n\n\nconst mapbox_access_token = 'pk.eyJ1IjoiYnJhbWphbnNzZW4iLCJhIjoiY2o4dnlpdGt5MTZrbTMzcnB2amJxcmRzdyJ9.WQfT2IF5Ij15-jTxbgMWRw'\n\nexport const BACKGROUND_LAYERS = [\n    {\n      'name': 'Open Street Map',\n      'layer': new ol.layer.Tile({\n        source: new ol.source.OSM(),\n        visible: true\n      })\n    },\n    {\n      'name': 'Mapbox Streets',\n      'layer': new ol.layer.Tile({\n        source: new ol.source.XYZ({\n          url: `https://api.mapbox.com/v4/mapbox.streets/{z}/{x}/{y}@2x.png?access_token=${mapbox_access_token}`,\n        }),\n        visible: false\n      })\n    },\n    {\n      'name': 'Mapbox Light',\n      'layer': new ol.layer.Tile({\n        source: new ol.source.XYZ({\n          url: `https://api.mapbox.com/v4/mapbox.light/{z}/{x}/{y}@2x.png?access_token=${mapbox_access_token}`,\n        }),\n        visible:false\n      })\n    },\n    {\n      'name': 'Mapbox Dark',\n      'layer': new ol.layer.Tile({\n        source: new ol.source.XYZ({\n          url: `https://api.mapbox.com/v4/mapbox.dark/{z}/{x}/{y}@2x.png?access_token=${mapbox_access_token}`,\n        }),\n        visible:false\n      })\n    },\n    {\n      'name': 'Mapbox Satellite',\n      'layer': new ol.layer.Tile({\n        source: new ol.source.XYZ({\n          url: `https://api.mapbox.com/v4/mapbox.satellite/{z}/{x}/{y}@2x.png?access_token=${mapbox_access_token}`,\n        }),\n        visible:false\n      })\n    },\n    {\n      'name': 'Mapbox Streets Satellite',\n      'layer': new ol.layer.Tile({\n        source: new ol.source.XYZ({\n          url: `https://api.mapbox.com/v4/mapbox.streets-satellite/{z}/{x}/{y}@2x.png?access_token=${mapbox_access_token}`,\n        }),\n        visible:false\n      })\n    },\n  {\n    'name': 'Mapbox Outdoors',\n    'layer': new ol.layer.Tile({\n      source: new ol.source.XYZ({\n        url: `https://api.mapbox.com/v4/mapbox.outdoors/{z}/{x}/{y}@2x.png?access_token=${mapbox_access_token}`,\n      }),\n      visible:false\n    })\n  },\n\n  ];\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/config/backgroundlayers.config.ts","export const TOOLBOX_ACTIONS = [\n  {\n    id: 'SELECT_LAYERS',\n    text: 'Select layers to display',\n    icon: 'fa-map-o'\n  },\n  {\n    id: 'DRAW',\n    text: 'Draw a geometry on the map',\n    icon: 'fa-pencil'\n  }\n\n];\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/config/toolboxactions.config.ts","import {LayerActions} from \"../actions/layers.action\";\n\nexport interface LayerState {\n  backgroundLayers: any[],\n  layers: any[],\n  extent: number[],\n  features: any[];\n  crs: string;\n}\n\nexport const l_init_state: LayerState = {\n  backgroundLayers: [],\n  layers: [],\n  extent: null,\n  features: [],\n  crs: 'EPSG:3857'\n};\n\nexport function layerReducer(state = l_init_state, action) {\n\n  switch(action.type){\n    case LayerActions.SET_BACKGROUND_LAYERS:\n\n      console.log(\"LAYER REDUCER\", \"Setting background layers\", action);\n\n      state = Object.assign({}, state, {\n        backgroundLayers: action.body\n      });\n      break;\n\n    case LayerActions.SELECT_BACKGROUND_LAYER:\n\n      console.log(\"LAYER REDUCER\", \"Selecting background layers\", action);\n      const backgroundLayers = state.backgroundLayers.map(layer => {\n          if(layer.layer.getVisible())\n            layer.layer.setVisible(false);\n          if(layer.name == action.body)\n            layer.layer.setVisible(true);\n          return layer;\n        }\n      );\n\n      state = Object.assign({}, state, {\n        backgroundLayers: backgroundLayers\n      });\n      break;\n    case LayerActions.ADD_LAYERS:\n\n      console.log(\"LAYER REDUCER\", \"Adding layers\", action);\n      const newLayers = state.layers.concat(action.body);\n      state = Object.assign({}, state, {\n        layers: newLayers\n      });\n\n      break;\n\n    case LayerActions.SET_EXTENT:\n\n      console.log(\"LAYER REDUCER\", \"Setting extent\", action);\n      state = Object.assign({}, state, {\n        extent: action.body.extent\n      });\n\n      break;\n\n    case LayerActions.ADD_FEATURE:\n\n      console.log(\"LAYER REDUCER\", \"Adding feature\", action);\n      const feature = action.body;\n      const currFeatures = state.features;\n      const featureList = currFeatures.find(featureInfo => featureInfo.type === feature.type);\n      if(featureList){\n        featureList.features.push(feature.feature);\n      }else{\n        currFeatures.push({\n          type: feature.type,\n          features: [feature.feature]\n        })\n      }\n\n      state = Object.assign({}, state, {\n        features: currFeatures\n      });\n\n      break;\n\n    case LayerActions.ADD_FEATURE_LIST:\n      console.log(\"LAYER REDUCER\", \"Adding feature list\", action);\n      const features = action.body;\n\n      features.features.forEach(feature => {\n        state = layerReducer(state, {type: LayerActions.ADD_FEATURE, body: { type: features.type, feature: feature }});\n      });\n\n      break;\n\n    case LayerActions.SET_PROJECTION_SYSTEM:\n\n      console.log(\"LAYER REDUCER\", \"Setting projection system\", action);\n      const newCrs = action.body.crs;\n      state = Object.assign({}, state, {\n        crs: newCrs\n      });\n\n      break;\n  }\n  return state;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/reducers/layer.reducer.ts","import {l_init_state, layerReducer, LayerState} from './layer.reducer';\nimport { combineReducers } from 'redux';\nimport {u_init_state, uiReducer, UIState} from \"./ui.reducer\";\n\nexport interface IAppState {\n  layers: LayerState;\n  ui: UIState\n}\n\nexport const INITIAL_STATE: IAppState = {\n  layers: l_init_state,\n  ui: u_init_state\n\n};\n\nexport const rootReducer = combineReducers<IAppState>({\n  layers: layerReducer,\n  ui: uiReducer\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/reducers/root.reducer.ts","import {ToolBoxActions} from \"../actions/toolbox.action\";\n\nexport interface UIState {\n  activeAction: string,\n  activeSelection: string\n}\n\nexport const u_init_state: UIState = {\n  activeAction: '',\n  activeSelection: ''\n};\n\nexport function uiReducer(state = u_init_state, action) {\n\n  switch(action.type){\n    case ToolBoxActions.SELECT_ACTION:\n      console.log(\"UI REDUCER\", \"Selecting action\", action);\n\n      state = Object.assign({}, state, {\n        activeAction: action.body.action\n      });\n      break;\n\n    case ToolBoxActions.SET_SELECTION_TYPE:\n      console.log(\"UI REDUCER\", \"Selecting selection type\", action);\n\n      state = Object.assign({}, state, {\n        activeSelection: action.body.selection\n      });\n      break;\n  }\n  return state;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/reducers/ui.reducer.ts","import { Injectable } from '@angular/core';\nimport {BACKGROUND_LAYERS} from \"../config/backgroundlayers.config\";\nimport {Observable} from \"rxjs/Observable\";\nimport {Http} from \"@angular/http\";\nimport * as ol from 'openlayers';\nimport {HttpClient} from \"@angular/common/http\";\n\n@Injectable()\nexport class LayerService {\n\n  constructor(private http:HttpClient) { }\n\n  getLayers(){\n    return this.getBackgroundLayers();\n  }\n\n  getBackgroundLayers(){\n    return BACKGROUND_LAYERS;\n  }\n\n  loadExternalLayers(url: any){\n\n    let parser = null;\n    let type = '';\n\n    if(url.toLowerCase().indexOf('wms') > 0 )\n    {\n      parser = new ol.format.WMSCapabilities();\n      type = 'WMS';\n    }else if(url.toLowerCase().indexOf('wmts') > 0 )\n    {\n      parser = new ol.format.WMTSCapabilities();\n      type = 'WMTS';\n    }\n    return this.http.get(url, { responseType: 'text' })\n      .map( response => {\n\n        var result = parser.read(response);\n        var layers = [];\n\n        console.log(result);\n\n        if(type === 'WMS'){\n          layers  = this.readWMSCapabilities(result);\n        } else if(type === 'WMTS'){\n          layers  = this.readWMTSCapabilities(result);\n        }\n\n\n        return layers;\n      });\n  }\n\n  readWMTSCapabilities(capabilities: any){\n    const layerList = [];\n\n    console.log(\"RESULT\", capabilities);\n\n    capabilities.Contents.Layer.forEach(layer =>{\n\n      try {\n        const sourceOptions = ol.source.WMTS.optionsFromCapabilities(capabilities, {\n          layer: layer.Identifier,\n          matrixSet: 'EPSG:3857'\n        });\n\n        if (sourceOptions) {\n          layerList.push({\n            name: layer.Title,\n            description: layer.Abstract,\n            layer: new ol.layer.Tile({\n              source: new ol.source.WMTS((sourceOptions)),\n              visible: false\n            })\n          });\n        } else {\n          console.error(\"Layer \" + layer.Title + \" does not support EPSG:3857\");\n        }\n      }catch(e){\n        console.error(\"Could not create WMTS layers for \" + layer.Title);\n      }\n\n    });\n\n    return layerList;\n\n  }\n  readWMSCapabilities(capabilities: any){\n    const getMapURL = capabilities.Capability.Request.GetMap.DCPType[0].HTTP.Get.OnlineResource;\n    const layerList = [];\n    capabilities.Capability.Layer.Layer.forEach(layer => {\n      if(layer.Layer){\n        layer.Layer.forEach(subLayer => {\n          layerList.push({\n            name: subLayer.Name,\n            description: subLayer.Abstract,\n            layer: new ol.layer.Tile({\n              extent: layer.BoundingBox.find(bbox => bbox.crs === 'EPSG:3857').extent,\n              source: new ol.source.TileWMS({\n                url: getMapURL,\n                params: {'LAYERS': subLayer.Name, 'TILED': true},\n              }),\n              visible: false\n            })\n          });\n        });\n      }else{\n        layerList.push({\n          name: layer.Name,\n          description: layer.Abstract,\n          layer: new ol.layer.Tile({\n            extent: layer.BoundingBox.find(bbox => bbox.crs === 'EPSG:3857').extent,\n            source: new ol.source.TileWMS({\n              url: getMapURL,\n              params: {'LAYERS': layer.Name, 'TILED': true},\n            }),\n            visible:false\n          })\n        });\n      }\n    });\n    return layerList;\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/layer.service.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts"],"sourceRoot":"webpack:///"}